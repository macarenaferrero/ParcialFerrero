"use strict";(self.webpackChunkParcialFerrero=self.webpackChunkParcialFerrero||[]).push([[179],{3692:(dn,gt,K)=>{K.d(gt,{Ot:()=>Se,ZF:()=>un,hX:()=>rt,z6:()=>le});var p=K(259),j=K(8256),b=K(9883);class Se{constructor(Me){return Me}}class le{constructor(){return(0,p.C6)()}}const Ve=new j.OlP("angularfire2._apps"),yt={provide:Se,useFactory:function ut(Ke){return Ke&&1===Ke.length?Ke[0]:new Se((0,p.Mq)())},deps:[[new j.FiY,Ve]]},ie={provide:le,deps:[[new j.FiY,Ve]]};function Ee(Ke){return(Me,ct)=>{const kt=Me.runOutsideAngular(()=>Ke(ct));return new Se(kt)}}let Qe=(()=>{class Ke{constructor(ct){(0,p.KN)("angularfire",b.q4.full,"core"),(0,p.KN)("angularfire",b.q4.full,"app"),(0,p.KN)("angular",j.q4F.full,ct.toString())}}return Ke.\u0275fac=function(ct){return new(ct||Ke)(j.LFG(j.Lbi))},Ke.\u0275mod=j.oAB({type:Ke}),Ke.\u0275inj=j.cJS({providers:[yt,ie]}),Ke})();function rt(Ke,...Me){return{ngModule:Qe,providers:[{provide:Ve,useFactory:Ee(Ke),multi:!0,deps:[j.R0b,j.zs3,b.HU,...Me]}]}}const un=(0,b.u3)(p.ZF,!0)},1533:(dn,gt,K)=>{K.d(gt,{gg:()=>zu,hJ:()=>Qf,BS:()=>Dm,oe:()=>Jf,JU:()=>gu,ad:()=>tp,Cm:()=>dh,pl:()=>fd});var p=K(9883),j=K(8256),b=K(3692),Se=K(259),le=K(5861),Ye=K(2090),ut=K(9681),Ve=K(655),yt=K(1877),ie=K(4859);const Ot=function un(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Lt=new Ye.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new yt.Yd("@firebase/auth");function kt(m,...c){Me.logLevel<=yt.in.ERROR&&Me.error(`Auth (${ut.Jn}): ${m}`,...c)}function ot(m,...c){throw dt(m,...c)}function Be(m,...c){return dt(m,...c)}function dt(m,...c){if("string"!=typeof m){const f=c[0],I=[...c.slice(1)];return I[0]&&(I[0].appName=m.name),m._errorFactory.create(f,...I)}return Lt.create(m,...c)}function Le(m,c,...f){if(!m)throw dt(c,...f)}function Mt(m){const c="INTERNAL ASSERTION FAILED: "+m;throw kt(c),new Error(c)}function Ne(m,c){m||Mt(c)}function _t(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Fe{constructor(c,f){this.shortDelay=c,this.longDelay=f,Ne(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,Ye.uI)()||(0,Ye.b$)()}get(){return function Pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function et(){return"http:"===_t()||"https:"===_t()}()||(0,Ye.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class st{static initialize(c,f,I){this.fetchImpl=c,f&&(this.headersImpl=f),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xe=new Fe(3e4,6e4);function Rt(m,c,f,I){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,le.Z)(function*(m,c,f,I,B={}){return wn(m,B,(0,le.Z)(function*(){let Y={},Ce={};I&&("GET"===c?Ce=I:Y={body:JSON.stringify(I)});const $e=(0,Ye.xO)(Object.assign({key:m.config.apiKey},Ce)).slice(1),Et=yield m._getAdditionalHeaders();return Et["Content-Type"]="application/json",m.languageCode&&(Et["X-Firebase-Locale"]=m.languageCode),st.fetch()(hi(m,m.config.apiHost,f,$e),Object.assign({method:c,headers:Et,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function wn(m,c,f){return an.apply(this,arguments)}function an(){return(an=(0,le.Z)(function*(m,c,f){m._canInitEmulator=!1;const I=Object.assign(Object.assign({},pe),c);try{const B=new qn(m),Y=yield Promise.race([f(),B.promise]);B.clearNetworkTimeout();const Ce=yield Y.json();if("needConfirmation"in Ce)throw pr(m,"account-exists-with-different-credential",Ce);if(Y.ok&&!("errorMessage"in Ce))return Ce;{const $e=Y.ok?Ce.errorMessage:Ce.error.message,[Et,Zt]=$e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw pr(m,"credential-already-in-use",Ce);if("EMAIL_EXISTS"===Et)throw pr(m,"email-already-in-use",Ce);if("USER_DISABLED"===Et)throw pr(m,"user-disabled",Ce);const pn=I[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(Zt)throw function he(m,c,f){const I=Object.assign(Object.assign({},Ot()),{[c]:f});return new Ye.LL("auth","Firebase",I).create(c,{appName:m.name})}(m,pn,Zt);ot(m,pn)}}catch(B){if(B instanceof Ye.ZR)throw B;ot(m,"network-request-failed",{message:String(B)})}})).apply(this,arguments)}function hi(m,c,f,I){const B=`${c}${f}?${I}`;return m.config.emulator?function De(m,c){Ne(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}(m.config,B):`${m.config.apiScheme}://${B}`}class qn{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,I)=>{this.timer=setTimeout(()=>I(Be(this.auth,"network-request-failed")),xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pr(m,c,f){const I={appName:m.name};f.email&&(I.email=f.email),f.phoneNumber&&(I.phoneNumber=f.phoneNumber);const B=Be(m,c,I);return B.customData._tokenResponse=f,B}function Ht(){return(Ht=(0,le.Z)(function*(m,c){return Rt(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Qr(){return(Qr=(0,le.Z)(function*(m,c){return Rt(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Nr(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Fn(){return(Fn=(0,le.Z)(function*(m,c=!1){const f=(0,Ye.m9)(m),I=yield f.getIdToken(c),B=Vt(I);Le(B&&B.exp&&B.auth_time&&B.iat,f.auth,"internal-error");const Y="object"==typeof B.firebase?B.firebase:void 0,Ce=Y?.sign_in_provider;return{claims:B,token:I,authTime:Nr(bt(B.auth_time)),issuedAtTime:Nr(bt(B.iat)),expirationTime:Nr(bt(B.exp)),signInProvider:Ce||null,signInSecondFactor:Y?.sign_in_second_factor||null}})).apply(this,arguments)}function bt(m){return 1e3*Number(m)}function Vt(m){const[c,f,I]=m.split(".");if(void 0===c||void 0===f||void 0===I)return kt("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,Ye.tV)(f);return B?JSON.parse(B):(kt("Failed to decode base64 JWT payload"),null)}catch(B){return kt("Caught error parsing JWT payload as JSON",B?.toString()),null}}function In(m,c){return er.apply(this,arguments)}function er(){return(er=(0,le.Z)(function*(m,c,f=!1){if(f)return c;try{return yield c}catch(I){throw I instanceof Ye.ZR&&function si({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(I)&&m.auth.currentUser===m&&(yield m.auth.signOut()),I}})).apply(this,arguments)}class Vn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const B=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const I=this.getInterval(c);this.timerId=setTimeout((0,le.Z)(function*(){yield f.iteration()}),I)}iteration(){var c=this;return(0,le.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&c.schedule(!0))}c.schedule()})()}}class bs{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nr(this.lastLoginAt),this.creationTime=Nr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ir(m){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,le.Z)(function*(m){var c;const f=m.auth,I=yield m.getIdToken(),B=yield In(m,function gr(m,c){return Qr.apply(this,arguments)}(f,{idToken:I}));Le(B?.users.length,f,"internal-error");const Y=B.users[0];m._notifyReloadListener(Y);const Ce=null!==(c=Y.providerUserInfo)&&void 0!==c&&c.length?function Xt(m){return m.map(c=>{var{providerId:f}=c,I=(0,Ve._T)(c,["providerId"]);return{providerId:f,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(Y.providerUserInfo):[],$e=function Hr(m,c){return[...m.filter(I=>!c.some(B=>B.providerId===I.providerId)),...c]}(m.providerData,Ce),pn=!!m.isAnonymous&&!(m.email&&Y.passwordHash||$e?.length),Mn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:$e,metadata:new bs(Y.createdAt,Y.lastLoginAt),isAnonymous:pn};Object.assign(m,Mn)}),Gi.apply(this,arguments)}function Ci(){return(Ci=(0,le.Z)(function*(m){const c=(0,Ye.m9)(m);yield ir(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function fe(){return(fe=(0,le.Z)(function*(m,c){const f=yield wn(m,{},(0,le.Z)(function*(){const I=(0,Ye.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:B,apiKey:Y}=m.config,Ce=hi(m,B,"/v1/token",`key=${Y}`),$e=yield m._getAdditionalHeaders();return $e["Content-Type"]="application/x-www-form-urlencoded",st.fetch()(Ce,{method:"POST",headers:$e,body:I})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Le(c.idToken,"internal-error"),Le(typeof c.idToken<"u","internal-error"),Le(typeof c.refreshToken<"u","internal-error");const f="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Tn(m){const c=Vt(m);return Le(c,"internal-error"),Le(typeof c.exp<"u","internal-error"),Le(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var I=this;return(0,le.Z)(function*(){return Le(!I.accessToken||I.refreshToken,c,"user-token-expired"),f||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(c,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var I=this;return(0,le.Z)(function*(){const{accessToken:B,refreshToken:Y,expiresIn:Ce}=yield function vt(m,c){return fe.apply(this,arguments)}(c,f);I.updateTokensAndExpiration(B,Y,Number(Ce))})()}updateTokensAndExpiration(c,f,I){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(c,f){const{refreshToken:I,accessToken:B,expirationTime:Y}=f,Ce=new oe;return I&&(Le("string"==typeof I,"internal-error",{appName:c}),Ce.refreshToken=I),B&&(Le("string"==typeof B,"internal-error",{appName:c}),Ce.accessToken=B),Y&&(Le("number"==typeof Y,"internal-error",{appName:c}),Ce.expirationTime=Y),Ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return Mt("not implemented")}}function ge(m,c){Le("string"==typeof m||typeof m>"u","internal-error",{appName:c})}class it{constructor(c){var{uid:f,auth:I,stsTokenManager:B}=c,Y=(0,Ve._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=I,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new bs(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,le.Z)(function*(){const I=yield In(f,f.stsTokenManager.getToken(f.auth,c));return Le(I,f.auth,"internal-error"),f.accessToken!==I&&(f.accessToken=I,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),I})()}getIdTokenResult(c){return function ii(m){return Fn.apply(this,arguments)}(this,c)}reload(){return function Rn(m){return Ci.apply(this,arguments)}(this)}_assign(c){this!==c&&(Le(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const f=new it(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(c){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var I=this;return(0,le.Z)(function*(){let B=!1;c.idToken&&c.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(c),B=!0),f&&(yield ir(I)),yield I.auth._persistUserIfCurrent(I),B&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var c=this;return(0,le.Z)(function*(){const f=yield c.getIdToken();return yield In(c,function bi(m,c){return Ht.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var I,B,Y,Ce,$e,Et,Zt,pn;const Mn=null!==(I=f.displayName)&&void 0!==I?I:void 0,Ro=null!==(B=f.email)&&void 0!==B?B:void 0,Ia=null!==(Y=f.phoneNumber)&&void 0!==Y?Y:void 0,Ec=null!==(Ce=f.photoURL)&&void 0!==Ce?Ce:void 0,yd=null!==($e=f.tenantId)&&void 0!==$e?$e:void 0,wc=null!==(Et=f._redirectEventId)&&void 0!==Et?Et:void 0,Tc=null!==(Zt=f.createdAt)&&void 0!==Zt?Zt:void 0,Yu=null!==(pn=f.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:Fa,emailVerified:Nl,isAnonymous:Qu,providerData:mu,stsTokenManager:Th}=f;Le(Fa&&Th,c,"internal-error");const Ol=oe.fromJSON(this.name,Th);Le("string"==typeof Fa,c,"internal-error"),ge(Mn,c.name),ge(Ro,c.name),Le("boolean"==typeof Nl,c,"internal-error"),Le("boolean"==typeof Qu,c,"internal-error"),ge(Ia,c.name),ge(Ec,c.name),ge(yd,c.name),ge(wc,c.name),ge(Tc,c.name),ge(Yu,c.name);const Ih=new it({uid:Fa,auth:c,email:Ro,emailVerified:Nl,displayName:Mn,isAnonymous:Qu,photoURL:Ec,phoneNumber:Ia,tenantId:yd,stsTokenManager:Ol,createdAt:Tc,lastLoginAt:Yu});return mu&&Array.isArray(mu)&&(Ih.providerData=mu.map(La=>Object.assign({},La))),wc&&(Ih._redirectEventId=wc),Ih}static _fromIdTokenResponse(c,f,I=!1){return(0,le.Z)(function*(){const B=new oe;B.updateFromServerResponse(f);const Y=new it({uid:f.localId,auth:c,stsTokenManager:B,isAnonymous:I});return yield ir(Y),Y})()}}const mt=new Map;function re(m){Ne(m instanceof Function,"Expected a class definition");let c=mt.get(m);return c?(Ne(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,mt.set(m,c),c)}const Te=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,le.Z)(function*(){return!0})()}_set(f,I){var B=this;return(0,le.Z)(function*(){B.storage[f]=I})()}_get(f){var I=this;return(0,le.Z)(function*(){const B=I.storage[f];return void 0===B?null:B})()}_remove(f){var I=this;return(0,le.Z)(function*(){delete I.storage[f]})()}_addListener(f,I){}_removeListener(f,I){}}return m.type="NONE",m})();function je(m,c,f){return`firebase:${m}:${c}:${f}`}class ke{constructor(c,f,I){this.persistence=c,this.auth=f,this.userKey=I;const{config:B,name:Y}=this.auth;this.fullUserKey=je(this.userKey,B.apiKey,Y),this.fullPersistenceKey=je("persistence",B.apiKey,Y),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,le.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?it._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,le.Z)(function*(){if(f.persistence===c)return;const I=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,I?f.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,I="authUser"){return(0,le.Z)(function*(){if(!f.length)return new ke(re(Te),c,I);const B=(yield Promise.all(f.map(function(){var Zt=(0,le.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Zt.apply(this,arguments)}}()))).filter(Zt=>Zt);let Y=B[0]||re(Te);const Ce=je(I,c.config.apiKey,c.name);let $e=null;for(const Zt of f)try{const pn=yield Zt._get(Ce);if(pn){const Mn=it._fromJSON(c,pn);Zt!==Y&&($e=Mn),Y=Zt;break}}catch{}const Et=B.filter(Zt=>Zt._shouldAllowMigration);return Y._shouldAllowMigration&&Et.length?(Y=Et[0],$e&&(yield Y._set(Ce,$e.toJSON())),yield Promise.all(f.map(function(){var Zt=(0,le.Z)(function*(pn){if(pn!==Y)try{yield pn._remove(Ce)}catch{}});return function(pn){return Zt.apply(this,arguments)}}())),new ke(Y,c,I)):new ke(Y,c,I)})()}}function zt(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(function _e(m=(0,Ye.z$)()){return/iemobile/i.test(m)}(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(function we(m=(0,Ye.z$)()){return/firefox\//i.test(m)}(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(function Ct(m=(0,Ye.z$)()){return/blackberry/i.test(m)}(c))return"Blackberry";if(function Yt(m=(0,Ye.z$)()){return/webos/i.test(m)}(c))return"Webos";if(function me(m=(0,Ye.z$)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}(c))return"Safari";if((c.includes("chrome/")||function ne(m=(0,Ye.z$)()){return/crios\//i.test(m)}(c))&&!c.includes("edge/"))return"Chrome";if(function tt(m=(0,Ye.z$)()){return/android/i.test(m)}(c))return"Android";{const I=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Fi(m,c=[]){let f;switch(m){case"Browser":f=zt((0,Ye.z$)());break;case"Worker":f=`${zt((0,Ye.z$)())}-${m}`;break;default:f=m}const I=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${ut.Jn}/${I}`}function fi(m,c){return zs.apply(this,arguments)}function zs(){return(zs=(0,le.Z)(function*(m,c){return Rt(m,"GET","/v2/recaptchaConfig",function ht(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}(m,c))})).apply(this,arguments)}function vi(m){return void 0!==m&&void 0!==m.enterprise}class Cs{constructor(c){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.emailPasswordEnabled=c.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}class wr{constructor(c){this.type="recaptcha-enterprise",this.auth=lr(c)}verify(c="verify",f=!1){var I=this;return(0,le.Z)(function*(){function Y(){return Y=(0,le.Z)(function*($e){if(!f){if(null==$e.tenantId&&null!=$e._agentRecaptchaConfig)return $e._agentRecaptchaConfig.siteKey;if(null!=$e.tenantId&&void 0!==$e._tenantRecaptchaConfigs[$e.tenantId])return $e._tenantRecaptchaConfigs[$e.tenantId].siteKey}return new Promise(function(){var Et=(0,le.Z)(function*(Zt,pn){fi($e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Mn=>{if(void 0!==Mn.recaptchaKey){const Ro=new Cs(Mn);return null==$e.tenantId?$e._agentRecaptchaConfig=Ro:$e._tenantRecaptchaConfigs[$e.tenantId]=Ro,Zt(Ro.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(Mn=>{pn(Mn)})});return function(Zt,pn){return Et.apply(this,arguments)}}())}),Y.apply(this,arguments)}function Ce($e,Et,Zt){const pn=window.grecaptcha;vi(pn)?pn.enterprise.ready(()=>{try{pn.enterprise.execute($e,{action:c}).then(Mn=>{Et(Mn)}).catch(Mn=>{Zt(Mn)})}catch(Mn){Zt(Mn)}}):Zt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($e,Et)=>{(function B($e){return Y.apply(this,arguments)})(I.auth).then(Zt=>{if(!f&&vi(window.grecaptcha))Ce(Zt,$e,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));(function Gr(m){return new Promise((c,f)=>{const I=document.createElement("script");I.setAttribute("src",m),I.onload=c,I.onerror=B=>{const Y=Be("internal-error");Y.customData=B,f(Y)},I.type="text/javascript",I.charset="UTF-8",function As(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(I)})})("https://www.google.com/recaptcha/enterprise.js?render="+Zt).then(()=>{Ce(Zt,$e,Et)}).catch(pn=>{Et(pn)})}}).catch(Zt=>{Et(Zt)})})})()}}class Ms{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,f){const I=Y=>new Promise((Ce,$e)=>{try{Ce(c(Y))}catch(Et){$e(Et)}});I.onAbort=f,this.queue.push(I);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(c){var f=this;return(0,le.Z)(function*(){if(f.auth.currentUser===c)return;const I=[];try{for(const B of f.queue)yield B(c),B.onAbort&&I.push(B.onAbort)}catch(B){I.reverse();for(const Y of I)try{Y()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:B?.message})}})()}}class qi{constructor(c,f,I,B){this.app=c,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=I,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ai(this),this.idTokenSubscription=new Ai(this),this.beforeStateQueue=new Ms(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(c,f){var I=this;return f&&(this._popupRedirectResolver=re(f)),this._initializationPromise=this.queue((0,le.Z)(function*(){var B,Y;if(!I._deleted&&(I.persistenceManager=yield ke.create(I,c),!I._deleted)){if(null!==(B=I._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(f),I.lastNotifiedUid=(null===(Y=I.currentUser)||void 0===Y?void 0:Y.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,le.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f,!0)}})()}initializeCurrentUser(c){var f=this;return(0,le.Z)(function*(){var I;const B=yield f.assertedPersistence.getCurrentUser();let Y=B,Ce=!1;if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const $e=null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId,Et=Y?._redirectEventId,Zt=yield f.tryRedirectSignIn(c);(!$e||$e===Et)&&Zt?.user&&(Y=Zt.user,Ce=!0)}if(!Y)return f.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Ce)try{yield f.beforeStateQueue.runMiddleware(Y)}catch($e){Y=B,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject($e))}return Y?f.reloadAndSetCurrentUserOrClear(Y):f.directlySetCurrentUser(null)}return Le(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===Y._redirectEventId?f.directlySetCurrentUser(Y):f.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(c){var f=this;return(0,le.Z)(function*(){let I=null;try{I=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch{yield f._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,le.Z)(function*(){try{yield ir(c)}catch(I){if("auth/network-request-failed"!==I?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Ge(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,le.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,le.Z)(function*(){const I=c?(0,Ye.m9)(c):null;return I&&Le(I.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(I&&I._clone(f))})()}_updateCurrentUser(c,f=!1){var I=this;return(0,le.Z)(function*(){if(!I._deleted)return c&&Le(I.tenantId===c.tenantId,I,"tenant-id-mismatch"),f||(yield I.beforeStateQueue.runMiddleware(c)),I.queue((0,le.Z)(function*(){yield I.directlySetCurrentUser(c),I.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,le.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var f=this;return this.queue((0,le.Z)(function*(){yield f.assertedPersistence.setPersistence(re(c))}))}initializeRecaptchaConfig(){var c=this;return(0,le.Z)(function*(){const f=yield fi(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new Cs(f);null==c.tenantId?c._agentRecaptchaConfig=I:c._tenantRecaptchaConfigs[c.tenantId]=I,I.emailPasswordEnabled&&new wr(c).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new Ye.LL("auth","Firebase",c())}onAuthStateChanged(c,f,I){return this.registerStateListener(this.authStateSubscription,c,f,I)}beforeAuthStateChanged(c,f){return this.beforeStateQueue.pushCallback(c,f)}onIdTokenChanged(c,f,I){return this.registerStateListener(this.idTokenSubscription,c,f,I)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var I=this;return(0,le.Z)(function*(){const B=yield I.getOrInitRedirectPersistenceManager(f);return null===c?B.removeCurrentUser():B.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,le.Z)(function*(){if(!f.redirectPersistenceManager){const I=c&&re(c)||f._popupRedirectResolver;Le(I,f,"argument-error"),f.redirectPersistenceManager=yield ke.create(f,[re(I._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,le.Z)(function*(){var I,B;return f._isInitialized&&(yield f.queue((0,le.Z)(function*(){}))),(null===(I=f._currentUser)||void 0===I?void 0:I._redirectEventId)===c?f._currentUser:(null===(B=f.redirectUser)||void 0===B?void 0:B._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,le.Z)(function*(){if(c===f.currentUser)return f.queue((0,le.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,I,B){if(this._deleted)return()=>{};const Y="function"==typeof f?f:f.next.bind(f),Ce=this._isInitialized?Promise.resolve():this._initializationPromise;return Le(Ce,this,"internal-error"),Ce.then(()=>Y(this.currentUser)),"function"==typeof f?c.addObserver(f,I,B):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,le.Z)(function*(){f.currentUser&&f.currentUser!==c&&f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh(),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,le.Z)(function*(){var f;const I={"X-Client-Version":c.clientVersion};c.app.options.appId&&(I["X-Firebase-gmpid"]=c.app.options.appId);const B=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();B&&(I["X-Firebase-Client"]=B);const Y=yield c._getAppCheckToken();return Y&&(I["X-Firebase-AppCheck"]=Y),I})()}_getAppCheckToken(){var c=this;return(0,le.Z)(function*(){var f;const I=yield null===(f=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return I?.error&&function ct(m,...c){Me.logLevel<=yt.in.WARN&&Me.warn(`Auth (${ut.Jn}): ${m}`,...c)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function lr(m){return(0,Ye.m9)(m)}class Ai{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,Ye.ne)(f=>this.observer=f)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Ss(m){return`__${m}${Math.floor(1e6*Math.random())}`})("rcb"),new Fe(3e4,6e4),new Fe(2e3,1e4),new Fe(3e4,6e4),new Fe(5e3,15e3),encodeURIComponent("fac");var Mo="@firebase/auth";class Yl{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,le.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(I=>{c(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);f&&(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Ye.Pz)("authIdTokenMaxAge"),function sa(m){(0,ut.Xd)(new ie.wA("auth",(c,{options:f})=>{const I=c.getProvider("app").getImmediate(),B=c.getProvider("heartbeat"),Y=c.getProvider("app-check-internal"),{apiKey:Ce,authDomain:$e}=I.options;Le(Ce&&!Ce.includes(":"),"invalid-api-key",{appName:I.name}),Le(!$e?.includes(":"),"argument-error",{appName:I.name});const Et={apiKey:Ce,authDomain:$e,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fi(m)},Zt=new qi(I,B,Y,Et);return function An(m,c){const f=c?.persistence||[],I=(Array.isArray(f)?f:[f]).map(re);c?.errorMap&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(I,c?.popupRedirectResolver)}(Zt,f),Zt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,I)=>{c.getProvider("auth-internal").initialize()})),(0,ut.Xd)(new ie.wA("auth-internal",c=>{const f=lr(c.getProvider("auth").getImmediate());return new Yl(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ut.KN)(Mo,"0.23.0",function af(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ut.KN)(Mo,"0.23.0","esm2017")}("Browser");class Bd{constructor(){return(0,p.vb)("auth")}}const ec=new Map,Kd={activated:!1,tokenObservers:[]},tc={initialized:!1,enabled:!1};function $r(m){return ec.get(m)||Object.assign({},Kd)}function nc(){return tc}const du="https://content-firebaseappcheck.googleapis.com/v1",bf="exchangeDebugToken",Cf={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Zo{constructor(c,f,I,B,Y){if(this.operation=c,this.retryPolicy=f,this.getWaitDuration=I,this.lowerBound=B,this.upperBound=Y,this.pending=null,this.nextErrorWaitInterval=B,B>Y)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(c){var f=this;return(0,le.Z)(function*(){f.stop();try{f.pending=new Ye.BH,yield function xu(m){return new Promise(c=>{setTimeout(c,m)})}(f.getNextRun(c)),f.pending.resolve(),yield f.pending.promise,f.pending=new Ye.BH,yield f.operation(),f.pending.resolve(),yield f.pending.promise,f.process(!0).catch(()=>{})}catch(I){f.retryPolicy(I)?f.process(!1).catch(()=>{}):f.stop()}})()}getNextRun(c){if(c)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const f=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),f}}}const $s=new Ye.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rc(m,c){return ic.apply(this,arguments)}function ic(){return(ic=(0,le.Z)(function*({url:m,body:c},f){const I={"Content-Type":"application/json"},B=f.getImmediate({optional:!0});if(B){const Mn=yield B.getHeartbeatsHeader();Mn&&(I["X-Firebase-Client"]=Mn)}const Y={method:"POST",body:JSON.stringify(c),headers:I};let Ce,$e;try{Ce=yield fetch(m,Y)}catch(Mn){throw $s.create("fetch-network-error",{originalErrorMessage:Mn?.message})}if(200!==Ce.status)throw $s.create("fetch-status-error",{httpStatus:Ce.status});try{$e=yield Ce.json()}catch(Mn){throw $s.create("fetch-parse-error",{originalErrorMessage:Mn?.message})}const Et=$e.ttl.match(/^([\d.]+)(s)$/);if(!Et||!Et[2]||isNaN(Number(Et[1])))throw $s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$e.ttl}`});const Zt=1e3*Number(Et[1]),pn=Date.now();return{token:$e.token,expireTimeMillis:pn+Zt,issuedAtTimeMillis:pn}})).apply(this,arguments)}const Pf="firebase-app-check-database",tg=1,vl="firebase-app-check-store";let El=null;function Ja(m,c){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,le.Z)(function*(m,c){const I=(yield function sc(){return El||(El=new Promise((m,c)=>{try{const f=indexedDB.open(Pf,tg);f.onsuccess=I=>{m(I.target.result)},f.onerror=I=>{var B;c($s.create("storage-open",{originalErrorMessage:null===(B=I.target.error)||void 0===B?void 0:B.message}))},f.onupgradeneeded=I=>{0===I.oldVersion&&I.target.result.createObjectStore(vl,{keyPath:"compositeKey"})}}catch(f){c($s.create("storage-open",{originalErrorMessage:f?.message}))}}),El)}()).transaction(vl,"readwrite"),Y=I.objectStore(vl).put({compositeKey:m,value:c});return new Promise((Ce,$e)=>{Y.onsuccess=Et=>{Ce()},I.onerror=Et=>{var Zt;$e($s.create("storage-set",{originalErrorMessage:null===(Zt=Et.target.error)||void 0===Zt?void 0:Zt.message}))}})})).apply(this,arguments)}const Il=new yt.Yd("@firebase/app-check");function ac(m,c){return(0,Ye.hl)()?function wl(m,c){return Ja(function Jc(m){return`${m.options.appId}-${m.name}`}(m),c)}(m,c).catch(f=>{Il.warn(`Failed to write token to IndexedDB. Error: ${f}`)}):Promise.resolve()}function xa(){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,le.Z)(function*(){const m=nc();if(m.enabled&&m.token)return m.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xf={error:"UNKNOWN_ERROR"};function rg(m){return Ye.US.encodeString(JSON.stringify(m),!1)}function ed(m){return hu.apply(this,arguments)}function hu(){return(hu=(0,le.Z)(function*(m,c=!1){const f=m.app;!function Sf(m){if(!$r(m).activated)throw $s.create("use-before-activation",{appName:m.name})}(f);const I=$r(f);let Y,B=I.token;if(B&&!fu(B)&&(I.token=void 0,B=void 0),!B){const Et=yield I.cachedTokenPromise;Et&&(fu(Et)?B=Et:yield ac(f,void 0))}if(!c&&B&&fu(B))return{token:B.token};let $e,Ce=!1;if(function Ra(){return nc().enabled}()){I.exchangeTokenPromise||(I.exchangeTokenPromise=rc(function ku(m,c){const{projectId:f,appId:I,apiKey:B}=m.options;return{url:`${du}/projects/${f}/apps/${I}:${bf}?key=${B}`,body:{debug_token:c}}}(f,yield xa()),m.heartbeatServiceProvider).finally(()=>{I.exchangeTokenPromise=void 0}),Ce=!0);const Et=yield I.exchangeTokenPromise;return yield ac(f,Et),I.token=Et,{token:Et.token}}try{I.exchangeTokenPromise||(I.exchangeTokenPromise=I.provider.getToken().finally(()=>{I.exchangeTokenPromise=void 0}),Ce=!0),B=yield $r(f).exchangeTokenPromise}catch(Et){"appCheck/throttled"===Et.code?Il.warn(Et.message):Il.error(Et),Y=Et}return B?Y?$e=fu(B)?{token:B.token,internalError:Y}:lc(Y):($e={token:B.token},I.token=B,yield ac(f,B)):$e=lc(Y),Ce&&function eh(m,c){const f=$r(m).tokenObservers;for(const I of f)try{"EXTERNAL"===I.type&&null!=c.error?I.error(c.error):I.next(c)}catch{}}(f,$e),$e})).apply(this,arguments)}function oa(m,c){const f=$r(m),I=f.tokenObservers.filter(B=>B.next!==c);0===I.length&&f.tokenRefresher&&f.tokenRefresher.isRunning()&&f.tokenRefresher.stop(),f.tokenObservers=I}function Nf(m){const{app:c}=m,f=$r(c);let I=f.tokenRefresher;I||(I=function Xd(m){const{app:c}=m;return new Zo((0,le.Z)(function*(){let I;if(I=$r(c).token?yield ed(m,!0):yield ed(m),I.error)throw I.error;if(I.internalError)throw I.internalError}),()=>!0,()=>{const f=$r(c);if(f.token){let I=f.token.issuedAtTimeMillis+.5*(f.token.expireTimeMillis-f.token.issuedAtTimeMillis)+3e5;return I=Math.min(I,f.token.expireTimeMillis-3e5),Math.max(0,I-Date.now())}return 0},Cf.RETRIAL_MIN_WAIT,Cf.RETRIAL_MAX_WAIT)}(m),f.tokenRefresher=I),!I.isRunning()&&f.isTokenAutoRefreshEnabled&&I.start()}function fu(m){return m.expireTimeMillis-Date.now()>0}function lc(m){return{token:rg(xf),error:m}}class td{constructor(c,f){this.app=c,this.heartbeatServiceProvider=f}_delete(){const{tokenObservers:c}=$r(this.app);for(const f of c)oa(this.app,f.next);return Promise.resolve()}}const Yo="app-check-internal";!function kf(){(0,ut.Xd)(new ie.wA("app-check",m=>function pu(m,c){return new td(m,c)}(m.getProvider("app").getImmediate(),m.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,c,f)=>{m.getProvider(Yo).initialize()})),(0,ut.Xd)(new ie.wA(Yo,m=>function th(m){return{getToken:c=>ed(m,c),addTokenListener:c=>function Na(m,c,f,I){const{app:B}=m,Y=$r(B);if(Y.tokenObservers=[...Y.tokenObservers,{next:f,error:I,type:c}],Y.token&&fu(Y.token)){const $e=Y.token;Promise.resolve().then(()=>{f({token:$e.token}),Nf(m)}).catch(()=>{})}Y.cachedTokenPromise.then(()=>Nf(m))}(m,"INTERNAL",c),removeTokenListener:c=>oa(m.app,c)}}(m.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ut.KN)("@firebase/app-check","0.6.5")}();class Ff{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window;var Qo=K(9996),gi=K(9751),Vf=K(4004),ug={includeMetadataChanges:!1};function Hf(m,c){return void 0===c&&(c={}),function jf(m){return function Uf(m,c){return void 0===c&&(c=ug),new gi.y(function(f){return{unsubscribe:(0,Qo.cf)(m,c,{next:f.next.bind(f),error:f.error.bind(f),complete:f.complete.bind(f)})}})}(m,{includeMetadataChanges:!0}).pipe((0,Vf.U)(function(c){return c.docs}))}(m).pipe((0,Vf.U)(function(f){return f.map(function(I){return function lg(m,c){void 0===c&&(c={});var f=m.data();return!m.exists()||"object"!=typeof f||null===f||c.idField&&(f[c.idField]=m.id),f}(I,c)})}))}class zu{constructor(c){return c}}const Gf="firestore",Un=new j.OlP("angularfire2.firestore-instances");function qu(m){return(c,f)=>{const I=c.runOutsideAngular(()=>m(f));return new zu(I)}}const Wu={provide:class zf{constructor(){return(0,p.vb)(Gf)}},deps:[[new j.FiY,Un]]},ch={provide:zu,useFactory:function qf(m,c){const f=(0,p.JM)(Gf,m,c);return f&&new zu(f)},deps:[[new j.FiY,Un],b.Ot]};let ud=(()=>{class m{constructor(){(0,Se.KN)("angularfire",p.q4.full,"fst")}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=j.oAB({type:m}),m.\u0275inj=j.cJS({providers:[ch,Wu]}),m})();function dh(m,...c){return{ngModule:ud,providers:[{provide:Un,useFactory:qu(m),multi:!0,deps:[j.R0b,j.zs3,p.HU,b.z6,[new j.FiY,Bd],[new j.FiY,Ff],...c]}]}}const Dm=(0,p.u3)(Hf,!0),Qf=(0,p.u3)(Qo.hJ,!0),Jf=(0,p.u3)(Qo.oe,!0),gu=(0,p.u3)(Qo.JU,!0),tp=(0,p.u3)(Qo.ad,!0),fd=(0,p.u3)(Qo.pl,!0)},9883:(dn,gt,K)=>{K.d(gt,{q4:()=>us,HU:()=>Wt,vb:()=>W,JM:()=>k,u3:()=>So});var p=K(8256),j=K(259),b=K(5861),Se=K(9681),le=K(2090),Ye=K(4859),ut=K(1877),Ve=K(8766);const yt="@firebase/installations",ie="0.6.4",Ee=1e4,Qe=`w:${ie}`,rt="FIS_v2",He="https://firebaseinstallations.googleapis.com/v1",xt=36e5,Ot=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Lt(P){return P instanceof le.ZR&&P.code.includes("request-failed")}function Ke({projectId:P}){return`${He}/projects/${P}/installations`}function Me(P){return{token:P.token,requestStatus:2,expiresIn:dt(P.expiresIn),creationTime:Date.now()}}function ct(P,F){return kt.apply(this,arguments)}function kt(){return(kt=(0,b.Z)(function*(P,F){const se=(yield F.json()).error;return Ot.create("request-failed",{requestName:P,serverCode:se.code,serverMessage:se.message,serverStatus:se.status})})).apply(this,arguments)}function ot({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function he(P){return lt.apply(this,arguments)}function lt(){return(lt=(0,b.Z)(function*(P){const F=yield P();return F.status>=500&&F.status<600?P():F})).apply(this,arguments)}function dt(P){return Number(P.replace("s","000"))}function Ne(){return(Ne=(0,b.Z)(function*({appConfig:P,heartbeatServiceProvider:F},{fid:z}){const se=Ke(P),Oe=ot(P),Ze=F.getImmediate({optional:!0});if(Ze){const En=yield Ze.getHeartbeatsHeader();En&&Oe.append("x-firebase-client",En)}const ln={method:"POST",headers:Oe,body:JSON.stringify({fid:z,authVersion:rt,appId:P.appId,sdkVersion:Qe})},_n=yield he(()=>fetch(se,ln));if(_n.ok){const En=yield _n.json();return{fid:En.fid||z,registrationStatus:2,refreshToken:En.refreshToken,authToken:Me(En.authToken)}}throw yield ct("Create Installation",_n)})).apply(this,arguments)}function Ae(P){return new Promise(F=>{setTimeout(F,P)})}const _t=/^[cdef][\w-]{21}$/,Pe="";function Ge(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const z=function Fe(P){return function et(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return _t.test(z)?z:Pe}catch{return Pe}}function De(P){return`${P.appName}!${P.appId}`}const st=new Map;function pe(P,F){const z=De(P);Rt(z,F),function Ln(P,F){const z=function an(){return!wn&&"BroadcastChannel"in self&&(wn=new BroadcastChannel("[Firebase] FID Change"),wn.onmessage=P=>{Rt(P.data.key,P.data.fid)}),wn}();z&&z.postMessage({key:P,fid:F}),function Jn(){0===st.size&&wn&&(wn.close(),wn=null)}()}(z,F)}function Rt(P,F){const z=st.get(P);if(z)for(const se of z)se(F)}let wn=null;const ur="firebase-installations-database",hi=1,qn="firebase-installations-store";let pr=null;function bi(){return pr||(pr=(0,Ve.X3)(ur,hi,{upgrade:(P,F)=>{0===F&&P.createObjectStore(qn)}})),pr}function Ht(P,F){return rr.apply(this,arguments)}function rr(){return(rr=(0,b.Z)(function*(P,F){const z=De(P),Oe=(yield bi()).transaction(qn,"readwrite"),Ze=Oe.objectStore(qn),Nt=yield Ze.get(z);return yield Ze.put(F,z),yield Oe.done,(!Nt||Nt.fid!==F.fid)&&pe(P,F.fid),F})).apply(this,arguments)}function Xn(P){return gr.apply(this,arguments)}function gr(){return(gr=(0,b.Z)(function*(P){const F=De(P),se=(yield bi()).transaction(qn,"readwrite");yield se.objectStore(qn).delete(F),yield se.done})).apply(this,arguments)}function Qr(P,F){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,b.Z)(function*(P,F){const z=De(P),Oe=(yield bi()).transaction(qn,"readwrite"),Ze=Oe.objectStore(qn),Nt=yield Ze.get(z),ln=F(Nt);return void 0===ln?yield Ze.delete(z):yield Ze.put(ln,z),yield Oe.done,ln&&(!Nt||Nt.fid!==ln.fid)&&pe(P,ln.fid),ln})).apply(this,arguments)}function jn(P){return ii.apply(this,arguments)}function ii(){return ii=(0,b.Z)(function*(P){let F;const z=yield Qr(P.appConfig,se=>{const Oe=function Fn(P){return Vn(P||{fid:Ge(),registrationStatus:0})}(se),Ze=function bt(P,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Ot.create("app-offline"))};const z={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},se=function Vt(P,F){return Tn.apply(this,arguments)}(P,z);return{installationEntry:z,registrationPromise:se}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:In(P)}:{installationEntry:F}}(P,Oe);return F=Ze.registrationPromise,Ze.installationEntry});return z.fid===Pe?{installationEntry:yield F}:{installationEntry:z,registrationPromise:F}}),ii.apply(this,arguments)}function Tn(){return Tn=(0,b.Z)(function*(P,F){try{const z=yield function Mt(P,F){return Ne.apply(this,arguments)}(P,F);return Ht(P.appConfig,z)}catch(z){throw Lt(z)&&409===z.customData.serverCode?yield Xn(P.appConfig):yield Ht(P.appConfig,{fid:F.fid,registrationStatus:0}),z}}),Tn.apply(this,arguments)}function In(P){return er.apply(this,arguments)}function er(){return(er=(0,b.Z)(function*(P){let F=yield si(P.appConfig);for(;1===F.registrationStatus;)yield Ae(100),F=yield si(P.appConfig);if(0===F.registrationStatus){const{installationEntry:z,registrationPromise:se}=yield jn(P);return se||z}return F})).apply(this,arguments)}function si(P){return Qr(P,F=>{if(!F)throw Ot.create("installation-not-found");return Vn(F)})}function Vn(P){return function bs(P){return 1===P.registrationStatus&&P.registrationTime+Ee<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function Gi(){return(Gi=(0,b.Z)(function*({appConfig:P,heartbeatServiceProvider:F},z){const se=function Rn(P,{fid:F}){return`${Ke(P)}/${F}/authTokens:generate`}(P,z),Oe=function Be(P,{refreshToken:F}){const z=ot(P);return z.append("Authorization",function Le(P){return`${rt} ${P}`}(F)),z}(P,z),Ze=F.getImmediate({optional:!0});if(Ze){const En=yield Ze.getHeartbeatsHeader();En&&Oe.append("x-firebase-client",En)}const ln={method:"POST",headers:Oe,body:JSON.stringify({installation:{sdkVersion:Qe,appId:P.appId}})},_n=yield he(()=>fetch(se,ln));if(_n.ok)return Me(yield _n.json());throw yield ct("Generate Auth Token",_n)})).apply(this,arguments)}function Ci(P){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,b.Z)(function*(P,F=!1){let z;const se=yield Qr(P.appConfig,Ze=>{if(!it(Ze))throw Ot.create("not-registered");const Nt=Ze.authToken;if(!F&&function mt(P){return 2===P.requestStatus&&!function re(P){const F=Date.now();return F<P.creationTime||P.creationTime+P.expiresIn<F+xt}(P)}(Nt))return Ze;if(1===Nt.requestStatus)return z=function Xt(P,F){return vt.apply(this,arguments)}(P,F),Ze;{if(!navigator.onLine)throw Ot.create("app-offline");const ln=function ae(P){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:F})}(Ze);return z=function oe(P,F){return ge.apply(this,arguments)}(P,ln),ln}});return z?yield z:se.authToken}),Hr.apply(this,arguments)}function vt(){return(vt=(0,b.Z)(function*(P,F){let z=yield fe(P.appConfig);for(;1===z.authToken.requestStatus;)yield Ae(100),z=yield fe(P.appConfig);const se=z.authToken;return 0===se.requestStatus?Ci(P,F):se})).apply(this,arguments)}function fe(P){return Qr(P,F=>{if(!it(F))throw Ot.create("not-registered");return function Te(P){return 1===P.requestStatus&&P.requestTime+Ee<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function ge(){return ge=(0,b.Z)(function*(P,F){try{const z=yield function ir(P,F){return Gi.apply(this,arguments)}(P,F),se=Object.assign(Object.assign({},F),{authToken:z});return yield Ht(P.appConfig,se),z}catch(z){if(!Lt(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const se=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Ht(P.appConfig,se)}else yield Xn(P.appConfig);throw z}}),ge.apply(this,arguments)}function it(P){return void 0!==P&&2===P.registrationStatus}function ke(){return(ke=(0,b.Z)(function*(P){const F=P,{installationEntry:z,registrationPromise:se}=yield jn(F);return se?se.catch(console.error):Ci(F).catch(console.error),z.fid})).apply(this,arguments)}function we(){return we=(0,b.Z)(function*(P,F=!1){const z=P;return yield function me(P){return ne.apply(this,arguments)}(z),(yield Ci(z,F)).token}),we.apply(this,arguments)}function ne(){return(ne=(0,b.Z)(function*(P){const{registrationPromise:F}=yield jn(P);F&&(yield F)})).apply(this,arguments)}function mi(P){return Ot.create("missing-app-config-values",{valueName:P})}const yi="installations",_i=P=>{const F=P.getProvider("app").getImmediate(),z=function ki(P){if(!P||!P.options)throw mi("App Configuration");if(!P.name)throw mi("App Name");const F=["projectId","apiKey","appId"];for(const z of F)if(!P.options[z])throw mi(z);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(F);return{app:F,appConfig:z,heartbeatServiceProvider:(0,Se.qX)(F,"heartbeat"),_delete:()=>Promise.resolve()}},zi=P=>{const F=P.getProvider("app").getImmediate(),z=(0,Se.qX)(F,yi).getImmediate();return{getId:()=>function je(P){return ke.apply(this,arguments)}(z),getToken:Oe=>function zt(P){return we.apply(this,arguments)}(z,Oe)}};(function fi(){(0,Se.Xd)(new Ye.wA(yi,_i,"PUBLIC")),(0,Se.Xd)(new Ye.wA("installations-internal",zi,"PRIVATE"))})(),(0,Se.KN)(yt,ie),(0,Se.KN)(yt,ie,"esm2017");const zs="@firebase/remote-config",Gr=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ei{constructor(F,z,se,Oe){this.client=F,this.storage=z,this.storageCache=se,this.logger=Oe}isCachedDataFresh(F,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const se=Date.now()-z,Oe=se<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${se}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Oe}.`),Oe}fetch(F){var z=this;return(0,b.Z)(function*(){const[se,Oe]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(Oe&&z.isCachedDataFresh(F.cacheMaxAgeMillis,se))return Oe;F.eTag=Oe&&Oe.eTag;const Ze=yield z.client.fetch(F),Nt=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ze.status&&Nt.push(z.storage.setLastSuccessfulFetchResponse(Ze)),yield Promise.all(Nt),Ze})()}}function mn(P=navigator){return P.languages&&P.languages[0]||P.language}class ho{constructor(F,z,se,Oe,Ze,Nt){this.firebaseInstallations=F,this.sdkVersion=z,this.namespace=se,this.projectId=Oe,this.apiKey=Ze,this.appId=Nt}fetch(F){var z=this;return(0,b.Z)(function*(){const[se,Oe]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),Nt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},_n={sdk_version:z.sdkVersion,app_instance_id:se,app_instance_id_token:Oe,app_id:z.appId,language_code:mn()},En={method:"POST",headers:ln,body:JSON.stringify(_n)},Qn=fetch(Nt,En),On=new Promise((Us,fr)=>{F.signal.addEventListener(()=>{const Ko=new Error("The operation was aborted.");Ko.name="AbortError",fr(Ko)})});let vo;try{yield Promise.race([Qn,On]),vo=yield Qn}catch(Us){let fr="fetch-client-network";throw"AbortError"===Us?.name&&(fr="fetch-timeout"),Gr.create(fr,{originalErrorMessage:Us?.message})}let uo=vo.status;const bu=vo.headers.get("ETag")||void 0;let su,Hi;if(200===vo.status){let Us;try{Us=yield vo.json()}catch(fr){throw Gr.create("fetch-client-parse",{originalErrorMessage:fr?.message})}su=Us.entries,Hi=Us.state}if("INSTANCE_STATE_UNSPECIFIED"===Hi?uo=500:"NO_CHANGE"===Hi?uo=304:("NO_TEMPLATE"===Hi||"EMPTY_CONFIG"===Hi)&&(su={}),304!==uo&&200!==uo)throw Gr.create("fetch-status",{httpStatus:uo});return{status:uo,eTag:bu,config:su}})()}}class kr{constructor(F,z){this.client=F,this.storage=z}fetch(F){var z=this;return(0,b.Z)(function*(){const se=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(F,se)})()}attemptFetch(F,{throttleEndTimeMillis:z,backoffCount:se}){var Oe=this;return(0,b.Z)(function*(){yield function Wi(P,F){return new Promise((z,se)=>{const Oe=Math.max(F-Date.now(),0),Ze=setTimeout(z,Oe);P.addEventListener(()=>{clearTimeout(Ze),se(Gr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,z);try{const Ze=yield Oe.client.fetch(F);return yield Oe.storage.deleteThrottleMetadata(),Ze}catch(Ze){if(!function Xs(P){if(!(P instanceof le.ZR&&P.customData))return!1;const F=Number(P.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ze))throw Ze;const Nt={throttleEndTimeMillis:Date.now()+(0,le.$s)(se),backoffCount:se+1};return yield Oe.storage.setThrottleMetadata(Nt),Oe.attemptFetch(F,Nt)}})()}}class ss{constructor(F,z,se,Oe,Ze){this.app=F,this._client=z,this._storageCache=se,this._storage=Oe,this._logger=Ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jr(P,F){const z=P.target.error||void 0;return Gr.create(F,{originalErrorMessage:z&&z?.message})}const Fr="app_namespace_store";class Rs{constructor(F,z,se,Oe=function fo(){return new Promise((P,F)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=se=>{F(Jr(se,"storage-open"))},z.onsuccess=se=>{P(se.target.result)},z.onupgradeneeded=se=>{0===se.oldVersion&&se.target.result.createObjectStore(Fr,{keyPath:"compositeKey"})}}catch(z){F(Gr.create("storage-open",{originalErrorMessage:z?.message}))}})}()){this.appId=F,this.appName=z,this.namespace=se,this.openDbPromise=Oe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var z=this;return(0,b.Z)(function*(){const se=yield z.openDbPromise;return new Promise((Oe,Ze)=>{const ln=se.transaction([Fr],"readonly").objectStore(Fr),_n=z.createCompositeKey(F);try{const En=ln.get(_n);En.onerror=Qn=>{Ze(Jr(Qn,"storage-get"))},En.onsuccess=Qn=>{const On=Qn.target.result;Oe(On?On.value:void 0)}}catch(En){Ze(Gr.create("storage-get",{originalErrorMessage:En?.message}))}})})()}set(F,z){var se=this;return(0,b.Z)(function*(){const Oe=yield se.openDbPromise;return new Promise((Ze,Nt)=>{const _n=Oe.transaction([Fr],"readwrite").objectStore(Fr),En=se.createCompositeKey(F);try{const Qn=_n.put({compositeKey:En,value:z});Qn.onerror=On=>{Nt(Jr(On,"storage-set"))},Qn.onsuccess=()=>{Ze()}}catch(Qn){Nt(Gr.create("storage-set",{originalErrorMessage:Qn?.message}))}})})()}delete(F){var z=this;return(0,b.Z)(function*(){const se=yield z.openDbPromise;return new Promise((Oe,Ze)=>{const ln=se.transaction([Fr],"readwrite").objectStore(Fr),_n=z.createCompositeKey(F);try{const En=ln.delete(_n);En.onerror=Qn=>{Ze(Jr(Qn,"storage-delete"))},En.onsuccess=()=>{Oe()}}catch(En){Ze(Gr.create("storage-delete",{originalErrorMessage:En?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class Jo{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,b.Z)(function*(){const z=F.storage.getLastFetchStatus(),se=F.storage.getLastSuccessfulFetchTimestampMillis(),Oe=F.storage.getActiveConfig(),Ze=yield z;Ze&&(F.lastFetchStatus=Ze);const Nt=yield se;Nt&&(F.lastSuccessfulFetchTimestampMillis=Nt);const ln=yield Oe;ln&&(F.activeConfig=ln)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Xr(){return hs.apply(this,arguments)}function hs(){return(hs=(0,b.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function eo(){(0,Se.Xd)(new Ye.wA("remote-config",function P(F,{instanceIdentifier:z}){const se=F.getProvider("app").getImmediate(),Oe=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Gr.create("registration-window");if(!(0,le.hl)())throw Gr.create("indexed-db-unavailable");const{projectId:Ze,apiKey:Nt,appId:ln}=se.options;if(!Ze)throw Gr.create("registration-project-id");if(!Nt)throw Gr.create("registration-api-key");if(!ln)throw Gr.create("registration-app-id");const _n=new Rs(ln,se.name,z=z||"firebase"),En=new Jo(_n),Qn=new ut.Yd(zs);Qn.logLevel=ut.in.ERROR;const On=new ho(Oe,Se.Jn,z,Ze,Nt,ln),vo=new kr(On,_n),uo=new Ei(vo,_n,En,Qn),bu=new ss(se,uo,En,_n,Qn);return function Ai(P){const F=(0,le.m9)(P);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(bu),bu},"PUBLIC").setMultipleInstances(!0)),(0,Se.KN)(zs,"0.4.4"),(0,Se.KN)(zs,"0.4.4","esm2017")}();const ei="/firebase-messaging-sw.js",Cn="/firebase-cloud-messaging-push-scope",Ki="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bi="https://fcmregistrations.googleapis.com/v1",zr="google.c.a.c_id",Si="google.c.a.c_l",Mi="google.c.a.ts",No="google.c.a.e";var Os=(()=>{return(P=Os||(Os={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",Os;var P})();function ks(P){const F=new Uint8Array(P);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fs(P){const z=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),se=atob(z),Oe=new Uint8Array(se.length);for(let Ze=0;Ze<se.length;++Ze)Oe[Ze]=se.charCodeAt(Ze);return Oe}const os="fcm_token_details_db",to=5,ps="fcm_token_object_Store";function gs(){return gs=(0,b.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ze=>Ze.name).includes(os))return null;let F=null;return(yield(0,Ve.X3)(os,to,{upgrade:(se=(0,b.Z)(function*(Oe,Ze,Nt,ln){var _n;if(Ze<2||!Oe.objectStoreNames.contains(ps))return;const En=ln.objectStore(ps),Qn=yield En.index("fcmSenderId").get(P);if(yield En.clear(),Qn)if(2===Ze){const On=Qn;if(!On.auth||!On.p256dh||!On.endpoint)return;F={token:On.fcmToken,createTime:null!==(_n=On.createTime)&&void 0!==_n?_n:Date.now(),subscriptionOptions:{auth:On.auth,p256dh:On.p256dh,endpoint:On.endpoint,swScope:On.swScope,vapidKey:"string"==typeof On.vapidKey?On.vapidKey:ks(On.vapidKey)}}}else if(3===Ze){const On=Qn;F={token:On.fcmToken,createTime:On.createTime,subscriptionOptions:{auth:ks(On.auth),p256dh:ks(On.p256dh),endpoint:On.endpoint,swScope:On.swScope,vapidKey:ks(On.vapidKey)}}}else if(4===Ze){const On=Qn;F={token:On.fcmToken,createTime:On.createTime,subscriptionOptions:{auth:ks(On.auth),p256dh:ks(On.p256dh),endpoint:On.endpoint,swScope:On.swScope,vapidKey:ks(On.vapidKey)}}}}),function(Ze,Nt,ln,_n){return se.apply(this,arguments)})})).close(),yield(0,Ve.Lj)(os),yield(0,Ve.Lj)("fcm_vapid_details_db"),yield(0,Ve.Lj)("undefined"),function jo(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:F}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var se}),gs.apply(this,arguments)}const ca="firebase-messaging-database",Ho=1,ms="firebase-messaging-store";let qs=null;function ys(){return qs||(qs=(0,Ve.X3)(ca,Ho,{upgrade:(P,F)=>{0===F&&P.createObjectStore(ms)}})),qs}function Io(P){return no.apply(this,arguments)}function no(){return no=(0,b.Z)(function*(P){const F=vs(P),se=yield(yield ys()).transaction(ms).objectStore(ms).get(F);if(se)return se;{const Oe=yield function Oo(P){return gs.apply(this,arguments)}(P.appConfig.senderId);if(Oe)return yield _s(P,Oe),Oe}}),no.apply(this,arguments)}function _s(P,F){return Go.apply(this,arguments)}function Go(){return(Go=(0,b.Z)(function*(P,F){const z=vs(P),Oe=(yield ys()).transaction(ms,"readwrite");return yield Oe.objectStore(ms).put(F,z),yield Oe.done,F})).apply(this,arguments)}function zo(){return(zo=(0,b.Z)(function*(P){const F=vs(P),se=(yield ys()).transaction(ms,"readwrite");yield se.objectStore(ms).delete(F),yield se.done})).apply(this,arguments)}function vs({appConfig:P}){return P.appId}const dr=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $i(P,F){return qr.apply(this,arguments)}function qr(){return(qr=(0,b.Z)(function*(P,F){const z=yield _r(P),se=Cr(F),Oe={method:"POST",headers:z,body:JSON.stringify(se)};let Ze;try{Ze=yield(yield fetch(Pi(P.appConfig),Oe)).json()}catch(Nt){throw dr.create("token-subscribe-failed",{errorInfo:Nt?.toString()})}if(Ze.error)throw dr.create("token-subscribe-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw dr.create("token-subscribe-no-token");return Ze.token})).apply(this,arguments)}function Ws(){return(Ws=(0,b.Z)(function*(P,F){const z=yield _r(P),se=Cr(F.subscriptionOptions),Oe={method:"PATCH",headers:z,body:JSON.stringify(se)};let Ze;try{Ze=yield(yield fetch(`${Pi(P.appConfig)}/${F.token}`,Oe)).json()}catch(Nt){throw dr.create("token-update-failed",{errorInfo:Nt?.toString()})}if(Ze.error)throw dr.create("token-update-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw dr.create("token-update-no-token");return Ze.token})).apply(this,arguments)}function ti(P,F){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,b.Z)(function*(P,F){const se={method:"DELETE",headers:yield _r(P)};try{const Ze=yield(yield fetch(`${Pi(P.appConfig)}/${F}`,se)).json();if(Ze.error)throw dr.create("token-unsubscribe-failed",{errorInfo:Ze.error.message})}catch(Oe){throw dr.create("token-unsubscribe-failed",{errorInfo:Oe?.toString()})}})).apply(this,arguments)}function Pi({projectId:P}){return`${Bi}/projects/${P}/registrations`}function _r(P){return Do.apply(this,arguments)}function Do(){return(Do=(0,b.Z)(function*({appConfig:P,installations:F}){const z=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function Cr({p256dh:P,auth:F,endpoint:z,vapidKey:se}){const Oe={web:{endpoint:z,auth:F,p256dh:P}};return se!==Ki&&(Oe.web.applicationPubKey=se),Oe}const Xo=6048e5;function ai(){return ai=(0,b.Z)(function*(P){const F=yield function Fo(P,F){return Ti.apply(this,arguments)}(P.swRegistration,P.vapidKey),z={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:F.endpoint,auth:ks(F.getKey("auth")),p256dh:ks(F.getKey("p256dh"))},se=yield Io(P.firebaseDependencies);if(se){if(function ro(P,F){return F.vapidKey===P.vapidKey&&F.endpoint===P.endpoint&&F.auth===P.auth&&F.p256dh===P.p256dh}(se.subscriptionOptions,z))return Date.now()>=se.createTime+Xo?function Yi(P,F){return Wn.apply(this,arguments)}(P,{token:se.token,createTime:Date.now(),subscriptionOptions:z}):se.token;try{yield ti(P.firebaseDependencies,se.token)}catch(Oe){console.warn(Oe)}return wi(P.firebaseDependencies,z)}return wi(P.firebaseDependencies,z)}),ai.apply(this,arguments)}function ni(){return ni=(0,b.Z)(function*(P){const F=yield Io(P.firebaseDependencies);F&&(yield ti(P.firebaseDependencies,F.token),yield function oi(P){return zo.apply(this,arguments)}(P.firebaseDependencies));const z=yield P.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()}),ni.apply(this,arguments)}function Wn(){return Wn=(0,b.Z)(function*(P,F){try{const z=yield function Wr(P,F){return Ws.apply(this,arguments)}(P.firebaseDependencies,F),se=Object.assign(Object.assign({},F),{token:z,createTime:Date.now()});return yield _s(P.firebaseDependencies,se),z}catch(z){throw yield function Fs(P){return ni.apply(this,arguments)}(P),z}}),Wn.apply(this,arguments)}function wi(P,F){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,b.Z)(function*(P,F){const se={token:yield $i(P,F),createTime:Date.now(),subscriptionOptions:F};return yield _s(P,se),se.token})).apply(this,arguments)}function Ti(){return(Ti=(0,b.Z)(function*(P,F){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fs(F)})})).apply(this,arguments)}function bo(P){const F={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function hn(P,F){if(!F.notification)return;P.notification={};const z=F.notification.title;z&&(P.notification.title=z);const se=F.notification.body;se&&(P.notification.body=se);const Oe=F.notification.image;Oe&&(P.notification.image=Oe);const Ze=F.notification.icon;Ze&&(P.notification.icon=Ze)}(F,P),function L(P,F){F.data&&(P.data=F.data)}(F,P),function O(P,F){var z,se,Oe,Ze,Nt;if(!(F.fcmOptions||null!==(z=F.notification)&&void 0!==z&&z.click_action))return;P.fcmOptions={};const ln=null!==(Oe=null===(se=F.fcmOptions)||void 0===se?void 0:se.link)&&void 0!==Oe?Oe:null===(Ze=F.notification)||void 0===Ze?void 0:Ze.click_action;ln&&(P.fcmOptions.link=ln);const _n=null===(Nt=F.fcmOptions)||void 0===Nt?void 0:Nt.analytics_label;_n&&(P.fcmOptions.analyticsLabel=_n)}(F,P),F}function X(P,F){const z=[];for(let se=0;se<P.length;se++)z.push(P.charAt(se)),se<F.length&&z.push(F.charAt(se));return z.join("")}function sn(P){return dr.create("missing-app-config-values",{valueName:P})}X("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),X("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class or{constructor(F,z,se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Oe=function nt(P){if(!P||!P.options)throw sn("App Configuration Object");if(!P.name)throw sn("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:z}=P;for(const se of F)if(!z[se])throw sn(se);return{appName:P.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Oe,installations:z,analyticsProvider:se}}_delete(){return Promise.resolve()}}function Vr(P){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,b.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(ei,{scope:Cn}),P.swRegistration.update().catch(()=>{})}catch(F){throw dr.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function io(){return(io=(0,b.Z)(function*(P,F){if(!F&&!P.swRegistration&&(yield Vr(P)),F||!P.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw dr.create("invalid-sw-registration");P.swRegistration=F}})).apply(this,arguments)}function Ur(){return(Ur=(0,b.Z)(function*(P,F){F?P.vapidKey=F:P.vapidKey||(P.vapidKey=Ki)})).apply(this,arguments)}function ui(){return ui=(0,b.Z)(function*(P,F){if(!navigator)throw dr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw dr.create("permission-blocked");return yield function Qi(P,F){return Ur.apply(this,arguments)}(P,F?.vapidKey),yield function Sn(P,F){return io.apply(this,arguments)}(P,F?.serviceWorkerRegistration),function Ks(P){return ai.apply(this,arguments)}(P)}),ui.apply(this,arguments)}function ea(){return(ea=(0,b.Z)(function*(P,F,z){const se=function qo(P){switch(P){case Os.NOTIFICATION_CLICKED:return"notification_open";case Os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(se,{message_id:z[zr],message_name:z[Si],message_time:z[Mi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function go(){return go=(0,b.Z)(function*(P,F){const z=F.data;if(!z.isFirebaseMessaging)return;P.onMessageHandler&&z.messageType===Os.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(bo(z)):P.onMessageHandler.next(bo(z)));const se=z.data;(function x(P){return"object"==typeof P&&!!P&&zr in P})(se)&&"1"===se[No]&&(yield function Br(P,F,z){return ea.apply(this,arguments)}(P,z.messageType,se))}),go.apply(this,arguments)}const as="@firebase/messaging",Ji=P=>{const F=new or(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function ba(P,F){return go.apply(this,arguments)}(F,z)),F},mo=P=>{const F=P.getProvider("messaging").getImmediate();return{getToken:se=>function po(P,F){return ui.apply(this,arguments)}(F,se)}};function Ls(){return da.apply(this,arguments)}function da(){return(da=(0,b.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ta(){(0,Se.Xd)(new Ye.wA("messaging",Ji,"PUBLIC")),(0,Se.Xd)(new Ye.wA("messaging-internal",mo,"PRIVATE")),(0,Se.KN)(as,"0.12.4"),(0,Se.KN)(as,"0.12.4","esm2017")}();const q="analytics",te="firebase_id",ye="origin",Ie=6e4,de="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Je="https://www.googletagmanager.com/gtag/js",Pt=new ut.Yd("@firebase/analytics"),It=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function At(P){if(!P.startsWith(Je)){const F=It.create("invalid-gtag-resource",{gtagURL:P});return Pt.warn(F.message),""}return P}function yn(P){return Promise.all(P.map(F=>F.catch(z=>z)))}function R(){return(R=(0,b.Z)(function*(P,F,z,se,Oe,Ze){const Nt=se[Oe];try{if(Nt)yield F[Nt];else{const _n=(yield yn(z)).find(En=>En.measurementId===Oe);_n&&(yield F[_n.appId])}}catch(ln){Pt.error(ln)}P("config",Oe,Ze)})).apply(this,arguments)}function ce(){return(ce=(0,b.Z)(function*(P,F,z,se,Oe){try{let Ze=[];if(Oe&&Oe.send_to){let Nt=Oe.send_to;Array.isArray(Nt)||(Nt=[Nt]);const ln=yield yn(z);for(const _n of Nt){const En=ln.find(On=>On.measurementId===_n),Qn=En&&F[En.appId];if(!Qn){Ze=[];break}Ze.push(Qn)}}0===Ze.length&&(Ze=Object.values(F)),yield Promise.all(Ze),P("event",se,Oe||{})}catch(Ze){Pt.error(Ze)}})).apply(this,arguments)}const $n=30,vn=new class sr{constructor(F={},z=1e3){this.throttleMetadata=F,this.intervalMillis=z}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,z){this.throttleMetadata[F]=z}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Gn(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function Ar(){return(Ar=(0,b.Z)(function*(P){var F;const{appId:z,apiKey:se}=P,Oe={method:"GET",headers:Gn(se)},Ze=de.replace("{app-id}",z),Nt=yield fetch(Ze,Oe);if(200!==Nt.status&&304!==Nt.status){let ln="";try{const _n=yield Nt.json();null!==(F=_n.error)&&void 0!==F&&F.message&&(ln=_n.error.message)}catch{}throw It.create("config-fetch-failed",{httpStatus:Nt.status,responseMessage:ln})}return Nt.json()})).apply(this,arguments)}function jt(){return(jt=(0,b.Z)(function*(P,F=vn,z){const{appId:se,apiKey:Oe,measurementId:Ze}=P.options;if(!se)throw It.create("no-app-id");if(!Oe){if(Ze)return{measurementId:Ze,appId:se};throw It.create("no-api-key")}const Nt=F.getThrottleMetadata(se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ln=new xn;return setTimeout((0,b.Z)(function*(){ln.abort()}),void 0!==z?z:Ie),St({appId:se,apiKey:Oe,measurementId:Ze},Nt,ln,F)})).apply(this,arguments)}function St(P,F,z){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,b.Z)(function*(P,{throttleEndTimeMillis:F,backoffCount:z},se,Oe=vn){var Ze;const{appId:Nt,measurementId:ln}=P;try{yield function gn(P,F){return new Promise((z,se)=>{const Oe=Math.max(F-Date.now(),0),Ze=setTimeout(z,Oe);P.addEventListener(()=>{clearTimeout(Ze),se(It.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(se,F)}catch(_n){if(ln)return Pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${_n?.message}]`),{appId:Nt,measurementId:ln};throw _n}try{const _n=yield function Jt(P){return Ar.apply(this,arguments)}(P);return Oe.deleteThrottleMetadata(Nt),_n}catch(_n){const En=_n;if(!function Ii(P){if(!(P instanceof le.ZR&&P.customData))return!1;const F=Number(P.customData.httpStatus);return 429===F||500===F||503===F||504===F}(En)){if(Oe.deleteThrottleMetadata(Nt),ln)return Pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${En?.message}]`),{appId:Nt,measurementId:ln};throw _n}const Qn=503===Number(null===(Ze=En?.customData)||void 0===Ze?void 0:Ze.httpStatus)?(0,le.$s)(z,Oe.intervalMillis,$n):(0,le.$s)(z,Oe.intervalMillis),On={throttleEndTimeMillis:Date.now()+Qn,backoffCount:z+1};return Oe.setThrottleMetadata(Nt,On),Pt.debug(`Calling attemptFetch again in ${Qn} millis`),St(P,On,se,Oe)}}),Dn.apply(this,arguments)}class xn{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let Ut,ja;function Es(){return(Es=(0,b.Z)(function*(P,F,z,se,Oe){if(Oe&&Oe.global)P("event",z,se);else{const Ze=yield F;P("event",z,Object.assign(Object.assign({},se),{send_to:Ze}))}})).apply(this,arguments)}function ra(){return(ra=(0,b.Z)(function*(){if(!(0,le.hl)())return Pt.warn(It.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(P){return Pt.warn(It.create("indexeddb-unavailable",{errorInfo:P?.toString()}).message),!1}return!0})).apply(this,arguments)}function pa(){return pa=(0,b.Z)(function*(P,F,z,se,Oe,Ze,Nt){var ln;const _n=function tn(P){return jt.apply(this,arguments)}(P);_n.then(uo=>{z[uo.measurementId]=uo.appId,P.options.measurementId&&uo.measurementId!==P.options.measurementId&&Pt.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${uo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(uo=>Pt.error(uo)),F.push(_n);const En=function Yn(){return ra.apply(this,arguments)}().then(uo=>{if(uo)return se.getId()}),[Qn,On]=yield Promise.all([_n,En]);(function nn(P){const F=window.document.getElementsByTagName("script");for(const z of Object.values(F))if(z.src&&z.src.includes(Je)&&z.src.includes(P))return z;return null})(Ze)||function Ue(P,F){const z=function at(P,F){let z;return window.trustedTypes&&(z=window.trustedTypes.createPolicy(P,F)),z}("firebase-js-sdk-policy",{createScriptURL:At}),se=document.createElement("script"),Oe=`${Je}?l=${P}&id=${F}`;se.src=z?z?.createScriptURL(Oe):Oe,se.async=!0,document.head.appendChild(se)}(Ze,Qn.measurementId),ja&&(Oe("consent","default",ja),function Aa(P){ja=P}(void 0)),Oe("js",new Date);const vo=null!==(ln=Nt?.config)&&void 0!==ln?ln:{};return vo[ye]="firebase",vo.update=!0,null!=On&&(vo[te]=On),Oe("config",Qn.measurementId,vo),Ut&&(Oe("set",Ut),function Hl(P){Ut=P}(void 0)),Qn.measurementId}),pa.apply(this,arguments)}class Ts{constructor(F){this.app=F}_delete(){return delete Vo[this.app.options.appId],Promise.resolve()}}let Vo={},ga=[];const Uo={};let Ga,es,Ha="dataLayer",Kr="gtag",za=!1;function wu(P,F,z){!function Ni(){const P=[];if((0,le.ru)()&&P.push("This is a browser extension environment."),(0,le.zI)()||P.push("Cookies are not available."),P.length>0){const F=P.map((se,Oe)=>`(${Oe+1}) ${se}`).join(" "),z=It.create("invalid-analytics-context",{errorInfo:F});Pt.warn(z.message)}}();const se=P.options.appId;if(!se)throw It.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw It.create("no-api-key");Pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vo[se])throw It.create("already-exists",{id:se});if(!za){!function D(P){let F=[];Array.isArray(window[P])?F=window[P]:window[P]=F}(Ha);const{wrappedGtag:Ze,gtagCore:Nt}=function ft(P,F,z,se,Oe){let Ze=function(...Nt){window[se].push(arguments)};return window[Oe]&&"function"==typeof window[Oe]&&(Ze=window[Oe]),window[Oe]=function We(P,F,z,se){function Ze(){return Ze=(0,b.Z)(function*(Nt,ln,_n){try{"event"===Nt?yield function Z(P,F,z,se,Oe){return ce.apply(this,arguments)}(P,F,z,ln,_n):"config"===Nt?yield function U(P,F,z,se,Oe,Ze){return R.apply(this,arguments)}(P,F,z,se,ln,_n):"consent"===Nt?P("consent","update",_n):P("set",ln)}catch(En){Pt.error(En)}}),Ze.apply(this,arguments)}return function Oe(Nt,ln,_n){return Ze.apply(this,arguments)}}(Ze,P,F,z),{gtagCore:Ze,wrappedGtag:window[Oe]}}(Vo,ga,Uo,Ha,Kr);es=Ze,Ga=Nt,za=!0}return Vo[se]=function Xe(P,F,z,se,Oe,Ze,Nt){return pa.apply(this,arguments)}(P,ga,Uo,F,Ga,Ha,z),new Ts(P)}function ri(){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,b.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const ya="@firebase/analytics";!function Wa(){(0,Se.Xd)(new Ye.wA(q,(F,{options:z})=>wu(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,Se.Xd)(new Ye.wA("analytics-internal",function P(F){try{const z=F.getProvider(q).getImmediate();return{logEvent:(se,Oe,Ze)=>function ao(P,F,z,se){P=(0,le.m9)(P),function vr(P,F,z,se,Oe){return Es.apply(this,arguments)}(es,Vo[P.app.options.appId],F,z,se).catch(Oe=>Pt.error(Oe))}(z,se,Oe,Ze)}}catch(z){throw It.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,Se.KN)(ya,"0.9.5"),(0,Se.KN)(ya,"0.9.5","esm2017")}();var _a=K(727);class Gl extends _a.w0{constructor(F,z){super()}schedule(F,z=0){return this}}const Ma={setInterval(P,F,...z){const{delegate:se}=Ma;return se?.setInterval?se.setInterval(P,F,...z):setInterval(P,F,...z)},clearInterval(P){const{delegate:F}=Ma;return(F?.clearInterval||clearInterval)(P)},delegate:void 0};var Pr=K(8737);class zl extends Gl{constructor(F,z){super(F,z),this.scheduler=F,this.work=z,this.pending=!1}schedule(F,z=0){var se;if(this.closed)return this;this.state=F;const Oe=this.id,Ze=this.scheduler;return null!=Oe&&(this.id=this.recycleAsyncId(Ze,Oe,z)),this.pending=!0,this.delay=z,this.id=null!==(se=this.id)&&void 0!==se?se:this.requestAsyncId(Ze,this.id,z),this}requestAsyncId(F,z,se=0){return Ma.setInterval(F.flush.bind(F,this),se)}recycleAsyncId(F,z,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return z;null!=z&&Ma.clearInterval(z)}execute(F,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(F,z);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(F,z){let Oe,se=!1;try{this.work(F)}catch(Ze){se=!0,Oe=Ze||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),Oe}unsubscribe(){if(!this.closed){const{id:F,scheduler:z}=this,{actions:se}=z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Pr.P)(se,this),null!=F&&(this.id=this.recycleAsyncId(z,F,null)),this.delay=null,super.unsubscribe()}}}const sl={now:()=>(sl.delegate||Date).now(),delegate:void 0};class iu{constructor(F,z=iu.now){this.schedulerActionCtor=F,this.now=z}schedule(F,z=0,se){return new this.schedulerActionCtor(this,F).schedule(se,z)}}iu.now=sl.now;class Oc extends iu{constructor(F,z=iu.now){super(F,z),this.actions=[],this._active=!1}flush(F){const{actions:z}=this;if(this._active)return void z.push(F);let se;this._active=!0;do{if(se=F.execute(F.state,F.delay))break}while(F=z.shift());if(this._active=!1,se){for(;F=z.shift();)F.unsubscribe();throw se}}}const Fc=new class kc extends Oc{}(class Nc extends zl{constructor(F,z){super(F,z),this.scheduler=F,this.work=z}schedule(F,z=0){return z>0?super.schedule(F,z):(this.delay=z,this.state=F,this.scheduler.flush(this),this)}execute(F,z){return z>0||this.closed?super.execute(F,z):this._execute(F,z)}requestAsyncId(F,z,se=0){return null!=se&&se>0||null==se&&this.delay>0?super.requestAsyncId(F,z,se):(F.flush(this),0)}}),Lc=new Oc(zl);var ji=K(9751),Ea=K(8505),pi=K(9468),Ka=K(5363);const us=new p.GfV("7.5.0"),yo="__angularfire_symbol__analyticsIsSupportedValue",Rr="__angularfire_symbol__analyticsIsSupported",Ao="__angularfire_symbol__remoteConfigIsSupportedValue",li="__angularfire_symbol__remoteConfigIsSupported",hr="__angularfire_symbol__messagingIsSupportedValue",ql="__angularfire_symbol__messagingIsSupported";function k(P,F,z){if(F){if(1===F.length)return F[0];const Ze=F.filter(Nt=>Nt.app===z);if(1===Ze.length)return Ze[0]}return z.container.getProvider(P).getImmediate({optional:!0})}globalThis[Rr]||(globalThis[Rr]=ri().then(P=>globalThis[yo]=P).catch(()=>globalThis[yo]=!1)),globalThis[ql]||(globalThis[ql]=Ls().then(P=>globalThis[hr]=P).catch(()=>globalThis[hr]=!1)),globalThis[li]||(globalThis[li]=Xr().then(P=>globalThis[Ao]=P).catch(()=>globalThis[Ao]=!1));const W=(P,F)=>{const z=F?[F]:(0,j.C6)(),se=[];return z.forEach(Oe=>{Oe.container.getProvider(P).instances.forEach(Nt=>{se.includes(Nt)||se.push(Nt)})}),se};function J(){}class be{constructor(F,z=Fc){this.zone=F,this.delegate=z}now(){return this.delegate.now()}schedule(F,z,se){const Oe=this.zone;return this.delegate.schedule(function(Nt){Oe.runGuarded(()=>{F.apply(this,[Nt])})},z,se)}}class pt{constructor(F){this.zone=F,this.task=null}call(F,z){const se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",J,{},J,J)),z.pipe((0,Ea.b)({next:se,complete:se,error:se})).subscribe(F).add(se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wt=(()=>{class P{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=z.run(()=>new be(Zone.current,Lc)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(z){return new(z||P)(p.LFG(p.R0b))},P.\u0275prov=p.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function qt(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function ci(P){return qt().ngZone.run(()=>P())}function _o(P){return qt(),function Zr(P){return function(z){return(z=z.lift(new pt(P.ngZone))).pipe((0,pi.R)(P.outsideAngular),(0,Ka.Q)(P.insideAngular))}}(qt())(P)}const $o=(P,F)=>function(){const se=arguments;return F&&setTimeout(()=>{"scheduled"===F.state&&F.invoke()},10),ci(()=>P.apply(void 0,se))},So=(P,F)=>function(){let z;const se=arguments;for(let Ze=0;Ze<arguments.length;Ze++)"function"==typeof se[Ze]&&(F&&(z||(z=ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",J,{},J,J)))),se[Ze]=$o(se[Ze],z));const Oe=function Nn(P){return qt().ngZone.runOutsideAngular(()=>P())}(()=>P.apply(this,se));if(!F){if(Oe instanceof ji.y){const Ze=qt();return Oe.pipe((0,pi.R)(Ze.outsideAngular),(0,Ka.Q)(Ze.insideAngular))}return ci(()=>Oe)}return Oe instanceof ji.y?Oe.pipe(_o):Oe instanceof Promise?ci(()=>new Promise((Ze,Nt)=>Oe.then(ln=>ci(()=>Ze(ln)),ln=>ci(()=>Nt(ln))))):"function"==typeof Oe&&z?function(){return setTimeout(()=>{z&&"scheduled"===z.state&&z.invoke()},10),Oe.apply(this,arguments)}:ci(()=>Oe)}},2090:(dn,gt,K)=>{K.d(gt,{$s:()=>oe,BH:()=>ct,L:()=>yt,LL:()=>pe,P0:()=>Lt,Pz:()=>Me,Sg:()=>kt,US:()=>Ye,ZR:()=>st,aH:()=>Ke,b$:()=>Le,eu:()=>Ge,hl:()=>Pe,m9:()=>mt,ne:()=>Fn,ru:()=>dt,tV:()=>ie,uI:()=>Be,vZ:()=>rr,xO:()=>Qr,z$:()=>ot,zI:()=>Fe});const Se=function(re){const ae=[];let Te=0;for(let je=0;je<re.length;je++){let ke=re.charCodeAt(je);ke<128?ae[Te++]=ke:ke<2048?(ae[Te++]=ke>>6|192,ae[Te++]=63&ke|128):55296==(64512&ke)&&je+1<re.length&&56320==(64512&re.charCodeAt(je+1))?(ke=65536+((1023&ke)<<10)+(1023&re.charCodeAt(++je)),ae[Te++]=ke>>18|240,ae[Te++]=ke>>12&63|128,ae[Te++]=ke>>6&63|128,ae[Te++]=63&ke|128):(ae[Te++]=ke>>12|224,ae[Te++]=ke>>6&63|128,ae[Te++]=63&ke|128)}return ae},Ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,ae){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Te=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[];for(let ke=0;ke<re.length;ke+=3){const zt=re[ke],we=ke+1<re.length,me=we?re[ke+1]:0,ne=ke+2<re.length,_e=ne?re[ke+2]:0;let Yt=(15&me)<<2|_e>>6,en=63&_e;ne||(en=64,we||(Yt=64)),je.push(Te[zt>>2],Te[(3&zt)<<4|me>>4],Te[Yt],Te[en])}return je.join("")},encodeString(re,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(re):this.encodeByteArray(Se(re),ae)},decodeString(re,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(re):function(re){const ae=[];let Te=0,je=0;for(;Te<re.length;){const ke=re[Te++];if(ke<128)ae[je++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const zt=re[Te++];ae[je++]=String.fromCharCode((31&ke)<<6|63&zt)}else if(ke>239&&ke<365){const ne=((7&ke)<<18|(63&re[Te++])<<12|(63&re[Te++])<<6|63&re[Te++])-65536;ae[je++]=String.fromCharCode(55296+(ne>>10)),ae[je++]=String.fromCharCode(56320+(1023&ne))}else{const zt=re[Te++],we=re[Te++];ae[je++]=String.fromCharCode((15&ke)<<12|(63&zt)<<6|63&we)}}return ae.join("")}(this.decodeStringToByteArray(re,ae))},decodeStringToByteArray(re,ae){this.init_();const Te=ae?this.charToByteMapWebSafe_:this.charToByteMap_,je=[];for(let ke=0;ke<re.length;){const zt=Te[re.charAt(ke++)],me=ke<re.length?Te[re.charAt(ke)]:0;++ke;const _e=ke<re.length?Te[re.charAt(ke)]:64;++ke;const Ct=ke<re.length?Te[re.charAt(ke)]:64;if(++ke,null==zt||null==me||null==_e||null==Ct)throw new ut;je.push(zt<<2|me>>4),64!==_e&&(je.push(me<<4&240|_e>>2),64!==Ct&&je.push(_e<<6&192|Ct))}return je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class ut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yt=function(re){return function(re){const ae=Se(re);return Ye.encodeByteArray(ae,!0)}(re).replace(/\./g,"")},ie=function(re){try{return Ye.decodeString(re,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null},Gt=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ae=re&&ie(re[1]);return ae&&JSON.parse(ae)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},Lt=re=>{const ae=(re=>{var ae,Te;return null===(Te=null===(ae=Gt())||void 0===ae?void 0:ae.emulatorHosts)||void 0===Te?void 0:Te[re]})(re);if(!ae)return;const Te=ae.lastIndexOf(":");if(Te<=0||Te+1===ae.length)throw new Error(`Invalid host ${ae} with no separate hostname and port!`);const je=parseInt(ae.substring(Te+1),10);return"["===ae[0]?[ae.substring(1,Te-1),je]:[ae.substring(0,Te),je]},Ke=()=>{var re;return null===(re=Gt())||void 0===re?void 0:re.config},Me=re=>{var ae;return null===(ae=Gt())||void 0===ae?void 0:ae[`_${re}`]};class ct{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,Te)=>{this.resolve=ae,this.reject=Te})}wrapCallback(ae){return(Te,je)=>{Te?this.reject(Te):this.resolve(je),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(Te):ae(Te,je))}}}function kt(re,ae){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je=ae||"demo-project",ke=re.iat||0,zt=re.sub||re.user_id;if(!zt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${je}`,aud:je,iat:ke,exp:ke+3600,auth_time:ke,sub:zt,user_id:zt,firebase:{sign_in_provider:"custom",identities:{}}},re);return[yt(JSON.stringify({alg:"none",type:"JWT"})),yt(JSON.stringify(we)),""].join(".")}function ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function dt(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ge(){return new Promise((re,ae)=>{try{let Te=!0;const je="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(je);ke.onsuccess=()=>{ke.result.close(),Te||self.indexedDB.deleteDatabase(je),re(!0)},ke.onupgradeneeded=()=>{Te=!1},ke.onerror=()=>{var zt;ae((null===(zt=ke.error)||void 0===zt?void 0:zt.message)||"")}}catch(Te){ae(Te)}})}function Fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class st extends Error{constructor(ae,Te,je){super(Te),this.code=ae,this.customData=je,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(ae,Te,je){this.service=ae,this.serviceName=Te,this.errors=je}create(ae,...Te){const je=Te[0]||{},ke=`${this.service}/${ae}`,zt=this.errors[ae],we=zt?function xe(re,ae){return re.replace(ht,(Te,je)=>{const ke=ae[je];return null!=ke?String(ke):`<${je}?>`})}(zt,je):"Error";return new st(ke,`${this.serviceName}: ${we} (${ke}).`,je)}}const ht=/\{\$([^}]+)}/g;function rr(re,ae){if(re===ae)return!0;const Te=Object.keys(re),je=Object.keys(ae);for(const ke of Te){if(!je.includes(ke))return!1;const zt=re[ke],we=ae[ke];if(Xn(zt)&&Xn(we)){if(!rr(zt,we))return!1}else if(zt!==we)return!1}for(const ke of je)if(!Te.includes(ke))return!1;return!0}function Xn(re){return null!==re&&"object"==typeof re}function Qr(re){const ae=[];for(const[Te,je]of Object.entries(re))Array.isArray(je)?je.forEach(ke=>{ae.push(encodeURIComponent(Te)+"="+encodeURIComponent(ke))}):ae.push(encodeURIComponent(Te)+"="+encodeURIComponent(je));return ae.length?"&"+ae.join("&"):""}function Fn(re,ae){const Te=new bt(re,ae);return Te.subscribe.bind(Te)}class bt{constructor(ae,Te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Te,this.task.then(()=>{ae(this)}).catch(je=>{this.error(je)})}next(ae){this.forEachObserver(Te=>{Te.next(ae)})}error(ae){this.forEachObserver(Te=>{Te.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,Te,je){let ke;if(void 0===ae&&void 0===Te&&void 0===je)throw new Error("Missing Observer.");ke=function Tn(re,ae){if("object"!=typeof re||null===re)return!1;for(const Te of ae)if(Te in re&&"function"==typeof re[Te])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:Te,complete:je},void 0===ke.next&&(ke.next=In),void 0===ke.error&&(ke.error=In),void 0===ke.complete&&(ke.complete=In);const zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),zt}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let Te=0;Te<this.observers.length;Te++)this.sendOne(Te,ae)}sendOne(ae,Te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{Te(this.observers[ae])}catch(je){typeof console<"u"&&console.error&&console.error(je)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}const Hr=1e3,Xt=2,vt=144e5,fe=.5;function oe(re,ae=Hr,Te=Xt){const je=ae*Math.pow(Te,re),ke=Math.round(fe*je*(Math.random()-.5)*2);return Math.min(vt,je+ke)}function mt(re){return re&&re._delegate?re._delegate:re}},5847:(dn,gt,K)=>{K.d(gt,{i:()=>Be});var p=K(5450),j=K(433),b=K(8256),Se=K(1533);let le=(()=>{class he{constructor(dt){this.firestore=dt,this.coleccionActores=(0,Se.hJ)(this.firestore,"actores")}crearActor(dt){return new Promise((Le,Mt)=>{const Ne=(0,Se.JU)(this.coleccionActores);(0,Se.pl)(Ne,{id:Ne.id,...dt}).then(()=>{Le()}).catch(Ae=>{Mt(Ae)})})}getListadoActores(){const dt=(0,Se.hJ)(this.firestore,"actores");return(0,Se.BS)(dt)}}return he.\u0275fac=function(dt){return new(dt||he)(b.LFG(Se.gg))},he.\u0275prov=b.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();var Ye=K(7185),ut=K(6895),Ve=K(9273),yt=K(5227),ie=K(529);let Ee=(()=>{class he{constructor(dt){this.http=dt}traerPaises(){return this.http.get("https://restcountries.com/v3.1/all")}}return he.\u0275fac=function(dt){return new(dt||he)(b.LFG(ie.eN))},he.\u0275prov=b.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function Qe(he,lt){if(1&he){const dt=b.EpF();b.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"button",3),b.NdJ("click",function(){const Ne=b.CHM(dt).$implicit,Ae=b.oxw();return b.KtG(Ae.emitirPais(Ne.nombre))}),b.TgZ(4,"h5"),b._uU(5),b.qZA(),b._UZ(6,"img",4),b.qZA()()()()}if(2&he){const dt=lt.$implicit;b.xp6(5),b.Oqu(dt.nombre),b.xp6(1),b.Q6J("src",dt.bandera,b.LSH)}}let rt=(()=>{class he{constructor(dt){this.paisService=dt,this.paises=[],this.eventoPaisSeleccionado=new b.vpe}ngOnInit(){this.traerPaises()}traerPaises(){this.paises=[],this.paisService.traerPaises().subscribe(dt=>{for(let Le=0;Le<dt.length;Le++){const Mt=dt[Le];this.paises.push({nombre:Mt.name.common,bandera:Mt.flags.png})}this.paises=this.paises.slice(0,5)})}emitirPais(dt){console.log("pais clickeado "+dt),this.eventoPaisSeleccionado.emit(dt)}}return he.\u0275fac=function(dt){return new(dt||he)(b.Y36(Ee))},he.\u0275cmp=b.Xpm({type:he,selectors:[["app-tabla-paises"]],outputs:{eventoPaisSeleccionado:"eventoPaisSeleccionado"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"mb-3","justify-content-between"],[1,"row"],[1,"btn","btn-primary",3,"click"],[2,"width","10%","position","relative",3,"src"]],template:function(dt,Le){1&dt&&b.YNc(0,Qe,7,2,"div",0),2&dt&&b.Q6J("ngForOf",Le.paises)},dependencies:[ut.sg]}),he})();function He(he,lt){1&he&&(b.TgZ(0,"span",35),b._uU(1,"El nombre es requerido"),b.qZA())}function xt(he,lt){1&he&&(b.TgZ(0,"span",35),b._uU(1,"El nombre es inv\xe1lido"),b.qZA())}function Kt(he,lt){1&he&&(b.TgZ(0,"span",35),b._uU(1,"El apellido es requerido"),b.qZA())}function un(he,lt){1&he&&(b.TgZ(0,"span",35),b._uU(1,"El apellido es inv\xe1lido"),b.qZA())}function Gt(he,lt){1&he&&(b.TgZ(0,"span",35),b._uU(1,"El usurname es requerido"),b.qZA())}function Ot(he,lt){1&he&&(b.TgZ(0,"span",35),b._uU(1,"El email es requerido"),b.qZA())}function Lt(he,lt){1&he&&(b.TgZ(0,"span",35),b._uU(1,"El email es inv\xe1lido"),b.qZA())}function Ke(he,lt){1&he&&(b.TgZ(0,"span",35),b._uU(1,"La direcci\xf3n es requerida"),b.qZA())}function Me(he,lt){1&he&&(b.TgZ(0,"span",35),b._uU(1,"La nacionalidad es requerida"),b.qZA())}let ct=(()=>{class he{constructor(dt,Le){this.actor=dt,this.toastr=Le}ngOnInit(){this.formAltaActor=new j.cw({nombre:new j.NI("",[j.kI.pattern("^[a-zA-Z]+$")]),apellido:new j.NI("",[j.kI.pattern("^[a-zA-Z]+$")]),email:new j.NI("",j.kI.email),nacionalidad:new j.NI("",j.kI.required),direccion:new j.NI("",j.kI.required),username:new j.NI("",j.kI.required)})}enviarForm(){console.log(this.formAltaActor.value),console.log(this.pais)}mostrarPais(dt){this.pais=dt,this.formAltaActor.controls.nacionalidad.setValue(this.pais)}registrar(){console.log("Guardando Actor");const dt={nombre:this.formAltaActor.get("nombre")?.value,apellido:this.formAltaActor.get("apellido")?.value,username:this.formAltaActor.get("username")?.value,email:this.formAltaActor.get("email")?.value,direccion:this.formAltaActor.get("direccion")?.value,nacionalidad:this.formAltaActor.get("nacionalidad")?.value};this.actor.crearActor(dt).then(()=>{this.toastr.success("Actor creado correctamente","Guardado",{timeOut:1e3})}).catch(Le=>{this.toastr.error("Detalle "+Le,"Error")})}}return he.\u0275fac=function(dt){return new(dt||he)(b.Y36(le),b.Y36(Ye._W))},he.\u0275cmp=b.Xpm({type:he,selectors:[["app-alta-actor"]],decls:66,vars:12,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","author","content","Macarena Ferrero"],["role","main"],[1,"container"],[1,"row","mt-10","pt-5"],[1,"col-md-4","order-md-2","mb-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted","mt-5"],[3,"eventoPaisSeleccionado"],[1,"col-md-8","order-md-1"],[1,"display-3","mt-3"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","nombre"],["type","text","id","nombre","placeholder","Nombre","value","","required","","formControlName","nombre",1,"form-control"],["class","text-danger form-floating",4,"ngIf"],["for","apellido"],["type","text","id","apellido","placeholder","Apellido","value","","required","","formControlName","apellido",1,"form-control"],[1,"mb-3"],["for","username"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","id","username","placeholder","Username","required","","formControlName","username",1,"form-control"],["for","email"],["type","email","id","email","placeholder","you@example.com","formControlName","email","required","",1,"form-control"],["for","direccion"],["type","text","id","direccion","placeholder","1234 Main St","required","","formControlName","direccion",1,"form-control"],["for","nacionalidad"],["id","nacionalidad","readonly","","formControlName","nacionalidad",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],[1,"mb-4"],[1,"text-danger","form-floating"]],template:function(dt,Le){if(1&dt&&(b._UZ(0,"router-outlet"),b.TgZ(1,"html",0)(2,"head"),b._UZ(3,"meta",1)(4,"meta",2)(5,"meta",3),b.TgZ(6,"title"),b._uU(7,"Alta Actores"),b.qZA()(),b.TgZ(8,"body")(9,"main",4)(10,"div",5)(11,"div",6)(12,"div",7),b._UZ(13,"app-nav"),b.TgZ(14,"h4",8)(15,"span",9),b._uU(16,"Nacionalidad"),b.qZA()(),b.TgZ(17,"app-tabla-paises",10),b.NdJ("eventoPaisSeleccionado",function(Ne){return Le.mostrarPais(Ne)}),b.qZA()(),b.TgZ(18,"div",11)(19,"h1",12),b._uU(20,"Alta Actor"),b.qZA(),b.TgZ(21,"p"),b._uU(22,"Ingrese la informaci\xf3n solicitada del actor que desea a\xf1adir."),b.qZA(),b.TgZ(23,"form",13),b.NdJ("ngSubmit",function(){return Le.enviarForm()}),b.TgZ(24,"div",14)(25,"div",15)(26,"label",16),b._uU(27,"Nombre"),b.qZA(),b._UZ(28,"input",17),b.YNc(29,He,2,0,"span",18),b.YNc(30,xt,2,0,"span",18),b.qZA(),b.TgZ(31,"div",15)(32,"label",19),b._uU(33,"Apellido"),b.qZA(),b._UZ(34,"input",20),b.YNc(35,Kt,2,0,"span",18),b.YNc(36,un,2,0,"span",18),b.qZA()(),b.TgZ(37,"div",21)(38,"label",22),b._uU(39,"Twitter"),b.qZA(),b.TgZ(40,"div",23)(41,"div",24)(42,"span",25),b._uU(43,"@"),b.qZA()(),b._UZ(44,"input",26),b.qZA(),b.YNc(45,Gt,2,0,"span",18),b.qZA(),b.TgZ(46,"div",21)(47,"label",27),b._uU(48,"Email"),b.qZA(),b._UZ(49,"input",28),b.YNc(50,Ot,2,0,"span",18),b.YNc(51,Lt,2,0,"span",18),b.qZA(),b.TgZ(52,"div",21)(53,"label",29),b._uU(54,"Direcci\xf3n"),b.qZA(),b._UZ(55,"input",30),b.YNc(56,Ke,2,0,"span",18),b.qZA(),b.TgZ(57,"div",21)(58,"label",31),b._uU(59,"Nacionalidad"),b.qZA(),b._UZ(60,"input",32),b.YNc(61,Me,2,0,"span",18),b.qZA(),b.TgZ(62,"button",33),b.NdJ("click",function(){return Le.registrar()}),b._uU(63,"Guardar"),b.qZA(),b._UZ(64,"hr",34),b.qZA()()()()(),b._UZ(65,"app-footer"),b.qZA()()),2&dt){let Mt,Ne,Ae,et,_t,Pe,Ge,Fe,De;b.xp6(23),b.Q6J("formGroup",Le.formAltaActor),b.xp6(6),b.Q6J("ngIf",(null==(Mt=Le.formAltaActor.get("nombre"))?null:Mt.hasError("required"))&&(null==(Mt=Le.formAltaActor.get("nombre"))?null:Mt.touched)),b.xp6(1),b.Q6J("ngIf",null==(Ne=Le.formAltaActor.get("nombre"))?null:Ne.hasError("pattern")),b.xp6(5),b.Q6J("ngIf",(null==(Ae=Le.formAltaActor.get("apellido"))?null:Ae.hasError("required"))&&(null==(Ae=Le.formAltaActor.get("apellido"))?null:Ae.touched)),b.xp6(1),b.Q6J("ngIf",null==(et=Le.formAltaActor.get("apellido"))?null:et.hasError("pattern")),b.xp6(9),b.Q6J("ngIf",(null==(_t=Le.formAltaActor.get("username"))?null:_t.hasError("required"))&&(null==(_t=Le.formAltaActor.get("username"))?null:_t.touched)),b.xp6(5),b.Q6J("ngIf",(null==(Pe=Le.formAltaActor.get("email"))?null:Pe.hasError("required"))&&(null==(Pe=Le.formAltaActor.get("email"))?null:Pe.touched)),b.xp6(1),b.Q6J("ngIf",null==(Ge=Le.formAltaActor.get("email"))?null:Ge.hasError("email")),b.xp6(5),b.Q6J("ngIf",(null==(Fe=Le.formAltaActor.get("direccion"))?null:Fe.hasError("required"))&&(null==(Fe=Le.formAltaActor.get("direccion"))?null:Fe.touched)),b.xp6(4),b.s9C("value",Le.pais),b.xp6(1),b.Q6J("ngIf",(null==(De=Le.formAltaActor.get("nacionalidad"))?null:De.hasError("required"))&&(null==(De=Le.formAltaActor.get("direccion"))?null:De.touched)),b.xp6(1),b.Q6J("disabled",Le.formAltaActor.invalid)}},dependencies:[ut.O5,Ve.r,yt.c,j._Y,j.Fj,j.JJ,j.JL,j.Q7,j.sg,j.u,p.lC,rt]}),he})();const ot=[{path:"",component:ct},{path:"actor/altaActor",component:ct},{path:"actor/listadoActores",component:(()=>{class he{}return he.\u0275fac=function(dt){return new(dt||he)},he.\u0275cmp=b.Xpm({type:he,selectors:[["app-listado-actores"]],decls:17,vars:0,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"]],template:function(dt,Le){1&dt&&(b._UZ(0,"router-outlet"),b.TgZ(1,"html",0)(2,"head"),b._UZ(3,"meta",1)(4,"meta",2),b.TgZ(5,"title"),b._uU(6,"Listado Actores"),b.qZA()(),b.TgZ(7,"body")(8,"main",3),b._UZ(9,"app-nav"),b.TgZ(10,"div",4)(11,"div",5)(12,"h1",6),b._uU(13,"Listado Acores"),b.qZA(),b.TgZ(14,"p"),b._uU(15,"Este es el listado de los actores que protagonizan las pel\xedulas emitidas."),b.qZA()()()(),b._UZ(16,"app-footer"),b.qZA()())},dependencies:[Ve.r,yt.c,p.lC]}),he})()}];let Be=(()=>{class he{}return he.\u0275fac=function(dt){return new(dt||he)},he.\u0275mod=b.oAB({type:he}),he.\u0275inj=b.cJS({imports:[p.Bz.forChild(ot),p.Bz]}),he})()},6533:(dn,gt,K)=>{K.r(gt),K.d(gt,{ActoresModule:()=>Qe});var p=K(6895),j=K(529),b=K(7185),Se=K(4466),le=K(433),Ye=K(5450),ut=K(5847),Ve=K(3692),yt=K(2340),ie=K(1533),Ee=K(8256);let Qe=(()=>{class rt{}return rt.\u0275fac=function(xt){return new(xt||rt)},rt.\u0275mod=Ee.oAB({type:rt}),rt.\u0275inj=Ee.cJS({imports:[p.ez,j.JF,b.Rh,Se.m,le.UX,le.u5,Ye.Bz,ut.i,(0,Ve.hX)(()=>(0,Ve.ZF)(yt.N.firebase)),(0,ie.Cm)(()=>(0,ie.ad)())]}),rt})()},230:(dn,gt,K)=>{K.d(gt,{R:()=>_t});var p=K(5450),j=K(727),b=K(8256),Se=K(1533),le=K(9996);let Ye=(()=>{class Pe{constructor(Fe){this.firestore=Fe,this.coleccionPeliculas=(0,Se.hJ)(this.firestore,"peliculas")}getPeliculas(){return(0,Se.BS)(this.coleccionPeliculas)}deletePelicula(Fe){const De=(0,Se.JU)(this.coleccionPeliculas,Fe);(0,Se.oe)(De)}updatePelicula(Fe){return new Promise((De,st)=>{const pe=(0,Se.JU)(this.coleccionPeliculas,Fe.id);(0,le.r7)(pe,{nombre:Fe.nombre,tipo:Fe.tipo,fechaEstreno:Fe.fechaEstreno,cantidadPublico:Fe.cantidadPublico}).then(()=>{De()}).catch(xe=>{st(xe)})})}}return Pe.\u0275fac=function(Fe){return new(Fe||Pe)(b.LFG(Se.gg))},Pe.\u0275prov=b.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})();var ut=K(7185),Ve=K(6895),yt=K(9273),ie=K(5227);let Ee=(()=>{class Pe{constructor(Fe){this.peliculaAborrar=Fe,this.onPeliculaABorrar=new b.vpe}ngOnInit(){}borrarPelicula(Fe){this.peliculaAborrar.deletePelicula(Fe.id??""),this.onPeliculaABorrar.emit(Fe)}}return Pe.\u0275fac=function(Fe){return new(Fe||Pe)(b.Y36(Ye))},Pe.\u0275cmp=b.Xpm({type:Pe,selectors:[["app-borrar-pelicula"]],inputs:{peliculaMostrar:"peliculaMostrar"},outputs:{onPeliculaABorrar:"onPeliculaABorrar"},decls:6,vars:0,consts:[[1,"btn","btn-outline-danger",3,"click"]],template:function(Fe,De){1&Fe&&(b.TgZ(0,"h2"),b._uU(1,"Borrar pelicula"),b.qZA(),b.TgZ(2,"p"),b._uU(3,"Eliminar pelicula seleccionada."),b.qZA(),b.TgZ(4,"button",0),b.NdJ("click",function(){return De.borrarPelicula(De.peliculaMostrar)}),b._uU(5,"Borrar Pelicula"),b.qZA())}}),Pe})(),Qe=(()=>{class Pe{constructor(){this.onPeliculaAMostrar=new b.vpe}ngOnInit(){}}return Pe.\u0275fac=function(Fe){return new(Fe||Pe)},Pe.\u0275cmp=b.Xpm({type:Pe,selectors:[["app-detalle-pelicula"]],inputs:{peliculaMostrar:"peliculaMostrar"},outputs:{onPeliculaAMostrar:"onPeliculaAMostrar"},decls:14,vars:5,consts:[["width","100px",3,"src"]],template:function(Fe,De){1&Fe&&(b.TgZ(0,"strong")(1,"h3"),b._uU(2),b.qZA()(),b._UZ(3,"img",0)(4,"br")(5,"br"),b.TgZ(6,"span"),b._uU(7),b.qZA(),b._UZ(8,"br")(9,"br"),b.TgZ(10,"p"),b._uU(11),b.qZA(),b.TgZ(12,"p"),b._uU(13),b.qZA()),2&Fe&&(b.xp6(2),b.hij("",De.peliculaMostrar.nombre," "),b.xp6(1),b.Q6J("src",De.peliculaMostrar.fotoPelicula,b.LSH),b.xp6(4),b.hij("Genero: ",De.peliculaMostrar.tipo," "),b.xp6(4),b.hij("Publico: ",De.peliculaMostrar.cantidadPublico," "),b.xp6(2),b.hij("Estreno: ",De.peliculaMostrar.fechaEstreno," "))}}),Pe})();var rt=K(433),He=(()=>{return(Pe=He||(He={})).PelicularTerror="Terror",Pe.PelicularComedia="Comedia",Pe.PelicularAmor="Amor",Pe.PelicularOtros="Otros",He;var Pe})();function xt(Pe,Ge){1&Pe&&(b.TgZ(0,"span",14),b._uU(1,"El nombre es requerido"),b.qZA())}function Kt(Pe,Ge){if(1&Pe&&(b.TgZ(0,"option",15),b._uU(1),b.qZA()),2&Pe){const Fe=Ge.$implicit;b.Q6J("value",Fe),b.xp6(1),b.Oqu(Fe)}}function un(Pe,Ge){1&Pe&&(b.TgZ(0,"span",14),b._uU(1,"El tipo es requerido"),b.qZA())}function Gt(Pe,Ge){1&Pe&&(b.TgZ(0,"span",14),b._uU(1,"La cantidad de p\xfablico es requerida"),b.qZA())}function Ot(Pe,Ge){1&Pe&&(b.TgZ(0,"span",14),b._uU(1,"La fecha de estreno es requerida"),b.qZA())}let Lt=(()=>{class Pe{constructor(Fe,De,st){this.peliculaModificada=Fe,this.toastr=De,this.router=st,this.onPeliculaAModificar=new b.vpe,this.opcionestipos=Object.values(He)}ngOnInit(){this.formModificarPelicula=new rt.cw({nombre:new rt.NI("",[rt.kI.required]),fechaEstreno:new rt.NI("",[rt.kI.required]),cantidadPublico:new rt.NI("",rt.kI.required),tipo:new rt.NI("",rt.kI.required)})}updatePelicula(){console.log("Actualizando pel\xedcula");const Fe={id:this.peliculaMostrar.id,nombre:this.formModificarPelicula.get("nombre")?.value,fechaEstreno:this.formModificarPelicula.get("fechaEstreno")?.value,cantidadPublico:this.formModificarPelicula.get("cantidadPublico")?.value,tipo:this.formModificarPelicula.get("tipo")?.value};this.peliculaModificada.updatePelicula(Fe).then(()=>{this.toastr.success("Pelicula guardada correctamente","Guardado",{timeOut:1e3})}).catch(De=>{this.toastr.error("Detalle "+De,"Error")}),this.router.navigate(["/busqueda"])}}return Pe.\u0275fac=function(Fe){return new(Fe||Pe)(b.Y36(Ye),b.Y36(ut._W),b.Y36(p.F0))},Pe.\u0275cmp=b.Xpm({type:Pe,selectors:[["app-modificar-pelicula"]],inputs:{peliculaMostrar:"peliculaMostrar"},outputs:{onPeliculaAModificar:"onPeliculaAModificar"},decls:31,vars:11,consts:[[3,"formGroup"],[1,"form-group","row"],["for","nombre",1,"col-sm-2","col-form-label"],[1,"col-sm-6"],["type","text","name","nombre","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger form-floating",4,"ngIf"],["for","tipo",1,"col-sm-2","col-form-label"],["name","tipo","formControlName","tipo",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","cantidadPublico",1,"col-sm-2","col-form-label"],["type","number","name","cantidadPublico","formControlName","cantidadPublico",1,"form-control",3,"ngModel","ngModelChange"],["for","fechaEstreno",1,"col-sm-2","col-form-label"],["type","text","name","fechaEstreno","formControlName","fechaEstreno",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-success",3,"disabled","click"],[1,"text-danger","form-floating"],[3,"value"]],template:function(Fe,De){if(1&Fe&&(b.TgZ(0,"h2"),b._uU(1,"Modificar Pelicula"),b.qZA(),b.TgZ(2,"div")(3,"form",0)(4,"div",1)(5,"label",2),b._uU(6,"Nombre"),b.qZA(),b.TgZ(7,"div",3)(8,"input",4),b.NdJ("ngModelChange",function(pe){return De.peliculaMostrar.nombre=pe}),b.qZA(),b.YNc(9,xt,2,0,"span",5),b.qZA()(),b.TgZ(10,"div",1)(11,"label",6),b._uU(12,"G\xe9nero"),b.qZA(),b.TgZ(13,"div",3)(14,"select",7),b.NdJ("ngModelChange",function(pe){return De.peliculaMostrar.tipo=pe}),b.YNc(15,Kt,2,2,"option",8),b.qZA(),b.YNc(16,un,2,0,"span",5),b.qZA()(),b.TgZ(17,"div",1)(18,"label",9),b._uU(19,"Publico"),b.qZA(),b.TgZ(20,"div",3)(21,"input",10),b.NdJ("ngModelChange",function(pe){return De.peliculaMostrar.cantidadPublico=pe}),b.qZA(),b.YNc(22,Gt,2,0,"span",5),b.qZA()(),b.TgZ(23,"div",1)(24,"label",11),b._uU(25,"Estreno"),b.qZA(),b.TgZ(26,"div",3)(27,"input",12),b.NdJ("ngModelChange",function(pe){return De.peliculaMostrar.fechaEstreno=pe}),b.qZA(),b.YNc(28,Ot,2,0,"span",5),b.qZA()(),b.TgZ(29,"button",13),b.NdJ("click",function(){return De.updatePelicula()}),b._uU(30,"Guardar"),b.qZA()()()),2&Fe){let st,pe,xe,ht;b.xp6(3),b.Q6J("formGroup",De.formModificarPelicula),b.xp6(5),b.Q6J("ngModel",De.peliculaMostrar.nombre),b.xp6(1),b.Q6J("ngIf",(null==(st=De.formModificarPelicula.get("nombre"))?null:st.hasError("required"))&&(null==(st=De.formModificarPelicula.get("nombre"))?null:st.touched)),b.xp6(5),b.Q6J("ngModel",De.peliculaMostrar.tipo),b.xp6(1),b.Q6J("ngForOf",De.opcionestipos),b.xp6(1),b.Q6J("ngIf",(null==(pe=De.formModificarPelicula.get("tipo"))?null:pe.hasError("required"))&&(null==(pe=De.formModificarPelicula.get("tipo"))?null:pe.touched)),b.xp6(5),b.Q6J("ngModel",De.peliculaMostrar.cantidadPublico),b.xp6(1),b.Q6J("ngIf",(null==(xe=De.formModificarPelicula.get("cantidadPublico"))?null:xe.hasError("required"))&&(null==(xe=De.formModificarPelicula.get("cantidadPublico"))?null:xe.touched)),b.xp6(5),b.Q6J("ngModel",De.peliculaMostrar.fechaEstreno),b.xp6(1),b.Q6J("ngIf",(null==(ht=De.formModificarPelicula.get("fechaEstreno"))?null:ht.hasError("required"))&&(null==(ht=De.formModificarPelicula.get("fechaEstreno"))?null:ht.touched)),b.xp6(1),b.Q6J("disabled",De.formModificarPelicula.invalid)}},dependencies:[Ve.sg,Ve.O5,rt._Y,rt.YN,rt.Kr,rt.Fj,rt.wV,rt.EJ,rt.JJ,rt.JL,rt.sg,rt.u]}),Pe})();function Ke(Pe,Ge){if(1&Pe){const Fe=b.EpF();b.TgZ(0,"tr",3),b.NdJ("click",function(){const pe=b.CHM(Fe).$implicit,xe=b.oxw();return b.KtG(xe.onPeliculaSeleccionada(pe))}),b.TgZ(1,"td"),b._uU(2),b.qZA(),b.TgZ(3,"td"),b._uU(4),b.qZA(),b.TgZ(5,"td"),b._uU(6),b.qZA(),b.TgZ(7,"td"),b._uU(8),b.qZA(),b.TgZ(9,"td"),b._UZ(10,"img",4),b.qZA(),b.TgZ(11,"td")(12,"button",5),b._uU(13,"Seleccionar"),b.qZA()()()}if(2&Pe){const Fe=Ge.$implicit;b.xp6(2),b.Oqu(Fe.nombre),b.xp6(2),b.Oqu(Fe.tipo),b.xp6(2),b.Oqu(Fe.fechaEstreno),b.xp6(2),b.Oqu(Fe.cantidadPublico),b.xp6(2),b.Q6J("src",Fe.fotoPelicula,b.LSH)}}let Me=(()=>{class Pe{constructor(){this.listadoPeliculas=[],this.peliculaSeleccionada=new b.vpe}onPeliculaSeleccionada(Fe){this.peliculaSeleccionada.emit(Fe),console.log(Fe.nombre)}ngOnInit(){}}return Pe.\u0275fac=function(Fe){return new(Fe||Pe)},Pe.\u0275cmp=b.Xpm({type:Pe,selectors:[["app-tabla-pelicula"]],inputs:{listadoPeliculas:"listadoPeliculas"},outputs:{peliculaSeleccionada:"peliculaSeleccionada"},decls:15,vars:1,consts:[[1,"table","table-striped"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["width","80px",3,"src"],[1,"btn","btn-dark"]],template:function(Fe,De){1&Fe&&(b.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),b._uU(4,"Nombre"),b.qZA(),b.TgZ(5,"th",1),b._uU(6,"Tipo"),b.qZA(),b.TgZ(7,"th",1),b._uU(8,"Estreno"),b.qZA(),b.TgZ(9,"th",1),b._uU(10,"Vistas"),b.qZA(),b.TgZ(11,"th",1),b._uU(12,"Foto"),b.qZA()()(),b.TgZ(13,"tbody"),b.YNc(14,Ke,14,5,"tr",2),b.qZA()()),2&Fe&&(b.xp6(14),b.Q6J("ngForOf",De.listadoPeliculas))},dependencies:[Ve.sg]}),Pe})();function ct(Pe,Ge){if(1&Pe&&b._UZ(0,"app-detalle-pelicula",15),2&Pe){const Fe=b.oxw();b.Q6J("peliculaMostrar",Fe.peliculaMostrar)}}function kt(Pe,Ge){if(1&Pe){const Fe=b.EpF();b.TgZ(0,"app-modificar-pelicula",16),b.NdJ("onPeliculaAModificar",function(st){b.CHM(Fe);const pe=b.oxw();return b.KtG(pe.modificarPelicula(st))}),b.qZA()}if(2&Pe){const Fe=b.oxw();b.Q6J("peliculaMostrar",Fe.peliculaMostrar)}}function ot(Pe,Ge){if(1&Pe){const Fe=b.EpF();b.TgZ(0,"app-borrar-pelicula",17),b.NdJ("onPeliculaABorrar",function(st){b.CHM(Fe);const pe=b.oxw();return b.KtG(pe.borrarPelicula(st))}),b.qZA()}if(2&Pe){const Fe=b.oxw();b.Q6J("peliculaMostrar",Fe.peliculaMostrar)}}function lt(Pe,Ge){1&Pe&&(b.TgZ(0,"span",26),b._uU(1,"El nombre es requerido"),b.qZA())}function dt(Pe,Ge){if(1&Pe&&(b.TgZ(0,"option",27),b._uU(1),b.qZA()),2&Pe){const Fe=Ge.$implicit;b.Q6J("value",Fe),b.xp6(1),b.hij("",Fe," ")}}function Le(Pe,Ge){1&Pe&&(b.TgZ(0,"span",26),b._uU(1,"El tipo es requerido"),b.qZA())}function Mt(Pe,Ge){1&Pe&&(b.TgZ(0,"span",26),b._uU(1,"La cantidad de p\xfablico es requerida"),b.qZA())}function Ne(Pe,Ge){1&Pe&&(b.TgZ(0,"span",26),b._uU(1,"La fecha de estreno es requerida"),b.qZA())}const et=[{path:"",component:(()=>{class Pe{mostrarPelicula(Fe){this.peliculaMostrar=Fe,this.hayPeliculaAmostrar=!0}constructor(Fe,De){this.actor=Fe,this.toastr=De,this.peliculas=[],this.suscripcion=new j.w0,this.hayPeliculaAmostrar=!1,this.borrarPelicula=st=>{const pe=this.peliculas.filter(xe=>xe.id!==st.id);this.peliculas=pe,this.hayPeliculaAmostrar=!1},this.modificarPelicula=st=>{const pe=this.peliculas.map(xe=>xe);this.peliculas=pe,this.hayPeliculaAmostrar=!1}}getPeliculas(){this.suscripcion=this.actor.getPeliculas().subscribe(Fe=>{this.peliculas=[],Fe.forEach(De=>{this.peliculas.push({...De})})}),this.hayPeliculaAmostrar=!1,this.peliculaMostrar=void 0,this.toastr.success("Peliculas cargadas correctamente","Cargado",{timeOut:1e3})}ngOnInit(){this.getPeliculas()}ngOnDestroy(){this.suscripcion.unsubscribe()}}return Pe.\u0275fac=function(Fe){return new(Fe||Pe)(b.Y36(Ye),b.Y36(ut._W))},Pe.\u0275cmp=b.Xpm({type:Pe,selectors:[["app-busqueda"]],decls:27,vars:4,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],[3,"listadoPeliculas","peliculaSeleccionada"],[1,"row"],[1,"col-md-4"],[3,"peliculaMostrar",4,"ngIf"],[1,"col-md-6"],[3,"peliculaMostrar","onPeliculaAModificar",4,"ngIf"],[1,"col-md-2"],[3,"peliculaMostrar","onPeliculaABorrar",4,"ngIf"],[3,"peliculaMostrar"],[3,"peliculaMostrar","onPeliculaAModificar"],[3,"peliculaMostrar","onPeliculaABorrar"]],template:function(Fe,De){1&Fe&&(b._UZ(0,"router-outlet"),b.TgZ(1,"html",0)(2,"head"),b._UZ(3,"meta",1)(4,"meta",2),b.TgZ(5,"title"),b._uU(6,"Tabla Peliculas"),b.qZA()(),b.TgZ(7,"body")(8,"main",3),b._UZ(9,"app-nav"),b.TgZ(10,"div",4)(11,"div",5)(12,"h1",6),b._uU(13,"Peliculas"),b.qZA(),b.TgZ(14,"p"),b._uU(15,"Selecciona la pelicula que quieres ver, editar o borrar"),b.qZA(),b.TgZ(16,"app-tabla-pelicula",7),b.NdJ("peliculaSeleccionada",function(pe){return De.mostrarPelicula(pe)}),b.qZA()()(),b.TgZ(17,"div",5)(18,"div",8)(19,"div",9),b.YNc(20,ct,1,1,"app-detalle-pelicula",10),b.qZA(),b.TgZ(21,"div",11),b.YNc(22,kt,1,1,"app-modificar-pelicula",12),b.qZA(),b.TgZ(23,"div",13),b.YNc(24,ot,1,1,"app-borrar-pelicula",14),b.qZA()(),b._UZ(25,"hr"),b.qZA()(),b._UZ(26,"app-footer"),b.qZA()()),2&Fe&&(b.xp6(16),b.Q6J("listadoPeliculas",De.peliculas),b.xp6(4),b.Q6J("ngIf",De.hayPeliculaAmostrar),b.xp6(2),b.Q6J("ngIf",De.hayPeliculaAmostrar),b.xp6(2),b.Q6J("ngIf",De.hayPeliculaAmostrar))},dependencies:[Ve.O5,yt.r,ie.c,p.lC,Ee,Qe,Lt,Me]}),Pe})()},{path:"pelicula/listadoPeliculas",component:(()=>{class Pe{}return Pe.\u0275fac=function(Fe){return new(Fe||Pe)},Pe.\u0275cmp=b.Xpm({type:Pe,selectors:[["app-listado-peliculas"]],decls:17,vars:0,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"]],template:function(Fe,De){1&Fe&&(b._UZ(0,"router-outlet"),b.TgZ(1,"html",0)(2,"head"),b._UZ(3,"meta",1)(4,"meta",2),b.TgZ(5,"title"),b._uU(6,"Listado Pel\xedculas"),b.qZA()(),b.TgZ(7,"body")(8,"main",3),b._UZ(9,"app-nav"),b.TgZ(10,"div",4)(11,"div",5)(12,"h1",6),b._uU(13,"Listado Pel\xedculas"),b.qZA(),b.TgZ(14,"p"),b._uU(15,"Este es el listado de pel\xedculas"),b.qZA()()()(),b._UZ(16,"app-footer"),b.qZA()())},dependencies:[yt.r,ie.c,p.lC]}),Pe})()},{path:"pelicula/altaPelicula",component:(()=>{class Pe{constructor(){this.opcionestipos=Object.values(He)}ngOnInit(){this.formAltaPelicula=new rt.cw({nombre:new rt.NI("",[rt.kI.required]),fechaEstreno:new rt.NI("",[rt.kI.required]),tipo:new rt.NI("",rt.kI.required),cantidadPublico:new rt.NI("",rt.kI.required)})}}return Pe.\u0275fac=function(Fe){return new(Fe||Pe)},Pe.\u0275cmp=b.Xpm({type:Pe,selectors:[["app-alta-pelicula"]],decls:48,vars:7,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","author","content","Macarena Ferrero"],["role","main"],[1,"container"],[1,"row","mt-10","pt-5"],[1,"col-md-4","order-md-2","mb-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted","mt-5"],[1,"col-md-8","order-md-1"],[1,"display-3","mt-3"],[3,"formGroup"],[1,"mb-3"],["for","nombre"],["type","text","id","nombre","placeholder","Nombre","value","","required","","formControlName","nombre",1,"form-control"],["class","text-danger form-floating",4,"ngIf"],["for","tipo"],["name","tipo","formControlName","tipo",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","cantidadPublico"],["type","number","name","cantidadPublico","placeholder","0","formControlName","cantidadPublico",1,"form-control"],["for","fechaEstreno"],["type","text","name","fechaEstreno","placeholder","12/11/1992","formControlName","fechaEstreno",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"],[1,"mb-4"],[1,"text-danger","form-floating"],[3,"value"]],template:function(Fe,De){if(1&Fe&&(b._UZ(0,"router-outlet"),b.TgZ(1,"html",0)(2,"head"),b._UZ(3,"meta",1)(4,"meta",2)(5,"meta",3),b.TgZ(6,"title"),b._uU(7,"Alta Pelicula"),b.qZA()(),b.TgZ(8,"body")(9,"main",4)(10,"div",5)(11,"div",6)(12,"div",7),b._UZ(13,"app-nav"),b.TgZ(14,"h4",8)(15,"span",9),b._uU(16,"Actor"),b.qZA()()(),b.TgZ(17,"div",10)(18,"h1",11),b._uU(19,"Alta Pelicula"),b.qZA(),b.TgZ(20,"p"),b._uU(21,"Ingrese la informaci\xf3n solicitada de la pel\xedcula que desea agregar."),b.qZA(),b.TgZ(22,"form",12)(23,"div",13)(24,"label",14),b._uU(25,"Nombre"),b.qZA(),b._UZ(26,"input",15),b.YNc(27,lt,2,0,"span",16),b.qZA(),b.TgZ(28,"div",13)(29,"label",17),b._uU(30,"G\xe9nero"),b.qZA(),b.TgZ(31,"select",18),b.YNc(32,dt,2,2,"option",19),b.qZA(),b.YNc(33,Le,2,0,"span",16),b.qZA(),b.TgZ(34,"div",13)(35,"label",20),b._uU(36,"Publico"),b.qZA(),b._UZ(37,"input",21),b.YNc(38,Mt,2,0,"span",16),b.qZA(),b.TgZ(39,"div",13)(40,"label",22),b._uU(41,"Estreno"),b.qZA(),b._UZ(42,"input",23),b.YNc(43,Ne,2,0,"span",16),b.qZA(),b.TgZ(44,"button",24),b._uU(45,"Guardar"),b.qZA(),b._UZ(46,"hr",25),b.qZA()()()()(),b._UZ(47,"app-footer"),b.qZA()()),2&Fe){let st,pe,xe,ht;b.xp6(22),b.Q6J("formGroup",De.formAltaPelicula),b.xp6(5),b.Q6J("ngIf",(null==(st=De.formAltaPelicula.get("nombre"))?null:st.hasError("required"))&&(null==(st=De.formAltaPelicula.get("nombre"))?null:st.touched)),b.xp6(5),b.Q6J("ngForOf",De.opcionestipos),b.xp6(1),b.Q6J("ngIf",(null==(pe=De.formAltaPelicula.get("tipo"))?null:pe.hasError("required"))&&(null==(pe=De.formAltaPelicula.get("tipo"))?null:pe.touched)),b.xp6(5),b.Q6J("ngIf",(null==(xe=De.formAltaPelicula.get("cantidadPublico"))?null:xe.hasError("required"))&&(null==(xe=De.formAltaPelicula.get("cantidadPublico"))?null:xe.touched)),b.xp6(5),b.Q6J("ngIf",(null==(ht=De.formAltaPelicula.get("fechaEstreno"))?null:ht.hasError("required"))&&(null==(ht=De.formAltaPelicula.get("fechaEstreno"))?null:ht.touched)),b.xp6(1),b.Q6J("disabled",De.formAltaPelicula.invalid)}},dependencies:[Ve.sg,Ve.O5,yt.r,ie.c,rt._Y,rt.YN,rt.Kr,rt.Fj,rt.wV,rt.EJ,rt.JJ,rt.JL,rt.Q7,rt.sg,rt.u,p.lC]}),Pe})()}];let _t=(()=>{class Pe{}return Pe.\u0275fac=function(Fe){return new(Fe||Pe)},Pe.\u0275mod=b.oAB({type:Pe}),Pe.\u0275inj=b.cJS({imports:[p.Bz.forChild(et),p.Bz]}),Pe})()},4192:(dn,gt,K)=>{K.r(gt),K.d(gt,{PeliculasModule:()=>Qe});var p=K(6895),j=K(529),b=K(7185),Se=K(4466),le=K(433),Ye=K(5450),ut=K(230),Ve=K(3692),yt=K(2340),ie=K(1533),Ee=K(8256);let Qe=(()=>{class rt{}return rt.\u0275fac=function(xt){return new(xt||rt)},rt.\u0275mod=Ee.oAB({type:rt}),rt.\u0275inj=Ee.cJS({imports:[p.ez,j.JF,b.Rh,Se.m,le.u5,le.UX,Ye.Bz,ut.R,(0,Ve.hX)(()=>(0,Ve.ZF)(yt.N.firebase)),(0,ie.Cm)(()=>(0,ie.ad)())]}),rt})()},5227:(dn,gt,K)=>{K.d(gt,{c:()=>j});var p=K(8256);let j=(()=>{class b{constructor(){}ngOnInit(){}}return b.\u0275fac=function(le){return new(le||b)},b.\u0275cmp=p.Xpm({type:b,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"container"]],template:function(le,Ye){1&le&&(p.TgZ(0,"footer",0)(1,"p"),p._uU(2,"\xa9 Ferrero Macarena 2023"),p.qZA()())}}),b})()},9273:(dn,gt,K)=>{K.d(gt,{r:()=>b});var p=K(8256),j=K(5450);let b=(()=>{class Se{constructor(){}ngOnInit(){}}return Se.\u0275fac=function(Ye){return new(Ye||Se)},Se.\u0275cmp=p.Xpm({type:Se,selectors:[["app-nav"]],decls:23,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark","navigate"],["routerLink","/bienvenido",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","/busqueda",1,"nav-link"],[1,"sr-only"],["routerLink","/pelicula/listadoPeliculas",1,"nav-link"],[1,"nav-item"],["routerLink","/pelicula/altaPelicula",1,"nav-link"],["routerLink","/actor/altaActor","tabindex","-1",1,"nav-link"]],template:function(Ye,ut){1&Ye&&(p.TgZ(0,"nav",0)(1,"a",1),p._uU(2,"Home"),p.qZA(),p.TgZ(3,"button",2),p._UZ(4,"span",3),p.qZA(),p.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),p._uU(9,"Busqueda "),p.TgZ(10,"span",8),p._uU(11,"(current)"),p.qZA()()(),p.TgZ(12,"li",6)(13,"a",9),p._uU(14,"Listado Peliculas "),p.TgZ(15,"span",8),p._uU(16,"(current)"),p.qZA()()(),p.TgZ(17,"li",10)(18,"a",11),p._uU(19,"Alta pelicula"),p.qZA()(),p.TgZ(20,"li",10)(21,"a",12),p._uU(22,"Alta actor"),p.qZA()()()()())},dependencies:[j.rH],styles:[".navigate[_ngcontent-%COMP%]{line-height:1.5}"]}),Se})()},4466:(dn,gt,K)=>{K.d(gt,{m:()=>Se});var p=K(6895),j=K(5450),b=K(8256);let Se=(()=>{class le{}return le.\u0275fac=function(ut){return new(ut||le)},le.\u0275mod=b.oAB({type:le}),le.\u0275inj=b.cJS({imports:[p.ez,j.Bz]}),le})()},2340:(dn,gt,K)=>{K.d(gt,{N:()=>p});const p={firebase:{projectId:"primerparcialferrero",appId:"1:868285650537:web:9213cf8bad428e1426b4f8",storageBucket:"primerparcialferrero.appspot.com",apiKey:"AIzaSyBRH5eUOfRbraw3CtAOHWOsfPt8DR_yeKk",authDomain:"primerparcialferrero.firebaseapp.com",messagingSenderId:"868285650537"},production:!0,apiKey:"AIzaSyBRH5eUOfRbraw3CtAOHWOsfPt8DR_yeKk",authDomain:"primerparcialferrero.firebaseapp.com",projectId:"primerparcialferrero",storageBucket:"primerparcialferrero.appspot.com",messagingSenderId:"868285650537",appId:"1:868285650537:web:9213cf8bad428e1426b4f8"}},8520:(dn,gt,K)=>{var p=K(1481),j=K(8256),b=K(5450),Se=K(6533),le=K(4192),Ye=K(9273),ut=K(5227);const yt=[{path:"bienvenido",component:(()=>{class G{}return G.\u0275fac=function(T){return new(T||G)},G.\u0275cmp=j.Xpm({type:G,selectors:[["app-home"]],decls:19,vars:0,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"]],template:function(T,N){1&T&&(j._UZ(0,"router-outlet"),j.TgZ(1,"html",0)(2,"head"),j._UZ(3,"meta",1)(4,"meta",2),j.TgZ(5,"title"),j._uU(6,"Peliculas/actores"),j.qZA()(),j.TgZ(7,"body")(8,"main",3),j._UZ(9,"app-nav"),j.TgZ(10,"div",4)(11,"div",5)(12,"h1",6),j._uU(13,"Bienvenidx"),j.qZA(),j.TgZ(14,"p"),j._uU(15,"Aqu\xed podr\xe1 ver las peliculas m\xe1s taquelleras de los \xfaltimos tiempos junto con sus actores principales."),j._UZ(16,"br"),j._uU(17," Todos los datos son reales y est\xe1n actualizados al d\xeda de la fecha gracias a usuarios como usted. "),j.qZA()()()(),j._UZ(18,"app-footer"),j.qZA()())},dependencies:[b.lC,Ye.r,ut.c]}),G})()},{path:"busqueda",loadChildren:()=>Promise.resolve().then(K.bind(K,4192)).then(G=>le.PeliculasModule)},{path:"altaActor",loadChildren:()=>Promise.resolve().then(K.bind(K,6533)).then(G=>Se.ActoresModule)},{path:"",redirectTo:"/bienvenido",pathMatch:"full"}];let ie=(()=>{class G{}return G.\u0275fac=function(T){return new(T||G)},G.\u0275mod=j.oAB({type:G}),G.\u0275inj=j.cJS({imports:[b.Bz.forRoot(yt),b.Bz]}),G})();var Ee=K(529);let Qe=(()=>{class G{constructor(){this.title="ParcialFerrero"}ngOnInit(){}gnOnDestroy(){}}return G.\u0275fac=function(T){return new(T||G)},G.\u0275cmp=j.Xpm({type:G,selectors:[["app-root"]],decls:1,vars:0,template:function(T,N){1&T&&j._UZ(0,"router-outlet")},dependencies:[b.lC]}),G})();var rt=K(433),He=K(3692),xt=K(2340),Kt=K(1533),un=K(4466),Gt=K(7185),Ot=K(7340);function Ke(G){return new j.vHH(3e3,!1)}function Qr(){return typeof window<"u"&&typeof window.document<"u"}function Nr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function jn(G){switch(G.length){case 0:return new Ot.ZN;case 1:return G[0];default:return new Ot.ZE(G)}}function ii(G,E,T,N,q=new Map,te=new Map){const ye=[],Ie=[];let de=-1,Je=null;if(N.forEach(Pt=>{const rn=Pt.get("offset"),It=rn==de,At=It&&Je||new Map;Pt.forEach((yn,at)=>{let Ue=at,D=yn;if("offset"!==at)switch(Ue=E.normalizePropertyName(Ue,ye),D){case Ot.k1:D=q.get(at);break;case Ot.l3:D=te.get(at);break;default:D=E.normalizeStyleValue(at,Ue,D,ye)}At.set(Ue,D)}),It||Ie.push(At),Je=At,de=rn}),ye.length)throw function Ln(G){return new j.vHH(3502,!1)}();return Ie}function Fn(G,E,T,N){switch(E){case"start":G.onStart(()=>N(T&&bt(T,"start",G)));break;case"done":G.onDone(()=>N(T&&bt(T,"done",G)));break;case"destroy":G.onDestroy(()=>N(T&&bt(T,"destroy",G)))}}function bt(G,E,T){const te=Vt(G.element,G.triggerName,G.fromState,G.toState,E||G.phaseName,T.totalTime??G.totalTime,!!T.disabled),ye=G._data;return null!=ye&&(te._data=ye),te}function Vt(G,E,T,N,q="",te=0,ye){return{element:G,triggerName:E,fromState:T,toState:N,phaseName:q,totalTime:te,disabled:!!ye}}function Tn(G,E,T){let N=G.get(E);return N||G.set(E,N=T),N}function In(G){const E=G.indexOf(":");return[G.substring(1,E),G.slice(E+1)]}let er=(G,E)=>!1,si=(G,E,T)=>[],Vn=null;function bs(G){const E=G.parentNode||G.host;return E===Vn?null:E}(Nr()||typeof Element<"u")&&(Qr()?(Vn=(()=>document.documentElement)(),er=(G,E)=>{for(;E;){if(E===G)return!0;E=bs(E)}return!1}):er=(G,E)=>G.contains(E),si=(G,E,T)=>{if(T)return Array.from(G.querySelectorAll(E));const N=G.querySelector(E);return N?[N]:[]});let Rn=null,Ci=!1;const fe=er,oe=si;let it=(()=>{class G{validateStyleProperty(T){return function Hr(G){Rn||(Rn=function vt(){return typeof document<"u"?document.body:null}()||{},Ci=!!Rn.style&&"WebkitAppearance"in Rn.style);let E=!0;return Rn.style&&!function Gi(G){return"ebkit"==G.substring(1,6)}(G)&&(E=G in Rn.style,!E&&Ci&&(E="Webkit"+G.charAt(0).toUpperCase()+G.slice(1)in Rn.style)),E}(T)}matchesElement(T,N){return!1}containsElement(T,N){return fe(T,N)}getParentElement(T){return bs(T)}query(T,N,q){return oe(T,N,q)}computeStyle(T,N,q){return q||""}animate(T,N,q,te,ye,Ie=[],de){return new Ot.ZN(q,te)}}return G.\u0275fac=function(T){return new(T||G)},G.\u0275prov=j.Yz7({token:G,factory:G.\u0275fac}),G})(),mt=(()=>{class G{}return G.NOOP=new it,G})();const re=1e3,je="ng-enter",ke="ng-leave",zt="ng-trigger",we=".ng-trigger",me="ng-animating",ne=".ng-animating";function _e(G){if("number"==typeof G)return G;const E=G.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:tt(parseFloat(E[1]),E[2])}function tt(G,E){return"s"===E?G*re:G}function Ct(G,E,T){return G.hasOwnProperty("duration")?G:function Yt(G,E,T){let q,te=0,ye="";if("string"==typeof G){const Ie=G.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ie)return E.push(Ke()),{duration:0,delay:0,easing:""};q=tt(parseFloat(Ie[1]),Ie[2]);const de=Ie[3];null!=de&&(te=tt(parseFloat(de),Ie[4]));const Je=Ie[5];Je&&(ye=Je)}else q=G;if(!T){let Ie=!1,de=E.length;q<0&&(E.push(function Me(){return new j.vHH(3100,!1)}()),Ie=!0),te<0&&(E.push(function ct(){return new j.vHH(3101,!1)}()),Ie=!0),Ie&&E.splice(de,0,Ke())}return{duration:q,delay:te,easing:ye}}(G,E,T)}function en(G,E={}){return Object.keys(G).forEach(T=>{E[T]=G[T]}),E}function br(G){const E=new Map;return Object.keys(G).forEach(T=>{E.set(T,G[T])}),E}function mi(G,E=new Map,T){if(T)for(let[N,q]of T)E.set(N,q);for(let[N,q]of G)E.set(N,q);return E}function yi(G,E,T){return T?E+":"+T+";":""}function Fi(G){let E="";for(let T=0;T<G.style.length;T++){const N=G.style.item(T);E+=yi(0,N,G.style.getPropertyValue(N))}for(const T in G.style)G.style.hasOwnProperty(T)&&!T.startsWith("_")&&(E+=yi(0,Bn(T),G.style[T]));G.setAttribute("style",E)}function _i(G,E,T){G.style&&(E.forEach((N,q)=>{const te=Ss(q);T&&!T.has(q)&&T.set(q,G.style[te]),G.style[te]=N}),Nr()&&Fi(G))}function zi(G,E){G.style&&(E.forEach((T,N)=>{const q=Ss(N);G.style[q]=""}),Nr()&&Fi(G))}function fi(G){return Array.isArray(G)?1==G.length?G[0]:(0,Ot.vP)(G):G}const Li=new RegExp("{{\\s*(.+?)\\s*}}","g");function vi(G){let E=[];if("string"==typeof G){let T;for(;T=Li.exec(G);)E.push(T[1]);Li.lastIndex=0}return E}function Cs(G,E,T){const N=G.toString(),q=N.replace(Li,(te,ye)=>{let Ie=E[ye];return null==Ie&&(T.push(function ot(G){return new j.vHH(3003,!1)}()),Ie=""),Ie.toString()});return q==N?G:q}function As(G){const E=[];let T=G.next();for(;!T.done;)E.push(T.value),T=G.next();return E}const Gr=/-+([a-z0-9])/g;function Ss(G){return G.replace(Gr,(...E)=>E[1].toUpperCase())}function Bn(G){return G.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tr(G,E,T){switch(E.type){case 7:return G.visitTrigger(E,T);case 0:return G.visitState(E,T);case 1:return G.visitTransition(E,T);case 2:return G.visitSequence(E,T);case 3:return G.visitGroup(E,T);case 4:return G.visitAnimate(E,T);case 5:return G.visitKeyframes(E,T);case 6:return G.visitStyle(E,T);case 8:return G.visitReference(E,T);case 9:return G.visitAnimateChild(E,T);case 10:return G.visitAnimateRef(E,T);case 11:return G.visitQuery(E,T);case 12:return G.visitStagger(E,T);default:throw function Be(G){return new j.vHH(3004,!1)}()}}function Mr(G,E){return window.getComputedStyle(G)[E]}const cr="*";function Vi(G,E){const T=[];return"string"==typeof G?G.split(/\s*,\s*/).forEach(N=>function mr(G,E,T){if(":"==G[0]){const de=function is(G,E){switch(G){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(T,N)=>parseFloat(N)>parseFloat(T);case":decrement":return(T,N)=>parseFloat(N)<parseFloat(T);default:return E.push(function pe(G){return new j.vHH(3016,!1)}()),"* => *"}}(G,T);if("function"==typeof de)return void E.push(de);G=de}const N=G.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return T.push(function st(G){return new j.vHH(3015,!1)}()),E;const q=N[1],te=N[2],ye=N[3];E.push(Ei(q,ye));"<"==te[0]&&!(q==cr&&ye==cr)&&E.push(Ei(ye,q))}(N,T,E)):T.push(G),T}const yr=new Set(["true","1"]),Ps=new Set(["false","0"]);function Ei(G,E){const T=yr.has(G)||Ps.has(G),N=yr.has(E)||Ps.has(E);return(q,te)=>{let ye=G==cr||G==q,Ie=E==cr||E==te;return!ye&&T&&"boolean"==typeof q&&(ye=q?yr.has(G):Ps.has(G)),!Ie&&N&&"boolean"==typeof te&&(Ie=te?yr.has(E):Ps.has(E)),ye&&Ie}}const ho=new RegExp("s*:selfs*,?","g");function Wi(G,E,T,N){return new kr(G).build(E,T,N)}class kr{constructor(E){this._driver=E}build(E,T,N){const q=new ss(T);return this._resetContextStyleTimingState(q),tr(this,fi(E),q)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,T){let N=T.queryCount=0,q=T.depCount=0;const te=[],ye=[];return"@"==E.name.charAt(0)&&T.errors.push(function lt(){return new j.vHH(3006,!1)}()),E.definitions.forEach(Ie=>{if(this._resetContextStyleTimingState(T),0==Ie.type){const de=Ie,Je=de.name;Je.toString().split(/\s*,\s*/).forEach(Pt=>{de.name=Pt,te.push(this.visitState(de,T))}),de.name=Je}else if(1==Ie.type){const de=this.visitTransition(Ie,T);N+=de.queryCount,q+=de.depCount,ye.push(de)}else T.errors.push(function dt(){return new j.vHH(3007,!1)}())}),{type:7,name:E.name,states:te,transitions:ye,queryCount:N,depCount:q,options:null}}visitState(E,T){const N=this.visitStyle(E.styles,T),q=E.options&&E.options.params||null;if(N.containsDynamicStyles){const te=new Set,ye=q||{};N.styles.forEach(Ie=>{Ie instanceof Map&&Ie.forEach(de=>{vi(de).forEach(Je=>{ye.hasOwnProperty(Je)||te.add(Je)})})}),te.size&&(As(te.values()),T.errors.push(function Le(G,E){return new j.vHH(3008,!1)}()))}return{type:0,name:E.name,style:N,options:q?{params:q}:null}}visitTransition(E,T){T.queryCount=0,T.depCount=0;const N=tr(this,fi(E.animation),T);return{type:1,matchers:Vi(E.expr,T.errors),animation:N,queryCount:T.queryCount,depCount:T.depCount,options:Ui(E.options)}}visitSequence(E,T){return{type:2,steps:E.steps.map(N=>tr(this,N,T)),options:Ui(E.options)}}visitGroup(E,T){const N=T.currentTime;let q=0;const te=E.steps.map(ye=>{T.currentTime=N;const Ie=tr(this,ye,T);return q=Math.max(q,T.currentTime),Ie});return T.currentTime=q,{type:3,steps:te,options:Ui(E.options)}}visitAnimate(E,T){const N=function Fr(G,E){if(G.hasOwnProperty("duration"))return G;if("number"==typeof G)return nr(Ct(G,E).duration,0,"");const T=G;if(T.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=nr(0,0,"");return te.dynamic=!0,te.strValue=T,te}const q=Ct(T,E);return nr(q.duration,q.delay,q.easing)}(E.timings,T.errors);T.currentAnimateTimings=N;let q,te=E.styles?E.styles:(0,Ot.oB)({});if(5==te.type)q=this.visitKeyframes(te,T);else{let ye=E.styles,Ie=!1;if(!ye){Ie=!0;const Je={};N.easing&&(Je.easing=N.easing),ye=(0,Ot.oB)(Je)}T.currentTime+=N.duration+N.delay;const de=this.visitStyle(ye,T);de.isEmptyStep=Ie,q=de}return T.currentAnimateTimings=null,{type:4,timings:N,style:q,options:null}}visitStyle(E,T){const N=this._makeStyleAst(E,T);return this._validateStyleAst(N,T),N}_makeStyleAst(E,T){const N=[],q=Array.isArray(E.styles)?E.styles:[E.styles];for(let Ie of q)"string"==typeof Ie?Ie===Ot.l3?N.push(Ie):T.errors.push(new j.vHH(3002,!1)):N.push(br(Ie));let te=!1,ye=null;return N.forEach(Ie=>{if(Ie instanceof Map&&(Ie.has("easing")&&(ye=Ie.get("easing"),Ie.delete("easing")),!te))for(let de of Ie.values())if(de.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:N,easing:ye,offset:E.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(E,T){const N=T.currentAnimateTimings;let q=T.currentTime,te=T.currentTime;N&&te>0&&(te-=N.duration+N.delay),E.styles.forEach(ye=>{"string"!=typeof ye&&ye.forEach((Ie,de)=>{const Je=T.collectedStyles.get(T.currentQuerySelector),Pt=Je.get(de);let rn=!0;Pt&&(te!=q&&te>=Pt.startTime&&q<=Pt.endTime&&(T.errors.push(function Ae(G,E,T,N,q){return new j.vHH(3010,!1)}()),rn=!1),te=Pt.startTime),rn&&Je.set(de,{startTime:te,endTime:q}),T.options&&function zs(G,E,T){const N=E.params||{},q=vi(G);q.length&&q.forEach(te=>{N.hasOwnProperty(te)||T.push(function kt(G){return new j.vHH(3001,!1)}())})}(Ie,T.options,T.errors)})})}visitKeyframes(E,T){const N={type:5,styles:[],options:null};if(!T.currentAnimateTimings)return T.errors.push(function et(){return new j.vHH(3011,!1)}()),N;let te=0;const ye=[];let Ie=!1,de=!1,Je=0;const Pt=E.steps.map(D=>{const U=this._makeStyleAst(D,T);let R=null!=U.offset?U.offset:function Jr(G){if("string"==typeof G)return null;let E=null;if(Array.isArray(G))G.forEach(T=>{if(T instanceof Map&&T.has("offset")){const N=T;E=parseFloat(N.get("offset")),N.delete("offset")}});else if(G instanceof Map&&G.has("offset")){const T=G;E=parseFloat(T.get("offset")),T.delete("offset")}return E}(U.styles),Z=0;return null!=R&&(te++,Z=U.offset=R),de=de||Z<0||Z>1,Ie=Ie||Z<Je,Je=Z,ye.push(Z),U});de&&T.errors.push(function _t(){return new j.vHH(3012,!1)}()),Ie&&T.errors.push(function Pe(){return new j.vHH(3200,!1)}());const rn=E.steps.length;let It=0;te>0&&te<rn?T.errors.push(function Ge(){return new j.vHH(3202,!1)}()):0==te&&(It=1/(rn-1));const At=rn-1,yn=T.currentTime,at=T.currentAnimateTimings,Ue=at.duration;return Pt.forEach((D,U)=>{const R=It>0?U==At?1:It*U:ye[U],Z=R*Ue;T.currentTime=yn+at.delay+Z,at.duration=Z,this._validateStyleAst(D,T),D.offset=R,N.styles.push(D)}),N}visitReference(E,T){return{type:8,animation:tr(this,fi(E.animation),T),options:Ui(E.options)}}visitAnimateChild(E,T){return T.depCount++,{type:9,options:Ui(E.options)}}visitAnimateRef(E,T){return{type:10,animation:this.visitReference(E.animation,T),options:Ui(E.options)}}visitQuery(E,T){const N=T.currentQuerySelector,q=E.options||{};T.queryCount++,T.currentQuery=E;const[te,ye]=function Ir(G){const E=!!G.split(/\s*,\s*/).find(T=>":self"==T);return E&&(G=G.replace(ho,"")),G=G.replace(/@\*/g,we).replace(/@\w+/g,T=>we+"-"+T.slice(1)).replace(/:animating/g,ne),[G,E]}(E.selector);T.currentQuerySelector=N.length?N+" "+te:te,Tn(T.collectedStyles,T.currentQuerySelector,new Map);const Ie=tr(this,fi(E.animation),T);return T.currentQuery=null,T.currentQuerySelector=N,{type:11,selector:te,limit:q.limit||0,optional:!!q.optional,includeSelf:ye,animation:Ie,originalSelector:E.selector,options:Ui(E.options)}}visitStagger(E,T){T.currentQuery||T.errors.push(function Fe(){return new j.vHH(3013,!1)}());const N="full"===E.timings?{duration:0,delay:0,easing:"full"}:Ct(E.timings,T.errors,!0);return{type:12,animation:tr(this,fi(E.animation),T),timings:N,options:null}}}class ss{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ui(G){return G?(G=en(G)).params&&(G.params=function ds(G){return G?en(G):null}(G.params)):G={},G}function nr(G,E,T){return{duration:G,delay:E,easing:T}}function fo(G,E,T,N,q,te,ye=null,Ie=!1){return{type:1,element:G,keyframes:E,preStyleProps:T,postStyleProps:N,duration:q,delay:te,totalTime:q+te,easing:ye,subTimeline:Ie}}class Rs{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,T){let N=this._map.get(E);N||this._map.set(E,N=[]),N.push(...T)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const xs=new RegExp(":enter","g"),Xr=new RegExp(":leave","g");function hs(G,E,T,N,q,te=new Map,ye=new Map,Ie,de,Je=[]){return(new ei).buildKeyframes(G,E,T,N,q,te,ye,Ie,de,Je)}class ei{buildKeyframes(E,T,N,q,te,ye,Ie,de,Je,Pt=[]){Je=Je||new Rs;const rn=new Ki(E,T,Je,q,te,Pt,[]);rn.options=de;const It=de.delay?_e(de.delay):0;rn.currentTimeline.delayNextStep(It),rn.currentTimeline.setStyles([ye],null,rn.errors,de),tr(this,N,rn);const At=rn.timelines.filter(yn=>yn.containsAnimation());if(At.length&&Ie.size){let yn;for(let at=At.length-1;at>=0;at--){const Ue=At[at];if(Ue.element===T){yn=Ue;break}}yn&&!yn.allowOnlyTimelineStyles()&&yn.setStyles([Ie],null,rn.errors,de)}return At.length?At.map(yn=>yn.buildKeyframes()):[fo(T,[],[],[],0,It,"",!1)]}visitTrigger(E,T){}visitState(E,T){}visitTransition(E,T){}visitAnimateChild(E,T){const N=T.subInstructions.get(T.element);if(N){const q=T.createSubContext(E.options),te=T.currentTimeline.currentTime,ye=this._visitSubInstructions(N,q,q.options);te!=ye&&T.transformIntoNewTimeline(ye)}T.previousNode=E}visitAnimateRef(E,T){const N=T.createSubContext(E.options);N.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],T,N),this.visitReference(E.animation,N),T.transformIntoNewTimeline(N.currentTimeline.currentTime),T.previousNode=E}_applyAnimationRefDelays(E,T,N){for(const q of E){const te=q?.delay;if(te){const ye="number"==typeof te?te:_e(Cs(te,q?.params??{},T.errors));N.delayNextStep(ye)}}}_visitSubInstructions(E,T,N){let te=T.currentTimeline.currentTime;const ye=null!=N.duration?_e(N.duration):null,Ie=null!=N.delay?_e(N.delay):null;return 0!==ye&&E.forEach(de=>{const Je=T.appendInstructionToTimeline(de,ye,Ie);te=Math.max(te,Je.duration+Je.delay)}),te}visitReference(E,T){T.updateOptions(E.options,!0),tr(this,E.animation,T),T.previousNode=E}visitSequence(E,T){const N=T.subContextCount;let q=T;const te=E.options;if(te&&(te.params||te.delay)&&(q=T.createSubContext(te),q.transformIntoNewTimeline(),null!=te.delay)){6==q.previousNode.type&&(q.currentTimeline.snapshotCurrentStyles(),q.previousNode=Cn);const ye=_e(te.delay);q.delayNextStep(ye)}E.steps.length&&(E.steps.forEach(ye=>tr(this,ye,q)),q.currentTimeline.applyStylesToKeyframe(),q.subContextCount>N&&q.transformIntoNewTimeline()),T.previousNode=E}visitGroup(E,T){const N=[];let q=T.currentTimeline.currentTime;const te=E.options&&E.options.delay?_e(E.options.delay):0;E.steps.forEach(ye=>{const Ie=T.createSubContext(E.options);te&&Ie.delayNextStep(te),tr(this,ye,Ie),q=Math.max(q,Ie.currentTimeline.currentTime),N.push(Ie.currentTimeline)}),N.forEach(ye=>T.currentTimeline.mergeTimelineCollectedStyles(ye)),T.transformIntoNewTimeline(q),T.previousNode=E}_visitTiming(E,T){if(E.dynamic){const N=E.strValue;return Ct(T.params?Cs(N,T.params,T.errors):N,T.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,T){const N=T.currentAnimateTimings=this._visitTiming(E.timings,T),q=T.currentTimeline;N.delay&&(T.incrementTime(N.delay),q.snapshotCurrentStyles());const te=E.style;5==te.type?this.visitKeyframes(te,T):(T.incrementTime(N.duration),this.visitStyle(te,T),q.applyStylesToKeyframe()),T.currentAnimateTimings=null,T.previousNode=E}visitStyle(E,T){const N=T.currentTimeline,q=T.currentAnimateTimings;!q&&N.hasCurrentStyleProperties()&&N.forwardFrame();const te=q&&q.easing||E.easing;E.isEmptyStep?N.applyEmptyStep(te):N.setStyles(E.styles,te,T.errors,T.options),T.previousNode=E}visitKeyframes(E,T){const N=T.currentAnimateTimings,q=T.currentTimeline.duration,te=N.duration,Ie=T.createSubContext().currentTimeline;Ie.easing=N.easing,E.styles.forEach(de=>{Ie.forwardTime((de.offset||0)*te),Ie.setStyles(de.styles,de.easing,T.errors,T.options),Ie.applyStylesToKeyframe()}),T.currentTimeline.mergeTimelineCollectedStyles(Ie),T.transformIntoNewTimeline(q+te),T.previousNode=E}visitQuery(E,T){const N=T.currentTimeline.currentTime,q=E.options||{},te=q.delay?_e(q.delay):0;te&&(6===T.previousNode.type||0==N&&T.currentTimeline.hasCurrentStyleProperties())&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Cn);let ye=N;const Ie=T.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!q.optional,T.errors);T.currentQueryTotal=Ie.length;let de=null;Ie.forEach((Je,Pt)=>{T.currentQueryIndex=Pt;const rn=T.createSubContext(E.options,Je);te&&rn.delayNextStep(te),Je===T.element&&(de=rn.currentTimeline),tr(this,E.animation,rn),rn.currentTimeline.applyStylesToKeyframe(),ye=Math.max(ye,rn.currentTimeline.currentTime)}),T.currentQueryIndex=0,T.currentQueryTotal=0,T.transformIntoNewTimeline(ye),de&&(T.currentTimeline.mergeTimelineCollectedStyles(de),T.currentTimeline.snapshotCurrentStyles()),T.previousNode=E}visitStagger(E,T){const N=T.parentContext,q=T.currentTimeline,te=E.timings,ye=Math.abs(te.duration),Ie=ye*(T.currentQueryTotal-1);let de=ye*T.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":de=Ie-de;break;case"full":de=N.currentStaggerTime}const Pt=T.currentTimeline;de&&Pt.delayNextStep(de);const rn=Pt.currentTime;tr(this,E.animation,T),T.previousNode=E,N.currentStaggerTime=q.currentTime-rn+(q.startTime-N.currentTimeline.startTime)}}const Cn={};class Ki{constructor(E,T,N,q,te,ye,Ie,de){this._driver=E,this.element=T,this.subInstructions=N,this._enterClassName=q,this._leaveClassName=te,this.errors=ye,this.timelines=Ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=de||new Bi(this._driver,T,0),Ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,T){if(!E)return;const N=E;let q=this.options;null!=N.duration&&(q.duration=_e(N.duration)),null!=N.delay&&(q.delay=_e(N.delay));const te=N.params;if(te){let ye=q.params;ye||(ye=this.options.params={}),Object.keys(te).forEach(Ie=>{(!T||!ye.hasOwnProperty(Ie))&&(ye[Ie]=Cs(te[Ie],ye,this.errors))})}}_copyOptions(){const E={};if(this.options){const T=this.options.params;if(T){const N=E.params={};Object.keys(T).forEach(q=>{N[q]=T[q]})}}return E}createSubContext(E=null,T,N){const q=T||this.element,te=new Ki(this._driver,q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(q,N||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(E),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(E){return this.previousNode=Cn,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,T,N){const q={duration:T??E.duration,delay:this.currentTimeline.currentTime+(N??0)+E.delay,easing:""},te=new zr(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,q,E.stretchStartingKeyframe);return this.timelines.push(te),q}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,T,N,q,te,ye){let Ie=[];if(q&&Ie.push(this.element),E.length>0){E=(E=E.replace(xs,"."+this._enterClassName)).replace(Xr,"."+this._leaveClassName);let Je=this._driver.query(this.element,E,1!=N);0!==N&&(Je=N<0?Je.slice(Je.length+N,Je.length):Je.slice(0,N)),Ie.push(...Je)}return!te&&0==Ie.length&&ye.push(function De(G){return new j.vHH(3014,!1)}()),Ie}}class Bi{constructor(E,T,N,q){this._driver=E,this.element=T,this.startTime=N,this._elementTimelineStylesLookup=q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(T),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(T,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const T=1===this._keyframes.size&&this._pendingStyles.size;this.duration||T?(this.forwardTime(this.currentTime+E),T&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,T){return this.applyStylesToKeyframe(),new Bi(this._driver,E,T||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,T){this._localTimelineStyles.set(E,T),this._globalTimelineStyles.set(E,T),this._styleSummary.set(E,{time:this.currentTime,value:T})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[T,N]of this._globalTimelineStyles)this._backFill.set(T,N||Ot.l3),this._currentKeyframe.set(T,Ot.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,T,N,q){T&&this._previousKeyframe.set("easing",T);const te=q&&q.params||{},ye=function Mi(G,E){const T=new Map;let N;return G.forEach(q=>{if("*"===q){N=N||E.keys();for(let te of N)T.set(te,Ot.l3)}else mi(q,T)}),T}(E,this._globalTimelineStyles);for(let[Ie,de]of ye){const Je=Cs(de,te,N);this._pendingStyles.set(Ie,Je),this._localTimelineStyles.has(Ie)||this._backFill.set(Ie,this._globalTimelineStyles.get(Ie)??Ot.l3),this._updateStyle(Ie,Je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,T)=>{this._currentKeyframe.set(T,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,T)=>{this._currentKeyframe.has(T)||this._currentKeyframe.set(T,E)}))}snapshotCurrentStyles(){for(let[E,T]of this._localTimelineStyles)this._pendingStyles.set(E,T),this._updateStyle(E,T)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let T in this._currentKeyframe)E.push(T);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((T,N)=>{const q=this._styleSummary.get(N);(!q||T.time>q.time)&&this._updateStyle(N,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,T=new Set,N=1===this._keyframes.size&&0===this.duration;let q=[];this._keyframes.forEach((Ie,de)=>{const Je=mi(Ie,new Map,this._backFill);Je.forEach((Pt,rn)=>{Pt===Ot.k1?E.add(rn):Pt===Ot.l3&&T.add(rn)}),N||Je.set("offset",de/this.duration),q.push(Je)});const te=E.size?As(E.values()):[],ye=T.size?As(T.values()):[];if(N){const Ie=q[0],de=new Map(Ie);Ie.set("offset",0),de.set("offset",1),q=[Ie,de]}return fo(this.element,q,te,ye,this.duration,this.startTime,this.easing,!1)}}class zr extends Bi{constructor(E,T,N,q,te,ye,Ie=!1){super(E,T,ye.delay),this.keyframes=N,this.preStyleProps=q,this.postStyleProps=te,this._stretchStartingKeyframe=Ie,this.timings={duration:ye.duration,delay:ye.delay,easing:ye.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:T,duration:N,easing:q}=this.timings;if(this._stretchStartingKeyframe&&T){const te=[],ye=N+T,Ie=T/ye,de=mi(E[0]);de.set("offset",0),te.push(de);const Je=mi(E[0]);Je.set("offset",Si(Ie)),te.push(Je);const Pt=E.length-1;for(let rn=1;rn<=Pt;rn++){let It=mi(E[rn]);const At=It.get("offset");It.set("offset",Si((T+At*N)/ye)),te.push(It)}N=ye,T=0,q="",E=te}return fo(this.element,E,this.preStyleProps,this.postStyleProps,N,T,q,!0)}}function Si(G,E=3){const T=Math.pow(10,E-1);return Math.round(G*T)/T}class Ns{}const ks=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fs extends Ns{normalizePropertyName(E,T){return Ss(E)}normalizeStyleValue(E,T,N,q){let te="";const ye=N.toString().trim();if(ks.has(T)&&0!==N&&"0"!==N)if("number"==typeof N)te="px";else{const Ie=N.match(/^[+-]?[\d\.]+([a-z]*)$/);Ie&&0==Ie[1].length&&q.push(function he(G,E){return new j.vHH(3005,!1)}())}return ye+te}}function os(G,E,T,N,q,te,ye,Ie,de,Je,Pt,rn,It){return{type:0,element:G,triggerName:E,isRemovalTransition:q,fromState:T,fromStyles:te,toState:N,toStyles:ye,timelines:Ie,queriedElements:de,preStyleProps:Je,postStyleProps:Pt,totalTime:rn,errors:It}}const to={};class ps{constructor(E,T,N){this._triggerName=E,this.ast=T,this._stateStyles=N}match(E,T,N,q){return function gs(G,E,T,N,q){return G.some(te=>te(E,T,N,q))}(this.ast.matchers,E,T,N,q)}buildStyles(E,T,N){let q=this._stateStyles.get("*");return void 0!==E&&(q=this._stateStyles.get(E?.toString())||q),q?q.buildStyles(T,N):new Map}build(E,T,N,q,te,ye,Ie,de,Je,Pt){const rn=[],It=this.ast.options&&this.ast.options.params||to,yn=this.buildStyles(N,Ie&&Ie.params||to,rn),at=de&&de.params||to,Ue=this.buildStyles(q,at,rn),D=new Set,U=new Map,R=new Map,Z="void"===q,ce={params:jo(at,It),delay:this.ast.options?.delay},We=Pt?[]:hs(E,T,this.ast.animation,te,ye,yn,Ue,ce,Je,rn);let ft=0;if(We.forEach($n=>{ft=Math.max($n.duration+$n.delay,ft)}),rn.length)return os(T,this._triggerName,N,q,Z,yn,Ue,[],[],U,R,ft,rn);We.forEach($n=>{const zn=$n.element,sr=Tn(U,zn,new Set);$n.preStyleProps.forEach(Gn=>sr.add(Gn));const vn=Tn(R,zn,new Set);$n.postStyleProps.forEach(Gn=>vn.add(Gn)),zn!==T&&D.add(zn)});const nn=As(D.values());return os(T,this._triggerName,N,q,Z,yn,Ue,We,nn,U,R,ft)}}function jo(G,E){const T=en(E);for(const N in G)G.hasOwnProperty(N)&&null!=G[N]&&(T[N]=G[N]);return T}class ca{constructor(E,T,N){this.styles=E,this.defaultParams=T,this.normalizer=N}buildStyles(E,T){const N=new Map,q=en(this.defaultParams);return Object.keys(E).forEach(te=>{const ye=E[te];null!==ye&&(q[te]=ye)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ye,Ie)=>{ye&&(ye=Cs(ye,q,T));const de=this.normalizer.normalizePropertyName(Ie,T);ye=this.normalizer.normalizeStyleValue(Ie,de,ye,T),N.set(Ie,ye)})}),N}}class ms{constructor(E,T,N){this.name=E,this.ast=T,this._normalizer=N,this.transitionFactories=[],this.states=new Map,T.states.forEach(q=>{this.states.set(q.name,new ca(q.style,q.options&&q.options.params||{},N))}),ys(this.states,"true","1"),ys(this.states,"false","0"),T.transitions.forEach(q=>{this.transitionFactories.push(new ps(E,q,this.states))}),this.fallbackTransition=function qs(G,E,T){return new ps(G,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ye,Ie)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,T,N,q){return this.transitionFactories.find(ye=>ye.match(E,T,N,q))||null}matchStyles(E,T,N){return this.fallbackTransition.buildStyles(E,T,N)}}function ys(G,E,T){G.has(E)?G.has(T)||G.set(T,G.get(E)):G.has(T)&&G.set(E,G.get(T))}const Io=new Rs;class no{constructor(E,T,N){this.bodyNode=E,this._driver=T,this._normalizer=N,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,T){const N=[],q=[],te=Wi(this._driver,T,N,q);if(N.length)throw function wn(G){return new j.vHH(3503,!1)}();this._animations.set(E,te)}_buildPlayer(E,T,N){const q=E.element,te=ii(0,this._normalizer,0,E.keyframes,T,N);return this._driver.animate(q,te,E.duration,E.delay,E.easing,[],!0)}create(E,T,N={}){const q=[],te=this._animations.get(E);let ye;const Ie=new Map;if(te?(ye=hs(this._driver,T,te,je,ke,new Map,new Map,N,Io,q),ye.forEach(Pt=>{const rn=Tn(Ie,Pt.element,new Map);Pt.postStyleProps.forEach(It=>rn.set(It,null))})):(q.push(function an(){return new j.vHH(3300,!1)}()),ye=[]),q.length)throw function Jn(G){return new j.vHH(3504,!1)}();Ie.forEach((Pt,rn)=>{Pt.forEach((It,At)=>{Pt.set(At,this._driver.computeStyle(rn,At,Ot.l3))})});const Je=jn(ye.map(Pt=>{const rn=Ie.get(Pt.element);return this._buildPlayer(Pt,new Map,rn)}));return this._playersById.set(E,Je),Je.onDestroy(()=>this.destroy(E)),this.players.push(Je),Je}destroy(E){const T=this._getPlayer(E);T.destroy(),this._playersById.delete(E);const N=this.players.indexOf(T);N>=0&&this.players.splice(N,1)}_getPlayer(E){const T=this._playersById.get(E);if(!T)throw function ur(G){return new j.vHH(3301,!1)}();return T}listen(E,T,N,q){const te=Vt(T,"","","");return Fn(this._getPlayer(E),N,te,q),()=>{}}command(E,T,N,q){if("register"==N)return void this.register(E,q[0]);if("create"==N)return void this.create(E,T,q[0]||{});const te=this._getPlayer(E);switch(N){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(q[0]));break;case"destroy":this.destroy(E)}}}const _s="ng-animate-queued",oi="ng-animate-disabled",dr=[],$i={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wr="__ng_removed";class Ws{get params(){return this.options.params}constructor(E,T=""){this.namespaceId=T;const N=E&&E.hasOwnProperty("value");if(this.value=function Xo(G){return G??null}(N?E.value:E),N){const te=en(E);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const T=E.params;if(T){const N=this.options.params;Object.keys(T).forEach(q=>{null==N[q]&&(N[q]=T[q])})}}}const ti="void",Zi=new Ws(ti);class Pi{constructor(E,T,N){this.id=E,this.hostElement=T,this._engine=N,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,Wn(T,this._hostClassName)}listen(E,T,N,q){if(!this._triggers.has(T))throw function hi(G,E){return new j.vHH(3302,!1)}();if(null==N||0==N.length)throw function qn(G){return new j.vHH(3303,!1)}();if(!function ai(G){return"start"==G||"done"==G}(N))throw function pr(G,E){return new j.vHH(3400,!1)}();const te=Tn(this._elementListeners,E,[]),ye={name:T,phase:N,callback:q};te.push(ye);const Ie=Tn(this._engine.statesByElement,E,new Map);return Ie.has(T)||(Wn(E,zt),Wn(E,zt+"-"+T),Ie.set(T,Zi)),()=>{this._engine.afterFlush(()=>{const de=te.indexOf(ye);de>=0&&te.splice(de,1),this._triggers.has(T)||Ie.delete(T)})}}register(E,T){return!this._triggers.has(E)&&(this._triggers.set(E,T),!0)}_getTrigger(E){const T=this._triggers.get(E);if(!T)throw function bi(G){return new j.vHH(3401,!1)}();return T}trigger(E,T,N,q=!0){const te=this._getTrigger(T),ye=new Do(this.id,T,E);let Ie=this._engine.statesByElement.get(E);Ie||(Wn(E,zt),Wn(E,zt+"-"+T),this._engine.statesByElement.set(E,Ie=new Map));let de=Ie.get(T);const Je=new Ws(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&de&&Je.absorbOptions(de.options),Ie.set(T,Je),de||(de=Zi),Je.value!==ti&&de.value===Je.value){if(!function ro(G,E){const T=Object.keys(G),N=Object.keys(E);if(T.length!=N.length)return!1;for(let q=0;q<T.length;q++){const te=T[q];if(!E.hasOwnProperty(te)||G[te]!==E[te])return!1}return!0}(de.params,Je.params)){const at=[],Ue=te.matchStyles(de.value,de.params,at),D=te.matchStyles(Je.value,Je.params,at);at.length?this._engine.reportError(at):this._engine.afterFlush(()=>{zi(E,Ue),_i(E,D)})}return}const It=Tn(this._engine.playersByElement,E,[]);It.forEach(at=>{at.namespaceId==this.id&&at.triggerName==T&&at.queued&&at.destroy()});let At=te.matchTransition(de.value,Je.value,E,Je.params),yn=!1;if(!At){if(!q)return;At=te.fallbackTransition,yn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:T,transition:At,fromState:de,toState:Je,player:ye,isFallbackTransition:yn}),yn||(Wn(E,_s),ye.onStart(()=>{wi(E,_s)})),ye.onDone(()=>{let at=this.players.indexOf(ye);at>=0&&this.players.splice(at,1);const Ue=this._engine.playersByElement.get(E);if(Ue){let D=Ue.indexOf(ye);D>=0&&Ue.splice(D,1)}}),this.players.push(ye),It.push(ye),ye}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(T=>T.delete(E)),this._elementListeners.forEach((T,N)=>{this._elementListeners.set(N,T.filter(q=>q.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const T=this._engine.playersByElement.get(E);T&&(T.forEach(N=>N.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,T){const N=this._engine.driver.query(E,we,!0);N.forEach(q=>{if(q[Wr])return;const te=this._engine.fetchNamespacesByElement(q);te.size?te.forEach(ye=>ye.triggerLeaveAnimation(q,T,!1,!0)):this.clearElementCache(q)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(q=>this.clearElementCache(q)))}triggerLeaveAnimation(E,T,N,q){const te=this._engine.statesByElement.get(E),ye=new Map;if(te){const Ie=[];if(te.forEach((de,Je)=>{if(ye.set(Je,de.value),this._triggers.has(Je)){const Pt=this.trigger(E,Je,ti,q);Pt&&Ie.push(Pt)}}),Ie.length)return this._engine.markElementAsRemoved(this.id,E,!0,T,ye),N&&jn(Ie).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const T=this._elementListeners.get(E),N=this._engine.statesByElement.get(E);if(T&&N){const q=new Set;T.forEach(te=>{const ye=te.name;if(q.has(ye))return;q.add(ye);const de=this._triggers.get(ye).fallbackTransition,Je=N.get(ye)||Zi,Pt=new Ws(ti),rn=new Do(this.id,ye,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:ye,transition:de,fromState:Je,toState:Pt,player:rn,isFallbackTransition:!0})})}}removeNode(E,T){const N=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,T),this.triggerLeaveAnimation(E,T,!0))return;let q=!1;if(N.totalAnimations){const te=N.players.length?N.playersByQueriedElement.get(E):[];if(te&&te.length)q=!0;else{let ye=E;for(;ye=ye.parentNode;)if(N.statesByElement.get(ye)){q=!0;break}}}if(this.prepareLeaveAnimationListeners(E),q)N.markElementAsRemoved(this.id,E,!1,T);else{const te=E[Wr];(!te||te===$i)&&(N.afterFlush(()=>this.clearElementCache(E)),N.destroyInnerAnimations(E),N._onRemovalComplete(E,T))}}insertNode(E,T){Wn(E,this._hostClassName)}drainQueuedTransitions(E){const T=[];return this._queue.forEach(N=>{const q=N.player;if(q.destroyed)return;const te=N.element,ye=this._elementListeners.get(te);ye&&ye.forEach(Ie=>{if(Ie.name==N.triggerName){const de=Vt(te,N.triggerName,N.fromState.value,N.toState.value);de._data=E,Fn(N.player,Ie.phase,de,Ie.callback)}}),q.markedForDestroy?this._engine.afterFlush(()=>{q.destroy()}):T.push(N)}),this._queue=[],T.sort((N,q)=>{const te=N.transition.ast.depCount,ye=q.transition.ast.depCount;return 0==te||0==ye?te-ye:this._engine.driver.containsElement(N.element,q.element)?1:-1})}destroy(E){this.players.forEach(T=>T.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}elementContainsData(E){let T=!1;return this._elementListeners.has(E)&&(T=!0),T=!!this._queue.find(N=>N.element===E)||T,T}}class _r{_onRemovalComplete(E,T){this.onRemovalComplete(E,T)}constructor(E,T,N){this.bodyNode=E,this.driver=T,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(q,te)=>{}}get queuedPlayers(){const E=[];return this._namespaceList.forEach(T=>{T.players.forEach(N=>{N.queued&&E.push(N)})}),E}createNamespace(E,T){const N=new Pi(E,T,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,T)?this._balanceNamespaceList(N,T):(this.newHostElements.set(T,N),this.collectEnterElement(T)),this._namespaceLookup[E]=N}_balanceNamespaceList(E,T){const N=this._namespaceList,q=this.namespacesByHostElement;if(N.length-1>=0){let ye=!1,Ie=this.driver.getParentElement(T);for(;Ie;){const de=q.get(Ie);if(de){const Je=N.indexOf(de);N.splice(Je+1,0,E),ye=!0;break}Ie=this.driver.getParentElement(Ie)}ye||N.unshift(E)}else N.push(E);return q.set(T,E),E}register(E,T){let N=this._namespaceLookup[E];return N||(N=this.createNamespace(E,T)),N}registerTrigger(E,T,N){let q=this._namespaceLookup[E];q&&q.register(T,N)&&this.totalAnimations++}destroy(E,T){if(!E)return;const N=this._fetchNamespace(E);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[E];const q=this._namespaceList.indexOf(N);q>=0&&this._namespaceList.splice(q,1)}),this.afterFlushAnimationsDone(()=>N.destroy(T))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const T=new Set,N=this.statesByElement.get(E);if(N)for(let q of N.values())if(q.namespaceId){const te=this._fetchNamespace(q.namespaceId);te&&T.add(te)}return T}trigger(E,T,N,q){if(Ks(T)){const te=this._fetchNamespace(E);if(te)return te.trigger(T,N,q),!0}return!1}insertNode(E,T,N,q){if(!Ks(T))return;const te=T[Wr];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ye=this.collectedLeaveElements.indexOf(T);ye>=0&&this.collectedLeaveElements.splice(ye,1)}if(E){const ye=this._fetchNamespace(E);ye&&ye.insertNode(T,N)}q&&this.collectEnterElement(T)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,T){T?this.disabledNodes.has(E)||(this.disabledNodes.add(E),Wn(E,oi)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),wi(E,oi))}removeNode(E,T,N,q){if(Ks(T)){const te=E?this._fetchNamespace(E):null;if(te?te.removeNode(T,q):this.markElementAsRemoved(E,T,!1,q),N){const ye=this.namespacesByHostElement.get(T);ye&&ye.id!==E&&ye.removeNode(T,q)}}else this._onRemovalComplete(T,q)}markElementAsRemoved(E,T,N,q,te){this.collectedLeaveElements.push(T),T[Wr]={namespaceId:E,setForRemoval:q,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:te}}listen(E,T,N,q,te){return Ks(T)?this._fetchNamespace(E).listen(T,N,q,te):()=>{}}_buildInstruction(E,T,N,q,te){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,N,q,E.fromState.options,E.toState.options,T,te)}destroyInnerAnimations(E){let T=this.driver.query(E,we,!0);T.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(T=this.driver.query(E,ne,!0),T.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(E){const T=this.playersByElement.get(E);T&&T.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(E){const T=this.playersByQueriedElement.get(E);T&&T.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return jn(this.players).onDone(()=>E());E()})}processLeaveNode(E){const T=E[Wr];if(T&&T.setForRemoval){if(E[Wr]=$i,T.namespaceId){this.destroyInnerAnimations(E);const N=this._fetchNamespace(T.namespaceId);N&&N.clearElementCache(E)}this._onRemovalComplete(E,T.setForRemoval)}E.classList?.contains(oi)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(E=-1){let T=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,q)=>this._balanceNamespaceList(N,q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)Wn(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{T=this._flushAnimations(N,E)}finally{for(let q=0;q<N.length;q++)N[q]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],T.length?jn(T).onDone(()=>{N.forEach(q=>q())}):N.forEach(q=>q())}}reportError(E){throw function Ht(G){return new j.vHH(3402,!1)}()}_flushAnimations(E,T){const N=new Rs,q=[],te=new Map,ye=[],Ie=new Map,de=new Map,Je=new Map,Pt=new Set;this.disabledNodes.forEach(tn=>{Pt.add(tn);const jt=this.driver.query(tn,".ng-animate-queued",!0);for(let St=0;St<jt.length;St++)Pt.add(jt[St])});const rn=this.bodyNode,It=Array.from(this.statesByElement.keys()),At=Yi(It,this.collectedEnterElements),yn=new Map;let at=0;At.forEach((tn,jt)=>{const St=je+at++;yn.set(jt,St),tn.forEach(Dn=>Wn(Dn,St))});const Ue=[],D=new Set,U=new Set;for(let tn=0;tn<this.collectedLeaveElements.length;tn++){const jt=this.collectedLeaveElements[tn],St=jt[Wr];St&&St.setForRemoval&&(Ue.push(jt),D.add(jt),St.hasAnimation?this.driver.query(jt,".ng-star-inserted",!0).forEach(Dn=>D.add(Dn)):U.add(jt))}const R=new Map,Z=Yi(It,Array.from(D));Z.forEach((tn,jt)=>{const St=ke+at++;R.set(jt,St),tn.forEach(Dn=>Wn(Dn,St))}),E.push(()=>{At.forEach((tn,jt)=>{const St=yn.get(jt);tn.forEach(Dn=>wi(Dn,St))}),Z.forEach((tn,jt)=>{const St=R.get(jt);tn.forEach(Dn=>wi(Dn,St))}),Ue.forEach(tn=>{this.processLeaveNode(tn)})});const ce=[],We=[];for(let tn=this._namespaceList.length-1;tn>=0;tn--)this._namespaceList[tn].drainQueuedTransitions(T).forEach(St=>{const Dn=St.player,gn=St.element;if(ce.push(Dn),this.collectedEnterElements.length){const xi=gn[Wr];if(xi&&xi.setForMove){if(xi.previousTriggersValues&&xi.previousTriggersValues.has(St.triggerName)){const Vs=xi.previousTriggersValues.get(St.triggerName),Xi=this.statesByElement.get(St.element);if(Xi&&Xi.has(St.triggerName)){const ws=Xi.get(St.triggerName);ws.value=Vs,Xi.set(St.triggerName,ws)}}return void Dn.destroy()}}const Ii=!rn||!this.driver.containsElement(rn,gn),xn=R.get(gn),Ut=yn.get(gn),vr=this._buildInstruction(St,N,Ut,xn,Ii);if(vr.errors&&vr.errors.length)return void We.push(vr);if(Ii)return Dn.onStart(()=>zi(gn,vr.fromStyles)),Dn.onDestroy(()=>_i(gn,vr.toStyles)),void q.push(Dn);if(St.isFallbackTransition)return Dn.onStart(()=>zi(gn,vr.fromStyles)),Dn.onDestroy(()=>_i(gn,vr.toStyles)),void q.push(Dn);const Es=[];vr.timelines.forEach(xi=>{xi.stretchStartingKeyframe=!0,this.disabledNodes.has(xi.element)||Es.push(xi)}),vr.timelines=Es,N.append(gn,vr.timelines),ye.push({instruction:vr,player:Dn,element:gn}),vr.queriedElements.forEach(xi=>Tn(Ie,xi,[]).push(Dn)),vr.preStyleProps.forEach((xi,Vs)=>{if(xi.size){let Xi=de.get(Vs);Xi||de.set(Vs,Xi=new Set),xi.forEach((ws,Lo)=>Xi.add(Lo))}}),vr.postStyleProps.forEach((xi,Vs)=>{let Xi=Je.get(Vs);Xi||Je.set(Vs,Xi=new Set),xi.forEach((ws,Lo)=>Xi.add(Lo))})});if(We.length){const tn=[];We.forEach(jt=>{tn.push(function Xn(G,E){return new j.vHH(3505,!1)}())}),ce.forEach(jt=>jt.destroy()),this.reportError(tn)}const ft=new Map,nn=new Map;ye.forEach(tn=>{const jt=tn.element;N.has(jt)&&(nn.set(jt,jt),this._beforeAnimationBuild(tn.player.namespaceId,tn.instruction,ft))}),q.forEach(tn=>{const jt=tn.element;this._getPreviousPlayers(jt,!1,tn.namespaceId,tn.triggerName,null).forEach(Dn=>{Tn(ft,jt,[]).push(Dn),Dn.destroy()})});const $n=Ue.filter(tn=>bo(tn,de,Je)),zn=new Map;ni(zn,this.driver,U,Je,Ot.l3).forEach(tn=>{bo(tn,de,Je)&&$n.push(tn)});const vn=new Map;At.forEach((tn,jt)=>{ni(vn,this.driver,new Set(tn),de,Ot.k1)}),$n.forEach(tn=>{const jt=zn.get(tn),St=vn.get(tn);zn.set(tn,new Map([...Array.from(jt?.entries()??[]),...Array.from(St?.entries()??[])]))});const Gn=[],Jt=[],Ar={};ye.forEach(tn=>{const{element:jt,player:St,instruction:Dn}=tn;if(N.has(jt)){if(Pt.has(jt))return St.onDestroy(()=>_i(jt,Dn.toStyles)),St.disabled=!0,St.overrideTotalTime(Dn.totalTime),void q.push(St);let gn=Ar;if(nn.size>1){let xn=jt;const Ut=[];for(;xn=xn.parentNode;){const vr=nn.get(xn);if(vr){gn=vr;break}Ut.push(xn)}Ut.forEach(vr=>nn.set(vr,gn))}const Ii=this._buildAnimation(St.namespaceId,Dn,ft,te,vn,zn);if(St.setRealPlayer(Ii),gn===Ar)Gn.push(St);else{const xn=this.playersByElement.get(gn);xn&&xn.length&&(St.parentPlayer=jn(xn)),q.push(St)}}else zi(jt,Dn.fromStyles),St.onDestroy(()=>_i(jt,Dn.toStyles)),Jt.push(St),Pt.has(jt)&&q.push(St)}),Jt.forEach(tn=>{const jt=te.get(tn.element);if(jt&&jt.length){const St=jn(jt);tn.setRealPlayer(St)}}),q.forEach(tn=>{tn.parentPlayer?tn.syncPlayerEvents(tn.parentPlayer):tn.destroy()});for(let tn=0;tn<Ue.length;tn++){const jt=Ue[tn],St=jt[Wr];if(wi(jt,ke),St&&St.hasAnimation)continue;let Dn=[];if(Ie.size){let Ii=Ie.get(jt);Ii&&Ii.length&&Dn.push(...Ii);let xn=this.driver.query(jt,ne,!0);for(let Ut=0;Ut<xn.length;Ut++){let vr=Ie.get(xn[Ut]);vr&&vr.length&&Dn.push(...vr)}}const gn=Dn.filter(Ii=>!Ii.destroyed);gn.length?Zs(this,jt,gn):this.processLeaveNode(jt)}return Ue.length=0,Gn.forEach(tn=>{this.players.push(tn),tn.onDone(()=>{tn.destroy();const jt=this.players.indexOf(tn);this.players.splice(jt,1)}),tn.play()}),Gn}elementContainsData(E,T){let N=!1;const q=T[Wr];return q&&q.setForRemoval&&(N=!0),this.playersByElement.has(T)&&(N=!0),this.playersByQueriedElement.has(T)&&(N=!0),this.statesByElement.has(T)&&(N=!0),this._fetchNamespace(E).elementContainsData(T)||N}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,T,N,q,te){let ye=[];if(T){const Ie=this.playersByQueriedElement.get(E);Ie&&(ye=Ie)}else{const Ie=this.playersByElement.get(E);if(Ie){const de=!te||te==ti;Ie.forEach(Je=>{Je.queued||!de&&Je.triggerName!=q||ye.push(Je)})}}return(N||q)&&(ye=ye.filter(Ie=>!(N&&N!=Ie.namespaceId||q&&q!=Ie.triggerName))),ye}_beforeAnimationBuild(E,T,N){const te=T.element,ye=T.isRemovalTransition?void 0:E,Ie=T.isRemovalTransition?void 0:T.triggerName;for(const de of T.timelines){const Je=de.element,Pt=Je!==te,rn=Tn(N,Je,[]);this._getPreviousPlayers(Je,Pt,ye,Ie,T.toState).forEach(At=>{const yn=At.getRealPlayer();yn.beforeDestroy&&yn.beforeDestroy(),At.destroy(),rn.push(At)})}zi(te,T.fromStyles)}_buildAnimation(E,T,N,q,te,ye){const Ie=T.triggerName,de=T.element,Je=[],Pt=new Set,rn=new Set,It=T.timelines.map(yn=>{const at=yn.element;Pt.add(at);const Ue=at[Wr];if(Ue&&Ue.removedBeforeQueried)return new Ot.ZN(yn.duration,yn.delay);const D=at!==de,U=function Fo(G){const E=[];return Ti(G,E),E}((N.get(at)||dr).map(ft=>ft.getRealPlayer())).filter(ft=>!!ft.element&&ft.element===at),R=te.get(at),Z=ye.get(at),ce=ii(0,this._normalizer,0,yn.keyframes,R,Z),We=this._buildPlayer(yn,ce,U);if(yn.subTimeline&&q&&rn.add(at),D){const ft=new Do(E,Ie,at);ft.setRealPlayer(We),Je.push(ft)}return We});Je.forEach(yn=>{Tn(this.playersByQueriedElement,yn.element,[]).push(yn),yn.onDone(()=>function Cr(G,E,T){let N=G.get(E);if(N){if(N.length){const q=N.indexOf(T);N.splice(q,1)}0==N.length&&G.delete(E)}return N}(this.playersByQueriedElement,yn.element,yn))}),Pt.forEach(yn=>Wn(yn,me));const At=jn(It);return At.onDestroy(()=>{Pt.forEach(yn=>wi(yn,me)),_i(de,T.toStyles)}),rn.forEach(yn=>{Tn(q,yn,[]).push(At)}),At}_buildPlayer(E,T,N){return T.length>0?this.driver.animate(E.element,T,E.duration,E.delay,E.easing,N):new Ot.ZN(E.duration,E.delay)}}class Do{constructor(E,T,N){this.namespaceId=E,this.triggerName=T,this.element=N,this._player=new Ot.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((T,N)=>{T.forEach(q=>Fn(E,N,void 0,q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const T=this._player;T.triggerCallback&&E.onStart(()=>T.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,T){Tn(this._queuedCallbacks,E,[]).push(T)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const T=this._player;T.triggerCallback&&T.triggerCallback(E)}}function Ks(G){return G&&1===G.nodeType}function Fs(G,E){const T=G.style.display;return G.style.display=E??"none",T}function ni(G,E,T,N,q){const te=[];T.forEach(de=>te.push(Fs(de)));const ye=[];N.forEach((de,Je)=>{const Pt=new Map;de.forEach(rn=>{const It=E.computeStyle(Je,rn,q);Pt.set(rn,It),(!It||0==It.length)&&(Je[Wr]=qr,ye.push(Je))}),G.set(Je,Pt)});let Ie=0;return T.forEach(de=>Fs(de,te[Ie++])),ye}function Yi(G,E){const T=new Map;if(G.forEach(Ie=>T.set(Ie,[])),0==E.length)return T;const N=1,q=new Set(E),te=new Map;function ye(Ie){if(!Ie)return N;let de=te.get(Ie);if(de)return de;const Je=Ie.parentNode;return de=T.has(Je)?Je:q.has(Je)?N:ye(Je),te.set(Ie,de),de}return E.forEach(Ie=>{const de=ye(Ie);de!==N&&T.get(de).push(Ie)}),T}function Wn(G,E){G.classList?.add(E)}function wi(G,E){G.classList?.remove(E)}function Zs(G,E,T){jn(T).onDone(()=>G.processLeaveNode(E))}function Ti(G,E){for(let T=0;T<G.length;T++){const N=G[T];N instanceof Ot.ZE?Ti(N.players,E):E.push(N)}}function bo(G,E,T){const N=T.get(G);if(!N)return!1;let q=E.get(G);return q?N.forEach(te=>q.add(te)):E.set(G,N),T.delete(G),!0}class hn{constructor(E,T,N){this.bodyNode=E,this._driver=T,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(q,te)=>{},this._transitionEngine=new _r(E,T,N),this._timelineEngine=new no(E,T,N),this._transitionEngine.onRemovalComplete=(q,te)=>this.onRemovalComplete(q,te)}registerTrigger(E,T,N,q,te){const ye=E+"-"+q;let Ie=this._triggerCache[ye];if(!Ie){const de=[],Je=[],Pt=Wi(this._driver,te,de,Je);if(de.length)throw function Rt(G,E){return new j.vHH(3404,!1)}();Ie=function Ho(G,E,T){return new ms(G,E,T)}(q,Pt,this._normalizer),this._triggerCache[ye]=Ie}this._transitionEngine.registerTrigger(T,q,Ie)}register(E,T){this._transitionEngine.register(E,T)}destroy(E,T){this._transitionEngine.destroy(E,T)}onInsert(E,T,N,q){this._transitionEngine.insertNode(E,T,N,q)}onRemove(E,T,N,q){this._transitionEngine.removeNode(E,T,q||!1,N)}disableAnimations(E,T){this._transitionEngine.markElementAsDisabled(E,T)}process(E,T,N,q){if("@"==N.charAt(0)){const[te,ye]=In(N);this._timelineEngine.command(te,T,ye,q)}else this._transitionEngine.trigger(E,T,N,q)}listen(E,T,N,q,te){if("@"==N.charAt(0)){const[ye,Ie]=In(N);return this._timelineEngine.listen(ye,T,Ie,te)}return this._transitionEngine.listen(E,T,N,q,te)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let O=(()=>{class G{constructor(T,N,q){this._element=T,this._startStyles=N,this._endStyles=q,this._state=0;let te=G.initialStylesByElement.get(T);te||G.initialStylesByElement.set(T,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&_i(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_i(this._element,this._initialStyles),this._endStyles&&(_i(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(G.initialStylesByElement.delete(this._element),this._startStyles&&(zi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zi(this._element,this._endStyles),this._endStyles=null),_i(this._element,this._initialStyles),this._state=3)}}return G.initialStylesByElement=new WeakMap,G})();function x(G){let E=null;return G.forEach((T,N)=>{(function X(G){return"display"===G||"position"===G})(N)&&(E=E||new Map,E.set(N,T))}),E}class nt{constructor(E,T,N,q){this.element=E,this.keyframes=T,this.options=N,this._specialStyles=q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const T=[];return E.forEach(N=>{T.push(Object.fromEntries(N))}),T}_triggerWebAnimation(E,T,N){return E.animate(this._convertKeyframesToObject(T),N)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((N,q)=>{"offset"!==q&&E.set(q,this._finished?N:Mr(this.element,q))}),this.currentSnapshot=E}triggerCallback(E){const T="start"===E?this._onStartFns:this._onDoneFns;T.forEach(N=>N()),T.length=0}}class sn{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,T){return!1}containsElement(E,T){return fe(E,T)}getParentElement(E){return bs(E)}query(E,T,N){return oe(E,T,N)}computeStyle(E,T,N){return window.getComputedStyle(E)[T]}animate(E,T,N,q,te,ye=[]){const de={duration:N,delay:q,fill:0==q?"both":"forwards"};te&&(de.easing=te);const Je=new Map,Pt=ye.filter(At=>At instanceof nt);(function Hn(G,E){return 0===G||0===E})(N,q)&&Pt.forEach(At=>{At.currentSnapshot.forEach((yn,at)=>Je.set(at,yn))});let rn=function Or(G){return G.length?G[0]instanceof Map?G:G.map(E=>br(E)):[]}(T).map(At=>mi(At));rn=function wr(G,E,T){if(T.size&&E.length){let N=E[0],q=[];if(T.forEach((te,ye)=>{N.has(ye)||q.push(ye),N.set(ye,te)}),q.length)for(let te=1;te<E.length;te++){let ye=E[te];q.forEach(Ie=>ye.set(Ie,Mr(G,Ie)))}}return E}(E,rn,Je);const It=function L(G,E){let T=null,N=null;return Array.isArray(E)&&E.length?(T=x(E[0]),E.length>1&&(N=x(E[E.length-1]))):E instanceof Map&&(T=x(E)),T||N?new O(G,T,N):null}(E,rn);return new nt(E,rn,de,It)}}var or=K(6895);let Vr=(()=>{class G extends Ot._j{constructor(T,N){super(),this._nextAnimationId=0,this._renderer=T.createRenderer(N.body,{id:"0",encapsulation:j.ifc.None,styles:[],data:{animation:[]}})}build(T){const N=this._nextAnimationId.toString();this._nextAnimationId++;const q=Array.isArray(T)?(0,Ot.vP)(T):T;return io(this._renderer,null,N,"register",[q]),new Tt(N,this._renderer)}}return G.\u0275fac=function(T){return new(T||G)(j.LFG(j.FYo),j.LFG(or.K0))},G.\u0275prov=j.Yz7({token:G,factory:G.\u0275fac}),G})();class Tt extends Ot.LC{constructor(E,T){super(),this._id=E,this._renderer=T}create(E,T){return new Sn(this._id,E,T||{},this._renderer)}}class Sn{constructor(E,T,N,q){this.id=E,this.element=T,this._renderer=q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(E,T){return this._renderer.listen(this.element,`@@${this.id}:${E}`,T)}_command(E,...T){return io(this._renderer,this.element,this.id,E,T)}onDone(E){this._listen("done",E)}onStart(E){this._listen("start",E)}onDestroy(E){this._listen("destroy",E)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(E){this._command("setPosition",E)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function io(G,E,T,N,q){return G.setProperty(E,`@@${T}:${N}`,q)}const Ur="@.disabled";let po=(()=>{class G{constructor(T,N,q){this.delegate=T,this.engine=N,this._zone=q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(te,ye)=>{const Ie=ye?.parentNode(te);Ie&&ye.removeChild(Ie,te)}}createRenderer(T,N){const te=this.delegate.createRenderer(T,N);if(!(T&&N&&N.data&&N.data.animation)){let Pt=this._rendererCache.get(te);return Pt||(Pt=new ui("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,Pt)),Pt}const ye=N.id,Ie=N.id+"-"+this._currentId;this._currentId++,this.engine.register(Ie,T);const de=Pt=>{Array.isArray(Pt)?Pt.forEach(de):this.engine.registerTrigger(ye,Ie,T,Pt.name,Pt)};return N.data.animation.forEach(de),new Br(this,Ie,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(T,N,q){T>=0&&T<this._microtaskId?this._zone.run(()=>N(q)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ye,Ie]=te;ye(Ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return G.\u0275fac=function(T){return new(T||G)(j.LFG(j.FYo),j.LFG(hn),j.LFG(j.R0b))},G.\u0275prov=j.Yz7({token:G,factory:G.\u0275fac}),G})();class ui{constructor(E,T,N,q){this.namespaceId=E,this.delegate=T,this.engine=N,this._onDestroy=q,this.destroyNode=this.delegate.destroyNode?te=>T.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(E,T){return this.delegate.createElement(E,T)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,T){this.delegate.appendChild(E,T),this.engine.onInsert(this.namespaceId,T,E,!1)}insertBefore(E,T,N,q=!0){this.delegate.insertBefore(E,T,N),this.engine.onInsert(this.namespaceId,T,E,q)}removeChild(E,T,N){this.engine.onRemove(this.namespaceId,T,this.delegate,N)}selectRootElement(E,T){return this.delegate.selectRootElement(E,T)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,T,N,q){this.delegate.setAttribute(E,T,N,q)}removeAttribute(E,T,N){this.delegate.removeAttribute(E,T,N)}addClass(E,T){this.delegate.addClass(E,T)}removeClass(E,T){this.delegate.removeClass(E,T)}setStyle(E,T,N,q){this.delegate.setStyle(E,T,N,q)}removeStyle(E,T,N){this.delegate.removeStyle(E,T,N)}setProperty(E,T,N){"@"==T.charAt(0)&&T==Ur?this.disableAnimations(E,!!N):this.delegate.setProperty(E,T,N)}setValue(E,T){this.delegate.setValue(E,T)}listen(E,T,N){return this.delegate.listen(E,T,N)}disableAnimations(E,T){this.engine.disableAnimations(E,T)}}class Br extends ui{constructor(E,T,N,q,te){super(T,N,q,te),this.factory=E,this.namespaceId=T}setProperty(E,T,N){"@"==T.charAt(0)?"."==T.charAt(1)&&T==Ur?this.disableAnimations(E,N=void 0===N||!!N):this.engine.process(this.namespaceId,E,T.slice(1),N):this.delegate.setProperty(E,T,N)}listen(E,T,N){if("@"==T.charAt(0)){const q=function ea(G){switch(G){case"body":return document.body;case"document":return document;case"window":return window;default:return G}}(E);let te=T.slice(1),ye="";return"@"!=te.charAt(0)&&([te,ye]=function qo(G){const E=G.indexOf(".");return[G.substring(0,E),G.slice(E+1)]}(te)),this.engine.listen(this.namespaceId,q,te,ye,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,N,Ie)})}return this.delegate.listen(E,T,N)}}const Ri=[{provide:Ot._j,useClass:Vr},{provide:Ns,useFactory:function go(){return new fs}},{provide:hn,useClass:(()=>{class G extends hn{constructor(T,N,q,te){super(T.body,N,q)}ngOnDestroy(){this.flush()}}return G.\u0275fac=function(T){return new(T||G)(j.LFG(or.K0),j.LFG(mt),j.LFG(Ns),j.LFG(j.z2F))},G.\u0275prov=j.Yz7({token:G,factory:G.\u0275fac}),G})()},{provide:j.FYo,useFactory:function as(G,E,T){return new po(G,E,T)},deps:[p.se,hn,j.R0b]}],Ji=[{provide:mt,useFactory:()=>new sn},{provide:j.QbO,useValue:"BrowserAnimations"},...Ri],mo=[{provide:mt,useClass:it},{provide:j.QbO,useValue:"NoopAnimations"},...Ri];let ta=(()=>{class G{static withConfig(T){return{ngModule:G,providers:T.disableAnimations?mo:Ji}}}return G.\u0275fac=function(T){return new(T||G)},G.\u0275mod=j.oAB({type:G}),G.\u0275inj=j.cJS({providers:Ji,imports:[p.b2]}),G})();var Ca=K(5847),Wo=K(230);let ha=(()=>{class G{}return G.\u0275fac=function(T){return new(T||G)},G.\u0275mod=j.oAB({type:G,bootstrap:[Qe]}),G.\u0275inj=j.cJS({imports:[p.b2,ta,ie,rt.u5,(0,He.hX)(()=>(0,He.ZF)(xt.N.firebase)),(0,Kt.Cm)(()=>(0,Kt.ad)()),rt.UX,un.m,Ee.JF,Gt.Rh.forRoot(),Ca.i,Wo.R]}),G})();xt.N.production&&(0,j.G48)(),p.q6().bootstrapModule(ha).catch(G=>console.error(G))},9751:(dn,gt,K)=>{K.d(gt,{y:()=>Ve});var p=K(2961),j=K(727),b=K(8822),Se=K(9635),le=K(2416),Ye=K(576),ut=K(2806);let Ve=(()=>{class Qe{constructor(He){He&&(this._subscribe=He)}lift(He){const xt=new Qe;return xt.source=this,xt.operator=He,xt}subscribe(He,xt,Kt){const un=function Ee(Qe){return Qe&&Qe instanceof p.Lv||function ie(Qe){return Qe&&(0,Ye.m)(Qe.next)&&(0,Ye.m)(Qe.error)&&(0,Ye.m)(Qe.complete)}(Qe)&&(0,j.Nn)(Qe)}(He)?He:new p.Hp(He,xt,Kt);return(0,ut.x)(()=>{const{operator:Gt,source:Ot}=this;un.add(Gt?Gt.call(un,Ot):Ot?this._subscribe(un):this._trySubscribe(un))}),un}_trySubscribe(He){try{return this._subscribe(He)}catch(xt){He.error(xt)}}forEach(He,xt){return new(xt=yt(xt))((Kt,un)=>{const Gt=new p.Hp({next:Ot=>{try{He(Ot)}catch(Lt){un(Lt),Gt.unsubscribe()}},error:un,complete:Kt});this.subscribe(Gt)})}_subscribe(He){var xt;return null===(xt=this.source)||void 0===xt?void 0:xt.subscribe(He)}[b.L](){return this}pipe(...He){return(0,Se.U)(He)(this)}toPromise(He){return new(He=yt(He))((xt,Kt)=>{let un;this.subscribe(Gt=>un=Gt,Gt=>Kt(Gt),()=>xt(un))})}}return Qe.create=rt=>new Qe(rt),Qe})();function yt(Qe){var rt;return null!==(rt=Qe??le.v.Promise)&&void 0!==rt?rt:Promise}},7579:(dn,gt,K)=>{K.d(gt,{x:()=>ut});var p=K(9751),j=K(727);const Se=(0,K(3888).d)(yt=>function(){yt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=K(8737),Ye=K(2806);let ut=(()=>{class yt extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ee){const Qe=new Ve(this,this);return Qe.operator=Ee,Qe}_throwIfClosed(){if(this.closed)throw new Se}next(Ee){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Qe of this.currentObservers)Qe.next(Ee)}})}error(Ee){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ee;const{observers:Qe}=this;for(;Qe.length;)Qe.shift().error(Ee)}})}complete(){(0,Ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ee;return(null===(Ee=this.observers)||void 0===Ee?void 0:Ee.length)>0}_trySubscribe(Ee){return this._throwIfClosed(),super._trySubscribe(Ee)}_subscribe(Ee){return this._throwIfClosed(),this._checkFinalizedStatuses(Ee),this._innerSubscribe(Ee)}_innerSubscribe(Ee){const{hasError:Qe,isStopped:rt,observers:He}=this;return Qe||rt?j.Lc:(this.currentObservers=null,He.push(Ee),new j.w0(()=>{this.currentObservers=null,(0,le.P)(He,Ee)}))}_checkFinalizedStatuses(Ee){const{hasError:Qe,thrownError:rt,isStopped:He}=this;Qe?Ee.error(rt):He&&Ee.complete()}asObservable(){const Ee=new p.y;return Ee.source=this,Ee}}return yt.create=(ie,Ee)=>new Ve(ie,Ee),yt})();class Ve extends ut{constructor(ie,Ee){super(),this.destination=ie,this.source=Ee}next(ie){var Ee,Qe;null===(Qe=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.next)||void 0===Qe||Qe.call(Ee,ie)}error(ie){var Ee,Qe;null===(Qe=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.error)||void 0===Qe||Qe.call(Ee,ie)}complete(){var ie,Ee;null===(Ee=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===Ee||Ee.call(ie)}_subscribe(ie){var Ee,Qe;return null!==(Qe=null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(ie))&&void 0!==Qe?Qe:j.Lc}}},2961:(dn,gt,K)=>{K.d(gt,{Hp:()=>Kt,Lv:()=>Qe});var p=K(576),j=K(727),b=K(2416),Se=K(7849);function le(){}const Ye=yt("C",void 0,void 0);function yt(Ke,Me,ct){return{kind:Ke,value:Me,error:ct}}var ie=K(3410),Ee=K(2806);class Qe extends j.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,j.Nn)(Me)&&Me.add(this)):this.destination=Lt}static create(Me,ct,kt){return new Kt(Me,ct,kt)}next(Me){this.isStopped?Ot(function Ve(Ke){return yt("N",Ke,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Ot(function ut(Ke){return yt("E",void 0,Ke)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Ot(Ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rt=Function.prototype.bind;function He(Ke,Me){return rt.call(Ke,Me)}class xt{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:ct}=this;if(ct.next)try{ct.next(Me)}catch(kt){un(kt)}}error(Me){const{partialObserver:ct}=this;if(ct.error)try{ct.error(Me)}catch(kt){un(kt)}else un(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(ct){un(ct)}}}class Kt extends Qe{constructor(Me,ct,kt){let ot;if(super(),(0,p.m)(Me)||!Me)ot={next:Me??void 0,error:ct??void 0,complete:kt??void 0};else{let Be;this&&b.v.useDeprecatedNextContext?(Be=Object.create(Me),Be.unsubscribe=()=>this.unsubscribe(),ot={next:Me.next&&He(Me.next,Be),error:Me.error&&He(Me.error,Be),complete:Me.complete&&He(Me.complete,Be)}):ot=Me}this.destination=new xt(ot)}}function un(Ke){b.v.useDeprecatedSynchronousErrorHandling?(0,Ee.O)(Ke):(0,Se.h)(Ke)}function Ot(Ke,Me){const{onStoppedNotification:ct}=b.v;ct&&ie.z.setTimeout(()=>ct(Ke,Me))}const Lt={closed:!0,next:le,error:function Gt(Ke){throw Ke},complete:le}},727:(dn,gt,K)=>{K.d(gt,{Lc:()=>Ye,w0:()=>le,Nn:()=>ut});var p=K(576);const b=(0,K(3888).d)(yt=>function(Ee){yt(this),this.message=Ee?`${Ee.length} errors occurred during unsubscription:\n${Ee.map((Qe,rt)=>`${rt+1}) ${Qe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ee});var Se=K(8737);class le{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:Ee}=this;if(Ee)if(this._parentage=null,Array.isArray(Ee))for(const He of Ee)He.remove(this);else Ee.remove(this);const{initialTeardown:Qe}=this;if((0,p.m)(Qe))try{Qe()}catch(He){ie=He instanceof b?He.errors:[He]}const{_finalizers:rt}=this;if(rt){this._finalizers=null;for(const He of rt)try{Ve(He)}catch(xt){ie=ie??[],xt instanceof b?ie=[...ie,...xt.errors]:ie.push(xt)}}if(ie)throw new b(ie)}}add(ie){var Ee;if(ie&&ie!==this)if(this.closed)Ve(ie);else{if(ie instanceof le){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(Ee=this._finalizers)&&void 0!==Ee?Ee:[]).push(ie)}}_hasParent(ie){const{_parentage:Ee}=this;return Ee===ie||Array.isArray(Ee)&&Ee.includes(ie)}_addParent(ie){const{_parentage:Ee}=this;this._parentage=Array.isArray(Ee)?(Ee.push(ie),Ee):Ee?[Ee,ie]:ie}_removeParent(ie){const{_parentage:Ee}=this;Ee===ie?this._parentage=null:Array.isArray(Ee)&&(0,Se.P)(Ee,ie)}remove(ie){const{_finalizers:Ee}=this;Ee&&(0,Se.P)(Ee,ie),ie instanceof le&&ie._removeParent(this)}}le.EMPTY=(()=>{const yt=new le;return yt.closed=!0,yt})();const Ye=le.EMPTY;function ut(yt){return yt instanceof le||yt&&"closed"in yt&&(0,p.m)(yt.remove)&&(0,p.m)(yt.add)&&(0,p.m)(yt.unsubscribe)}function Ve(yt){(0,p.m)(yt)?yt():yt.unsubscribe()}},2416:(dn,gt,K)=>{K.d(gt,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dn,gt,K)=>{K.d(gt,{E:()=>j});const j=new(K(9751).y)(le=>le.complete())},8996:(dn,gt,K)=>{K.d(gt,{D:()=>Me});var p=K(8421),j=K(5363),b=K(9468),Ye=K(9751),Ve=K(2202),yt=K(576),ie=K(9672);function Qe(ct,kt){if(!ct)throw new Error("Iterable cannot be null");return new Ye.y(ot=>{(0,ie.f)(ot,kt,()=>{const Be=ct[Symbol.asyncIterator]();(0,ie.f)(ot,kt,()=>{Be.next().then(he=>{he.done?ot.complete():ot.next(he.value)})},0,!0)})})}var rt=K(3670),He=K(8239),xt=K(1144),Kt=K(6495),un=K(2206),Gt=K(4532),Ot=K(3260);function Me(ct,kt){return kt?function Ke(ct,kt){if(null!=ct){if((0,rt.c)(ct))return function Se(ct,kt){return(0,p.Xf)(ct).pipe((0,b.R)(kt),(0,j.Q)(kt))}(ct,kt);if((0,xt.z)(ct))return function ut(ct,kt){return new Ye.y(ot=>{let Be=0;return kt.schedule(function(){Be===ct.length?ot.complete():(ot.next(ct[Be++]),ot.closed||this.schedule())})})}(ct,kt);if((0,He.t)(ct))return function le(ct,kt){return(0,p.Xf)(ct).pipe((0,b.R)(kt),(0,j.Q)(kt))}(ct,kt);if((0,un.D)(ct))return Qe(ct,kt);if((0,Kt.T)(ct))return function Ee(ct,kt){return new Ye.y(ot=>{let Be;return(0,ie.f)(ot,kt,()=>{Be=ct[Ve.h](),(0,ie.f)(ot,kt,()=>{let he,lt;try{({value:he,done:lt}=Be.next())}catch(dt){return void ot.error(dt)}lt?ot.complete():ot.next(he)},0,!0)}),()=>(0,yt.m)(Be?.return)&&Be.return()})}(ct,kt);if((0,Ot.L)(ct))return function Lt(ct,kt){return Qe((0,Ot.Q)(ct),kt)}(ct,kt)}throw(0,Gt.z)(ct)}(ct,kt):(0,p.Xf)(ct)}},8421:(dn,gt,K)=>{K.d(gt,{Xf:()=>rt});var p=K(655),j=K(1144),b=K(8239),Se=K(9751),le=K(3670),Ye=K(2206),ut=K(4532),Ve=K(6495),yt=K(3260),ie=K(576),Ee=K(7849),Qe=K(8822);function rt(Ke){if(Ke instanceof Se.y)return Ke;if(null!=Ke){if((0,le.c)(Ke))return function He(Ke){return new Se.y(Me=>{const ct=Ke[Qe.L]();if((0,ie.m)(ct.subscribe))return ct.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,j.z)(Ke))return function xt(Ke){return new Se.y(Me=>{for(let ct=0;ct<Ke.length&&!Me.closed;ct++)Me.next(Ke[ct]);Me.complete()})}(Ke);if((0,b.t)(Ke))return function Kt(Ke){return new Se.y(Me=>{Ke.then(ct=>{Me.closed||(Me.next(ct),Me.complete())},ct=>Me.error(ct)).then(null,Ee.h)})}(Ke);if((0,Ye.D)(Ke))return Gt(Ke);if((0,Ve.T)(Ke))return function un(Ke){return new Se.y(Me=>{for(const ct of Ke)if(Me.next(ct),Me.closed)return;Me.complete()})}(Ke);if((0,yt.L)(Ke))return function Ot(Ke){return Gt((0,yt.Q)(Ke))}(Ke)}throw(0,ut.z)(Ke)}function Gt(Ke){return new Se.y(Me=>{(function Lt(Ke,Me){var ct,kt,ot,Be;return(0,p.mG)(this,void 0,void 0,function*(){try{for(ct=(0,p.KL)(Ke);!(kt=yield ct.next()).done;)if(Me.next(kt.value),Me.closed)return}catch(he){ot={error:he}}finally{try{kt&&!kt.done&&(Be=ct.return)&&(yield Be.call(ct))}finally{if(ot)throw ot.error}}Me.complete()})})(Ke,Me).catch(ct=>Me.error(ct))})}},9646:(dn,gt,K)=>{K.d(gt,{of:()=>b});var p=K(7669),j=K(8996);function b(...Se){const le=(0,p.yG)(Se);return(0,j.D)(Se,le)}},5403:(dn,gt,K)=>{K.d(gt,{x:()=>j});var p=K(2961);function j(Se,le,Ye,ut,Ve){return new b(Se,le,Ye,ut,Ve)}class b extends p.Lv{constructor(le,Ye,ut,Ve,yt,ie){super(le),this.onFinalize=yt,this.shouldUnsubscribe=ie,this._next=Ye?function(Ee){try{Ye(Ee)}catch(Qe){le.error(Qe)}}:super._next,this._error=Ve?function(Ee){try{Ve(Ee)}catch(Qe){le.error(Qe)}finally{this.unsubscribe()}}:super._error,this._complete=ut?function(){try{ut()}catch(Ee){le.error(Ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ye}=this;super.unsubscribe(),!Ye&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4351:(dn,gt,K)=>{K.d(gt,{b:()=>b});var p=K(5577),j=K(576);function b(Se,le){return(0,j.m)(le)?(0,p.z)(Se,le,1):(0,p.z)(Se,1)}},9300:(dn,gt,K)=>{K.d(gt,{h:()=>b});var p=K(4482),j=K(5403);function b(Se,le){return(0,p.e)((Ye,ut)=>{let Ve=0;Ye.subscribe((0,j.x)(ut,yt=>Se.call(le,yt,Ve++)&&ut.next(yt)))})}},4004:(dn,gt,K)=>{K.d(gt,{U:()=>b});var p=K(4482),j=K(5403);function b(Se,le){return(0,p.e)((Ye,ut)=>{let Ve=0;Ye.subscribe((0,j.x)(ut,yt=>{ut.next(Se.call(le,yt,Ve++))}))})}},8189:(dn,gt,K)=>{K.d(gt,{J:()=>b});var p=K(5577),j=K(4671);function b(Se=1/0){return(0,p.z)(j.y,Se)}},5577:(dn,gt,K)=>{K.d(gt,{z:()=>Ve});var p=K(4004),j=K(8421),b=K(4482),Se=K(9672),le=K(5403),ut=K(576);function Ve(yt,ie,Ee=1/0){return(0,ut.m)(ie)?Ve((Qe,rt)=>(0,p.U)((He,xt)=>ie(Qe,He,rt,xt))((0,j.Xf)(yt(Qe,rt))),Ee):("number"==typeof ie&&(Ee=ie),(0,b.e)((Qe,rt)=>function Ye(yt,ie,Ee,Qe,rt,He,xt,Kt){const un=[];let Gt=0,Ot=0,Lt=!1;const Ke=()=>{Lt&&!un.length&&!Gt&&ie.complete()},Me=kt=>Gt<Qe?ct(kt):un.push(kt),ct=kt=>{He&&ie.next(kt),Gt++;let ot=!1;(0,j.Xf)(Ee(kt,Ot++)).subscribe((0,le.x)(ie,Be=>{rt?.(Be),He?Me(Be):ie.next(Be)},()=>{ot=!0},void 0,()=>{if(ot)try{for(Gt--;un.length&&Gt<Qe;){const Be=un.shift();xt?(0,Se.f)(ie,xt,()=>ct(Be)):ct(Be)}Ke()}catch(Be){ie.error(Be)}}))};return yt.subscribe((0,le.x)(ie,Me,()=>{Lt=!0,Ke()})),()=>{Kt?.()}}(Qe,rt,yt,Ee)))}},5363:(dn,gt,K)=>{K.d(gt,{Q:()=>Se});var p=K(9672),j=K(4482),b=K(5403);function Se(le,Ye=0){return(0,j.e)((ut,Ve)=>{ut.subscribe((0,b.x)(Ve,yt=>(0,p.f)(Ve,le,()=>Ve.next(yt),Ye),()=>(0,p.f)(Ve,le,()=>Ve.complete(),Ye),yt=>(0,p.f)(Ve,le,()=>Ve.error(yt),Ye)))})}},9468:(dn,gt,K)=>{K.d(gt,{R:()=>j});var p=K(4482);function j(b,Se=0){return(0,p.e)((le,Ye)=>{Ye.add(b.schedule(()=>le.subscribe(Ye),Se))})}},8505:(dn,gt,K)=>{K.d(gt,{b:()=>le});var p=K(576),j=K(4482),b=K(5403),Se=K(4671);function le(Ye,ut,Ve){const yt=(0,p.m)(Ye)||ut||Ve?{next:Ye,error:ut,complete:Ve}:Ye;return yt?(0,j.e)((ie,Ee)=>{var Qe;null===(Qe=yt.subscribe)||void 0===Qe||Qe.call(yt);let rt=!0;ie.subscribe((0,b.x)(Ee,He=>{var xt;null===(xt=yt.next)||void 0===xt||xt.call(yt,He),Ee.next(He)},()=>{var He;rt=!1,null===(He=yt.complete)||void 0===He||He.call(yt),Ee.complete()},He=>{var xt;rt=!1,null===(xt=yt.error)||void 0===xt||xt.call(yt,He),Ee.error(He)},()=>{var He,xt;rt&&(null===(He=yt.unsubscribe)||void 0===He||He.call(yt)),null===(xt=yt.finalize)||void 0===xt||xt.call(yt)}))}):Se.y}},3410:(dn,gt,K)=>{K.d(gt,{z:()=>p});const p={setTimeout(j,b,...Se){const{delegate:le}=p;return le?.setTimeout?le.setTimeout(j,b,...Se):setTimeout(j,b,...Se)},clearTimeout(j){const{delegate:b}=p;return(b?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(dn,gt,K)=>{K.d(gt,{h:()=>j});const j=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dn,gt,K)=>{K.d(gt,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(dn,gt,K)=>{K.d(gt,{_6:()=>Ye,jO:()=>Se,yG:()=>le});var p=K(576);function b(ut){return ut[ut.length-1]}function Se(ut){return(0,p.m)(b(ut))?ut.pop():void 0}function le(ut){return function j(ut){return ut&&(0,p.m)(ut.schedule)}(b(ut))?ut.pop():void 0}function Ye(ut,Ve){return"number"==typeof b(ut)?ut.pop():Ve}},4742:(dn,gt,K)=>{K.d(gt,{D:()=>le});const{isArray:p}=Array,{getPrototypeOf:j,prototype:b,keys:Se}=Object;function le(ut){if(1===ut.length){const Ve=ut[0];if(p(Ve))return{args:Ve,keys:null};if(function Ye(ut){return ut&&"object"==typeof ut&&j(ut)===b}(Ve)){const yt=Se(Ve);return{args:yt.map(ie=>Ve[ie]),keys:yt}}}return{args:ut,keys:null}}},8737:(dn,gt,K)=>{function p(j,b){if(j){const Se=j.indexOf(b);0<=Se&&j.splice(Se,1)}}K.d(gt,{P:()=>p})},3888:(dn,gt,K)=>{function p(j){const Se=j(le=>{Error.call(le),le.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}K.d(gt,{d:()=>p})},1810:(dn,gt,K)=>{function p(j,b){return j.reduce((Se,le,Ye)=>(Se[le]=b[Ye],Se),{})}K.d(gt,{n:()=>p})},2806:(dn,gt,K)=>{K.d(gt,{O:()=>Se,x:()=>b});var p=K(2416);let j=null;function b(le){if(p.v.useDeprecatedSynchronousErrorHandling){const Ye=!j;if(Ye&&(j={errorThrown:!1,error:null}),le(),Ye){const{errorThrown:ut,error:Ve}=j;if(j=null,ut)throw Ve}}else le()}function Se(le){p.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=le)}},9672:(dn,gt,K)=>{function p(j,b,Se,le=0,Ye=!1){const ut=b.schedule(function(){Se(),Ye?j.add(this.schedule(null,le)):this.unsubscribe()},le);if(j.add(ut),!Ye)return ut}K.d(gt,{f:()=>p})},4671:(dn,gt,K)=>{function p(j){return j}K.d(gt,{y:()=>p})},1144:(dn,gt,K)=>{K.d(gt,{z:()=>p});const p=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(dn,gt,K)=>{K.d(gt,{D:()=>j});var p=K(576);function j(b){return Symbol.asyncIterator&&(0,p.m)(b?.[Symbol.asyncIterator])}},576:(dn,gt,K)=>{function p(j){return"function"==typeof j}K.d(gt,{m:()=>p})},3670:(dn,gt,K)=>{K.d(gt,{c:()=>b});var p=K(8822),j=K(576);function b(Se){return(0,j.m)(Se[p.L])}},6495:(dn,gt,K)=>{K.d(gt,{T:()=>b});var p=K(2202),j=K(576);function b(Se){return(0,j.m)(Se?.[p.h])}},8239:(dn,gt,K)=>{K.d(gt,{t:()=>j});var p=K(576);function j(b){return(0,p.m)(b?.then)}},3260:(dn,gt,K)=>{K.d(gt,{L:()=>Se,Q:()=>b});var p=K(655),j=K(576);function b(le){return(0,p.FC)(this,arguments,function*(){const ut=le.getReader();try{for(;;){const{value:Ve,done:yt}=yield(0,p.qq)(ut.read());if(yt)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Ve)}}finally{ut.releaseLock()}})}function Se(le){return(0,j.m)(le?.getReader)}},4482:(dn,gt,K)=>{K.d(gt,{A:()=>j,e:()=>b});var p=K(576);function j(Se){return(0,p.m)(Se?.lift)}function b(Se){return le=>{if(j(le))return le.lift(function(Ye){try{return Se(Ye,this)}catch(ut){this.error(ut)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(dn,gt,K)=>{K.d(gt,{Z:()=>Se});var p=K(4004);const{isArray:j}=Array;function Se(le){return(0,p.U)(Ye=>function b(le,Ye){return j(Ye)?le(...Ye):le(Ye)}(le,Ye))}},9635:(dn,gt,K)=>{K.d(gt,{U:()=>b,z:()=>j});var p=K(4671);function j(...Se){return b(Se)}function b(Se){return 0===Se.length?p.y:1===Se.length?Se[0]:function(Ye){return Se.reduce((ut,Ve)=>Ve(ut),Ye)}}},7849:(dn,gt,K)=>{K.d(gt,{h:()=>b});var p=K(2416),j=K(3410);function b(Se){j.z.setTimeout(()=>{const{onUnhandledError:le}=p.v;if(!le)throw Se;le(Se)})}},4532:(dn,gt,K)=>{function p(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(gt,{z:()=>p})},655:(dn,gt,K)=>{function Se(Ne,Ae){var et={};for(var _t in Ne)Object.prototype.hasOwnProperty.call(Ne,_t)&&Ae.indexOf(_t)<0&&(et[_t]=Ne[_t]);if(null!=Ne&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(_t=Object.getOwnPropertySymbols(Ne);Pe<_t.length;Pe++)Ae.indexOf(_t[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Ne,_t[Pe])&&(et[_t[Pe]]=Ne[_t[Pe]])}return et}function Qe(Ne,Ae,et,_t){return new(et||(et=Promise))(function(Ge,Fe){function De(xe){try{pe(_t.next(xe))}catch(ht){Fe(ht)}}function st(xe){try{pe(_t.throw(xe))}catch(ht){Fe(ht)}}function pe(xe){xe.done?Ge(xe.value):function Pe(Ge){return Ge instanceof et?Ge:new et(function(Fe){Fe(Ge)})}(xe.value).then(De,st)}pe((_t=_t.apply(Ne,Ae||[])).next())})}function Ke(Ne){return this instanceof Ke?(this.v=Ne,this):new Ke(Ne)}function Me(Ne,Ae,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,_t=et.apply(Ne,Ae||[]),Ge=[];return Pe={},Fe("next"),Fe("throw"),Fe("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function Fe(Rt){_t[Rt]&&(Pe[Rt]=function(Ln){return new Promise(function(wn,an){Ge.push([Rt,Ln,wn,an])>1||De(Rt,Ln)})})}function De(Rt,Ln){try{!function st(Rt){Rt.value instanceof Ke?Promise.resolve(Rt.value.v).then(pe,xe):ht(Ge[0][2],Rt)}(_t[Rt](Ln))}catch(wn){ht(Ge[0][3],wn)}}function pe(Rt){De("next",Rt)}function xe(Rt){De("throw",Rt)}function ht(Rt,Ln){Rt(Ln),Ge.shift(),Ge.length&&De(Ge[0][0],Ge[0][1])}}function kt(Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Ae=Ne[Symbol.asyncIterator];return Ae?Ae.call(Ne):(Ne=function Kt(Ne){var Ae="function"==typeof Symbol&&Symbol.iterator,et=Ae&&Ne[Ae],_t=0;if(et)return et.call(Ne);if(Ne&&"number"==typeof Ne.length)return{next:function(){return Ne&&_t>=Ne.length&&(Ne=void 0),{value:Ne&&Ne[_t++],done:!Ne}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ne),et={},_t("next"),_t("throw"),_t("return"),et[Symbol.asyncIterator]=function(){return this},et);function _t(Ge){et[Ge]=Ne[Ge]&&function(Fe){return new Promise(function(De,st){!function Pe(Ge,Fe,De,st){Promise.resolve(st).then(function(pe){Ge({value:pe,done:De})},Fe)}(De,st,(Fe=Ne[Ge](Fe)).done,Fe.value)})}}}K.d(gt,{FC:()=>Me,KL:()=>kt,_T:()=>Se,mG:()=>Qe,qq:()=>Ke})},7340:(dn,gt,K)=>{K.d(gt,{LC:()=>j,SB:()=>yt,X$:()=>Se,ZE:()=>Ot,ZN:()=>Gt,_j:()=>p,eR:()=>Ee,jt:()=>le,k1:()=>Lt,l3:()=>b,oB:()=>Ve,vP:()=>ut});class p{}class j{}const b="*";function Se(Ke,Me){return{type:7,name:Ke,definitions:Me,options:{}}}function le(Ke,Me=null){return{type:4,styles:Me,timings:Ke}}function ut(Ke,Me=null){return{type:2,steps:Ke,options:Me}}function Ve(Ke){return{type:6,styles:Ke,offset:null}}function yt(Ke,Me,ct){return{type:0,name:Ke,styles:Me,options:ct}}function Ee(Ke,Me,ct=null){return{type:1,expr:Ke,animation:Me,options:ct}}function un(Ke){Promise.resolve().then(Ke)}class Gt{constructor(Me=0,ct=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Me+ct}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Me=>Me()),this._onDoneFns=[])}onStart(Me){this._originalOnStartFns.push(Me),this._onStartFns.push(Me)}onDone(Me){this._originalOnDoneFns.push(Me),this._onDoneFns.push(Me)}onDestroy(Me){this._onDestroyFns.push(Me)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){un(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Me=>Me()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Me=>Me()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Me){this._position=this.totalTime?Me*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Me){const ct="start"==Me?this._onStartFns:this._onDoneFns;ct.forEach(kt=>kt()),ct.length=0}}class Ot{constructor(Me){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Me;let ct=0,kt=0,ot=0;const Be=this.players.length;0==Be?un(()=>this._onFinish()):this.players.forEach(he=>{he.onDone(()=>{++ct==Be&&this._onFinish()}),he.onDestroy(()=>{++kt==Be&&this._onDestroy()}),he.onStart(()=>{++ot==Be&&this._onStart()})}),this.totalTime=this.players.reduce((he,lt)=>Math.max(he,lt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Me=>Me()),this._onDoneFns=[])}init(){this.players.forEach(Me=>Me.init())}onStart(Me){this._onStartFns.push(Me)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Me=>Me()),this._onStartFns=[])}onDone(Me){this._onDoneFns.push(Me)}onDestroy(Me){this._onDestroyFns.push(Me)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Me=>Me.play())}pause(){this.players.forEach(Me=>Me.pause())}restart(){this.players.forEach(Me=>Me.restart())}finish(){this._onFinish(),this.players.forEach(Me=>Me.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Me=>Me.destroy()),this._onDestroyFns.forEach(Me=>Me()),this._onDestroyFns=[])}reset(){this.players.forEach(Me=>Me.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Me){const ct=Me*this.totalTime;this.players.forEach(kt=>{const ot=kt.totalTime?Math.min(1,ct/kt.totalTime):1;kt.setPosition(ot)})}getPosition(){const Me=this.players.reduce((ct,kt)=>null===ct||kt.totalTime>ct.totalTime?kt:ct,null);return null!=Me?Me.getPosition():0}beforeDestroy(){this.players.forEach(Me=>{Me.beforeDestroy&&Me.beforeDestroy()})}triggerCallback(Me){const ct="start"==Me?this._onStartFns:this._onDoneFns;ct.forEach(kt=>kt()),ct.length=0}}const Lt="!"},6895:(dn,gt,K)=>{K.d(gt,{Do:()=>Ot,EM:()=>ys,HT:()=>Se,JF:()=>oi,K0:()=>Ye,Mx:()=>Ss,O5:()=>An,S$:()=>Kt,V_:()=>yt,Ye:()=>Lt,b0:()=>Gt,bD:()=>to,ez:()=>os,q:()=>b,sg:()=>lr,w_:()=>le});var p=K(8256);let j=null;function b(){return j}function Se(D){j||(j=D)}class le{}const Ye=new p.OlP("DocumentToken");let ut=(()=>{class D{historyGo(R){throw new Error("Not implemented")}}return D.\u0275fac=function(R){return new(R||D)},D.\u0275prov=p.Yz7({token:D,factory:function(){return function Ve(){return(0,p.LFG)(ie)}()},providedIn:"platform"}),D})();const yt=new p.OlP("Location Initialized");let ie=(()=>{class D extends ut{constructor(R){super(),this._doc=R,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(R){const Z=b().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",R,!1),()=>Z.removeEventListener("popstate",R)}onHashChange(R){const Z=b().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",R,!1),()=>Z.removeEventListener("hashchange",R)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(R){this._location.pathname=R}pushState(R,Z,ce){Ee()?this._history.pushState(R,Z,ce):this._location.hash=ce}replaceState(R,Z,ce){Ee()?this._history.replaceState(R,Z,ce):this._location.hash=ce}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return D.\u0275fac=function(R){return new(R||D)(p.LFG(Ye))},D.\u0275prov=p.Yz7({token:D,factory:function(){return function Qe(){return new ie((0,p.LFG)(Ye))}()},providedIn:"platform"}),D})();function Ee(){return!!window.history.pushState}function rt(D,U){if(0==D.length)return U;if(0==U.length)return D;let R=0;return D.endsWith("/")&&R++,U.startsWith("/")&&R++,2==R?D+U.substring(1):1==R?D+U:D+"/"+U}function He(D){const U=D.match(/#|\?|$/),R=U&&U.index||D.length;return D.slice(0,R-("/"===D[R-1]?1:0))+D.slice(R)}function xt(D){return D&&"?"!==D[0]?"?"+D:D}let Kt=(()=>{class D{historyGo(R){throw new Error("Not implemented")}}return D.\u0275fac=function(R){return new(R||D)},D.\u0275prov=p.Yz7({token:D,factory:function(){return(0,p.f3M)(Gt)},providedIn:"root"}),D})();const un=new p.OlP("appBaseHref");let Gt=(()=>{class D extends Kt{constructor(R,Z){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return rt(this._baseHref,R)}path(R=!1){const Z=this._platformLocation.pathname+xt(this._platformLocation.search),ce=this._platformLocation.hash;return ce&&R?`${Z}${ce}`:Z}pushState(R,Z,ce,We){const ft=this.prepareExternalUrl(ce+xt(We));this._platformLocation.pushState(R,Z,ft)}replaceState(R,Z,ce,We){const ft=this.prepareExternalUrl(ce+xt(We));this._platformLocation.replaceState(R,Z,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return D.\u0275fac=function(R){return new(R||D)(p.LFG(ut),p.LFG(un,8))},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Ot=(()=>{class D extends Kt{constructor(R,Z){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(R){const Z=rt(this._baseHref,R);return Z.length>0?"#"+Z:Z}pushState(R,Z,ce,We){let ft=this.prepareExternalUrl(ce+xt(We));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(R,Z,ft)}replaceState(R,Z,ce,We){let ft=this.prepareExternalUrl(ce+xt(We));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(R,Z,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return D.\u0275fac=function(R){return new(R||D)(p.LFG(ut),p.LFG(un,8))},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac}),D})(),Lt=(()=>{class D{constructor(R){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const Z=this._locationStrategy.getBaseHref();this._basePath=function kt(D){if(new RegExp("^(https?:)?//").test(D)){const[,R]=D.split(/\/\/[^\/]+/);return R}return D}(He(ct(Z))),this._locationStrategy.onPopState(ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:ce.state,type:ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,Z=""){return this.path()==this.normalize(R+xt(Z))}normalize(R){return D.stripTrailingSlash(function Me(D,U){if(!D||!U.startsWith(D))return U;const R=U.substring(D.length);return""===R||["/",";","?","#"].includes(R[0])?R:U}(this._basePath,ct(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,Z="",ce=null){this._locationStrategy.pushState(ce,"",R,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+xt(Z)),ce)}replaceState(R,Z="",ce=null){this._locationStrategy.replaceState(ce,"",R,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+xt(Z)),ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",Z){this._urlChangeListeners.forEach(ce=>ce(R,Z))}subscribe(R,Z,ce){return this._subject.subscribe({next:R,error:Z,complete:ce})}}return D.normalizeQueryParams=xt,D.joinWithSlash=rt,D.stripTrailingSlash=He,D.\u0275fac=function(R){return new(R||D)(p.LFG(Kt))},D.\u0275prov=p.Yz7({token:D,factory:function(){return function Ke(){return new Lt((0,p.LFG)(Kt))}()},providedIn:"root"}),D})();function ct(D){return D.replace(/\/index.html$/,"")}function Ss(D,U){U=encodeURIComponent(U);for(const R of D.split(";")){const Z=R.indexOf("="),[ce,We]=-1==Z?[R,""]:[R.slice(0,Z),R.slice(Z+1)];if(ce.trim()===U)return decodeURIComponent(We)}return null}class qi{constructor(U,R,Z,ce){this.$implicit=U,this.ngForOf=R,this.index=Z,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class D{set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}constructor(R,Z,ce){this._viewContainer=R,this._template=Z,this._differs=ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const Z=this._viewContainer;R.forEachOperation((ce,We,ft)=>{if(null==ce.previousIndex)Z.createEmbeddedView(this._template,new qi(ce.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)Z.remove(null===We?void 0:We);else if(null!==We){const nn=Z.get(We);Z.move(nn,ft),Ai(nn,ce)}});for(let ce=0,We=Z.length;ce<We;ce++){const nn=Z.get(ce).context;nn.index=ce,nn.count=We,nn.ngForOf=this._ngForOf}R.forEachIdentityChange(ce=>{Ai(Z.get(ce.currentIndex),ce)})}static ngTemplateContextGuard(R,Z){return!0}}return D.\u0275fac=function(R){return new(R||D)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},D.\u0275dir=p.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function Ai(D,U){D.context.$implicit=U.item}let An=(()=>{class D{constructor(R,Z){this._viewContainer=R,this._context=new Tr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){cr("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){cr("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,Z){return!0}}return D.\u0275fac=function(R){return new(R||D)(p.Y36(p.s_b),p.Y36(p.Rgc))},D.\u0275dir=p.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class Tr{constructor(){this.$implicit=null,this.ngIf=null}}function cr(D,U){if(U&&!U.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,p.AaK)(U)}'.`)}let os=(()=>{class D{}return D.\u0275fac=function(R){return new(R||D)},D.\u0275mod=p.oAB({type:D}),D.\u0275inj=p.cJS({}),D})();const to="browser";let ys=(()=>{class D{}return D.\u0275prov=(0,p.Yz7)({token:D,providedIn:"root",factory:()=>new Io((0,p.LFG)(Ye),window)}),D})();class Io{constructor(U,R){this.document=U,this.window=R,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const R=function _s(D,U){const R=D.getElementById(U)||D.getElementsByName(U)[0];if(R)return R;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const Z=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ce=Z.currentNode;for(;ce;){const We=ce.shadowRoot;if(We){const ft=We.getElementById(U)||We.querySelector(`[name="${U}"]`);if(ft)return ft}ce=Z.nextNode()}}return null}(this.document,U);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(U){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=U)}}scrollToElement(U){const R=U.getBoundingClientRect(),Z=R.left+this.window.pageXOffset,ce=R.top+this.window.pageYOffset,We=this.offset();this.window.scrollTo(Z-We[0],ce-We[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const U=no(this.window.history)||no(Object.getPrototypeOf(this.window.history));return!(!U||!U.writable&&!U.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function no(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class oi{}},529:(dn,gt,K)=>{K.d(gt,{JF:()=>Hr,eN:()=>Ae});var p=K(6895),j=K(8256),b=K(9646),Se=K(9751),le=K(4351),Ye=K(9300),ut=K(4004);class Ve{}class yt{}class ie{constructor(oe){this.normalizedNames=new Map,this.lazyUpdate=null,oe?this.lazyInit="string"==typeof oe?()=>{this.headers=new Map,oe.split("\n").forEach(ge=>{const it=ge.indexOf(":");if(it>0){const mt=ge.slice(0,it),re=mt.toLowerCase(),ae=ge.slice(it+1).trim();this.maybeSetNormalizedName(mt,re),this.headers.has(re)?this.headers.get(re).push(ae):this.headers.set(re,[ae])}})}:()=>{this.headers=new Map,Object.entries(oe).forEach(([ge,it])=>{let mt;if(mt="string"==typeof it?[it]:"number"==typeof it?[it.toString()]:it.map(re=>re.toString()),mt.length>0){const re=ge.toLowerCase();this.headers.set(re,mt),this.maybeSetNormalizedName(ge,re)}})}:this.headers=new Map}has(oe){return this.init(),this.headers.has(oe.toLowerCase())}get(oe){this.init();const ge=this.headers.get(oe.toLowerCase());return ge&&ge.length>0?ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(oe){return this.init(),this.headers.get(oe.toLowerCase())||null}append(oe,ge){return this.clone({name:oe,value:ge,op:"a"})}set(oe,ge){return this.clone({name:oe,value:ge,op:"s"})}delete(oe,ge){return this.clone({name:oe,value:ge,op:"d"})}maybeSetNormalizedName(oe,ge){this.normalizedNames.has(ge)||this.normalizedNames.set(ge,oe)}init(){this.lazyInit&&(this.lazyInit instanceof ie?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(oe=>this.applyUpdate(oe)),this.lazyUpdate=null))}copyFrom(oe){oe.init(),Array.from(oe.headers.keys()).forEach(ge=>{this.headers.set(ge,oe.headers.get(ge)),this.normalizedNames.set(ge,oe.normalizedNames.get(ge))})}clone(oe){const ge=new ie;return ge.lazyInit=this.lazyInit&&this.lazyInit instanceof ie?this.lazyInit:this,ge.lazyUpdate=(this.lazyUpdate||[]).concat([oe]),ge}applyUpdate(oe){const ge=oe.name.toLowerCase();switch(oe.op){case"a":case"s":let it=oe.value;if("string"==typeof it&&(it=[it]),0===it.length)return;this.maybeSetNormalizedName(oe.name,ge);const mt=("a"===oe.op?this.headers.get(ge):void 0)||[];mt.push(...it),this.headers.set(ge,mt);break;case"d":const re=oe.value;if(re){let ae=this.headers.get(ge);if(!ae)return;ae=ae.filter(Te=>-1===re.indexOf(Te)),0===ae.length?(this.headers.delete(ge),this.normalizedNames.delete(ge)):this.headers.set(ge,ae)}else this.headers.delete(ge),this.normalizedNames.delete(ge)}}forEach(oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(ge=>oe(this.normalizedNames.get(ge),this.headers.get(ge)))}}class Qe{encodeKey(oe){return Kt(oe)}encodeValue(oe){return Kt(oe)}decodeKey(oe){return decodeURIComponent(oe)}decodeValue(oe){return decodeURIComponent(oe)}}const He=/%(\d[a-f0-9])/gi,xt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kt(fe){return encodeURIComponent(fe).replace(He,(oe,ge)=>xt[ge]??oe)}function un(fe){return`${fe}`}class Gt{constructor(oe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=oe.encoder||new Qe,oe.fromString){if(oe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rt(fe,oe){const ge=new Map;return fe.length>0&&fe.replace(/^\?/,"").split("&").forEach(mt=>{const re=mt.indexOf("="),[ae,Te]=-1==re?[oe.decodeKey(mt),""]:[oe.decodeKey(mt.slice(0,re)),oe.decodeValue(mt.slice(re+1))],je=ge.get(ae)||[];je.push(Te),ge.set(ae,je)}),ge}(oe.fromString,this.encoder)}else oe.fromObject?(this.map=new Map,Object.keys(oe.fromObject).forEach(ge=>{const it=oe.fromObject[ge],mt=Array.isArray(it)?it.map(un):[un(it)];this.map.set(ge,mt)})):this.map=null}has(oe){return this.init(),this.map.has(oe)}get(oe){this.init();const ge=this.map.get(oe);return ge?ge[0]:null}getAll(oe){return this.init(),this.map.get(oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(oe,ge){return this.clone({param:oe,value:ge,op:"a"})}appendAll(oe){const ge=[];return Object.keys(oe).forEach(it=>{const mt=oe[it];Array.isArray(mt)?mt.forEach(re=>{ge.push({param:it,value:re,op:"a"})}):ge.push({param:it,value:mt,op:"a"})}),this.clone(ge)}set(oe,ge){return this.clone({param:oe,value:ge,op:"s"})}delete(oe,ge){return this.clone({param:oe,value:ge,op:"d"})}toString(){return this.init(),this.keys().map(oe=>{const ge=this.encoder.encodeKey(oe);return this.map.get(oe).map(it=>ge+"="+this.encoder.encodeValue(it)).join("&")}).filter(oe=>""!==oe).join("&")}clone(oe){const ge=new Gt({encoder:this.encoder});return ge.cloneFrom=this.cloneFrom||this,ge.updates=(this.updates||[]).concat(oe),ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(oe=>this.map.set(oe,this.cloneFrom.map.get(oe))),this.updates.forEach(oe=>{switch(oe.op){case"a":case"s":const ge=("a"===oe.op?this.map.get(oe.param):void 0)||[];ge.push(un(oe.value)),this.map.set(oe.param,ge);break;case"d":if(void 0===oe.value){this.map.delete(oe.param);break}{let it=this.map.get(oe.param)||[];const mt=it.indexOf(un(oe.value));-1!==mt&&it.splice(mt,1),it.length>0?this.map.set(oe.param,it):this.map.delete(oe.param)}}}),this.cloneFrom=this.updates=null)}}class Lt{constructor(){this.map=new Map}set(oe,ge){return this.map.set(oe,ge),this}get(oe){return this.map.has(oe)||this.map.set(oe,oe.defaultValue()),this.map.get(oe)}delete(oe){return this.map.delete(oe),this}has(oe){return this.map.has(oe)}keys(){return this.map.keys()}}function Me(fe){return typeof ArrayBuffer<"u"&&fe instanceof ArrayBuffer}function ct(fe){return typeof Blob<"u"&&fe instanceof Blob}function kt(fe){return typeof FormData<"u"&&fe instanceof FormData}class Be{constructor(oe,ge,it,mt){let re;if(this.url=ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=oe.toUpperCase(),function Ke(fe){switch(fe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||mt?(this.body=void 0!==it?it:null,re=mt):re=it,re&&(this.reportProgress=!!re.reportProgress,this.withCredentials=!!re.withCredentials,re.responseType&&(this.responseType=re.responseType),re.headers&&(this.headers=re.headers),re.context&&(this.context=re.context),re.params&&(this.params=re.params)),this.headers||(this.headers=new ie),this.context||(this.context=new Lt),this.params){const ae=this.params.toString();if(0===ae.length)this.urlWithParams=ge;else{const Te=ge.indexOf("?");this.urlWithParams=ge+(-1===Te?"?":Te<ge.length-1?"&":"")+ae}}else this.params=new Gt,this.urlWithParams=ge}serializeBody(){return null===this.body?null:Me(this.body)||ct(this.body)||kt(this.body)||function ot(fe){return typeof URLSearchParams<"u"&&fe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kt(this.body)?null:ct(this.body)?this.body.type||null:Me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(oe={}){const ge=oe.method||this.method,it=oe.url||this.url,mt=oe.responseType||this.responseType,re=void 0!==oe.body?oe.body:this.body,ae=void 0!==oe.withCredentials?oe.withCredentials:this.withCredentials,Te=void 0!==oe.reportProgress?oe.reportProgress:this.reportProgress;let je=oe.headers||this.headers,ke=oe.params||this.params;const zt=oe.context??this.context;return void 0!==oe.setHeaders&&(je=Object.keys(oe.setHeaders).reduce((we,me)=>we.set(me,oe.setHeaders[me]),je)),oe.setParams&&(ke=Object.keys(oe.setParams).reduce((we,me)=>we.set(me,oe.setParams[me]),ke)),new Be(ge,it,re,{params:ke,headers:je,context:zt,reportProgress:Te,responseType:mt,withCredentials:ae})}}var he=(()=>((he=he||{})[he.Sent=0]="Sent",he[he.UploadProgress=1]="UploadProgress",he[he.ResponseHeader=2]="ResponseHeader",he[he.DownloadProgress=3]="DownloadProgress",he[he.Response=4]="Response",he[he.User=5]="User",he))();class lt{constructor(oe,ge=200,it="OK"){this.headers=oe.headers||new ie,this.status=void 0!==oe.status?oe.status:ge,this.statusText=oe.statusText||it,this.url=oe.url||null,this.ok=this.status>=200&&this.status<300}}class dt extends lt{constructor(oe={}){super(oe),this.type=he.ResponseHeader}clone(oe={}){return new dt({headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class Le extends lt{constructor(oe={}){super(oe),this.type=he.Response,this.body=void 0!==oe.body?oe.body:null}clone(oe={}){return new Le({body:void 0!==oe.body?oe.body:this.body,headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class Mt extends lt{constructor(oe){super(oe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${oe.url||"(unknown url)"}`:`Http failure response for ${oe.url||"(unknown url)"}: ${oe.status} ${oe.statusText}`,this.error=oe.error||null}}function Ne(fe,oe){return{body:oe,headers:fe.headers,context:fe.context,observe:fe.observe,params:fe.params,reportProgress:fe.reportProgress,responseType:fe.responseType,withCredentials:fe.withCredentials}}let Ae=(()=>{class fe{constructor(ge){this.handler=ge}request(ge,it,mt={}){let re;if(ge instanceof Be)re=ge;else{let je,ke;je=mt.headers instanceof ie?mt.headers:new ie(mt.headers),mt.params&&(ke=mt.params instanceof Gt?mt.params:new Gt({fromObject:mt.params})),re=new Be(ge,it,void 0!==mt.body?mt.body:null,{headers:je,context:mt.context,params:ke,reportProgress:mt.reportProgress,responseType:mt.responseType||"json",withCredentials:mt.withCredentials})}const ae=(0,b.of)(re).pipe((0,le.b)(je=>this.handler.handle(je)));if(ge instanceof Be||"events"===mt.observe)return ae;const Te=ae.pipe((0,Ye.h)(je=>je instanceof Le));switch(mt.observe||"body"){case"body":switch(re.responseType){case"arraybuffer":return Te.pipe((0,ut.U)(je=>{if(null!==je.body&&!(je.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return je.body}));case"blob":return Te.pipe((0,ut.U)(je=>{if(null!==je.body&&!(je.body instanceof Blob))throw new Error("Response is not a Blob.");return je.body}));case"text":return Te.pipe((0,ut.U)(je=>{if(null!==je.body&&"string"!=typeof je.body)throw new Error("Response is not a string.");return je.body}));default:return Te.pipe((0,ut.U)(je=>je.body))}case"response":return Te;default:throw new Error(`Unreachable: unhandled observe type ${mt.observe}}`)}}delete(ge,it={}){return this.request("DELETE",ge,it)}get(ge,it={}){return this.request("GET",ge,it)}head(ge,it={}){return this.request("HEAD",ge,it)}jsonp(ge,it){return this.request("JSONP",ge,{params:(new Gt).append(it,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ge,it={}){return this.request("OPTIONS",ge,it)}patch(ge,it,mt={}){return this.request("PATCH",ge,Ne(mt,it))}post(ge,it,mt={}){return this.request("POST",ge,Ne(mt,it))}put(ge,it,mt={}){return this.request("PUT",ge,Ne(mt,it))}}return fe.\u0275fac=function(ge){return new(ge||fe)(j.LFG(Ve))},fe.\u0275prov=j.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function et(fe,oe){return oe(fe)}function _t(fe,oe){return(ge,it)=>oe.intercept(ge,{handle:mt=>fe(mt,it)})}const Ge=new j.OlP("HTTP_INTERCEPTORS"),Fe=new j.OlP("HTTP_INTERCEPTOR_FNS");function De(){let fe=null;return(oe,ge)=>(null===fe&&(fe=((0,j.f3M)(Ge,{optional:!0})??[]).reduceRight(_t,et)),fe(oe,ge))}let st=(()=>{class fe extends Ve{constructor(ge,it){super(),this.backend=ge,this.injector=it,this.chain=null}handle(ge){if(null===this.chain){const it=Array.from(new Set(this.injector.get(Fe)));this.chain=it.reduceRight((mt,re)=>function Pe(fe,oe,ge){return(it,mt)=>ge.runInContext(()=>oe(it,re=>fe(re,mt)))}(mt,re,this.injector),et)}return this.chain(ge,it=>this.backend.handle(it))}}return fe.\u0275fac=function(ge){return new(ge||fe)(j.LFG(yt),j.LFG(j.lqb))},fe.\u0275prov=j.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const pr=/^\)\]\}',?\n/;let Ht=(()=>{class fe{constructor(ge){this.xhrFactory=ge}handle(ge){if("JSONP"===ge.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Se.y(it=>{const mt=this.xhrFactory.build();if(mt.open(ge.method,ge.urlWithParams),ge.withCredentials&&(mt.withCredentials=!0),ge.headers.forEach((ne,_e)=>mt.setRequestHeader(ne,_e.join(","))),ge.headers.has("Accept")||mt.setRequestHeader("Accept","application/json, text/plain, */*"),!ge.headers.has("Content-Type")){const ne=ge.detectContentTypeHeader();null!==ne&&mt.setRequestHeader("Content-Type",ne)}if(ge.responseType){const ne=ge.responseType.toLowerCase();mt.responseType="json"!==ne?ne:"text"}const re=ge.serializeBody();let ae=null;const Te=()=>{if(null!==ae)return ae;const ne=mt.statusText||"OK",_e=new ie(mt.getAllResponseHeaders()),tt=function bi(fe){return"responseURL"in fe&&fe.responseURL?fe.responseURL:/^X-Request-URL:/m.test(fe.getAllResponseHeaders())?fe.getResponseHeader("X-Request-URL"):null}(mt)||ge.url;return ae=new dt({headers:_e,status:mt.status,statusText:ne,url:tt}),ae},je=()=>{let{headers:ne,status:_e,statusText:tt,url:Ct}=Te(),Yt=null;204!==_e&&(Yt=typeof mt.response>"u"?mt.responseText:mt.response),0===_e&&(_e=Yt?200:0);let en=_e>=200&&_e<300;if("json"===ge.responseType&&"string"==typeof Yt){const br=Yt;Yt=Yt.replace(pr,"");try{Yt=""!==Yt?JSON.parse(Yt):null}catch(Or){Yt=br,en&&(en=!1,Yt={error:Or,text:Yt})}}en?(it.next(new Le({body:Yt,headers:ne,status:_e,statusText:tt,url:Ct||void 0})),it.complete()):it.error(new Mt({error:Yt,headers:ne,status:_e,statusText:tt,url:Ct||void 0}))},ke=ne=>{const{url:_e}=Te(),tt=new Mt({error:ne,status:mt.status||0,statusText:mt.statusText||"Unknown Error",url:_e||void 0});it.error(tt)};let zt=!1;const we=ne=>{zt||(it.next(Te()),zt=!0);let _e={type:he.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(_e.total=ne.total),"text"===ge.responseType&&mt.responseText&&(_e.partialText=mt.responseText),it.next(_e)},me=ne=>{let _e={type:he.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(_e.total=ne.total),it.next(_e)};return mt.addEventListener("load",je),mt.addEventListener("error",ke),mt.addEventListener("timeout",ke),mt.addEventListener("abort",ke),ge.reportProgress&&(mt.addEventListener("progress",we),null!==re&&mt.upload&&mt.upload.addEventListener("progress",me)),mt.send(re),it.next({type:he.Sent}),()=>{mt.removeEventListener("error",ke),mt.removeEventListener("abort",ke),mt.removeEventListener("load",je),mt.removeEventListener("timeout",ke),ge.reportProgress&&(mt.removeEventListener("progress",we),null!==re&&mt.upload&&mt.upload.removeEventListener("progress",me)),mt.readyState!==mt.DONE&&mt.abort()}})}}return fe.\u0275fac=function(ge){return new(ge||fe)(j.LFG(p.JF))},fe.\u0275prov=j.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const rr=new j.OlP("XSRF_ENABLED"),gr=new j.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Nr=new j.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class jn{}let ii=(()=>{class fe{constructor(ge,it,mt){this.doc=ge,this.platform=it,this.cookieName=mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ge=this.doc.cookie||"";return ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(ge,this.cookieName),this.lastCookieString=ge),this.lastToken}}return fe.\u0275fac=function(ge){return new(ge||fe)(j.LFG(p.K0),j.LFG(j.Lbi),j.LFG(gr))},fe.\u0275prov=j.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function Fn(fe,oe){const ge=fe.url.toLowerCase();if(!(0,j.f3M)(rr)||"GET"===fe.method||"HEAD"===fe.method||ge.startsWith("http://")||ge.startsWith("https://"))return oe(fe);const it=(0,j.f3M)(jn).getToken(),mt=(0,j.f3M)(Nr);return null!=it&&!fe.headers.has(mt)&&(fe=fe.clone({headers:fe.headers.set(mt,it)})),oe(fe)}var Vt=(()=>((Vt=Vt||{})[Vt.Interceptors=0]="Interceptors",Vt[Vt.LegacyInterceptors=1]="LegacyInterceptors",Vt[Vt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Vt[Vt.NoXsrfProtection=3]="NoXsrfProtection",Vt[Vt.JsonpSupport=4]="JsonpSupport",Vt[Vt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Vt))();function Tn(fe,oe){return{\u0275kind:fe,\u0275providers:oe}}function In(...fe){const oe=[Ae,Ht,st,{provide:Ve,useExisting:st},{provide:yt,useExisting:Ht},{provide:Fe,useValue:Fn,multi:!0},{provide:rr,useValue:!0},{provide:jn,useClass:ii}];for(const ge of fe)oe.push(...ge.\u0275providers);return(0,j.MR2)(oe)}const si=new j.OlP("LEGACY_INTERCEPTOR_FN");let Hr=(()=>{class fe{}return fe.\u0275fac=function(ge){return new(ge||fe)},fe.\u0275mod=j.oAB({type:fe}),fe.\u0275inj=j.cJS({providers:[In(Tn(Vt.LegacyInterceptors,[{provide:si,useFactory:De},{provide:Fe,useExisting:si,multi:!0}]))]}),fe})()},8256:(dn,gt,K)=>{K.d(gt,{QbO:()=>Ww,tb:()=>LE,AFp:()=>CE,ip1:()=>bE,CZH:()=>Dy,hGG:()=>NT,z2F:()=>Cy,sBO:()=>yT,Sil:()=>Jw,_Vd:()=>ju,EJc:()=>Yw,Xts:()=>xa,SBq:()=>Yo,lqb:()=>Oa,qLn:()=>ka,vpe:()=>jl,XFs:()=>bt,OlP:()=>Pr,zs3:()=>Ku,ZZ4:()=>Z_,aQg:()=>Y_,soG:()=>by,YKP:()=>Lv,h0i:()=>Fp,PXZ:()=>dT,R0b:()=>vu,FiY:()=>Zr,Lbi:()=>qw,g9A:()=>SE,Qsj:()=>sh,FYo:()=>ih,JOm:()=>Pa,q3G:()=>di,tp0:()=>So,Rgc:()=>sm,dDg:()=>aT,eoX:()=>kE,q4F:()=>ig,GfV:()=>Gu,s_b:()=>wy,ifc:()=>Ct,MMx:()=>I_,Lck:()=>V0,eFA:()=>UE,G48:()=>mT,Gpc:()=>Ot,f3M:()=>Te,$WT:()=>tr,MR2:()=>rg,_c5:()=>xT,c2e:()=>Kw,zSh:()=>cc,wAp:()=>kn,vHH:()=>ot,lri:()=>NE,rWj:()=>OE,JZr:()=>kt,EiD:()=>Yd,mCW:()=>Yc,qzn:()=>Di,JVY:()=>Kd,pB0:()=>nc,eBb:()=>$r,L6k:()=>tc,LAX:()=>Zd,D6c:()=>OT,cg1:()=>Qg,kL8:()=>py,dqk:()=>Vn,Z0I:()=>rr,eJc:()=>N_,CqO:()=>Dp,QGY:()=>Lg,F4k:()=>Vg,RDi:()=>qd,AaK:()=>Kt,z3N:()=>cu,qOj:()=>Ph,TTD:()=>vs,_Bn:()=>Fv,jDz:()=>Uv,xp6:()=>qf,uIk:()=>Oh,Tol:()=>Sp,ekj:()=>Hh,Suo:()=>rE,Xpm:()=>zi,lG2:()=>Gr,Yz7:()=>qn,cJS:()=>bi,oAB:()=>vi,Yjl:()=>Ss,Y36:()=>Zu,_UZ:()=>Tp,BQk:()=>Ip,ynx:()=>Vh,qZA:()=>wp,TgZ:()=>Ep,EpF:()=>Gm,n5z:()=>oo,LFG:()=>re,$8M:()=>ru,$Z:()=>dd,NdJ:()=>Ug,CRH:()=>iE,oxw:()=>jg,Q6J:()=>kl,s9C:()=>lo,iGM:()=>nE,KtG:()=>Qi,CHM:()=>io,oJD:()=>Ja,LSH:()=>oc,P3R:()=>ac,Udp:()=>Ul,d8E:()=>_u,YNc:()=>kg,_uU:()=>r_,Oqu:()=>sy,hij:()=>Bl});var p=K(7579),j=K(727),b=K(9751),Se=K(8189),le=K(8421),Ye=K(515),ut=K(7669),Ve=K(8996),ie=K(2961),Ee=K(4482);function rt(n,r,...s){if(!0===r)return void n();if(!1===r)return;const a=new ie.Hp({next:()=>{a.unsubscribe(),n()}});return r(...s).subscribe(a)}function He(n){for(let r in n)if(n[r]===He)return r;throw Error("Could not find renamed property on target object.")}function xt(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Kt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Kt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function un(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Gt=He({__forward_ref__:He});function Ot(n){return n.__forward_ref__=Ot,n.toString=function(){return Kt(this())},n}function Lt(n){return Ke(n)?n():n}function Ke(n){return"function"==typeof n&&n.hasOwnProperty(Gt)&&n.__forward_ref__===Ot}function Me(n){return n&&!!n.\u0275providers}const kt="https://g.co/ng/security#xss";class ot extends Error{constructor(r,s){super(Be(r,s)),this.code=r}}function Be(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function he(n){return"string"==typeof n?n:null==n?"":String(n)}function Ne(n,r){throw new ot(-201,!1)}function wn(n,r){null==n&&function an(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function qn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function bi(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ht(n){return Xn(n,Nr)||Xn(n,ii)}function rr(n){return null!==Ht(n)}function Xn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Qr(n){return n&&(n.hasOwnProperty(jn)||n.hasOwnProperty(Fn))?n[jn]:null}const Nr=He({\u0275prov:He}),jn=He({\u0275inj:He}),ii=He({ngInjectableDef:He}),Fn=He({ngInjectorDef:He});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Vt;function In(n){const r=Vt;return Vt=n,r}function er(n,r,s){const a=Ht(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&bt.Optional?null:void 0!==r?r:void Ne(Kt(n))}const Vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rn={},Ci="__NG_DI_FLAG__",Hr="ngTempTokenPath",Xt="ngTokenPath",vt=/\n/gm,fe="\u0275",oe="__source";let ge;function it(n){const r=ge;return ge=n,r}function mt(n,r=bt.Default){if(void 0===ge)throw new ot(-203,!1);return null===ge?er(n,void 0,r):ge.get(n,r&bt.Optional?null:void 0,r)}function re(n,r=bt.Default){return(function Tn(){return Vt}()||mt)(Lt(n),r)}function Te(n,r=bt.Default){return re(n,je(r))}function je(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ke(n){const r=[];for(let s=0;s<n.length;s++){const a=Lt(n[s]);if(Array.isArray(a)){if(0===a.length)throw new ot(900,!1);let l,h=bt.Default;for(let _=0;_<a.length;_++){const C=a[_],M=we(C);"number"==typeof M?-1===M?l=C.token:h|=M:l=C}r.push(re(l,h))}else r.push(re(a))}return r}function zt(n,r){return n[Ci]=r,n.prototype[Ci]=r,n}function we(n){return n[Ci]}function _e(n){return{toString:n}.toString()}var tt=(()=>((tt=tt||{})[tt.OnPush=0]="OnPush",tt[tt.Default=1]="Default",tt))(),Ct=(()=>{return(n=Ct||(Ct={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ct;var n})();const Yt={},en=[],br=He({\u0275cmp:He}),Or=He({\u0275dir:He}),ki=He({\u0275pipe:He}),mi=He({\u0275mod:He}),yi=He({\u0275fac:He}),Fi=He({__NG_ELEMENT_ID__:He});let _i=0;function zi(n){return _e(()=>{const r=Ms(n),s={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===tt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ct.Emulated,id:"c"+_i++,styles:n.styles||en,_:null,schemas:n.schemas||null,tView:null};qi(s);const a=n.dependencies;return s.directiveDefs=lr(a,!1),s.pipeDefs=lr(a,!0),s})}function zs(n){return Bn(n)||Hn(n)}function Li(n){return null!==n}function vi(n){return _e(()=>({type:n.type,bootstrap:n.bootstrap||en,declarations:n.declarations||en,imports:n.imports||en,exports:n.exports||en,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function As(n,r){if(null==n)return Yt;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=a,r&&(r[l]=h)}return s}function Gr(n){return _e(()=>{const r=Ms(n);return qi(r),r})}function Ss(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Bn(n){return n[br]||null}function Hn(n){return n[Or]||null}function wr(n){return n[ki]||null}function tr(n){const r=Bn(n)||Hn(n)||wr(n);return null!==r&&r.standalone}function Mr(n,r){const s=n[mi]||null;if(!s&&!0===r)throw new Error(`Type ${Kt(n)} does not have '\u0275mod' property.`);return s}function Ms(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||en,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:As(n.inputs,r),outputs:As(n.outputs)}}function qi(n){n.features?.forEach(r=>r(n))}function lr(n,r){if(!n)return null;const s=r?wr:zs;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(Li)}const Ai=0,Qt=1,An=2,Tr=3,cr=4,Vi=5,mr=6,is=7,yr=8,Ps=9,Ei=10,mn=11,ho=12,Wi=13,Xs=14,kr=15,Ir=16,ds=17,ss=18,Jr=19,Fr=20,Ui=21,nr=22,Rs=1,Jo=2,eo=7,xs=8,Lr=9,Xr=10;function ei(n){return Array.isArray(n)&&"object"==typeof n[Rs]}function Cn(n){return Array.isArray(n)&&!0===n[Rs]}function Ki(n){return 0!=(4&n.flags)}function Bi(n){return n.componentOffset>-1}function zr(n){return 1==(1&n.flags)}function Si(n){return!!n.template}function Mi(n){return 0!=(256&n[An])}function oi(n,r){return n.hasOwnProperty(yi)?n[yi]:null}class zo{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function vs(){return ko}function ko(n){return n.type.prototype.ngOnChanges&&(n.setInput=$i),dr}function dr(){const n=Wr(this),r=n?.current;if(r){const s=n.previous;if(s===Yt)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function $i(n,r,s,a){const l=this.declaredInputs[s],h=Wr(n)||function Ws(n,r){return n[qr]=r}(n,{previous:Yt,current:null}),_=h.current||(h.current={}),C=h.previous,M=C[l];_[l]=new zo(M&&M.currentValue,r,C===Yt),n[a]=r}vs.ngInherit=!0;const qr="__ngSimpleChanges__";function Wr(n){return n[qr]||null}const Pi=function(n,r,s){};function Cr(n){for(;Array.isArray(n);)n=n[Ai];return n}function Ks(n,r){return Cr(r[n])}function ai(n,r){return Cr(r[n.index])}function ni(n,r){return n.data[r]}function Wn(n,r){const s=r[n];return ei(s)?s:s[Ai]}function Zs(n){return 64==(64&n[An])}function Ti(n,r){return null==r?null:n[r]}function ro(n){n[ss]=0}function bo(n,r){n[Vi]+=r;let s=n,a=n[Tr];for(;null!==a&&(1===r&&1===s[Vi]||-1===r&&0===s[Vi]);)a[Vi]+=r,s=a,a=a[Tr]}const hn={lFrame:Ie(null),bindingsEnabled:!0};function sn(){return hn.bindingsEnabled}function Tt(){return hn.lFrame.lView}function Sn(){return hn.lFrame.tView}function io(n){return hn.lFrame.contextLView=n,n[yr]}function Qi(n){return hn.lFrame.contextLView=null,n}function Ur(){let n=po();for(;null!==n&&64===n.type;)n=n.parent;return n}function po(){return hn.lFrame.currentTNode}function Br(n,r){const s=hn.lFrame;s.currentTNode=n,s.isParent=r}function ea(){return hn.lFrame.isParent}function qo(){hn.lFrame.isParent=!1}function ta(){return hn.lFrame.bindingIndex++}function Ls(n){const r=hn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Ca(n,r){const s=hn.lFrame;s.bindingIndex=s.bindingRootIndex=n,ha(r)}function ha(n){hn.lFrame.currentDirectiveIndex=n}function G(n){const r=hn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function E(){return hn.lFrame.currentQueryIndex}function T(n){hn.lFrame.currentQueryIndex=n}function N(n){const r=n[Qt];return 2===r.type?r.declTNode:1===r.type?n[mr]:null}function q(n,r,s){if(s&bt.SkipSelf){let l=r,h=n;for(;!(l=l.parent,null!==l||s&bt.Host||(l=N(h),null===l||(h=h[kr],10&l.type))););if(null===l)return!1;r=l,n=h}const a=hn.lFrame=ye();return a.currentTNode=r,a.lView=n,!0}function te(n){const r=ye(),s=n[Qt];hn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ye(){const n=hn.lFrame,r=null===n?null:n.child;return null===r?Ie(n):r}function Ie(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function de(){const n=hn.lFrame;return hn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Je=de;function Pt(){const n=de();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function At(){return hn.lFrame.selectedIndex}function yn(n){hn.lFrame.selectedIndex=n}function at(){const n=hn.lFrame;return ni(n.tView,n.selectedIndex)}function We(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:M,ngAfterViewChecked:$,ngOnDestroy:Q}=h;_&&(n.contentHooks??(n.contentHooks=[])).push(-s,_),C&&((n.contentHooks??(n.contentHooks=[])).push(s,C),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(s,C)),M&&(n.viewHooks??(n.viewHooks=[])).push(-s,M),$&&((n.viewHooks??(n.viewHooks=[])).push(s,$),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(s,$)),null!=Q&&(n.destroyHooks??(n.destroyHooks=[])).push(s,Q)}}function ft(n,r,s){zn(n,r,3,s)}function nn(n,r,s,a){(3&n[An])===s&&zn(n,r,s,a)}function $n(n,r){let s=n[An];(3&s)===r&&(s&=2047,s+=1,n[An]=s)}function zn(n,r,s,a){const h=a??-1,_=r.length-1;let C=0;for(let M=void 0!==a?65535&n[ss]:0;M<_;M++)if("number"==typeof r[M+1]){if(C=r[M],null!=a&&C>=a)break}else r[M]<0&&(n[ss]+=65536),(C<h||-1==h)&&(sr(n,s,r,M),n[ss]=(4294901760&n[ss])+M+2),M++}function sr(n,r,s,a){const l=s[a]<0,h=s[a+1],C=n[l?-s[a]:s[a]];if(l){if(n[An]>>11<n[ss]>>16&&(3&n[An])===r){n[An]+=2048,Pi(4,C,h);try{h.call(C)}finally{Pi(5,C,h)}}}else{Pi(4,C,h);try{h.call(C)}finally{Pi(5,C,h)}}}const vn=-1;class Gn{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function xn(n,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const h=s[a++],_=s[a++],C=s[a++];n.setAttribute(r,_,C,h)}else{const h=l,_=s[++a];vr(h)?n.setProperty(r,h,_):n.setAttribute(r,h,_),a++}}return a}function Ut(n){return 3===n||4===n||6===n}function vr(n){return 64===n.charCodeAt(0)}function Es(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Co(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function Co(n,r,s,a,l){let h=0,_=n.length;if(-1===r)_=-1;else for(;h<n.length;){const C=n[h++];if("number"==typeof C){if(C===r){_=-1;break}if(C>r){_=h-1;break}}}for(;h<n.length;){const C=n[h];if("number"==typeof C)break;if(C===s){if(null===a)return void(null!==l&&(n[h+1]=l));if(a===n[h+1])return void(n[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==_&&(n.splice(_,0,r),h=_+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==l&&n.splice(h++,0,l)}function xi(n){return n!==vn}function Vs(n){return 32767&n}function ws(n,r){let s=function Xi(n){return n>>16}(n),a=r;for(;s>0;)a=a[kr],s--;return a}let Lo=!0;function fa(n){const r=Lo;return Lo=n,r}const ja=255,Aa=5;let Hl=0;const Yn={};function Xe(n,r){const s=Ts(n,r);if(-1!==s)return s;const a=r[Qt];a.firstCreatePass&&(n.injectorIndex=r.length,pa(a.data,n),pa(r,null),pa(a.blueprint,null));const l=Vo(n,r),h=n.injectorIndex;if(xi(l)){const _=Vs(l),C=ws(l,r),M=C[Qt].data;for(let $=0;$<8;$++)r[h+$]=C[_+$]|M[_+$]}return r[h+8]=l,h}function pa(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Ts(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Vo(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=Iu(l),null===a)return vn;if(s++,l=l[kr],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return vn}function ga(n,r,s){!function ra(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Fi)&&(a=s[Fi]),null==a&&(a=s[Fi]=Hl++);const l=a&ja;r.data[n+(l>>Aa)]|=1<<l}(n,r,s)}function Ha(n,r,s){if(s&bt.Optional||void 0!==n)return n;Ne()}function Kr(n,r,s,a){if(s&bt.Optional&&void 0===a&&(a=null),!(s&(bt.Self|bt.Host))){const l=n[Ps],h=In(void 0);try{return l?l.get(r,a,s&bt.Optional):er(r,a,s&bt.Optional)}finally{In(h)}}return Ha(a,0,s)}function Ga(n,r,s,a=bt.Default,l){if(null!==n){if(1024&r[An]){const _=function qa(n,r,s,a,l){let h=n,_=r;for(;null!==h&&null!==_&&1024&_[An]&&!(256&_[An]);){const C=es(h,_,s,a|bt.Self,Yn);if(C!==Yn)return C;let M=h.parent;if(!M){const $=_[Ui];if($){const Q=$.get(s,Yn,a);if(Q!==Yn)return Q}M=Iu(_),_=_[kr]}h=M}return l}(n,r,s,a,Yn);if(_!==Yn)return _}const h=es(n,r,s,a,Yn);if(h!==Yn)return h}return Kr(r,s,a,l)}function es(n,r,s,a,l){const h=function wu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Fi)?n[Fi]:void 0;return"number"==typeof r?r>=0?r&ja:Tu:r}(s);if("function"==typeof h){if(!q(r,n,a))return a&bt.Host?Ha(l,0,a):Kr(r,s,a,l);try{const _=h(a);if(null!=_||a&bt.Optional)return _;Ne()}finally{Je()}}else if("number"==typeof h){let _=null,C=Ts(n,r),M=vn,$=a&bt.Host?r[Ir][mr]:null;for((-1===C||a&bt.SkipSelf)&&(M=-1===C?Vo(n,r):r[C+8],M!==vn&&rl(a,!1)?(_=r[Qt],C=Vs(M),r=ws(M,r)):C=-1);-1!==C;){const Q=r[Qt];if(Sa(h,C,Q.data)){const ue=za(C,r,s,_,a,$);if(ue!==Yn)return ue}M=r[C+8],M!==vn&&rl(a,r[Qt].data[C+8]===$)&&Sa(h,C,r)?(_=Q,C=Vs(M),r=ws(M,r)):C=-1}}return l}function za(n,r,s,a,l,h){const _=r[Qt],C=_.data[n+8],Q=Eu(C,_,s,null==a?Bi(C)&&Lo:a!=_&&0!=(3&C.type),l&bt.Host&&h===C);return null!==Q?Ni(r,_,Q,C):Yn}function Eu(n,r,s,a,l){const h=n.providerIndexes,_=r.data,C=1048575&h,M=n.directiveStart,Q=h>>20,Re=l?C+Q:n.directiveEnd;for(let qe=a?C:C+Q;qe<Re;qe++){const Dt=_[qe];if(qe<M&&s===Dt||qe>=M&&Dt.type===s)return qe}if(l){const qe=_[M];if(qe&&Si(qe)&&qe.type===s)return M}return null}function Ni(n,r,s,a){let l=n[s];const h=r.data;if(function Jt(n){return n instanceof Gn}(l)){const _=l;_.resolving&&function dt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ot(-200,`Circular dependency in DI detected for ${n}${s}`)}(function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():he(n)}(h[s]));const C=fa(_.canSeeViewProviders);_.resolving=!0;const M=_.injectImpl?In(_.injectImpl):null;q(n,a,bt.Default);try{l=n[s]=_.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function ce(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const _=ko(r);(s.preOrderHooks??(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,_)}l&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-n,l),h&&((s.preOrderHooks??(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==M&&In(M),fa(C),_.resolving=!1,Je()}}return l}function Sa(n,r,s){return!!(s[r+(n>>Aa)]&1<<n)}function rl(n,r){return!(n&bt.Self||n&bt.Host&&r)}class ri{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Ga(this._tNode,this._lView,r,je(a),s)}}function Tu(){return new ri(Ur(),Tt())}function oo(n){return _e(()=>{const r=n.prototype.constructor,s=r[yi]||Bo(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const h=l[yi]||Bo(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Bo(n){return Ke(n)?()=>{const r=Bo(Lt(n));return r&&r()}:oi(n)}function Iu(n){const r=n[Qt],s=r.type;return 2===s?r.declTNode:1===s?n[mr]:null}function ru(n){return function Uo(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const h=s[l];if(Ut(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(Ur(),n)}const ma="__parameters__";function _a(n,r,s){return _e(()=>{const a=function Wa(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const _=new l(...h);return C.annotation=_,C;function C(M,$,Q){const ue=M.hasOwnProperty(ma)?M[ma]:Object.defineProperty(M,ma,{value:[]})[ma];for(;ue.length<=Q;)ue.push(null);return(ue[Q]=ue[Q]||[]).push(_),M}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Pr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=qn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yo(n,r){n.forEach(s=>Array.isArray(s)?yo(s,r):r(s))}function Rr(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Ao(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function g(n,r,s){let a=k(n,r);return a>=0?n[1|a]=s:(a=~a,function v(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function S(n,r){const s=k(n,r);if(s>=0)return n[1|s]}function k(n,r){return function J(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const h=a+(l-a>>1),_=n[h<<s];if(r===_)return h<<s;_>r?l=h:a=h+1}return~(l<<s)}(n,r,1)}const Zr=zt(_a("Optional"),8),So=zt(_a("SkipSelf"),4);var Pa=(()=>((Pa=Pa||{})[Pa.Important=1]="Important",Pa[Pa.DashCase=2]="DashCase",Pa))();const Za=new Map;let Bc=0;const al="__ngContext__";function Ys(n,r){ei(r)?(n[al]=r[Fr],function nf(n){Za.set(n[Fr],n)}(r)):n[al]=r}let wa;function cl(n,r){return wa(n,r)}function Au(n){const r=n[Tr];return Cn(r)?r[Tr]:r}function sa(n){return dl(n[Wi])}function zc(n){return dl(n[cr])}function dl(n){for(;null!==n&&!Cn(n);)n=n[cr];return n}function Su(n,r,s,a,l){if(null!=a){let h,_=!1;Cn(a)?h=a:ei(a)&&(_=!0,a=a[Ai]);const C=Cr(a);0===n&&null!==s?null==l?Ql(r,s,C):Pu(r,s,C,l||null,!0):1===n&&null!==s?Pu(r,s,C,l||null,!0):2===n?function Gd(n,r,s){const a=pl(n,r);a&&function lm(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,C,_):3===n&&r.destroyNode(C),null!=h&&function mf(n,r,s,a,l){const h=s[eo];h!==Cr(s)&&Su(r,n,a,h,l);for(let C=Xr;C<s.length;C++){const M=s[C];gl(M[Qt],M,n,r,a,h)}}(r,n,h,s,l)}}function au(n,r,s){return n.createElement(r,s)}function lf(n,r){const s=n[Lr],a=s.indexOf(r),l=r[Tr];512&r[An]&&(r[An]&=-513,bo(l,-1)),s.splice(a,1)}function uu(n,r){if(n.length<=Xr)return;const s=Xr+r,a=n[s];if(a){const l=a[ds];null!==l&&l!==n&&lf(l,a),r>0&&(n[s-1][cr]=a[cr]);const h=Ao(n,Xr+r);!function Bd(n,r){gl(n,r,r[mn],2,null,null),r[Ai]=null,r[mr]=null}(a[Qt],a);const _=h[Jr];null!==_&&_.detachView(h[Qt]),a[Tr]=null,a[cr]=null,a[An]&=-65}return a}function Mu(n,r){if(!(128&r[An])){const s=r[mn];s.destroyNode&&gl(n,r,s,3,null,null),function Wc(n){let r=n[Wi];if(!r)return $d(n[Qt],n);for(;r;){let s=null;if(ei(r))s=r[Wi];else{const a=r[Xr];a&&(s=a)}if(!s){for(;r&&!r[cr]&&r!==n;)ei(r)&&$d(r[Qt],r),r=r[Tr];null===r&&(r=n),ei(r)&&$d(r[Qt],r),s=r&&r[cr]}r=s}}(r)}}function $d(n,r){if(!(128&r[An])){r[An]&=-65,r[An]|=128,function Wp(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof Gn)){const h=s[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const C=l[h[_]],M=h[_+1];Pi(4,C,M);try{M.call(C)}finally{Pi(5,C,M)}}else{Pi(4,l,h);try{h.call(l)}finally{Pi(5,l,h)}}}}}(n,r),function hl(n,r){const s=n.cleanup,a=r[is];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const _=s[h+3];_>=0?a[l=_]():a[l=-_].unsubscribe(),h+=2}else{const _=a[l=s[h+1]];s[h].call(_)}if(null!==a){for(let h=l+1;h<a.length;h++)(0,a[h])();r[is]=null}}(n,r),1===r[Qt].type&&r[mn].destroy();const s=r[ds];if(null!==s&&Cn(r[Tr])){s!==r[Tr]&&lf(s,r);const a=r[Jr];null!==a&&a.detachView(n)}!function Ya(n){Za.delete(n[Fr])}(r)}}function fl(n,r,s){return function cf(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Ai];{const{componentOffset:l}=a;if(l>-1){const{encapsulation:h}=n.data[a.directiveStart+l];if(h===Ct.None||h===Ct.Emulated)return null}return ai(a,s)}}(n,r.parent,s)}function Pu(n,r,s,a,l){n.insertBefore(r,s,a,l)}function Ql(n,r,s){n.appendChild(r,s)}function Kp(n,r,s,a,l){null!==a?Pu(n,r,s,a,l):Ql(n,r,s)}function pl(n,r){return n.parentNode(r)}let hf,ns,yl,Zc,Jl=function Zp(n,r,s){return 40&n.type?ai(n,s):null};function lu(n,r,s,a){const l=fl(n,a,r),h=r[mn],C=function df(n,r,s){return Jl(n,r,s)}(a.parent||r[mr],a,r);if(null!=l)if(Array.isArray(s))for(let M=0;M<s.length;M++)Kp(h,l,s[M],C,!1);else Kp(h,l,s,C,!1);void 0!==hf&&hf(h,a,r,s,l)}function Ta(n,r){if(null!==r){const s=r.type;if(3&s)return ai(r,n);if(4&s)return Hd(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Ta(n,a);{const l=n[r.index];return Cn(l)?Hd(-1,l):Cr(l)}}if(32&s)return cl(r,n)()||Cr(n[r.index]);{const a=pf(n,r);return null!==a?Array.isArray(a)?a[0]:Ta(Au(n[Ir]),a):Ta(n,r.next)}}return null}function pf(n,r){return null!==r?n[Ir][mr].projection[r.projection]:null}function Hd(n,r){const s=Xr+n+1;if(s<r.length){const a=r[s],l=a[Qt].firstChild;if(null!==l)return Ta(a,l)}return r[eo]}function Ru(n,r,s,a,l,h,_){for(;null!=s;){const C=a[s.index],M=s.type;if(_&&0===r&&(C&&Ys(Cr(C),a),s.flags|=2),32!=(32&s.flags))if(8&M)Ru(n,r,s.child,a,l,h,!1),Su(r,n,l,C,h);else if(32&M){const $=cl(s,a);let Q;for(;Q=$();)Su(r,n,l,Q,h);Su(r,n,l,C,h)}else 16&M?zd(n,r,a,s,l,h):Su(r,n,l,C,h);s=_?s.projectionNext:s.next}}function gl(n,r,s,a,l,h){Ru(s,a,n.firstChild,r,l,h,!1)}function zd(n,r,s,a,l,h){const _=s[Ir],M=_[mr].projection[a.projection];if(Array.isArray(M))for(let $=0;$<M.length;$++)Su(r,n,l,M[$],h);else Ru(n,r,M,_[Tr],l,h,!0)}function Yp(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Qp(n,r,s){const{mergedAttrs:a,classes:l,styles:h}=s;null!==a&&xn(n,r,a),null!==l&&Yp(n,r,l),null!==h&&function yf(n,r,s){n.setAttribute(r,"style",s)}(n,r,h)}function ml(n){return function Er(){if(void 0===ns&&(ns=null,Vn.trustedTypes))try{ns=Vn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ns}()?.createHTML(n)||n}function qd(n){yl=n}function Wd(){if(void 0===Zc&&(Zc=null,Vn.trustedTypes))try{Zc=Vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zc}function Xp(n){return Wd()?.createHTML(n)||n}function Tf(n){return Wd()?.createScriptURL(n)||n}class _l{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kt})`}}class dm extends _l{getTypeName(){return"HTML"}}class hm extends _l{getTypeName(){return"Style"}}class fm extends _l{getTypeName(){return"Script"}}class Xl extends _l{getTypeName(){return"URL"}}class eg extends _l{getTypeName(){return"ResourceURL"}}function cu(n){return n instanceof _l?n.changingThisBreaksApplicationSecurity:n}function Di(n,r){const s=function ec(n){return n instanceof _l&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${kt})`)}return s===r}function Kd(n){return new dm(n)}function tc(n){return new hm(n)}function $r(n){return new fm(n)}function Zd(n){return new Xl(n)}function nc(n){return new eg(n)}class If{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(ml(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Df{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=ml(r),s}}const Cf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yc(n){return(n=String(n)).match(Cf)?n:"unsafe:"+n}function Zo(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function xu(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Af=Zo("area,br,col,hr,img,wbr"),$s=Zo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nu=Zo("rp,rt"),rc=xu(Af,xu($s,Zo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xu(Nu,Zo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xu(Nu,$s)),ic=Zo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ku=xu(ic,Zo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pf=Zo("script,style,template");class tg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!rc.hasOwnProperty(s))return this.sanitizedSomething=!0,!Pf.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),_=h.name,C=_.toLowerCase();if(!ku.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let M=h.value;ic[C]&&(M=Yc(M)),this.buf.push(" ",_,'="',El(M),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();rc.hasOwnProperty(s)&&!Af.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(El(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const vl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qa=/([^\#-~ |!])/g;function El(n){return n.replace(/&/g,"&amp;").replace(vl,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Qa,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sc;function Yd(n,r){let s=null;try{sc=sc||function du(n){const r=new Df(n);return function bf(){try{return!!(new window.DOMParser).parseFromString(ml(""),"text/html")}catch{return!1}}()?new If(r):r}(n);let a=r?String(r):"";s=sc.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=s.innerHTML,s=sc.getInertBodyElement(a)}while(a!==h);return ml((new tg).sanitizeChildren(wl(s)||s))}finally{if(s){const a=wl(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function wl(n){return"content"in n&&function Fu(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var di=(()=>((di=di||{})[di.NONE=0]="NONE",di[di.HTML=1]="HTML",di[di.STYLE=2]="STYLE",di[di.SCRIPT=3]="SCRIPT",di[di.URL=4]="URL",di[di.RESOURCE_URL=5]="RESOURCE_URL",di))();function Ja(n){const r=Ra();return r?Xp(r.sanitize(di.HTML,n)||""):Di(n,"HTML")?Xp(cu(n)):Yd(function Ef(){return void 0!==yl?yl:typeof document<"u"?document:void 0}(),he(n))}function oc(n){const r=Ra();return r?r.sanitize(di.URL,n)||"":Di(n,"URL")?cu(n):Yc(he(n))}function Tl(n){const r=Ra();if(r)return Tf(r.sanitize(di.RESOURCE_URL,n)||"");if(Di(n,"ResourceURL"))return Tf(cu(n));throw new ot(904,!1)}function ac(n,r,s){return function Qd(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Tl:oc}(r,s)(n)}function Ra(){const n=Tt();return n&&n[ho]}const xa=new Pr("ENVIRONMENT_INITIALIZER"),Xc=new Pr("INJECTOR",-1),Jd=new Pr("INJECTOR_DEF_TYPES");class xf{get(r,s=Rn){if(s===Rn){const a=new Error(`NullInjectorError: No provider for ${Kt(r)}!`);throw a.name="NullInjectorError",a}return s}}function rg(n){return{\u0275providers:n}}function ed(...n){return{\u0275providers:hu(0,n),\u0275fromNgModule:!0}}function hu(n,...r){const s=[],a=new Set;let l;return yo(r,h=>{const _=h;oa(_,s,[],a)&&(l||(l=[]),l.push(_))}),void 0!==l&&Na(l,s),s}function Na(n,r){for(let s=0;s<n.length;s++){const{providers:l}=n[s];Xd(l,h=>{r.push(h)})}}function oa(n,r,s,a){if(!(n=Lt(n)))return!1;let l=null,h=Qr(n);const _=!h&&Bn(n);if(h||_){if(_&&!_.standalone)return!1;l=n}else{const M=n.ngModule;if(h=Qr(M),!h)return!1;l=M}const C=a.has(l);if(_){if(C)return!1;if(a.add(l),_.dependencies){const M="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const $ of M)oa($,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!C){let $;a.add(l);try{yo(h.imports,Q=>{oa(Q,r,s,a)&&($||($=[]),$.push(Q))})}finally{}void 0!==$&&Na($,r)}if(!C){const $=oi(l)||(()=>new l);r.push({provide:l,useFactory:$,deps:en},{provide:Jd,useValue:l,multi:!0},{provide:xa,useValue:()=>re(l),multi:!0})}const M=h.providers;null==M||C||Xd(M,Q=>{r.push(Q)})}}return l!==n&&void 0!==n.providers}function Xd(n,r){for(let s of n)Me(s)&&(s=s.\u0275providers),Array.isArray(s)?Xd(s,r):r(s)}const eh=He({provide:String,useValue:He});function fu(n){return null!==n&&"object"==typeof n&&eh in n}function pu(n){return"function"==typeof n}const cc=new Pr("Set Injector scope."),dc={},nd={};let nh;function Dl(){return void 0===nh&&(nh=new xf),nh}class Oa{}class hc extends Oa{get destroyed(){return this._destroyed}constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uu(r,_=>this.processProvider(_)),this.records.set(Xc,Vu(void 0,this)),l.has("environment")&&this.records.set(Oa,Vu(void 0,this));const h=this.records.get(cc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Jd.multi,en,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=it(this),a=In(void 0);try{return r()}finally{it(s),In(a)}}get(r,s=Rn,a=bt.Default){this.assertNotDestroyed(),a=je(a);const l=it(this),h=In(void 0);try{if(!(a&bt.SkipSelf)){let C=this.records.get(r);if(void 0===C){const M=function rh(n){return"function"==typeof n||"object"==typeof n&&n instanceof Pr}(r)&&Ht(r);C=M&&this.injectableDefInScope(M)?Vu(fc(r),dc):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&bt.Self?Dl():this.parent).get(r,s=a&bt.Optional&&s===Rn?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Hr]=_[Hr]||[]).unshift(Kt(r)),l)throw _;return function me(n,r,s,a){const l=n[Hr];throw r[oe]&&l.unshift(r[oe]),n.message=function ne(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==fe?n.slice(2):n;let l=Kt(r);if(Array.isArray(r))l=r.map(Kt).join(" -> ");else if("object"==typeof r){let h=[];for(let _ in r)if(r.hasOwnProperty(_)){let C=r[_];h.push(_+":"+("string"==typeof C?JSON.stringify(C):Kt(C)))}l=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(vt,"\n  ")}`}("\n"+n.message,l,s,a),n[Xt]=l,n[Hr]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{In(h),it(l)}}resolveInjectorInitializers(){const r=it(this),s=In(void 0);try{const a=this.get(xa.multi,en,bt.Self);for(const l of a)l()}finally{it(r),In(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Kt(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ot(205,!1)}processProvider(r){let s=pu(r=Lt(r))?r:Lt(r&&r.provide);const a=function Cl(n){return fu(n)?Vu(void 0,n.useValue):Vu(Al(n),dc)}(r);if(pu(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=Vu(void 0,dc,!0),l.factory=()=>ke(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===dc&&(s.value=nd,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Po(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Lt(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function fc(n){const r=Ht(n),s=null!==r?r.factory:oi(n);if(null!==s)return s;if(n instanceof Pr)throw new ot(204,!1);if(n instanceof Function)return function bl(n){const r=n.length;if(r>0)throw function li(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new ot(204,!1);const s=function gr(n){return n&&(n[Nr]||n[ii])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ot(204,!1)}function Al(n,r,s){let a;if(pu(n)){const l=Lt(n);return oi(l)||fc(l)}if(fu(n))a=()=>Lt(n.useValue);else if(function td(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ke(n.deps||[]));else if(function lc(n){return!(!n||!n.useExisting)}(n))a=()=>re(Lt(n.useExisting));else{const l=Lt(n&&(n.useClass||n.provide));if(!function Of(n){return!!n.deps}(n))return oi(l)||fc(l);a=()=>new l(...ke(n.deps))}return a}function Vu(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Uu(n,r){for(const s of n)Array.isArray(s)?Uu(s,r):s&&Me(s)?Uu(s.\u0275providers,r):r(s)}class pc{}class rd{}class Sl{resolveComponentFactory(r){throw function Bu(n){const r=Error(`No component factory found for ${Kt(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let ju=(()=>{class n{}return n.NULL=new Sl,n})();function gc(){return Hu(Ur(),Tt())}function Hu(n,r){return new Yo(ai(n,r))}let Yo=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=gc,n})();function kf(n){return n instanceof Yo?n.nativeElement:n}class ih{}let sh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ff(){const n=Tt(),s=Wn(Ur().index,n);return(ei(s)?s:n)[mn]}(),n})(),mm=(()=>{class n{}return n.\u0275prov=qn({token:n,providedIn:"root",factory:()=>null}),n})();class Gu{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ig=new Gu("15.2.9"),oh={},ah="ngOriginalError";function id(n){return n[ah]}class ka{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&id(r);for(;s&&id(s);)s=id(s);return s||null}}function gi(n){return n instanceof Function?n():n}function Ml(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||n.charCodeAt(l+h)<=32)return l}s=l+1}}const $f="ng-template";function od(n,r,s){let a=0,l=!0;for(;a<n.length;){let h=n[a++];if("string"==typeof h&&l){const _=n[a++];if(s&&"class"===h&&-1!==Ml(_.toLowerCase(),r,0))return!0}else{if(1===h){for(;a<n.length&&"string"==typeof(h=n[a++]);)if(h.toLowerCase()===r)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function ad(n){return 4===n.type&&n.value!==$f}function uh(n,r,s){return r===(4!==n.type||s?n.value:$f)}function Pl(n,r,s){let a=4;const l=n.attrs||[],h=function wm(n){for(let r=0;r<n.length;r++)if(Ut(n[r]))return r;return n.length}(l);let _=!1;for(let C=0;C<r.length;C++){const M=r[C];if("number"!=typeof M){if(!_)if(4&a){if(a=2|1&a,""!==M&&!uh(n,M,s)||""===M&&1===r.length){if(Eo(a))return!1;_=!0}}else{const $=8&a?M:r[++C];if(8&a&&null!==n.attrs){if(!od(n.attrs,$,s)){if(Eo(a))return!1;_=!0}continue}const ue=lh(8&a?"class":M,l,ad(n),s);if(-1===ue){if(Eo(a))return!1;_=!0;continue}if(""!==$){let Re;Re=ue>h?"":l[ue+1].toLowerCase();const qe=8&a?Re:null;if(qe&&-1!==Ml(qe,$,0)||2&a&&$!==Re){if(Eo(a))return!1;_=!0}}}}else{if(!_&&!Eo(a)&&!Eo(M))return!1;if(_&&Eo(M))continue;_=!1,a=M|1&a}}return Eo(a)||_}function Eo(n){return 0==(1&n)}function lh(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let h=!1;for(;l<r.length;){const _=r[l];if(_===n)return l;if(3===_||6===_)h=!0;else{if(1===_||2===_){let C=r[++l];for(;"string"==typeof C;)C=r[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=h?1:2}return-1}return function cg(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function mc(n,r,s=!1){for(let a=0;a<r.length;a++)if(Pl(n,r[a],s))return!0;return!1}function zu(n,r){return n?":not("+r.trim()+")":r}function Gf(n){let r=n[0],s=1,a=2,l="",h=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const C=n[++s];l+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?l+="."+_:4&a&&(l+=" "+_);else""!==l&&!Eo(_)&&(r+=zu(h,l),l=""),a=_,h=h||!Eo(a);s++}return""!==l&&(r+=zu(h,l)),r}const Un={};function qf(n){qu(Sn(),Tt(),At()+n,!1)}function qu(n,r,s,a){if(!a)if(3==(3&r[An])){const h=n.preOrderCheckHooks;null!==h&&ft(r,h,s)}else{const h=n.preOrderHooks;null!==h&&nn(r,h,0,s)}yn(s)}function hh(n,r=null,s=null,a){const l=Zf(n,r,s,a);return l.resolveInjectorInitializers(),l}function Zf(n,r=null,s=null,a,l=new Set){const h=[s||en,ed(n)];return a=a||("object"==typeof n?void 0:Kt(n)),new hc(h,r||Dl(),a||null,l)}let Ku=(()=>{class n{static create(s,a){if(Array.isArray(s))return hh({name:""},a,s,"");{const l=s.name??"";return hh({name:l},s.parent,s.providers,l)}}}return n.THROW_IF_NOT_FOUND=Rn,n.NULL=new xf,n.\u0275prov=qn({token:n,providedIn:"any",factory:()=>re(Xc)}),n.__NG_ELEMENT_ID__=-1,n})();function Zu(n,r=bt.Default){const s=Tt();return null===s?re(n,r):Ga(Ur(),s,Lt(n),r)}function dd(){throw new Error("invalid")}function yh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const h=s[a+1];if(-1!==h){const _=n.data[h];T(s[a]),_.contentQueries(2,r[h],h)}}}function _c(n,r,s,a,l,h,_,C,M,$,Q){const ue=r.blueprint.slice();return ue[Ai]=l,ue[An]=76|a,(null!==Q||n&&1024&n[An])&&(ue[An]|=1024),ro(ue),ue[Tr]=ue[kr]=n,ue[yr]=s,ue[Ei]=_||n&&n[Ei],ue[mn]=C||n&&n[mn],ue[ho]=M||n&&n[ho]||null,ue[Ps]=$||n&&n[Ps]||null,ue[mr]=h,ue[Fr]=function $c(){return Bc++}(),ue[Ui]=Q,ue[Ir]=2==r.type?n[Ir]:ue,ue}function aa(n,r,s,a,l){let h=n.data[r];if(null===h)h=function fd(n,r,s,a,l){const h=po(),_=ea(),M=n.data[r]=function I(n,r,s,a,l,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=M),null!==h&&(_?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M,M.prev=h)),M}(n,r,s,a,l),function da(){return hn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=a,h.attrs=l;const _=function ui(){const n=hn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return Br(h,!0),h}function pd(n,r,s,a){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function gd(n,r,s){te(r);try{const a=n.viewQuery;null!==a&&up(1,a,s);const l=n.template;null!==l&&vh(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&yh(n,r),n.staticViewQueries&&up(2,n.viewQuery,s);const h=n.components;null!==h&&function ip(n,r){for(let s=0;s<r.length;s++)Ny(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[An]&=-5,Pt()}}function _h(n,r,s,a){const l=r[An];if(128!=(128&l)){te(r);try{ro(r),function mo(n){return hn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&vh(n,r,s,2,a);const _=3==(3&l);if(_){const $=n.preOrderCheckHooks;null!==$&&ft(r,$,null)}else{const $=n.preOrderHooks;null!==$&&nn(r,$,0,null),$n(r,0)}if(function xy(n){for(let r=sa(n);null!==r;r=zc(r)){if(!r[Jo])continue;const s=r[Lr];for(let a=0;a<s.length;a++){const l=s[a];512&l[An]||bo(l[Tr],1),l[An]|=512}}}(r),function Ry(n){for(let r=sa(n);null!==r;r=zc(r))for(let s=Xr;s<r.length;s++){const a=r[s],l=a[Qt];Zs(a)&&_h(l,a,l.template,a[yr])}}(r),null!==n.contentQueries&&yh(n,r),_){const $=n.contentCheckHooks;null!==$&&ft(r,$)}else{const $=n.contentHooks;null!==$&&nn(r,$,1),$n(r,1)}!function hd(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)yn(~l);else{const h=l,_=s[++a],C=s[++a];Ca(_,h),C(2,r[h])}}}finally{yn(-1)}}(n,r);const C=n.components;null!==C&&function _g(n,r){for(let s=0;s<r.length;s++)wg(n,r[s])}(r,C);const M=n.viewQuery;if(null!==M&&up(2,M,a),_){const $=n.viewCheckHooks;null!==$&&ft(r,$)}else{const $=n.viewHooks;null!==$&&nn(r,$,2),$n(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[An]&=-41,512&r[An]&&(r[An]&=-513,bo(r[Tr],-1))}finally{Pt()}}}function vh(n,r,s,a,l){const h=At(),_=2&a;try{yn(-1),_&&r.length>nr&&qu(n,r,nr,!1),Pi(_?2:0,l),s(a,l)}finally{yn(h),Pi(_?3:1,l)}}function sp(n,r,s){if(Ki(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const _=n.data[h];_.contentQueries&&_.contentQueries(1,s[h],h)}}}function md(n,r,s){sn()&&(function wc(n,r,s,a){const l=s.directiveStart,h=s.directiveEnd;Bi(s)&&function Ih(n,r,s){const a=ai(r,n),l=Eh(s),h=n[Ei],_=ap(n,_c(n,l,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));n[r.index]=_}(r,s,n.data[l+s.componentOffset]),n.firstCreatePass||Xe(s,r),Ys(a,r);const _=s.initialInputs;for(let C=l;C<h;C++){const M=n.data[C],$=Ni(r,n,C,s);Ys($,r),null!==_&&vg(0,C-l,$,M,0,_),Si(M)&&(Wn(s.index,r)[yr]=Ni(r,n,C,s))}}(n,r,s,ai(s,r)),64==(64&s.flags)&&Tc(n,r,s))}function vc(n,r,s=ai){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],C=-1===_?s(r,n):n[_];n[l++]=C}}}function Eh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=wh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function wh(n,r,s,a,l,h,_,C,M,$){const Q=nr+a,ue=Q+l,Re=function m(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Un);return s}(Q,ue),qe="function"==typeof $?$():$;return Re[Qt]={type:n,blueprint:Re,template:s,queries:null,viewQuery:C,declTNode:r,data:Re.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:M,consts:qe,incompleteFirstPass:!1}}function f(n,r,s,a){const l=Rm(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&xm(n).push(a,l.length-1))}function B(n,r,s,a){for(let l in n)if(n.hasOwnProperty(l)){s=null===s?{}:s;const h=n[l];null===a?Y(s,r,l,h):a.hasOwnProperty(l)&&Y(s,r,a[l],h)}return s}function Y(n,r,s,a){n.hasOwnProperty(s)?n[s].push(r,a):n[s]=[r,a]}function Et(n,r,s,a,l,h,_,C){const M=ai(r,s);let Q,$=r.inputs;!C&&null!=$&&(Q=$[a])?(Sh(n,s,Q,a,l),Bi(r)&&function Zt(n,r){const s=Wn(r,n);16&s[An]||(s[An]|=32)}(s,r.index)):3&r.type&&(a=function $e(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=_?_(l,r.value||"",a):l,h.setProperty(M,a,l))}function Ro(n,r,s,a){if(sn()){const l=null===a?null:{"":-1},h=function Fa(n,r){const s=n.directiveRegistry;let a=null,l=null;if(s)for(let h=0;h<s.length;h++){const _=s[h];if(mc(r,_.selectors,!1))if(a||(a=[]),Si(_))if(null!==_.findHostDirectiveDefs){const C=[];l=l||new Map,_.findHostDirectiveDefs(_,C,l),a.unshift(...C,_),Nl(n,r,C.length)}else a.unshift(_),Nl(n,r,0);else l=l||new Map,_.findHostDirectiveDefs?.(_,a,l),a.push(_)}return null===a?null:[a,l]}(n,s);let _,C;null===h?_=C=null:[_,C]=h,null!==_&&Ia(n,r,s,_,l,C),l&&function Qu(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new ot(-301,!1);a.push(r[l],h)}}}(s,a,l)}s.mergedAttrs=Es(s.mergedAttrs,s.attrs)}function Ia(n,r,s,a,l,h){for(let $=0;$<a.length;$++)ga(Xe(s,r),n,a[$].type);!function Th(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,a.length);for(let $=0;$<a.length;$++){const Q=a[$];Q.providersResolver&&Q.providersResolver(Q)}let _=!1,C=!1,M=pd(n,r,a.length,null);for(let $=0;$<a.length;$++){const Q=a[$];s.mergedAttrs=Es(s.mergedAttrs,Q.hostAttrs),Ol(n,s,r,M,Q),mu(M,Q,l),null!==Q.contentQueries&&(s.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(s.flags|=64);const ue=Q.type.prototype;!_&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(s.index),_=!0),!C&&(ue.ngOnChanges||ue.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(s.index),C=!0),M++}!function Ce(n,r,s){const l=r.directiveEnd,h=n.data,_=r.attrs,C=[];let M=null,$=null;for(let Q=r.directiveStart;Q<l;Q++){const ue=h[Q],Re=s?s.get(ue):null,Dt=Re?Re.outputs:null;M=B(ue.inputs,Q,M,Re?Re.inputs:null),$=B(ue.outputs,Q,$,Dt);const $t=null===M||null===_||ad(r)?null:Eg(M,Q,_);C.push($t)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=8),M.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=C,r.inputs=M,r.outputs=$}(n,s,h)}function Tc(n,r,s){const a=s.directiveStart,l=s.directiveEnd,h=s.index,_=function Wo(){return hn.lFrame.currentDirectiveIndex}();try{yn(h);for(let C=a;C<l;C++){const M=n.data[C],$=r[C];ha(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Yu(M,$)}}finally{yn(-1),ha(_)}}function Yu(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Nl(n,r,s){r.componentOffset=s,(n.components??(n.components=[])).push(r.index)}function mu(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Si(r)&&(s[""]=n)}}function Ol(n,r,s,a,l){n.data[a]=l;const h=l.factory||(l.factory=oi(l.type)),_=new Gn(h,Si(l),Zu);n.blueprint[a]=_,s[a]=_,function Ec(n,r,s,a,l){const h=l.hostBindings;if(h){let _=n.hostBindingOpCodes;null===_&&(_=n.hostBindingOpCodes=[]);const C=~r.index;(function yd(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(_)!=C&&_.push(C),_.push(s,a,h)}}(n,r,a,pd(n,s,l.hostVars,Un),l)}function La(n,r,s,a,l,h){const _=ai(n,r);!function Dh(n,r,s,a,l,h,_){if(null==h)n.removeAttribute(r,l,s);else{const C=null==_?he(h):_(h,a||"",l);n.setAttribute(r,l,C,s)}}(r[mn],_,h,n.value,s,a,l)}function vg(n,r,s,a,l,h){const _=h[r];if(null!==_){const C=a.setInput;for(let M=0;M<_.length;){const $=_[M++],Q=_[M++],ue=_[M++];null!==C?a.setInput(s,ue,$,Q):s[Q]=ue}}}function Eg(n,r,s){let a=null,l=0;for(;l<s.length;){const h=s[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===a&&(a=[]);const _=n[h];for(let C=0;C<_.length;C+=2)if(_[C]===r){a.push(h,_[C+1],s[l+1]);break}}l+=2}else l+=2;else l+=4}return a}function op(n,r,s,a){return[n,!0,!1,r,null,0,a,s,null,null]}function wg(n,r){const s=Wn(r,n);if(Zs(s)){const a=s[Qt];48&s[An]?_h(a,s,a.template,s[yr]):s[Vi]>0&&bh(s)}}function bh(n){for(let a=sa(n);null!==a;a=zc(a))for(let l=Xr;l<a.length;l++){const h=a[l];if(Zs(h))if(512&h[An]){const _=h[Qt];_h(_,h,_.template,h[yr])}else h[Vi]>0&&bh(h)}const s=n[Qt].components;if(null!==s)for(let a=0;a<s.length;a++){const l=Wn(s[a],n);Zs(l)&&l[Vi]>0&&bh(l)}}function Ny(n,r){const s=Wn(r,n),a=s[Qt];(function Pm(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),gd(a,s,s[yr])}function ap(n,r){return n[Wi]?n[Xs][cr]=r:n[Wi]=r,n[Xs]=r,r}function Ch(n){for(;n;){n[An]|=32;const r=Au(n);if(Mi(n)&&!r)return n;n=r}return null}function Ah(n,r,s,a=!0){const l=r[Ei];l.begin&&l.begin();try{_h(n,r,n.template,s)}catch(_){throw a&&lp(r,_),_}finally{l.end&&l.end()}}function up(n,r,s){T(0),r(n,s)}function Rm(n){return n[is]||(n[is]=[])}function xm(n){return n.cleanup||(n.cleanup=[])}function lp(n,r){const s=n[Ps],a=s?s.get(ka,null):null;a&&a.handleError(r)}function Sh(n,r,s,a,l){for(let h=0;h<s.length;){const _=s[h++],C=s[h++],M=r[_],$=n.data[_];null!==$.setInput?$.setInput(M,l,a,C):M[C]=l}}function cp(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,h=0;if(null!==r)for(let _=0;_<r.length;_++){const C=r[_];"number"==typeof C?h=C:1==h?l=un(l,C):2==h&&(a=un(a,C+": "+r[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}function _d(n,r,s,a,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Cr(h)),Cn(h))for(let C=Xr;C<h.length;C++){const M=h[C],$=M[Qt].firstChild;null!==$&&_d(M[Qt],M,$,a)}const _=s.type;if(8&_)_d(n,r,s.child,a);else if(32&_){const C=cl(s,r);let M;for(;M=C();)a.push(M)}else if(16&_){const C=pf(r,s);if(Array.isArray(C))a.push(...C);else{const M=Au(r[Ir]);_d(M[Qt],M,C,a,!0)}}s=l?s.projectionNext:s.next}return a}class Mh{get rootNodes(){const r=this._lView,s=r[Qt];return _d(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yr]}set context(r){this._lView[yr]=r}get destroyed(){return 128==(128&this._lView[An])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Tr];if(Cn(r)){const s=r[xs],a=s?s.indexOf(this):-1;a>-1&&(uu(r,a),Ao(s,a))}this._attachedToViewContainer=!1}Mu(this._lView[Qt],this._lView)}onDestroy(r){f(this._lView[Qt],this._lView,null,r)}markForCheck(){Ch(this._cdRefInjectingView||this._lView)}detach(){this._lView[An]&=-65}reattach(){this._lView[An]|=64}detectChanges(){Ah(this._lView[Qt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ot(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qc(n,r){gl(n,r,r[mn],2,null,null)}(this._lView[Qt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ot(902,!1);this._appRef=r}}class Tg extends Mh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Ah(r[Qt],r,r[yr],!1)}checkNoChanges(){}get context(){return null}}class Ig extends ju{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Bn(r);return new Ic(s,this.ngModule)}}function dp(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class ky{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=je(a);const l=this.injector.get(r,oh,a);return l!==oh||s===oh?l:this.parentInjector.get(r,s,a)}}class Ic extends rd{get inputs(){return dp(this.componentDef.inputs)}get outputs(){return dp(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function zf(n){return n.map(Gf).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,l){let h=(l=l||this.ngModule)instanceof Oa?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new ky(r,h):r,C=_.get(ih,null);if(null===C)throw new ot(407,!1);const M=_.get(mm,null),$=C.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ue=a?function c(n,r,s){return n.selectRootElement(r,s===Ct.ShadowDom)}($,a,this.componentDef.encapsulation):au($,Q,function Om(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Q)),Re=this.componentDef.onPush?288:272,qe=wh(0,null,null,1,0,null,null,null,null,null),Dt=_c(null,qe,null,Re,null,null,C,$,M,_,null);let $t,on;te(Dt);try{const fn=this.componentDef;let Pn,Ft=null;fn.findHostDirectiveDefs?(Pn=[],Ft=new Map,fn.findHostDirectiveDefs(fn,Pn,Ft),Pn.push(fn)):Pn=[fn];const Zn=function Ly(n,r){const s=n[Qt],a=nr;return n[a]=r,aa(s,a,2,"#host",null)}(Dt,ue),Ds=function Dg(n,r,s,a,l,h,_,C){const M=l[Qt];!function Vy(n,r,s,a){for(const l of n)r.mergedAttrs=Es(r.mergedAttrs,l.hostAttrs);null!==r.mergedAttrs&&(cp(r,r.mergedAttrs,!0),null!==s&&Qp(a,s,r))}(a,n,r,_);const $=h.createRenderer(r,s),Q=_c(l,Eh(s),null,s.onPush?32:16,l[n.index],n,h,$,C||null,null,null);return M.firstCreatePass&&Nl(M,n,a.length-1),ap(l,Q),l[n.index]=Q}(Zn,ue,fn,Pn,Dt,C,$);on=ni(qe,nr),ue&&function Cg(n,r,s,a){if(a)xn(n,s,["ng-version",ig.full]);else{const{attrs:l,classes:h}=function Tm(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===l?""!==h&&r.push(h,n[++a]):8===l&&s.push(h);else{if(!Eo(l))break;l=h}a++}return{attrs:r,classes:s}}(r.selectors[0]);l&&xn(n,s,l),h&&h.length>0&&Yp(n,s,h.join(" "))}}($,fn,ue,a),void 0!==s&&function Ag(n,r,s){const a=n.projection=[];for(let l=0;l<r.length;l++){const h=s[l];a.push(null!=h?Array.from(h):null)}}(on,this.ngContentSelectors,s),$t=function bg(n,r,s,a,l,h){const _=Ur(),C=l[Qt],M=ai(_,l);Ia(C,l,_,s,null,a);for(let Q=0;Q<s.length;Q++)Ys(Ni(l,C,_.directiveStart+Q,_),l);Tc(C,l,_),M&&Ys(M,l);const $=Ni(l,C,_.directiveStart+_.componentOffset,_);if(n[yr]=l[yr]=$,null!==h)for(const Q of h)Q($,r);return sp(C,_,n),$}(Ds,fn,Pn,Ft,Dt,[vd]),gd(qe,Dt,null)}finally{Pt()}return new Fy(this.componentType,$t,Hu(on,Dt),Dt,on)}}class Fy extends pc{constructor(r,s,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Tg(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const h=this._rootLView;Sh(h[Qt],h,l,r,s),Ch(Wn(this._tNode.index,h))}}get injector(){return new ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function vd(){const n=Ur();We(Tt()[Qt],n)}function Ph(n){let r=function Sg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(Si(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ot(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const _=n;_.inputs=Rh(n.inputs),_.declaredInputs=Rh(n.declaredInputs),_.outputs=Rh(n.outputs);const C=l.hostBindings;C&&By(n,C);const M=l.viewQuery,$=l.contentQueries;if(M&&Ju(n,M),$&&Mg(n,$),xt(n.inputs,l.inputs),xt(n.declaredInputs,l.declaredInputs),xt(n.outputs,l.outputs),Si(l)&&l.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let _=0;_<h.length;_++){const C=h[_];C&&C.ngInherit&&C(n),C===Ph&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Uy(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Es(l.hostAttrs,s=Es(s,l.hostAttrs))}}(a)}function Rh(n){return n===Yt?{}:n===en?[]:n}function Ju(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Mg(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,h)=>{r(a,l,h),s(a,l,h)}:r}function By(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}function xh(n){return!!Ng(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Ng(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function wo(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Oh(n,r,s,a){const l=Tt();return wo(l,ta(),r)&&(Sn(),La(at(),l,n,r,s,a)),Oh}function bc(n,r,s,a){return wo(n,ta(),s)?r+he(s)+a:Un}function kg(n,r,s,a,l,h,_,C){const M=Tt(),$=Sn(),Q=n+nr,ue=$.firstCreatePass?function vp(n,r,s,a,l,h,_,C,M){const $=r.consts,Q=aa(r,n,4,_||null,Ti($,C));Ro(r,s,Q,Ti($,M)),We(r,Q);const ue=Q.tView=wh(2,Q,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,$);return null!==r.queries&&(r.queries.template(r,Q),ue.queries=r.queries.embeddedTView(Q)),Q}(Q,$,M,r,s,a,l,h,_):$.data[Q];Br(ue,!1);const Re=M[mn].createComment("");lu($,M,Re,ue),Ys(Re,M),ap(M,M[Q]=op(Re,M,Re,ue)),zr(ue)&&md($,M,ue),null!=_&&vc(M,ue,C)}function kl(n,r,s){const a=Tt();return wo(a,ta(),r)&&Et(Sn(),at(),a,n,r,a[mn],s,!1),kl}function Lh(n,r,s,a,l){const _=l?"class":"style";Sh(n,s,r.inputs[_],_,a)}function Ep(n,r,s,a){const l=Tt(),h=Sn(),_=nr+n,C=l[mn],M=h.firstCreatePass?function zy(n,r,s,a,l,h){const _=r.consts,M=aa(r,n,2,a,Ti(_,l));return Ro(r,s,M,Ti(_,h)),null!==M.attrs&&cp(M,M.attrs,!1),null!==M.mergedAttrs&&cp(M,M.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,M),M}(_,h,l,r,s,a):h.data[_],$=l[_]=au(C,r,function Z(){return hn.lFrame.currentNamespace}()),Q=zr(M);return Br(M,!0),Qp(C,$,M),32!=(32&M.flags)&&lu(h,l,$,M),0===function x(){return hn.lFrame.elementDepthCount}()&&Ys($,l),function X(){hn.lFrame.elementDepthCount++}(),Q&&(md(h,l,M),sp(h,M,l)),null!==a&&vc(l,M),Ep}function wp(){let n=Ur();ea()?qo():(n=n.parent,Br(n,!1));const r=n;!function nt(){hn.lFrame.elementDepthCount--}();const s=Sn();return s.firstCreatePass&&(We(s,n),Ki(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function St(n){return 0!=(8&n.flags)}(r)&&Lh(s,r,Tt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Dn(n){return 0!=(16&n.flags)}(r)&&Lh(s,r,Tt(),r.stylesWithoutHost,!1),wp}function Tp(n,r,s,a){return Ep(n,r,s,a),wp(),Tp}function Vh(n,r,s){const a=Tt(),l=Sn(),h=n+nr,_=l.firstCreatePass?function qy(n,r,s,a,l){const h=r.consts,_=Ti(h,a),C=aa(r,n,8,"ng-container",_);return null!==_&&cp(C,_,!0),Ro(r,s,C,Ti(h,l)),null!==r.queries&&r.queries.elementStart(r,C),C}(h,l,a,r,s):l.data[h];Br(_,!0);const C=a[h]=a[mn].createComment("");return lu(l,a,C,_),Ys(C,a),zr(_)&&(md(l,a,_),sp(l,_,a)),null!=s&&vc(a,_),Vh}function Ip(){let n=Ur();const r=Sn();return ea()?qo():(n=n.parent,Br(n,!1)),r.firstCreatePass&&(We(r,n),Ki(n)&&r.queries.elementEnd(n)),Ip}function Gm(){return Tt()}function Lg(n){return!!n&&"function"==typeof n.then}function Vg(n){return!!n&&"function"==typeof n.subscribe}const Dp=Vg;function Ug(n,r,s,a){const l=Tt(),h=Sn(),_=Ur();return function Uh(n,r,s,a,l,h,_){const C=zr(a),$=n.firstCreatePass&&xm(n),Q=r[yr],ue=Rm(r);let Re=!0;if(3&a.type||_){const $t=ai(a,r),on=_?_($t):$t,fn=ue.length,Pn=_?Zn=>_(Cr(Zn[a.index])):a.index;let Ft=null;if(!_&&C&&(Ft=function zm(n,r,s,a){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const _=l[h];if(_===s&&l[h+1]===a){const C=r[is],M=l[h+2];return C.length>M?C[M]:null}"string"==typeof _&&(h+=2)}return null}(n,r,l,a.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=h,Ft.__ngLastListenerFn__=h,Re=!1;else{h=$g(a,r,Q,h,!1);const Zn=s.listen(on,l,h);ue.push(h,Zn),$&&$.push(l,Pn,fn,fn+1)}}else h=$g(a,r,Q,h,!1);const qe=a.outputs;let Dt;if(Re&&null!==qe&&(Dt=qe[l])){const $t=Dt.length;if($t)for(let on=0;on<$t;on+=2){const Ds=r[Dt[on]][Dt[on+1]].subscribe(h),co=ue.length;ue.push(h,Ds),$&&$.push(l,a.index,co,-(co+1))}}}(h,l,l[mn],_,n,r,a),Ug}function Dr(n,r,s,a){try{return Pi(6,r,s),!1!==s(a)}catch(l){return lp(n,l),!1}finally{Pi(7,r,s)}}function $g(n,r,s,a,l){return function h(_){if(_===Function)return a;Ch(n.componentOffset>-1?Wn(n.index,r):r);let M=Dr(r,s,a,_),$=h.__ngNextListenerFn__;for(;$;)M=Dr(r,s,$,_)&&M,$=$.__ngNextListenerFn__;return l&&!1===M&&(_.preventDefault(),_.returnValue=!1),M}}function jg(n=1){return function rn(n){return(hn.lFrame.contextLView=function It(n,r){for(;n>0;)r=r[kr],n--;return r}(n,hn.lFrame.contextLView))[yr]}(n)}function lo(n,r,s){return Ba(n,"",r,"",s),lo}function Ba(n,r,s,a,l){const h=Tt(),_=bc(h,r,s,a);return _!==Un&&Et(Sn(),at(),h,n,_,h[mn],l,!1),Ba}function zg(n,r){return n<<17|r<<2}function jr(n){return n>>17&32767}function Is(n){return 2|n}function Fl(n){return(131068&n)>>2}function Zm(n,r){return-131069&n|r<<2}function Cp(n){return 1|n}function Qy(n,r,s,a,l){const h=n[s+1],_=null===r;let C=a?jr(h):Fl(h),M=!1;for(;0!==C&&(!1===M||_);){const Q=n[C+1];nv(n[C],r)&&(M=!0,n[C+1]=a?Cp(Q):Is(Q)),C=a?jr(Q):Fl(Q)}M&&(n[s+1]=a?Is(h):Cp(h))}function nv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&k(n,r)>=0}const To={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qg(n){return n.substring(To.key,To.keyEnd)}function Ll(n,r){const s=To.textEnd;return s===r?-1:(r=To.keyEnd=function e_(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,To.key=r,s),Vl(n,r,s))}function Vl(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function Ul(n,r,s){return tu(n,r,s,!1),Ul}function Hh(n,r){return tu(n,r,null,!0),Hh}function Sp(n){!function nu(n,r,s,a){const l=Sn(),h=Ls(2);l.firstUpdatePass&&Zg(l,null,h,a);const _=Tt();if(s!==Un&&wo(_,h,s)){const C=l.data[At()];if(iy(C,a)&&!Kg(l,h)){let M=a?C.classesWithoutHost:C.stylesWithoutHost;null!==M&&(s=un(M,s||"")),Lh(l,C,_,s,a)}else!function ty(n,r,s,a,l,h,_,C){l===Un&&(l=en);let M=0,$=0,Q=0<l.length?l[0]:null,ue=0<h.length?h[0]:null;for(;null!==Q||null!==ue;){const Re=M<l.length?l[M+1]:void 0,qe=$<h.length?h[$+1]:void 0;let $t,Dt=null;Q===ue?(M+=2,$+=2,Re!==qe&&(Dt=ue,$t=qe)):null===ue||null!==Q&&Q<ue?(M+=2,Dt=Q):($+=2,Dt=ue,$t=qe),null!==Dt&&Pp(n,r,s,a,Dt,$t,_,C),Q=M<l.length?l[M]:null,ue=$<h.length?h[$]:null}}(l,C,_,_[mn],_[h+1],_[h+1]=function n_(n,r,s){if(null==s||""===s)return en;const a=[],l=cu(s);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(a,h,l[h]);else"string"==typeof l&&r(a,l);return a}(n,r,s),a,h)}}(Mp,yu,n,!0)}function yu(n,r){for(let s=function Jy(n){return function Ap(n){To.key=0,To.keyEnd=0,To.value=0,To.valueEnd=0,To.textEnd=n.length}(n),Ll(n,Vl(n,0,To.textEnd))}(r);s>=0;s=Ll(r,s))g(n,qg(r),!0)}function tu(n,r,s,a){const l=Tt(),h=Sn(),_=Ls(2);h.firstUpdatePass&&Zg(h,n,_,a),r!==Un&&wo(l,_,r)&&Pp(h,h.data[At()],l,l[mn],n,l[_+1]=function ry(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Kt(cu(n)))),n}(r,s),a,_)}function Kg(n,r){return r>=n.expandoStartIndex}function Zg(n,r,s,a){const l=n.data;if(null===l[s+1]){const h=l[At()],_=Kg(n,s);iy(h,a)&&null===r&&!_&&(r=!1),r=function Jm(n,r,s,a){const l=G(n);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=tl(s=Gh(null,n,r,s,a),r.attrs,a),h=null);else{const _=r.directiveStylingLast;if(-1===_||n[_]!==l)if(s=Gh(l,n,r,s,a),null===h){let M=function Ac(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Fl(a))return n[jr(a)]}(n,r,a);void 0!==M&&Array.isArray(M)&&(M=Gh(null,n,r,M[1],a),M=tl(M,r.attrs,a),function Xm(n,r,s,a){n[jr(s?r.classBindings:r.styleBindings)]=a}(n,r,a,M))}else h=function ey(n,r,s){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=tl(a,n[h].hostAttrs,s);return tl(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,a),function ev(n,r,s,a,l,h){let _=h?r.classBindings:r.styleBindings,C=jr(_),M=Fl(_);n[a]=s;let Q,$=!1;if(Array.isArray(s)?(Q=s[1],(null===Q||k(s,Q)>0)&&($=!0)):Q=s,l)if(0!==M){const Re=jr(n[C+1]);n[a+1]=zg(Re,C),0!==Re&&(n[Re+1]=Zm(n[Re+1],a)),n[C+1]=function Yy(n,r){return 131071&n|r<<17}(n[C+1],a)}else n[a+1]=zg(C,0),0!==C&&(n[C+1]=Zm(n[C+1],a)),C=a;else n[a+1]=zg(M,0),0===C?C=a:n[M+1]=Zm(n[M+1],a),M=a;$&&(n[a+1]=Is(n[a+1])),Qy(n,Q,a,!0),Qy(n,Q,a,!1),function tv(n,r,s,a,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&k(h,r)>=0&&(s[a+1]=Cp(s[a+1]))}(r,Q,n,a,h),_=zg(C,M),h?r.classBindings=_:r.styleBindings=_}(l,h,r,s,_,a)}}function Gh(n,r,s,a,l){let h=null;const _=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<_&&(h=r[C],a=tl(a,h.hostAttrs,l),h!==n);)C++;return null!==n&&(s.directiveStylingLast=C),a}function tl(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const _=r[h];"number"==typeof _?l=_:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),g(n,_,!!s||r[++h]))}return void 0===n?null:n}function Mp(n,r,s){const a=String(r);""!==a&&!a.includes(" ")&&g(n,a,s)}function Pp(n,r,s,a,l,h,_,C){if(!(3&r.type))return;const M=n.data,$=M[C+1],Q=function X_(n){return 1==(1&n)}($)?ny(M,r,s,l,Fl($),_):void 0;Sc(Q)||(Sc(h)||function J_(n){return 2==(2&n)}($)&&(h=ny(M,null,s,l,C,_)),function cm(n,r,s,a,l){if(r)l?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Pa.DashCase;null==l?n.removeStyle(s,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Pa.Important),n.setStyle(s,a,l,h))}}(a,_,Ks(At(),s),l,h))}function ny(n,r,s,a,l,h){const _=null===r;let C;for(;l>0;){const M=n[l],$=Array.isArray(M),Q=$?M[1]:M,ue=null===Q;let Re=s[l+1];Re===Un&&(Re=ue?en:void 0);let qe=ue?S(Re,a):Q===a?Re:void 0;if($&&!Sc(qe)&&(qe=S(M,a)),Sc(qe)&&(C=qe,_))return C;const Dt=n[l+1];l=_?jr(Dt):Fl(Dt)}if(null!==r){let M=h?r.residualClasses:r.residualStyles;null!=M&&(C=S(M,a))}return C}function Sc(n){return void 0!==n}function iy(n,r){return 0!=(n.flags&(r?8:16))}function r_(n,r=""){const s=Tt(),a=Sn(),l=n+nr,h=a.firstCreatePass?aa(a,l,1,r,null):a.data[l],_=s[l]=function Ud(n,r){return n.createText(r)}(s[mn],r);lu(a,s,_,h),Br(h,!1)}function sy(n){return Bl("",n,""),sy}function Bl(n,r,s){const a=Tt(),l=bc(a,n,r,s);return l!==Un&&function Xa(n,r,s){const a=Ks(r,n);!function Kn(n,r,s){n.setValue(r,s)}(n[mn],a,s)}(a,At(),l),Bl}function _u(n,r,s){const a=Tt();if(wo(a,ta(),r)){const h=Sn(),_=at();Et(h,_,a,n,r,function Nm(n,r,s){return(null===n||Si(n))&&(s=function Xo(n){for(;Array.isArray(n);){if("object"==typeof n[Rs])return n;n=n[Ai]}return null}(s[r.index])),s[mn]}(G(h.data),_,a),s,!0)}return _u}const Cd=void 0;var fv=["en",[["a","p"],["AM","PM"],Cd],[["AM","PM"],Cd,Cd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cd,"{1} 'at' {0}",Cd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hv(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Kh={};function Qg(n){const r=function Zh(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=p_(r);if(s)return s;const a=r.split("-")[0];if(s=p_(a),s)return s;if("en"===a)return fv;throw new ot(701,!1)}function py(n){return Qg(n)[kn.PluralCase]}function p_(n){return n in Kh||(Kh[n]=Vn.ng&&Vn.ng.common&&Vn.ng.common.locales&&Vn.ng.common.locales[n]),Kh[n]}var kn=(()=>((kn=kn||{})[kn.LocaleId=0]="LocaleId",kn[kn.DayPeriodsFormat=1]="DayPeriodsFormat",kn[kn.DayPeriodsStandalone=2]="DayPeriodsStandalone",kn[kn.DaysFormat=3]="DaysFormat",kn[kn.DaysStandalone=4]="DaysStandalone",kn[kn.MonthsFormat=5]="MonthsFormat",kn[kn.MonthsStandalone=6]="MonthsStandalone",kn[kn.Eras=7]="Eras",kn[kn.FirstDayOfWeek=8]="FirstDayOfWeek",kn[kn.WeekendRange=9]="WeekendRange",kn[kn.DateFormat=10]="DateFormat",kn[kn.TimeFormat=11]="TimeFormat",kn[kn.DateTimeFormat=12]="DateTimeFormat",kn[kn.NumberSymbols=13]="NumberSymbols",kn[kn.NumberFormats=14]="NumberFormats",kn[kn.CurrencyCode=15]="CurrencyCode",kn[kn.CurrencySymbol=16]="CurrencySymbol",kn[kn.CurrencyName=17]="CurrencyName",kn[kn.Currencies=18]="Currencies",kn[kn.Directionality=19]="Directionality",kn[kn.PluralCase=20]="PluralCase",kn[kn.ExtraData=21]="ExtraData",kn))();const Ad="en-US";let gy=Ad;function __(n,r,s,a,l){if(n=Lt(n),Array.isArray(n))for(let h=0;h<n.length;h++)__(n[h],r,s,a,l);else{const h=Sn(),_=Tt();let C=pu(n)?n:Lt(n.provide),M=Al(n);const $=Ur(),Q=1048575&$.providerIndexes,ue=$.directiveStart,Re=$.providerIndexes>>20;if(pu(n)||!n.multi){const qe=new Gn(M,l,Zu),Dt=E_(C,r,l?Q:Q+Re,ue);-1===Dt?(ga(Xe($,_),h,C),v_(h,n,r.length),r.push(C),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),s.push(qe),_.push(qe)):(s[Dt]=qe,_[Dt]=qe)}else{const qe=E_(C,r,Q+Re,ue),Dt=E_(C,r,Q,Q+Re),on=Dt>=0&&s[Dt];if(l&&!on||!l&&!(qe>=0&&s[qe])){ga(Xe($,_),h,C);const fn=function L0(n,r,s,a,l){const h=new Gn(n,s,Zu);return h.multi=[],h.index=r,h.componentProviders=0,kv(h,l,a&&!s),h}(l?F0:k0,s.length,l,a,M);!l&&on&&(s[Dt].providerFactory=fn),v_(h,n,r.length,0),r.push(C),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),s.push(fn),_.push(fn)}else v_(h,n,qe>-1?qe:Dt,kv(s[l?Dt:qe],M,!l&&a));!l&&a&&on&&s[Dt].componentProviders++}}}function v_(n,r,s,a){const l=pu(r),h=function th(n){return!!n.useClass}(r);if(l||h){const M=(h?Lt(r.useClass):r).prototype.ngOnDestroy;if(M){const $=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const Q=$.indexOf(s);-1===Q?$.push(s,[a,M]):$[Q+1].push(a,M)}else $.push(s,M)}}}function kv(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function E_(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function k0(n,r,s,a){return w_(this.multi,[])}function F0(n,r,s,a){const l=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=Ni(s,s[Qt],this.providerFactory.index,a);h=C.slice(0,_),w_(l,h);for(let M=_;M<C.length;M++)h.push(C[M])}else h=[],w_(l,h);return h}function w_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function Fv(n,r=[]){return s=>{s.providersResolver=(a,l)=>function O0(n,r,s){const a=Sn();if(a.firstCreatePass){const l=Si(n);__(s,a.data,a.blueprint,l,!0),__(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class Fp{}class Lv{}function V0(n,r){return new Vv(n,r??null)}class Vv extends Fp{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ig(this);const a=Mr(r);this._bootstrapComponents=gi(a.bootstrap),this._r3Injector=Zf(r,s,[{provide:Fp,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],Kt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class T_ extends Lv{constructor(r){super(),this.moduleType=r}create(r){return new Vv(this.moduleType,r)}}class U0 extends Fp{constructor(r,s,a){super(),this.componentFactoryResolver=new Ig(this),this.instance=null;const l=new hc([...r,{provide:Fp,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],s||Dl(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function I_(n,r,s=null){return new U0(n,r,s).injector}let B0=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=hu(0,s.type),l=a.length>0?I_([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=qn({token:n,providedIn:"environment",factory:()=>new n(re(Oa))}),n})();function Uv(n){n.getStandaloneInjector=r=>r.get(B0).getOrCreateStandaloneInjector(n)}function b_(n){return r=>{setTimeout(n,void 0,r)}}const jl=class hw extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,h=s||(()=>null),_=a;if(r&&"object"==typeof r){const M=r;l=M.next?.bind(M),h=M.error?.bind(M),_=M.complete?.bind(M)}this.__isAsync&&(h=b_(h),l&&(l=b_(l)),_&&(_=b_(_)));const C=super.subscribe({next:l,error:h,complete:_});return r instanceof j.w0&&r.add(C),C}};function fw(){return this._results[Symbol.iterator]()}class C_{get changes(){return this._changes||(this._changes=new jl)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=C_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=fw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=function us(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ka(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],h=r[a];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let sm=(()=>{class n{}return n.__NG_ELEMENT_ID__=mw,n})();const pw=sm,gw=class extends pw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tView,l=_c(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[ds]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[Jr];return null!==_&&(l[Jr]=_.createEmbeddedView(a)),gd(a,l,r),new Mh(l)}};function mw(){return Ey(Ur(),Tt())}function Ey(n,r){return 4&n.type?new gw(r,n,Hu(n,r)):null}let wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=yw,n})();function yw(){return Xv(Ur(),Tt())}const _w=wy,Qv=class extends _w{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Hu(this._hostTNode,this._hostLView)}get injector(){return new ri(this._hostTNode,this._hostLView)}get parentInjector(){const r=Vo(this._hostTNode,this._hostLView);if(xi(r)){const s=ws(r,this._hostLView),a=Vs(r);return new ri(s[Qt].data[a+8],s)}return new ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Jv(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Xr}createEmbeddedView(r,s,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const _=r.createEmbeddedView(s||{},h);return this.insert(_,l),_}createComponent(r,s,a,l,h){const _=r&&!function pi(n){return"function"==typeof n}(r);let C;if(_)C=s;else{const ue=s||{};C=ue.index,a=ue.injector,l=ue.projectableNodes,h=ue.environmentInjector||ue.ngModuleRef}const M=_?r:new Ic(Bn(r)),$=a||this.parentInjector;if(!h&&null==M.ngModule){const Re=(_?$:this.parentInjector).get(Oa,null);Re&&(h=Re)}const Q=M.create($,l,void 0,h);return this.insert(Q.hostView,C),Q}insert(r,s){const a=r._lView,l=a[Qt];if(function Fo(n){return Cn(n[Tr])}(a)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const ue=a[Tr],Re=new Qv(ue,ue[mr],ue[Tr]);Re.detach(Re.indexOf(r))}}const h=this._adjustIndex(s),_=this._lContainer;!function qp(n,r,s,a){const l=Xr+a,h=s.length;a>0&&(s[l-1][cr]=r),a<h-Xr?(r[cr]=s[l],Rr(s,Xr+a,r)):(s.push(r),r[cr]=null),r[Tr]=s;const _=r[ds];null!==_&&s!==_&&function um(n,r){const s=n[Lr];r[Ir]!==r[Tr][Tr][Ir]&&(n[Jo]=!0),null===s?n[Lr]=[r]:s.push(r)}(_,r);const C=r[Jr];null!==C&&C.insertView(n),r[An]|=64}(l,a,_,h);const C=Hd(h,_),M=a[mn],$=pl(M,_[eo]);return null!==$&&function zp(n,r,s,a,l,h){a[Ai]=l,a[mr]=r,gl(n,a,s,1,l,h)}(l,_[mr],M,a,$,C),r.attachToViewContainerRef(),Rr(A_(_),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Jv(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=uu(this._lContainer,s);a&&(Ao(A_(this._lContainer),s),Mu(a[Qt],a))}detach(r){const s=this._adjustIndex(r,-1),a=uu(this._lContainer,s);return a&&null!=Ao(A_(this._lContainer),s)?new Mh(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function Jv(n){return n[xs]}function A_(n){return n[xs]||(n[xs]=[])}function Xv(n,r){let s;const a=r[n.index];if(Cn(a))s=a;else{let l;if(8&n.type)l=Cr(a);else{const h=r[mn];l=h.createComment("");const _=ai(n,r);Pu(h,pl(h,_),l,function jd(n,r){return n.nextSibling(r)}(h,_),!1)}r[n.index]=s=op(a,r,l,n),ap(r,s)}return new Qv(s,n,r)}class S_{constructor(r){this.queryList=r,this.matches=null}clone(){return new S_(this.queryList)}setDirty(){this.queryList.setDirty()}}class M_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<a;h++){const _=s.getByIndex(h);l.push(this.queries[_.indexInDeclarationView].clone())}return new M_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==aE(r,s).matches&&this.queries[s].setDirty()}}class eE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class P_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new P_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class R_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new R_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,s,vw(s,h)),this.matchTNodeWithReadOption(r,s,Eu(s,r,h,!1,!1))}else a===sm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Eu(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Yo||l===wy||l===sm&&4&s.type)this.addMatch(s.index,-2);else{const h=Eu(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function vw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function ww(n,r,s,a){return-1===s?function Ew(n,r){return 11&n.type?Hu(n,r):4&n.type?Ey(n,r):null}(r,n):-2===s?function Tw(n,r,s){return s===Yo?Hu(r,n):s===sm?Ey(r,n):s===wy?Xv(r,n):void 0}(n,r,a):Ni(n,n[Qt],s,r)}function tE(n,r,s,a){const l=r[Jr].queries[a];if(null===l.matches){const h=n.data,_=s.matches,C=[];for(let M=0;M<_.length;M+=2){const $=_[M];C.push($<0?null:ww(r,h[$],_[M+1],s.metadata.read))}l.matches=C}return l.matches}function x_(n,r,s,a){const l=n.queries.getByIndex(s),h=l.matches;if(null!==h){const _=tE(n,r,l,s);for(let C=0;C<h.length;C+=2){const M=h[C];if(M>0)a.push(_[C/2]);else{const $=h[C+1],Q=r[-M];for(let ue=Xr;ue<Q.length;ue++){const Re=Q[ue];Re[ds]===Re[Tr]&&x_(Re[Qt],Re,$,a)}if(null!==Q[Lr]){const ue=Q[Lr];for(let Re=0;Re<ue.length;Re++){const qe=ue[Re];x_(qe[Qt],qe,$,a)}}}}}return a}function nE(n){const r=Tt(),s=Sn(),a=E();T(a+1);const l=aE(s,a);if(n.dirty&&function wi(n){return 4==(4&n[An])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?x_(s,r,a,[]):tE(s,r,l,a);n.reset(h,kf),n.notifyOnChanges()}return!0}return!1}function rE(n,r,s,a){const l=Sn();if(l.firstCreatePass){const h=Ur();(function oE(n,r,s){null===n.queries&&(n.queries=new P_),n.queries.track(new R_(r,s))})(l,new eE(r,s,a),h.index),function bw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}!function sE(n,r,s){const a=new C_(4==(4&s));f(n,r,a,a.destroy),null===r[Jr]&&(r[Jr]=new M_),r[Jr].queries.push(new S_(a))}(l,Tt(),s)}function iE(){return function Dw(n,r){return n[Jr].queries[r].queryList}(Tt(),E())}function aE(n,r){return n.queries.getByIndex(r)}function N_(n){return!!Mr(n)}function Iy(...n){}const bE=new Pr("Application Initializer");let Dy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Iy,this.reject=Iy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Lg(h))s.push(h);else if(Dp(h)){const _=new Promise((C,M)=>{h.subscribe({complete:C,error:M})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(re(bE,8))},n.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CE=new Pr("AppId",{providedIn:"root",factory:function AE(){return`${V_()}${V_()}${V_()}`}});function V_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const SE=new Pr("Platform Initializer"),qw=new Pr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ww=new Pr("AnimationModuleType");let Kw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const by=new Pr("LocaleId",{providedIn:"root",factory:()=>Te(by,bt.Optional|bt.SkipSelf)||function Zw(){return typeof $localize<"u"&&$localize.locale||Ad}()}),Yw=new Pr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Qw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Jw=(()=>{class n{compileModuleSync(s){return new T_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=gi(Mr(s).declarations).reduce((_,C)=>{const M=Bn(C);return M&&_.push(new Ic(M)),_},[]);return new Qw(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tT=(()=>Promise.resolve(0))();function U_(n){typeof Zone>"u"?tT.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class vu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jl(!1),this.onMicrotaskEmpty=new jl(!1),this.onStable=new jl(!1),this.onError=new jl(!1),typeof Zone>"u")throw new ot(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function nT(){let n=Vn.requestAnimationFrame,r=Vn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function sT(n){const r=()=>{!function iT(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Vn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$_(n),n.isCheckStableRunning=!0,B_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,h,_,C)=>{try{return RE(n),s.invokeTask(l,h,_,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),xE(n)}},onInvoke:(s,a,l,h,_,C,M)=>{try{return RE(n),s.invoke(l,h,_,C,M)}finally{n.shouldCoalesceRunChangeDetection&&r(),xE(n)}},onHasTask:(s,a,l,h)=>{s.hasTask(l,h),a===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,$_(n),B_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,l,h)=>(s.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vu.isInAngularZone())throw new ot(909,!1)}static assertNotInAngularZone(){if(vu.isInAngularZone())throw new ot(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+l,r,rT,Iy,Iy);try{return h.runTask(_,s,a)}finally{h.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const rT={};function B_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function RE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xE(n){n._nesting--,B_(n)}class oT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jl,this.onMicrotaskEmpty=new jl,this.onStable=new jl,this.onError=new jl}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const NE=new Pr(""),OE=new Pr("");let j_,aT=(()=>{class n{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,j_||(function uT(n){j_=n}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vu.assertNotInAngularZone(),U_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())U_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(re(vu),re(kE),re(OE))},n.\u0275prov=qn({token:n,factory:n.\u0275fac}),n})(),kE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return j_?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const xc=!1;let Sd=null;const FE=new Pr("AllowMultipleToken"),H_=new Pr("PlatformDestroyListeners"),LE=new Pr("appBootstrapListener");class dT{constructor(r,s){this.name=r,this.token=s}}function UE(n,r,s=[]){const a=`Platform: ${r}`,l=new Pr(a);return(h=[])=>{let _=G_();if(!_||_.injector.get(FE,!1)){const C=[...s,...h,{provide:l,useValue:!0}];n?n(C):function hT(n){if(Sd&&!Sd.get(FE,!1))throw new ot(400,!1);Sd=n;const r=n.get($E);(function VE(n){const r=n.get(SE,null);r&&r.forEach(s=>s())})(n)}(function BE(n=[],r){return Ku.create({name:r,providers:[{provide:cc,useValue:"platform"},{provide:H_,useValue:new Set([()=>Sd=null])},...n]})}(C,a))}return function pT(n){const r=G_();if(!r)throw new ot(401,!1);return r}()}}function G_(){return Sd?.get($E)??null}let $E=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function HE(n,r){let s;return s="noop"===n?new oT:("zone.js"===n?void 0:n)||new vu(r),s}(a?.ngZone,function jE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:vu,useValue:l}];return l.run(()=>{const _=Ku.create({providers:h,parent:this.injector,name:s.moduleType.name}),C=s.create(_),M=C.injector.get(ka,null);if(!M)throw new ot(402,!1);return l.runOutsideAngular(()=>{const $=l.onError.subscribe({next:Q=>{M.handleError(Q)}});C.onDestroy(()=>{Ay(this._modules,C),$.unsubscribe()})}),function GE(n,r,s){try{const a=s();return Lg(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(M,l,()=>{const $=C.injector.get(Dy);return $.runInitializers(),$.donePromise.then(()=>(function my(n){wn(n,"Expected localeId to be defined"),"string"==typeof n&&(gy=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(by,Ad)||Ad),this._moduleDoBootstrap(C),C))})})}bootstrapModule(s,a=[]){const l=zE({},a);return function lT(n,r,s){const a=new T_(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const a=s.injector.get(Cy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new ot(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ot(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(H_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(re(Ku))},n.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function zE(n,r){return Array.isArray(r)?r.reduce(zE,n):{...n,...r}}let Cy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new b.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),_=new b.y(C=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{vu.assertNotInAngularZone(),U_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{vu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{M.unsubscribe(),$.unsubscribe()}});this.isStable=function yt(...n){const r=(0,ut.yG)(n),s=(0,ut._6)(n,1/0),a=n;return a.length?1===a.length?(0,le.Xf)(a[0]):(0,Se.J)(s)((0,Ve.D)(a,r)):Ye.E}(h,_.pipe(function Qe(n={}){const{connector:r=(()=>new p.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:l=!0}=n;return h=>{let _,C,M,$=0,Q=!1,ue=!1;const Re=()=>{C?.unsubscribe(),C=void 0},qe=()=>{Re(),_=M=void 0,Q=ue=!1},Dt=()=>{const $t=_;qe(),$t?.unsubscribe()};return(0,Ee.e)(($t,on)=>{$++,!ue&&!Q&&Re();const fn=M=M??r();on.add(()=>{$--,0===$&&!ue&&!Q&&(C=rt(Dt,l))}),fn.subscribe(on),!_&&$>0&&(_=new ie.Hp({next:Pn=>fn.next(Pn),error:Pn=>{ue=!0,Re(),C=rt(qe,s,Pn),fn.error(Pn)},complete:()=>{Q=!0,Re(),C=rt(qe,a),fn.complete()}}),(0,le.Xf)($t).subscribe(_))})(h)}}()))}bootstrap(s,a){const l=s instanceof rd;if(!this._injector.get(Dy).done){!l&&tr(s);throw new ot(405,xc)}let _;_=l?s:this._injector.get(ju).resolveComponentFactory(s),this.componentTypes.push(_.componentType);const C=function cT(n){return n.isBoundToModule}(_)?void 0:this._injector.get(Fp),$=_.create(Ku.NULL,[],a||_.selector,C),Q=$.location.nativeElement,ue=$.injector.get(NE,null);return ue?.registerApplication(Q),$.onDestroy(()=>{this.detachView($.hostView),Ay(this.components,$),ue?.unregisterApplication(Q)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new ot(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Ay(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(LE,[]);a.push(...this._bootstrapListeners),a.forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ay(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ot(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(re(vu),re(Oa),re(ka))},n.\u0275prov=qn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ay(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function mT(){}let yT=(()=>{class n{}return n.__NG_ELEMENT_ID__=_T,n})();function _T(n){return function vT(n,r,s){if(Bi(n)&&!s){const a=Wn(n.index,r);return new Mh(a,a)}return 47&n.type?new Mh(r[Ir],r):null}(Ur(),Tt(),16==(16&n))}class YE{constructor(){}supports(r){return xh(r)}create(r){return new bT(r)}}const DT=(n,r)=>r;class bT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||DT}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,h=null;for(;s||a;){const _=!a||s&&s.currentIndex<JE(a,l,h)?s:a,C=JE(_,l,h),M=_.currentIndex;if(_===a)l--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)l++;else{h||(h=[]);const $=C-l,Q=M-l;if($!=Q){for(let Re=0;Re<$;Re++){const qe=Re<h.length?h[Re]:h[Re]=0,Dt=qe+Re;Q<=Dt&&Dt<$&&(h[Re]=qe+1)}h[_.previousIndex]=Q-$}}C!==M&&r(_,C,M)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!xh(r))throw new ot(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)h=r[C],_=this._trackByFn(C,h),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,h,_,C)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,_,C),a=!0),s=s._next}else l=0,function Bm(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,C=>{_=this._trackByFn(l,C),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,C,_,l)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,_,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new CT(s,a),h,l),r}_verifyReinsertion(r,s,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new QE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class CT{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class QE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new AT,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JE(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class XE{constructor(){}supports(r){return r instanceof Map||Ng(r)}create(){return new ST}}class ST{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Ng(r)))throw new ot(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,_=l._next;return h&&(h._next=_),_&&(_._prev=h),l._next=null,l._prev=null,l}const a=new MT(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class MT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function e0(){return new Z_([new YE])}let Z_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||e0()),deps:[[n,new So,new Zr]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new ot(901,!1)}}return n.\u0275prov=qn({token:n,providedIn:"root",factory:e0}),n})();function t0(){return new Y_([new XE])}let Y_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||t0()),deps:[[n,new So,new Zr]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new ot(901,!1)}}return n.\u0275prov=qn({token:n,providedIn:"root",factory:t0}),n})();const xT=UE(null,"core",[]);let NT=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(re(Cy))},n.\u0275mod=vi({type:n}),n.\u0275inj=bi({}),n})();function OT(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(dn,gt,K)=>{K.d(gt,{Fj:()=>Ke,NI:()=>yr,u:()=>fs,cw:()=>tt,sg:()=>zr,u5:()=>bo,JJ:()=>ii,JL:()=>Fn,YN:()=>gs,wV:()=>fo,UX:()=>hn,Q7:()=>$i,EJ:()=>Oo,kI:()=>lt,_Y:()=>Ui,Kr:()=>ys});var p=K(8256),j=K(6895),b=K(8996),Se=K(9751),le=K(4742),Ye=K(8421),ut=K(7669),Ve=K(5403),yt=K(3268),ie=K(1810),Qe=K(4004);let rt=(()=>{class L{constructor(x,X){this._renderer=x,this._elementRef=X,this.onChange=nt=>{},this.onTouched=()=>{}}setProperty(x,X){this._renderer.setProperty(this._elementRef.nativeElement,x,X)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return L.\u0275fac=function(x){return new(x||L)(p.Y36(p.Qsj),p.Y36(p.SBq))},L.\u0275dir=p.lG2({type:L}),L})(),He=(()=>{class L extends rt{}return L.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(L)))(X||L)}}(),L.\u0275dir=p.lG2({type:L,features:[p.qOj]}),L})();const xt=new p.OlP("NgValueAccessor"),Gt={provide:xt,useExisting:(0,p.Gpc)(()=>Ke),multi:!0},Lt=new p.OlP("CompositionEventMode");let Ke=(()=>{class L extends rt{constructor(x,X,nt){super(x,X),this._compositionMode=nt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ot(){const L=(0,j.q)()?(0,j.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return L.\u0275fac=function(x){return new(x||L)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Lt,8))},L.\u0275dir=p.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,X){1&x&&p.NdJ("input",function(sn){return X._handleInput(sn.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(sn){return X._compositionEnd(sn.target.value)})},features:[p._Bn([Gt]),p.qOj]}),L})();const Me=!1;function ct(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function kt(L){return null!=L&&"number"==typeof L.length}const ot=new p.OlP("NgValidators"),Be=new p.OlP("NgAsyncValidators"),he=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lt{static min(O){return function dt(L){return O=>{if(ct(O.value)||ct(L))return null;const x=parseFloat(O.value);return!isNaN(x)&&x<L?{min:{min:L,actual:O.value}}:null}}(O)}static max(O){return function Le(L){return O=>{if(ct(O.value)||ct(L))return null;const x=parseFloat(O.value);return!isNaN(x)&&x>L?{max:{max:L,actual:O.value}}:null}}(O)}static required(O){return Mt(O)}static requiredTrue(O){return function Ne(L){return!0===L.value?null:{required:!0}}(O)}static email(O){return function Ae(L){return ct(L.value)||he.test(L.value)?null:{email:!0}}(O)}static minLength(O){return function et(L){return O=>ct(O.value)||!kt(O.value)?null:O.value.length<L?{minlength:{requiredLength:L,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function _t(L){return O=>kt(O.value)&&O.value.length>L?{maxlength:{requiredLength:L,actualLength:O.value.length}}:null}(O)}static pattern(O){return function Pe(L){if(!L)return Ge;let O,x;return"string"==typeof L?(x="","^"!==L.charAt(0)&&(x+="^"),x+=L,"$"!==L.charAt(L.length-1)&&(x+="$"),O=new RegExp(x)):(x=L.toString(),O=L),X=>{if(ct(X.value))return null;const nt=X.value;return O.test(nt)?null:{pattern:{requiredPattern:x,actualValue:nt}}}}(O)}static nullValidator(O){return null}static compose(O){return Rt(O)}static composeAsync(O){return wn(O)}}function Mt(L){return ct(L.value)?{required:!0}:null}function Ge(L){return null}function Fe(L){return null!=L}function De(L){const O=(0,p.QGY)(L)?(0,b.D)(L):L;if(Me&&!(0,p.CqO)(O)){let x="Expected async validator to return Promise or Observable.";throw"object"==typeof L&&(x+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,x)}return O}function st(L){let O={};return L.forEach(x=>{O=null!=x?{...O,...x}:O}),0===Object.keys(O).length?null:O}function pe(L,O){return O.map(x=>x(L))}function ht(L){return L.map(O=>function xe(L){return!L.validate}(O)?O:x=>O.validate(x))}function Rt(L){if(!L)return null;const O=L.filter(Fe);return 0==O.length?null:function(x){return st(pe(x,O))}}function Ln(L){return null!=L?Rt(ht(L)):null}function wn(L){if(!L)return null;const O=L.filter(Fe);return 0==O.length?null:function(x){return function Ee(...L){const O=(0,ut.jO)(L),{args:x,keys:X}=(0,le.D)(L),nt=new Se.y(sn=>{const{length:or}=x;if(!or)return void sn.complete();const Vr=new Array(or);let Tt=or,Sn=or;for(let io=0;io<or;io++){let Qi=!1;(0,Ye.Xf)(x[io]).subscribe((0,Ve.x)(sn,Ur=>{Qi||(Qi=!0,Sn--),Vr[io]=Ur},()=>Tt--,void 0,()=>{(!Tt||!Qi)&&(Sn||sn.next(X?(0,ie.n)(X,Vr):Vr),sn.complete())}))}});return O?nt.pipe((0,yt.Z)(O)):nt}(pe(x,O).map(De)).pipe((0,Qe.U)(st))}}function an(L){return null!=L?wn(ht(L)):null}function Jn(L,O){return null===L?[O]:Array.isArray(L)?[...L,O]:[L,O]}function ur(L){return L._rawValidators}function hi(L){return L._rawAsyncValidators}function qn(L){return L?Array.isArray(L)?L:[L]:[]}function pr(L,O){return Array.isArray(L)?L.includes(O):L===O}function bi(L,O){const x=qn(O);return qn(L).forEach(nt=>{pr(x,nt)||x.push(nt)}),x}function Ht(L,O){return qn(O).filter(x=>!pr(L,x))}class rr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Ln(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=an(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,x){return!!this.control&&this.control.hasError(O,x)}getError(O,x){return this.control?this.control.getError(O,x):null}}class Xn extends rr{get formDirective(){return null}get path(){return null}}class gr extends rr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qr{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ii=(()=>{class L extends Qr{constructor(x){super(x)}}return L.\u0275fac=function(x){return new(x||L)(p.Y36(gr,2))},L.\u0275dir=p.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,X){2&x&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[p.qOj]}),L})(),Fn=(()=>{class L extends Qr{constructor(x){super(x)}}return L.\u0275fac=function(x){return new(x||L)(p.Y36(Xn,10))},L.\u0275dir=p.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,X){2&x&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},features:[p.qOj]}),L})();function Xt(L,O){return L?`with name: '${O}'`:`at index: ${O}`}const ge=!1,it="VALID",mt="INVALID",re="PENDING",ae="DISABLED";function Te(L){return(we(L)?L.validators:L)||null}function ke(L,O){return(we(O)?O.asyncValidators:L)||null}function we(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}class _e{constructor(O,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(O),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===it}get invalid(){return this.status===mt}get pending(){return this.status==re}get disabled(){return this.status===ae}get enabled(){return this.status!==ae}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._assignValidators(O)}setAsyncValidators(O){this._assignAsyncValidators(O)}addValidators(O){this.setValidators(bi(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(bi(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(Ht(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(Ht(O,this._rawAsyncValidators))}hasValidator(O){return pr(this._rawValidators,O)}hasAsyncValidator(O){return pr(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=re,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const x=this._parentMarkedDirty(O.onlySelf);this.status=ae,this.errors=null,this._forEachChild(X=>{X.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:x}),this._onDisabledChange.forEach(X=>X(!0))}enable(O={}){const x=this._parentMarkedDirty(O.onlySelf);this.status=it,this._forEachChild(X=>{X.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:x}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===it||this.status===re)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ae:it}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=re,this._hasOwnPendingAsyncValidator=!0;const x=De(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,x={}){this.errors=O,this._updateControlsErrors(!1!==x.emitEvent)}get(O){let x=O;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((X,nt)=>X&&X._find(nt),this)}getError(O,x){const X=x?this.get(x):this;return X&&X.errors?X.errors[O]:null}hasError(O,x){return!!this.getError(O,x)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?ae:this.errors?mt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(re)?re:this._anyControlsHaveStatus(mt)?mt:it}_anyControlsHaveStatus(O){return this._anyControls(x=>x.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){we(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}_assignValidators(O){this._rawValidators=Array.isArray(O)?O.slice():O,this._composedValidatorFn=function je(L){return Array.isArray(L)?Ln(L):L||null}(this._rawValidators)}_assignAsyncValidators(O){this._rawAsyncValidators=Array.isArray(O)?O.slice():O,this._composedAsyncValidatorFn=function zt(L){return Array.isArray(L)?an(L):L||null}(this._rawAsyncValidators)}}class tt extends _e{constructor(O,x,X){super(Te(x),ke(X,x)),this.controls=O,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,x){return this.controls[O]?this.controls[O]:(this.controls[O]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(O,x,X={}){this.registerControl(O,x),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(O,x={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(O,x,X={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],x&&this.registerControl(O,x),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,x={}){(function ne(L,O,x){L._forEachChild((X,nt)=>{if(void 0===x[nt])throw new p.vHH(1002,ge?function oe(L,O){return`Must supply a value for form control ${Xt(L,O)}`}(O,nt):"")})})(this,!0,O),Object.keys(O).forEach(X=>{(function me(L,O,x){const X=L.controls;if(!(O?Object.keys(X):X).length)throw new p.vHH(1e3,ge?function vt(L){return`\n    There are no form controls registered with this ${L?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(O):"");if(!X[x])throw new p.vHH(1001,ge?function fe(L,O){return`Cannot find form control ${Xt(L,O)}`}(O,x):"")})(this,!0,X),this.controls[X].setValue(O[X],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(O,x={}){null!=O&&(Object.keys(O).forEach(X=>{const nt=this.controls[X];nt&&nt.patchValue(O[X],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(O={},x={}){this._forEachChild((X,nt)=>{X.reset(O[nt],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(O,x,X)=>(O[X]=x.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(x,X)=>!!X._syncPendingControls()||x);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(x=>{const X=this.controls[x];X&&O(X,x)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[x,X]of Object.entries(this.controls))if(this.contains(x)&&O(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,X,nt)=>((X.enabled||this.disabled)&&(x[nt]=X.value),x))}_reduceChildren(O,x){let X=O;return this._forEachChild((nt,sn)=>{X=x(X,nt,sn)}),X}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}const Or=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ki}),ki="always";function yi(L,O,x=ki){fi(L,O),O.valueAccessor.writeValue(L.value),(L.disabled||"always"===x)&&O.valueAccessor.setDisabledState?.(L.disabled),function Li(L,O){O.valueAccessor.registerOnChange(x=>{L._pendingValue=x,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&Cs(L,O)})}(L,O),function As(L,O){const x=(X,nt)=>{O.valueAccessor.writeValue(X),nt&&O.viewToModelUpdate(X)};L.registerOnChange(x),O._registerOnDestroy(()=>{L._unregisterOnChange(x)})}(L,O),function vi(L,O){O.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&Cs(L,O),"submit"!==L.updateOn&&L.markAsTouched()})}(L,O),function zi(L,O){if(O.valueAccessor.setDisabledState){const x=X=>{O.valueAccessor.setDisabledState(X)};L.registerOnDisabledChange(x),O._registerOnDestroy(()=>{L._unregisterOnDisabledChange(x)})}}(L,O)}function Fi(L,O,x=!0){const X=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(X),O.valueAccessor.registerOnTouched(X)),zs(L,O),L&&(O._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function _i(L,O){L.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(O)})}function fi(L,O){const x=ur(L);null!==O.validator?L.setValidators(Jn(x,O.validator)):"function"==typeof x&&L.setValidators([x]);const X=hi(L);null!==O.asyncValidator?L.setAsyncValidators(Jn(X,O.asyncValidator)):"function"==typeof X&&L.setAsyncValidators([X]);const nt=()=>L.updateValueAndValidity();_i(O._rawValidators,nt),_i(O._rawAsyncValidators,nt)}function zs(L,O){let x=!1;if(null!==L){if(null!==O.validator){const nt=ur(L);if(Array.isArray(nt)&&nt.length>0){const sn=nt.filter(or=>or!==O.validator);sn.length!==nt.length&&(x=!0,L.setValidators(sn))}}if(null!==O.asyncValidator){const nt=hi(L);if(Array.isArray(nt)&&nt.length>0){const sn=nt.filter(or=>or!==O.asyncValidator);sn.length!==nt.length&&(x=!0,L.setAsyncValidators(sn))}}}const X=()=>{};return _i(O._rawValidators,X),_i(O._rawAsyncValidators,X),x}function Cs(L,O){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function mr(L,O){const x=L.indexOf(O);x>-1&&L.splice(x,1)}function is(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const yr=class extends _e{constructor(O=null,x,X){super(Te(x),ke(X,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),we(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=is(O)?O.value:O)}setValue(O,x={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(O,x={}){this.setValue(O,x)}reset(O=this.defaultValue,x={}){this._applyFormState(O),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){mr(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){mr(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){is(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}};let Ui=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275dir=p.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const nr={provide:xt,useExisting:(0,p.Gpc)(()=>fo),multi:!0};let fo=(()=>{class L extends He{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=X=>{x(""==X?null:parseFloat(X))}}}return L.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(L)))(X||L)}}(),L.\u0275dir=p.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(x,X){1&x&&p.NdJ("input",function(sn){return X.onChange(sn.target.value)})("blur",function(){return X.onTouched()})},features:[p._Bn([nr]),p.qOj]}),L})(),eo=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=p.oAB({type:L}),L.\u0275inj=p.cJS({}),L})();const ei=new p.OlP("NgModelWithFormControlWarning"),Bi={provide:Xn,useExisting:(0,p.Gpc)(()=>zr)};let zr=(()=>{class L extends Xn{constructor(x,X,nt){super(),this.callSetDisabledState=nt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(x),this._setAsyncValidators(X)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const X=this.form.get(x.path);return yi(X,x,this.callSetDisabledState),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),X}getControl(x){return this.form.get(x.path)}removeControl(x){Fi(x.control||null,x,!1),function Qt(L,O){const x=L.indexOf(O);x>-1&&L.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,X){this.form.get(x.path).setValue(X)}onSubmit(x){return this.submitted=!0,function lr(L,O){L._syncPendingControls(),O.forEach(x=>{const X=x.control;"submit"===X.updateOn&&X._pendingChange&&(x.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const X=x.control,nt=this.form.get(x.path);X!==nt&&(Fi(X||null,x),(L=>L instanceof yr)(nt)&&(yi(nt,x,this.callSetDisabledState),x.control=nt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const X=this.form.get(x.path);(function Gr(L,O){fi(L,O)})(X,x),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const X=this.form.get(x.path);X&&function Ss(L,O){return zs(L,O)}(X,x)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fi(this.form,this),this._oldForm&&zs(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(x){return new(x||L)(p.Y36(ot,10),p.Y36(Be,10),p.Y36(Or,8))},L.\u0275dir=p.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(x,X){1&x&&p.NdJ("submit",function(sn){return X.onSubmit(sn)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Bi]),p.qOj,p.TTD]}),L})();const ks={provide:gr,useExisting:(0,p.Gpc)(()=>fs)};let fs=(()=>{class L extends gr{set isDisabled(x){}constructor(x,X,nt,sn,or){super(),this._ngModelWarningConfig=or,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(X),this._setAsyncValidators(nt),this.valueAccessor=function Ai(L,O){if(!O)return null;let x,X,nt;return Array.isArray(O),O.forEach(sn=>{sn.constructor===Ke?x=sn:function qi(L){return Object.getPrototypeOf(L.constructor)===He}(sn)?X=sn:nt=sn}),nt||X||x||null}(0,sn)}ngOnChanges(x){this._added||this._setUpControl(),function Ms(L,O){if(!L.hasOwnProperty("model"))return!1;const x=L.model;return!!x.isFirstChange()||!Object.is(O,x.currentValue)}(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return function mi(L,O){return[...O.path,L]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(x){return new(x||L)(p.Y36(Xn,13),p.Y36(ot,10),p.Y36(Be,10),p.Y36(xt,10),p.Y36(ei,8))},L.\u0275dir=p.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([ks]),p.qOj,p.TTD]}),L})();const os={provide:xt,useExisting:(0,p.Gpc)(()=>Oo),multi:!0};function to(L,O){return null==L?`${O}`:(O&&"object"==typeof O&&(O="Object"),`${L}: ${O}`.slice(0,50))}let Oo=(()=>{class L extends He{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const nt=to(this._getOptionId(x),x);this.setProperty("value",nt)}registerOnChange(x){this.onChange=X=>{this.value=this._getOptionValue(X),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const X of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(X),x))return X;return null}_getOptionValue(x){const X=function ps(L){return L.split(":")[0]}(x);return this._optionMap.has(X)?this._optionMap.get(X):x}}return L.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(L)))(X||L)}}(),L.\u0275dir=p.lG2({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(x,X){1&x&&p.NdJ("change",function(sn){return X.onChange(sn.target.value)})("blur",function(){return X.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([os]),p.qOj]}),L})(),gs=(()=>{class L{constructor(x,X,nt){this._element=x,this._renderer=X,this._select=nt,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(to(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(x){return new(x||L)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Oo,9))},L.\u0275dir=p.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();const jo={provide:xt,useExisting:(0,p.Gpc)(()=>qs),multi:!0};function ca(L,O){return null==L?`${O}`:("string"==typeof O&&(O=`'${O}'`),O&&"object"==typeof O&&(O="Object"),`${L}: ${O}`.slice(0,50))}let qs=(()=>{class L extends He{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let X;if(this.value=x,Array.isArray(x)){const nt=x.map(sn=>this._getOptionId(sn));X=(sn,or)=>{sn._setSelected(nt.indexOf(or.toString())>-1)}}else X=(nt,sn)=>{nt._setSelected(!1)};this._optionMap.forEach(X)}registerOnChange(x){this.onChange=X=>{const nt=[],sn=X.selectedOptions;if(void 0!==sn){const or=sn;for(let Vr=0;Vr<or.length;Vr++){const Sn=this._getOptionValue(or[Vr].value);nt.push(Sn)}}else{const or=X.options;for(let Vr=0;Vr<or.length;Vr++){const Tt=or[Vr];if(Tt.selected){const Sn=this._getOptionValue(Tt.value);nt.push(Sn)}}}this.value=nt,x(nt)}}_registerOption(x){const X=(this._idCounter++).toString();return this._optionMap.set(X,x),X}_getOptionId(x){for(const X of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(X)._value,x))return X;return null}_getOptionValue(x){const X=function Ho(L){return L.split(":")[0]}(x);return this._optionMap.has(X)?this._optionMap.get(X)._value:x}}return L.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(L)))(X||L)}}(),L.\u0275dir=p.lG2({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(x,X){1&x&&p.NdJ("change",function(sn){return X.onChange(sn.target)})("blur",function(){return X.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([jo]),p.qOj]}),L})(),ys=(()=>{class L{constructor(x,X,nt){this._element=x,this._renderer=X,this._select=nt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(ca(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(ca(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(x){return new(x||L)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(qs,9))},L.\u0275dir=p.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})(),_s=(()=>{class L{constructor(){this._validator=Ge}ngOnChanges(x){if(this.inputName in x){const X=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(X),this._validator=this._enabled?this.createValidator(X):Ge,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}}return L.\u0275fac=function(x){return new(x||L)},L.\u0275dir=p.lG2({type:L,features:[p.TTD]}),L})();const ko={provide:ot,useExisting:(0,p.Gpc)(()=>$i),multi:!0};let $i=(()=>{class L extends _s{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.D6c,this.createValidator=x=>Mt}enabled(x){return x}}return L.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(L)))(X||L)}}(),L.\u0275dir=p.lG2({type:L,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(x,X){2&x&&p.uIk("required",X._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([ko]),p.qOj]}),L})(),Fs=(()=>{class L{}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=p.oAB({type:L}),L.\u0275inj=p.cJS({imports:[eo]}),L})(),bo=(()=>{class L{static withConfig(x){return{ngModule:L,providers:[{provide:Or,useValue:x.callSetDisabledState??ki}]}}}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=p.oAB({type:L}),L.\u0275inj=p.cJS({imports:[Fs]}),L})(),hn=(()=>{class L{static withConfig(x){return{ngModule:L,providers:[{provide:ei,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:Or,useValue:x.callSetDisabledState??ki}]}}}return L.\u0275fac=function(x){return new(x||L)},L.\u0275mod=p.oAB({type:L}),L.\u0275inj=p.cJS({imports:[Fs]}),L})()},1481:(dn,gt,K)=>{K.d(gt,{Dx:()=>Fn,H7:()=>Te,b2:()=>gr,q6:()=>bi,se:()=>Mt});var p=K(6895),j=K(8256);class b extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends b{static makeCurrent(){(0,p.HT)(new Se)}onAndCancel(me,ne,_e){return me.addEventListener(ne,_e,!1),()=>{me.removeEventListener(ne,_e,!1)}}dispatchEvent(me,ne){me.dispatchEvent(ne)}remove(me){me.parentNode&&me.parentNode.removeChild(me)}createElement(me,ne){return(ne=ne||this.getDefaultDocument()).createElement(me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(me){return me.nodeType===Node.ELEMENT_NODE}isShadowRoot(me){return me instanceof DocumentFragment}getGlobalEventTarget(me,ne){return"window"===ne?window:"document"===ne?me:"body"===ne?me.body:null}getBaseHref(me){const ne=function Ye(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==ne?null:function Ve(we){ut=ut||document.createElement("a"),ut.setAttribute("href",we);const me=ut.pathname;return"/"===me.charAt(0)?me:`/${me}`}(ne)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(me){return(0,p.Mx)(document.cookie,me)}}let ut,le=null;const yt=new j.OlP("TRANSITION_ID"),Ee=[{provide:j.ip1,useFactory:function ie(we,me,ne){return()=>{ne.get(j.CZH).donePromise.then(()=>{const _e=(0,p.q)(),tt=me.querySelectorAll(`style[ng-transition="${we}"]`);for(let Ct=0;Ct<tt.length;Ct++)_e.remove(tt[Ct])})}},deps:[yt,p.K0,j.zs3],multi:!0}];let rt=(()=>{class we{build(){return new XMLHttpRequest}}return we.\u0275fac=function(ne){return new(ne||we)},we.\u0275prov=j.Yz7({token:we,factory:we.\u0275fac}),we})();const He=new j.OlP("EventManagerPlugins");let xt=(()=>{class we{constructor(ne,_e){this._zone=_e,this._eventNameToPlugin=new Map,ne.forEach(tt=>{tt.manager=this}),this._plugins=ne.slice().reverse()}addEventListener(ne,_e,tt){return this._findPluginFor(_e).addEventListener(ne,_e,tt)}addGlobalEventListener(ne,_e,tt){return this._findPluginFor(_e).addGlobalEventListener(ne,_e,tt)}getZone(){return this._zone}_findPluginFor(ne){const _e=this._eventNameToPlugin.get(ne);if(_e)return _e;const tt=this._plugins;for(let Ct=0;Ct<tt.length;Ct++){const Yt=tt[Ct];if(Yt.supports(ne))return this._eventNameToPlugin.set(ne,Yt),Yt}throw new Error(`No event manager plugin found for event ${ne}`)}}return we.\u0275fac=function(ne){return new(ne||we)(j.LFG(He),j.LFG(j.R0b))},we.\u0275prov=j.Yz7({token:we,factory:we.\u0275fac}),we})();class Kt{constructor(me){this._doc=me}addGlobalEventListener(me,ne,_e){const tt=(0,p.q)().getGlobalEventTarget(this._doc,me);if(!tt)throw new Error(`Unsupported event target ${tt} for event ${ne}`);return this.addEventListener(tt,ne,_e)}}let un=(()=>{class we{constructor(){this.usageCount=new Map}addStyles(ne){for(const _e of ne)1===this.changeUsageCount(_e,1)&&this.onStyleAdded(_e)}removeStyles(ne){for(const _e of ne)0===this.changeUsageCount(_e,-1)&&this.onStyleRemoved(_e)}onStyleRemoved(ne){}onStyleAdded(ne){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ne,_e){const tt=this.usageCount;let Ct=tt.get(ne)??0;return Ct+=_e,Ct>0?tt.set(ne,Ct):tt.delete(ne),Ct}ngOnDestroy(){for(const ne of this.getAllStyles())this.onStyleRemoved(ne);this.usageCount.clear()}}return we.\u0275fac=function(ne){return new(ne||we)},we.\u0275prov=j.Yz7({token:we,factory:we.\u0275fac}),we})(),Gt=(()=>{class we extends un{constructor(ne){super(),this.doc=ne,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ne){for(const _e of this.hostNodes)this.addStyleToHost(_e,ne)}onStyleRemoved(ne){const _e=this.styleRef;_e.get(ne)?.forEach(Ct=>Ct.remove()),_e.delete(ne)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ne){this.hostNodes.add(ne);for(const _e of this.getAllStyles())this.addStyleToHost(ne,_e)}removeHost(ne){this.hostNodes.delete(ne)}addStyleToHost(ne,_e){const tt=this.doc.createElement("style");tt.textContent=_e,ne.appendChild(tt);const Ct=this.styleRef.get(_e);Ct?Ct.push(tt):this.styleRef.set(_e,[tt])}resetHostNodes(){const ne=this.hostNodes;ne.clear(),ne.add(this.doc.head)}}return we.\u0275fac=function(ne){return new(ne||we)(j.LFG(p.K0))},we.\u0275prov=j.Yz7({token:we,factory:we.\u0275fac}),we})();const Ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lt=/%COMP%/g,Be=new j.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function dt(we,me){return me.flat(100).map(ne=>ne.replace(Lt,we))}function Le(we){return me=>{if("__ngUnwrap__"===me)return we;!1===we(me)&&(me.preventDefault(),me.returnValue=!1)}}let Mt=(()=>{class we{constructor(ne,_e,tt,Ct){this.eventManager=ne,this.sharedStylesHost=_e,this.appId=tt,this.removeStylesOnCompDestory=Ct,this.rendererByCompId=new Map,this.defaultRenderer=new Ne(ne)}createRenderer(ne,_e){if(!ne||!_e)return this.defaultRenderer;const tt=this.getOrCreateRenderer(ne,_e);return tt instanceof Fe?tt.applyToHost(ne):tt instanceof Ge&&tt.applyStyles(),tt}getOrCreateRenderer(ne,_e){const tt=this.rendererByCompId;let Ct=tt.get(_e.id);if(!Ct){const Yt=this.eventManager,en=this.sharedStylesHost,br=this.removeStylesOnCompDestory;switch(_e.encapsulation){case j.ifc.Emulated:Ct=new Fe(Yt,en,_e,this.appId,br);break;case j.ifc.ShadowDom:return new Pe(Yt,en,ne,_e);default:Ct=new Ge(Yt,en,_e,br)}Ct.onDestroy=()=>tt.delete(_e.id),tt.set(_e.id,Ct)}return Ct}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return we.\u0275fac=function(ne){return new(ne||we)(j.LFG(xt),j.LFG(Gt),j.LFG(j.AFp),j.LFG(Be))},we.\u0275prov=j.Yz7({token:we,factory:we.\u0275fac}),we})();class Ne{constructor(me){this.eventManager=me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(me,ne){return ne?document.createElementNS(Ot[ne]||ne,me):document.createElement(me)}createComment(me){return document.createComment(me)}createText(me){return document.createTextNode(me)}appendChild(me,ne){(_t(me)?me.content:me).appendChild(ne)}insertBefore(me,ne,_e){me&&(_t(me)?me.content:me).insertBefore(ne,_e)}removeChild(me,ne){me&&me.removeChild(ne)}selectRootElement(me,ne){let _e="string"==typeof me?document.querySelector(me):me;if(!_e)throw new Error(`The selector "${me}" did not match any elements`);return ne||(_e.textContent=""),_e}parentNode(me){return me.parentNode}nextSibling(me){return me.nextSibling}setAttribute(me,ne,_e,tt){if(tt){ne=tt+":"+ne;const Ct=Ot[tt];Ct?me.setAttributeNS(Ct,ne,_e):me.setAttribute(ne,_e)}else me.setAttribute(ne,_e)}removeAttribute(me,ne,_e){if(_e){const tt=Ot[_e];tt?me.removeAttributeNS(tt,ne):me.removeAttribute(`${_e}:${ne}`)}else me.removeAttribute(ne)}addClass(me,ne){me.classList.add(ne)}removeClass(me,ne){me.classList.remove(ne)}setStyle(me,ne,_e,tt){tt&(j.JOm.DashCase|j.JOm.Important)?me.style.setProperty(ne,_e,tt&j.JOm.Important?"important":""):me.style[ne]=_e}removeStyle(me,ne,_e){_e&j.JOm.DashCase?me.style.removeProperty(ne):me.style[ne]=""}setProperty(me,ne,_e){me[ne]=_e}setValue(me,ne){me.nodeValue=ne}listen(me,ne,_e){return"string"==typeof me?this.eventManager.addGlobalEventListener(me,ne,Le(_e)):this.eventManager.addEventListener(me,ne,Le(_e))}}function _t(we){return"TEMPLATE"===we.tagName&&void 0!==we.content}class Pe extends Ne{constructor(me,ne,_e,tt){super(me),this.sharedStylesHost=ne,this.hostEl=_e,this.shadowRoot=_e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ct=dt(tt.id,tt.styles);for(const Yt of Ct){const en=document.createElement("style");en.textContent=Yt,this.shadowRoot.appendChild(en)}}nodeOrShadowRoot(me){return me===this.hostEl?this.shadowRoot:me}appendChild(me,ne){return super.appendChild(this.nodeOrShadowRoot(me),ne)}insertBefore(me,ne,_e){return super.insertBefore(this.nodeOrShadowRoot(me),ne,_e)}removeChild(me,ne){return super.removeChild(this.nodeOrShadowRoot(me),ne)}parentNode(me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(me)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ge extends Ne{constructor(me,ne,_e,tt,Ct=_e.id){super(me),this.sharedStylesHost=ne,this.removeStylesOnCompDestory=tt,this.rendererUsageCount=0,this.styles=dt(Ct,_e.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Fe extends Ge{constructor(me,ne,_e,tt,Ct){const Yt=tt+"-"+_e.id;super(me,ne,_e,Ct,Yt),this.contentAttr=function he(we){return"_ngcontent-%COMP%".replace(Lt,we)}(Yt),this.hostAttr=function lt(we){return"_nghost-%COMP%".replace(Lt,we)}(Yt)}applyToHost(me){this.applyStyles(),this.setAttribute(me,this.hostAttr,"")}createElement(me,ne){const _e=super.createElement(me,ne);return super.setAttribute(_e,this.contentAttr,""),_e}}let De=(()=>{class we extends Kt{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,_e,tt){return ne.addEventListener(_e,tt,!1),()=>this.removeEventListener(ne,_e,tt)}removeEventListener(ne,_e,tt){return ne.removeEventListener(_e,tt)}}return we.\u0275fac=function(ne){return new(ne||we)(j.LFG(p.K0))},we.\u0275prov=j.Yz7({token:we,factory:we.\u0275fac}),we})();const st=["alt","control","meta","shift"],pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xe={alt:we=>we.altKey,control:we=>we.ctrlKey,meta:we=>we.metaKey,shift:we=>we.shiftKey};let ht=(()=>{class we extends Kt{constructor(ne){super(ne)}supports(ne){return null!=we.parseEventName(ne)}addEventListener(ne,_e,tt){const Ct=we.parseEventName(_e),Yt=we.eventCallback(Ct.fullKey,tt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(ne,Ct.domEventName,Yt))}static parseEventName(ne){const _e=ne.toLowerCase().split("."),tt=_e.shift();if(0===_e.length||"keydown"!==tt&&"keyup"!==tt)return null;const Ct=we._normalizeKey(_e.pop());let Yt="",en=_e.indexOf("code");if(en>-1&&(_e.splice(en,1),Yt="code."),st.forEach(Or=>{const ki=_e.indexOf(Or);ki>-1&&(_e.splice(ki,1),Yt+=Or+".")}),Yt+=Ct,0!=_e.length||0===Ct.length)return null;const br={};return br.domEventName=tt,br.fullKey=Yt,br}static matchEventFullKeyCode(ne,_e){let tt=pe[ne.key]||ne.key,Ct="";return _e.indexOf("code.")>-1&&(tt=ne.code,Ct="code."),!(null==tt||!tt)&&(tt=tt.toLowerCase()," "===tt?tt="space":"."===tt&&(tt="dot"),st.forEach(Yt=>{Yt!==tt&&(0,xe[Yt])(ne)&&(Ct+=Yt+".")}),Ct+=tt,Ct===_e)}static eventCallback(ne,_e,tt){return Ct=>{we.matchEventFullKeyCode(Ct,ne)&&tt.runGuarded(()=>_e(Ct))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return we.\u0275fac=function(ne){return new(ne||we)(j.LFG(p.K0))},we.\u0275prov=j.Yz7({token:we,factory:we.\u0275fac}),we})();const bi=(0,j.eFA)(j._c5,"browser",[{provide:j.Lbi,useValue:p.bD},{provide:j.g9A,useValue:function ur(){Se.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function qn(){return(0,j.RDi)(document),document},deps:[]}]),Ht=new j.OlP(""),rr=[{provide:j.rWj,useClass:class Qe{addToWindow(me){j.dqk.getAngularTestability=(_e,tt=!0)=>{const Ct=me.findTestabilityInTree(_e,tt);if(null==Ct)throw new Error("Could not find testability for element.");return Ct},j.dqk.getAllAngularTestabilities=()=>me.getAllTestabilities(),j.dqk.getAllAngularRootElements=()=>me.getAllRootElements(),j.dqk.frameworkStabilizers||(j.dqk.frameworkStabilizers=[]),j.dqk.frameworkStabilizers.push(_e=>{const tt=j.dqk.getAllAngularTestabilities();let Ct=tt.length,Yt=!1;const en=function(br){Yt=Yt||br,Ct--,0==Ct&&_e(Yt)};tt.forEach(function(br){br.whenStable(en)})})}findTestabilityInTree(me,ne,_e){return null==ne?null:me.getTestability(ne)??(_e?(0,p.q)().isShadowRoot(ne)?this.findTestabilityInTree(me,ne.host,!0):this.findTestabilityInTree(me,ne.parentElement,!0):null)}},deps:[]},{provide:j.lri,useClass:j.dDg,deps:[j.R0b,j.eoX,j.rWj]},{provide:j.dDg,useClass:j.dDg,deps:[j.R0b,j.eoX,j.rWj]}],Xn=[{provide:j.zSh,useValue:"root"},{provide:j.qLn,useFactory:function hi(){return new j.qLn},deps:[]},{provide:He,useClass:De,multi:!0,deps:[p.K0,j.R0b,j.Lbi]},{provide:He,useClass:ht,multi:!0,deps:[p.K0]},{provide:Mt,useClass:Mt,deps:[xt,Gt,j.AFp,Be]},{provide:j.FYo,useExisting:Mt},{provide:un,useExisting:Gt},{provide:Gt,useClass:Gt,deps:[p.K0]},{provide:xt,useClass:xt,deps:[He,j.R0b]},{provide:p.JF,useClass:rt,deps:[]},[]];let gr=(()=>{class we{constructor(ne){}static withServerTransition(ne){return{ngModule:we,providers:[{provide:j.AFp,useValue:ne.appId},{provide:yt,useExisting:j.AFp},Ee]}}}return we.\u0275fac=function(ne){return new(ne||we)(j.LFG(Ht,12))},we.\u0275mod=j.oAB({type:we}),we.\u0275inj=j.cJS({providers:[...Xn,...rr],imports:[p.ez,j.hGG]}),we})(),Fn=(()=>{class we{constructor(ne){this._doc=ne}getTitle(){return this._doc.title}setTitle(ne){this._doc.title=ne||""}}return we.\u0275fac=function(ne){return new(ne||we)(j.LFG(p.K0))},we.\u0275prov=j.Yz7({token:we,factory:function(ne){let _e=null;return _e=ne?new ne:function ii(){return new Fn((0,j.LFG)(p.K0))}(),_e},providedIn:"root"}),we})();typeof window<"u"&&window;let Te=(()=>{class we{}return we.\u0275fac=function(ne){return new(ne||we)},we.\u0275prov=j.Yz7({token:we,factory:function(ne){let _e=null;return _e=ne?new(ne||we):j.LFG(ke),_e},providedIn:"root"}),we})(),ke=(()=>{class we extends Te{constructor(ne){super(),this._doc=ne}sanitize(ne,_e){if(null==_e)return null;switch(ne){case j.q3G.NONE:return _e;case j.q3G.HTML:return(0,j.qzn)(_e,"HTML")?(0,j.z3N)(_e):(0,j.EiD)(this._doc,String(_e)).toString();case j.q3G.STYLE:return(0,j.qzn)(_e,"Style")?(0,j.z3N)(_e):_e;case j.q3G.SCRIPT:if((0,j.qzn)(_e,"Script"))return(0,j.z3N)(_e);throw new Error("unsafe value used in a script context");case j.q3G.URL:return(0,j.qzn)(_e,"URL")?(0,j.z3N)(_e):(0,j.mCW)(String(_e));case j.q3G.RESOURCE_URL:if((0,j.qzn)(_e,"ResourceURL"))return(0,j.z3N)(_e);throw new Error(`unsafe value used in a resource URL context (see ${j.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ne} (see ${j.JZr})`)}}bypassSecurityTrustHtml(ne){return(0,j.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,j.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,j.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,j.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,j.pB0)(ne)}}return we.\u0275fac=function(ne){return new(ne||we)(j.LFG(p.K0))},we.\u0275prov=j.Yz7({token:we,factory:function(ne){let _e=null;return _e=ne?new ne:function je(we){return new ke(we.get(p.K0))}(j.LFG(j.zs3)),_e},providedIn:"root"}),we})()},5450:(dn,gt,K)=>{K.d(gt,{F0:()=>Kr,rH:()=>es,Bz:()=>pi,lC:()=>$i});var p=K(8256),j=K(8996),b=K(9646),Se=K(7579);class le extends Se.x{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const g=super._subscribe(w);return!g.closed&&w.next(this._value),g}getValue(){const{hasError:w,thrownError:g,_value:S}=this;if(w)throw g;return this._throwIfClosed(),S}next(w){super.next(this._value=w)}}const ut=(0,K(3888).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var Ve=K(9751),yt=K(4742),ie=K(4671),Ee=K(3268),Qe=K(7669),rt=K(1810),He=K(5403),xt=K(9672);function Kt(...v){const w=(0,Qe.yG)(v),g=(0,Qe.jO)(v),{args:S,keys:k}=(0,yt.D)(v);if(0===S.length)return(0,j.D)([],w);const W=new Ve.y(function un(v,w,g=ie.y){return S=>{Gt(w,()=>{const{length:k}=v,W=new Array(k);let J=k,be=k;for(let pt=0;pt<k;pt++)Gt(w,()=>{const Wt=(0,j.D)(v[pt],w);let qt=!1;Wt.subscribe((0,He.x)(S,Nn=>{W[pt]=Nn,qt||(qt=!0,be--),be||S.next(g(W.slice()))},()=>{--J||S.complete()}))},S)},S)}}(S,w,k?J=>(0,rt.n)(k,J):ie.y));return g?W.pipe((0,Ee.Z)(g)):W}function Gt(v,w,g){v?(0,xt.f)(g,v,w):w()}var Ot=K(8189);function Ke(...v){return function Lt(){return(0,Ot.J)(1)}()((0,j.D)(v,(0,Qe.yG)(v)))}var Me=K(8421);function ct(v){return new Ve.y(w=>{(0,Me.Xf)(v()).subscribe(w)})}var kt=K(9635),ot=K(576);function Be(v,w){const g=(0,ot.m)(v)?v:()=>v,S=k=>k.error(g());return new Ve.y(w?k=>w.schedule(S,0,k):S)}var he=K(515),lt=K(727),dt=K(4482);function Le(){return(0,dt.e)((v,w)=>{let g=null;v._refCount++;const S=(0,He.x)(w,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(g=null);const k=v._connection,W=g;g=null,k&&(!W||k===W)&&k.unsubscribe(),w.unsubscribe()});v.subscribe(S),S.closed||(g=v.connect())})}class Mt extends Ve.y{constructor(w,g){super(),this.source=w,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,dt.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new lt.w0;const g=this.getSubject();w.add(this.source.subscribe((0,He.x)(g,void 0,()=>{this._teardown(),g.complete()},S=>{this._teardown(),g.error(S)},()=>this._teardown()))),w.closed&&(this._connection=null,w=lt.w0.EMPTY)}return w}refCount(){return Le()(this)}}var Ne=K(6895),Ae=K(4004);function et(v,w){return(0,dt.e)((g,S)=>{let k=null,W=0,J=!1;const be=()=>J&&!k&&S.complete();g.subscribe((0,He.x)(S,pt=>{k?.unsubscribe();let Wt=0;const qt=W++;(0,Me.Xf)(v(pt,qt)).subscribe(k=(0,He.x)(S,Nn=>S.next(w?w(pt,Nn,qt,Wt++):Nn),()=>{k=null,be()}))},()=>{J=!0,be()}))})}function _t(v){return v<=0?()=>he.E:(0,dt.e)((w,g)=>{let S=0;w.subscribe((0,He.x)(g,k=>{++S<=v&&(g.next(k),v<=S&&g.complete())}))})}var Ge=K(9300),Fe=K(5577);function De(v){return(0,dt.e)((w,g)=>{let S=!1;w.subscribe((0,He.x)(g,k=>{S=!0,g.next(k)},()=>{S||g.next(v),g.complete()}))})}function st(v=pe){return(0,dt.e)((w,g)=>{let S=!1;w.subscribe((0,He.x)(g,k=>{S=!0,g.next(k)},()=>S?g.complete():g.error(v())))})}function pe(){return new ut}function xe(v,w){const g=arguments.length>=2;return S=>S.pipe(v?(0,Ge.h)((k,W)=>v(k,W,S)):ie.y,_t(1),g?De(w):st(()=>new ut))}var ht=K(4351),Rt=K(8505);function Ln(v){return(0,dt.e)((w,g)=>{let W,S=null,k=!1;S=w.subscribe((0,He.x)(g,void 0,void 0,J=>{W=(0,Me.Xf)(v(J,Ln(v)(w))),S?(S.unsubscribe(),S=null,W.subscribe(g)):k=!0})),k&&(S.unsubscribe(),S=null,W.subscribe(g))})}function an(v,w){return(0,dt.e)(function wn(v,w,g,S,k){return(W,J)=>{let be=g,pt=w,Wt=0;W.subscribe((0,He.x)(J,qt=>{const Nn=Wt++;pt=be?v(pt,qt,Nn):(be=!0,qt),S&&J.next(pt)},k&&(()=>{be&&J.next(pt),J.complete()})))}}(v,w,arguments.length>=2,!0))}function Jn(v){return v<=0?()=>he.E:(0,dt.e)((w,g)=>{let S=[];w.subscribe((0,He.x)(g,k=>{S.push(k),v<S.length&&S.shift()},()=>{for(const k of S)g.next(k);g.complete()},void 0,()=>{S=null}))})}function ur(v,w){const g=arguments.length>=2;return S=>S.pipe(v?(0,Ge.h)((k,W)=>v(k,W,S)):ie.y,Jn(1),g?De(w):st(()=>new ut))}function pr(v){return(0,dt.e)((w,g)=>{try{w.subscribe(g)}finally{g.add(v)}})}var bi=K(1481);const Ht="primary",rr=Symbol("RouteTitle");class Xn{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const g=this.params[w];return Array.isArray(g)?g[0]:g}return null}getAll(w){if(this.has(w)){const g=this.params[w];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function gr(v){return new Xn(v)}function Qr(v,w,g){const S=g.path.split("/");if(S.length>v.length||"full"===g.pathMatch&&(w.hasChildren()||S.length<v.length))return null;const k={};for(let W=0;W<S.length;W++){const J=S[W],be=v[W];if(J.startsWith(":"))k[J.substring(1)]=be;else if(J!==be.path)return null}return{consumed:v.slice(0,S.length),posParams:k}}function jn(v,w){const g=v?Object.keys(v):void 0,S=w?Object.keys(w):void 0;if(!g||!S||g.length!=S.length)return!1;let k;for(let W=0;W<g.length;W++)if(k=g[W],!ii(v[k],w[k]))return!1;return!0}function ii(v,w){if(Array.isArray(v)&&Array.isArray(w)){if(v.length!==w.length)return!1;const g=[...v].sort(),S=[...w].sort();return g.every((k,W)=>S[W]===k)}return v===w}function Fn(v){return Array.prototype.concat.apply([],v)}function bt(v){return v.length>0?v[v.length-1]:null}function Tn(v,w){for(const g in v)v.hasOwnProperty(g)&&w(v[g],g)}function In(v){return(0,p.CqO)(v)?v:(0,p.QGY)(v)?(0,j.D)(Promise.resolve(v)):(0,b.of)(v)}const er=!1,si={exact:function Gi(v,w,g){if(!it(v.segments,w.segments)||!Xt(v.segments,w.segments,g)||v.numberOfChildren!==w.numberOfChildren)return!1;for(const S in w.children)if(!v.children[S]||!Gi(v.children[S],w.children[S],g))return!1;return!0},subset:Ci},Vn={exact:function ir(v,w){return jn(v,w)},subset:function Rn(v,w){return Object.keys(w).length<=Object.keys(v).length&&Object.keys(w).every(g=>ii(v[g],w[g]))},ignored:()=>!0};function bs(v,w,g){return si[g.paths](v.root,w.root,g.matrixParams)&&Vn[g.queryParams](v.queryParams,w.queryParams)&&!("exact"===g.fragment&&v.fragment!==w.fragment)}function Ci(v,w,g){return Hr(v,w,w.segments,g)}function Hr(v,w,g,S){if(v.segments.length>g.length){const k=v.segments.slice(0,g.length);return!(!it(k,g)||w.hasChildren()||!Xt(k,g,S))}if(v.segments.length===g.length){if(!it(v.segments,g)||!Xt(v.segments,g,S))return!1;for(const k in w.children)if(!v.children[k]||!Ci(v.children[k],w.children[k],S))return!1;return!0}{const k=g.slice(0,v.segments.length),W=g.slice(v.segments.length);return!!(it(v.segments,k)&&Xt(v.segments,k,S)&&v.children[Ht])&&Hr(v.children[Ht],w,W,S)}}function Xt(v,w,g){return w.every((S,k)=>Vn[g](v[k].parameters,S.parameters))}class vt{constructor(w=new fe([],{}),g={},S=null){this.root=w,this.queryParams=g,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return Te.serialize(this)}}class fe{constructor(w,g){this.segments=w,this.children=g,this.parent=null,Tn(g,(S,k)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return je(this)}}class oe{constructor(w,g){this.path=w,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=gr(this.parameters)),this._parameterMap}toString(){return Ct(this)}}function it(v,w){return v.length===w.length&&v.every((g,S)=>g.path===w[S].path)}let re=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return new ae},providedIn:"root"}),v})();class ae{parse(w){const g=new _i(w);return new vt(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(w){const g=`/${ke(w.root,!0)}`,S=function en(v){const w=Object.keys(v).map(g=>{const S=v[g];return Array.isArray(S)?S.map(k=>`${we(g)}=${we(k)}`).join("&"):`${we(g)}=${we(S)}`}).filter(g=>!!g);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${g}${S}${"string"==typeof w.fragment?`#${function me(v){return encodeURI(v)}(w.fragment)}`:""}`}}const Te=new ae;function je(v){return v.segments.map(w=>Ct(w)).join("/")}function ke(v,w){if(!v.hasChildren())return je(v);if(w){const g=v.children[Ht]?ke(v.children[Ht],!1):"",S=[];return Tn(v.children,(k,W)=>{W!==Ht&&S.push(`${W}:${ke(k,!1)}`)}),S.length>0?`${g}(${S.join("//")})`:g}{const g=function mt(v,w){let g=[];return Tn(v.children,(S,k)=>{k===Ht&&(g=g.concat(w(S,k)))}),Tn(v.children,(S,k)=>{k!==Ht&&(g=g.concat(w(S,k)))}),g}(v,(S,k)=>k===Ht?[ke(v.children[Ht],!1)]:[`${k}:${ke(S,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Ht]?`${je(v)}/${g[0]}`:`${je(v)}/(${g.join("//")})`}}function zt(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function we(v){return zt(v).replace(/%3B/gi,";")}function ne(v){return zt(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _e(v){return decodeURIComponent(v)}function tt(v){return _e(v.replace(/\+/g,"%20"))}function Ct(v){return`${ne(v.path)}${function Yt(v){return Object.keys(v).map(w=>`;${ne(w)}=${ne(v[w])}`).join("")}(v.parameters)}`}const br=/^[^\/()?;=#]+/;function Or(v){const w=v.match(br);return w?w[0]:""}const ki=/^[^=?&#]+/,yi=/^[^&#]+/;class _i{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(w.length>0||Object.keys(g).length>0)&&(S[Ht]=new fe(w,g)),S}parseSegment(){const w=Or(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new p.vHH(4009,er);return this.capture(w),new oe(_e(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const g=Or(this.remaining);if(!g)return;this.capture(g);let S="";if(this.consumeOptional("=")){const k=Or(this.remaining);k&&(S=k,this.capture(S))}w[_e(g)]=_e(S)}parseQueryParam(w){const g=function mi(v){const w=v.match(ki);return w?w[0]:""}(this.remaining);if(!g)return;this.capture(g);let S="";if(this.consumeOptional("=")){const J=function Fi(v){const w=v.match(yi);return w?w[0]:""}(this.remaining);J&&(S=J,this.capture(S))}const k=tt(g),W=tt(S);if(w.hasOwnProperty(k)){let J=w[k];Array.isArray(J)||(J=[J],w[k]=J),J.push(W)}else w[k]=W}parseParens(w){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Or(this.remaining),k=this.remaining[S.length];if("/"!==k&&")"!==k&&";"!==k)throw new p.vHH(4010,er);let W;S.indexOf(":")>-1?(W=S.slice(0,S.indexOf(":")),this.capture(W),this.capture(":")):w&&(W=Ht);const J=this.parseChildren();g[W]=1===Object.keys(J).length?J[Ht]:new fe([],J),this.consumeOptional("//")}return g}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new p.vHH(4011,er)}}function zi(v){return v.segments.length>0?new fe([],{[Ht]:v}):v}function fi(v){const w={};for(const S of Object.keys(v.children)){const W=fi(v.children[S]);(W.segments.length>0||W.hasChildren())&&(w[S]=W)}return function zs(v){if(1===v.numberOfChildren&&v.children[Ht]){const w=v.children[Ht];return new fe(v.segments.concat(w.segments),w.children)}return v}(new fe(v.segments,w))}function Li(v){return v instanceof vt}const vi=!1;function Ss(v,w,g,S,k){if(0===g.length)return wr(w.root,w.root,w.root,S,k);const W=function Ms(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Mr(!0,0,v);let w=0,g=!1;const S=v.reduce((k,W,J)=>{if("object"==typeof W&&null!=W){if(W.outlets){const be={};return Tn(W.outlets,(pt,Wt)=>{be[Wt]="string"==typeof pt?pt.split("/"):pt}),[...k,{outlets:be}]}if(W.segmentPath)return[...k,W.segmentPath]}return"string"!=typeof W?[...k,W]:0===J?(W.split("/").forEach((be,pt)=>{0==pt&&"."===be||(0==pt&&""===be?g=!0:".."===be?w++:""!=be&&k.push(be))}),k):[...k,W]},[]);return new Mr(g,w,S)}(g);return W.toRoot()?wr(w.root,w.root,new fe([],{}),S,k):function J(pt){const Wt=function Ai(v,w,g,S){if(v.isAbsolute)return new qi(w.root,!0,0);if(-1===S)return new qi(g,g===w.root,0);return function Qt(v,w,g){let S=v,k=w,W=g;for(;W>k;){if(W-=k,S=S.parent,!S)throw new p.vHH(4005,vi&&"Invalid number of '../'");k=S.segments.length}return new qi(S,!1,k-W)}(g,S+(Bn(v.commands[0])?0:1),v.numberOfDoubleDots)}(W,w,v.snapshot?._urlSegment,pt),qt=Wt.processChildren?cr(Wt.segmentGroup,Wt.index,W.commands):Tr(Wt.segmentGroup,Wt.index,W.commands);return wr(w.root,Wt.segmentGroup,qt,S,k)}(v.snapshot?._lastPathIndex)}function Bn(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Hn(v){return"object"==typeof v&&null!=v&&v.outlets}function wr(v,w,g,S,k){let J,W={};S&&Tn(S,(pt,Wt)=>{W[Wt]=Array.isArray(pt)?pt.map(qt=>`${qt}`):`${pt}`}),J=v===w?g:tr(v,w,g);const be=zi(fi(J));return new vt(be,W,k)}function tr(v,w,g){const S={};return Tn(v.children,(k,W)=>{S[W]=k===w?g:tr(k,w,g)}),new fe(v.segments,S)}class Mr{constructor(w,g,S){if(this.isAbsolute=w,this.numberOfDoubleDots=g,this.commands=S,w&&S.length>0&&Bn(S[0]))throw new p.vHH(4003,vi&&"Root segment cannot have matrix parameters");const k=S.find(Hn);if(k&&k!==bt(S))throw new p.vHH(4004,vi&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qi{constructor(w,g,S){this.segmentGroup=w,this.processChildren=g,this.index=S}}function Tr(v,w,g){if(v||(v=new fe([],{})),0===v.segments.length&&v.hasChildren())return cr(v,w,g);const S=function Vi(v,w,g){let S=0,k=w;const W={match:!1,pathIndex:0,commandIndex:0};for(;k<v.segments.length;){if(S>=g.length)return W;const J=v.segments[k],be=g[S];if(Hn(be))break;const pt=`${be}`,Wt=S<g.length-1?g[S+1]:null;if(k>0&&void 0===pt)break;if(pt&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!Ps(pt,Wt,J))return W;S+=2}else{if(!Ps(pt,{},J))return W;S++}k++}return{match:!0,pathIndex:k,commandIndex:S}}(v,w,g),k=g.slice(S.commandIndex);if(S.match&&S.pathIndex<v.segments.length){const W=new fe(v.segments.slice(0,S.pathIndex),{});return W.children[Ht]=new fe(v.segments.slice(S.pathIndex),v.children),cr(W,0,k)}return S.match&&0===k.length?new fe(v.segments,{}):S.match&&!v.hasChildren()?mr(v,w,g):S.match?cr(v,0,k):mr(v,w,g)}function cr(v,w,g){if(0===g.length)return new fe(v.segments,{});{const S=function An(v){return Hn(v[0])?v[0].outlets:{[Ht]:v}}(g),k={};if(!S[Ht]&&v.children[Ht]&&1===v.numberOfChildren&&0===v.children[Ht].segments.length){const W=cr(v.children[Ht],w,g);return new fe(v.segments,W.children)}return Tn(S,(W,J)=>{"string"==typeof W&&(W=[W]),null!==W&&(k[J]=Tr(v.children[J],w,W))}),Tn(v.children,(W,J)=>{void 0===S[J]&&(k[J]=W)}),new fe(v.segments,k)}}function mr(v,w,g){const S=v.segments.slice(0,w);let k=0;for(;k<g.length;){const W=g[k];if(Hn(W)){const pt=is(W.outlets);return new fe(S,pt)}if(0===k&&Bn(g[0])){S.push(new oe(v.segments[w].path,yr(g[0]))),k++;continue}const J=Hn(W)?W.outlets[Ht]:`${W}`,be=k<g.length-1?g[k+1]:null;J&&be&&Bn(be)?(S.push(new oe(J,yr(be))),k+=2):(S.push(new oe(J,{})),k++)}return new fe(S,{})}function is(v){const w={};return Tn(v,(g,S)=>{"string"==typeof g&&(g=[g]),null!==g&&(w[S]=mr(new fe([],{}),0,g))}),w}function yr(v){const w={};return Tn(v,(g,S)=>w[S]=`${g}`),w}function Ps(v,w,g){return v==g.path&&jn(w,g.parameters)}const Ei="imperative";class mn{constructor(w,g){this.id=w,this.url=g}}class ho extends mn{constructor(w,g,S="imperative",k=null){super(w,g),this.type=0,this.navigationTrigger=S,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wi extends mn{constructor(w,g,S){super(w,g),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xs extends mn{constructor(w,g,S,k){super(w,g),this.reason=S,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kr extends mn{constructor(w,g,S,k){super(w,g),this.reason=S,this.code=k,this.type=16}}class Ir extends mn{constructor(w,g,S,k){super(w,g),this.error=S,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ds extends mn{constructor(w,g,S,k){super(w,g),this.urlAfterRedirects=S,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ss extends mn{constructor(w,g,S,k){super(w,g),this.urlAfterRedirects=S,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr extends mn{constructor(w,g,S,k,W){super(w,g),this.urlAfterRedirects=S,this.state=k,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fr extends mn{constructor(w,g,S,k){super(w,g),this.urlAfterRedirects=S,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui extends mn{constructor(w,g,S,k){super(w,g),this.urlAfterRedirects=S,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nr{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fo{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rs{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eo{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lr{constructor(w,g,S){this.routerEvent=w,this.position=g,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ei=(()=>{class v{createUrlTree(g,S,k,W,J,be){return Ss(g||S.root,k,W,J,be)}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})(),Ki=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:function(w){return ei.\u0275fac(w)},providedIn:"root"}),v})();class Bi{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const g=this.pathFromRoot(w);return g.length>1?g[g.length-2]:null}children(w){const g=zr(w,this._root);return g?g.children.map(S=>S.value):[]}firstChild(w){const g=zr(w,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(w){const g=Si(w,this._root);return g.length<2?[]:g[g.length-2].children.map(k=>k.value).filter(k=>k!==w)}pathFromRoot(w){return Si(w,this._root).map(g=>g.value)}}function zr(v,w){if(v===w.value)return w;for(const g of w.children){const S=zr(v,g);if(S)return S}return null}function Si(v,w){if(v===w.value)return[w];for(const g of w.children){const S=Si(v,g);if(S.length)return S.unshift(w),S}return[]}class Mi{constructor(w,g){this.value=w,this.children=g}toString(){return`TreeNode(${this.value})`}}function No(v){const w={};return v&&v.children.forEach(g=>w[g.value.outlet]=g),w}class Ns extends Bi{constructor(w,g){super(w),this.snapshot=g,gs(this,w)}toString(){return this.snapshot.toString()}}function Os(v,w){const g=function ks(v,w){const J=new ps([],{},{},"",{},Ht,w,null,v.root,-1,{});return new Oo("",new Mi(J,[]))}(v,w),S=new le([new oe("",{})]),k=new le({}),W=new le({}),J=new le({}),be=new le(""),pt=new fs(S,k,J,be,W,Ht,w,g.root);return pt.snapshot=g.root,new Ns(new Mi(pt,[]),g)}class fs{constructor(w,g,S,k,W,J,be,pt){this.url=w,this.params=g,this.queryParams=S,this.fragment=k,this.data=W,this.outlet=J,this.component=be,this.title=this.data?.pipe((0,Ae.U)(Wt=>Wt[rr]))??(0,b.of)(void 0),this._futureSnapshot=pt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ae.U)(w=>gr(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ae.U)(w=>gr(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function os(v,w="emptyOnly"){const g=v.pathFromRoot;let S=0;if("always"!==w)for(S=g.length-1;S>=1;){const k=g[S],W=g[S-1];if(k.routeConfig&&""===k.routeConfig.path)S--;else{if(W.component)break;S--}}return function to(v){return v.reduce((w,g)=>({params:{...w.params,...g.params},data:{...w.data,...g.data},resolve:{...g.data,...w.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(S))}class ps{get title(){return this.data?.[rr]}constructor(w,g,S,k,W,J,be,pt,Wt,qt,Nn){this.url=w,this.params=g,this.queryParams=S,this.fragment=k,this.data=W,this.outlet=J,this.component=be,this.routeConfig=pt,this._urlSegment=Wt,this._lastPathIndex=qt,this._resolve=Nn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Oo extends Bi{constructor(w,g){super(g),this.url=w,gs(this,g)}toString(){return jo(this._root)}}function gs(v,w){w.value._routerState=v,w.children.forEach(g=>gs(v,g))}function jo(v){const w=v.children.length>0?` { ${v.children.map(jo).join(", ")} } `:"";return`${v.value}${w}`}function ca(v){if(v.snapshot){const w=v.snapshot,g=v._futureSnapshot;v.snapshot=g,jn(w.queryParams,g.queryParams)||v.queryParams.next(g.queryParams),w.fragment!==g.fragment&&v.fragment.next(g.fragment),jn(w.params,g.params)||v.params.next(g.params),function Nr(v,w){if(v.length!==w.length)return!1;for(let g=0;g<v.length;++g)if(!jn(v[g],w[g]))return!1;return!0}(w.url,g.url)||v.url.next(g.url),jn(w.data,g.data)||v.data.next(g.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Ho(v,w){const g=jn(v.params,w.params)&&function ge(v,w){return it(v,w)&&v.every((g,S)=>jn(g.parameters,w[S].parameters))}(v.url,w.url);return g&&!(!v.parent!=!w.parent)&&(!v.parent||Ho(v.parent,w.parent))}function qs(v,w,g){if(g&&v.shouldReuseRoute(w.value,g.value.snapshot)){const S=g.value;S._futureSnapshot=w.value;const k=function ys(v,w,g){return w.children.map(S=>{for(const k of g.children)if(v.shouldReuseRoute(S.value,k.value.snapshot))return qs(v,S,k);return qs(v,S)})}(v,w,g);return new Mi(S,k)}{if(v.shouldAttach(w.value)){const W=v.retrieve(w.value);if(null!==W){const J=W.route;return J.value._futureSnapshot=w.value,J.children=w.children.map(be=>qs(v,be)),J}}const S=function Io(v){return new fs(new le(v.url),new le(v.params),new le(v.queryParams),new le(v.fragment),new le(v.data),v.outlet,v.component,v)}(w.value),k=w.children.map(W=>qs(v,W));return new Mi(S,k)}}const no="ngNavigationCancelingError";function _s(v,w){const{redirectTo:g,navigationBehaviorOptions:S}=Li(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,k=Go(!1,0,w);return k.url=g,k.navigationBehaviorOptions=S,k}function Go(v,w,g){const S=new Error("NavigationCancelingError: "+(v||""));return S[no]=!0,S.cancellationCode=w,g&&(S.url=g),S}function oi(v){return zo(v)&&Li(v.url)}function zo(v){return v&&v[no]}class vs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ko,this.attachRef=null}}let ko=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(g,S){const k=this.getOrCreateContext(g);k.outlet=S,this.contexts.set(g,k)}onChildOutletDestroyed(g){const S=this.getContext(g);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let S=this.getContext(g);return S||(S=new vs,this.contexts.set(g,S)),S}getContext(g){return this.contexts.get(g)||null}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const dr=!1;let $i=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(ko),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(g){if(g.name){const{firstChange:S,previousValue:k}=g.name;if(S)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,dr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,dr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,dr);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,S){this.activated=g,this._activatedRoute=S,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,S){if(this.isActivated)throw new p.vHH(4013,dr);this._activatedRoute=g;const k=this.location,J=g.snapshot.component,be=this.parentContexts.getOrCreateContext(this.name).children,pt=new qr(g,be,k.injector);if(S&&function Wr(v){return!!v.resolveComponentFactory}(S)){const Wt=S.resolveComponentFactory(J);this.activated=k.createComponent(Wt,k.length,pt)}else this.activated=k.createComponent(J,{index:k.length,injector:pt,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275dir=p.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),v})();class qr{constructor(w,g,S){this.route=w,this.childContexts=g,this.parent=S}get(w,g){return w===fs?this.route:w===ko?this.childContexts:this.parent.get(w,g)}}let Ws=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275cmp=p.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(g,S){1&g&&p._UZ(0,"router-outlet")},dependencies:[$i],encapsulation:2}),v})();function ti(v,w){return v.providers&&!v._injector&&(v._injector=(0,p.MMx)(v.providers,w,`Route: ${v.path}`)),v._injector??w}function Fs(v){const w=v.children&&v.children.map(Fs),g=w?{...v,children:w}:{...v};return!g.component&&!g.loadComponent&&(w||g.loadChildren)&&g.outlet&&g.outlet!==Ht&&(g.component=Ws),g}function ni(v){return v.outlet||Ht}function Yi(v,w){const g=v.filter(S=>ni(S)===w);return g.push(...v.filter(S=>ni(S)!==w)),g}function Wn(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let w=v.parent;w;w=w.parent){const g=w.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class Zs{constructor(w,g,S,k){this.routeReuseStrategy=w,this.futureState=g,this.currState=S,this.forwardEvent=k}activate(w){const g=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,S,w),ca(this.futureState.root),this.activateChildRoutes(g,S,w)}deactivateChildRoutes(w,g,S){const k=No(g);w.children.forEach(W=>{const J=W.value.outlet;this.deactivateRoutes(W,k[J],S),delete k[J]}),Tn(k,(W,J)=>{this.deactivateRouteAndItsChildren(W,S)})}deactivateRoutes(w,g,S){const k=w.value,W=g?g.value:null;if(k===W)if(k.component){const J=S.getContext(k.outlet);J&&this.deactivateChildRoutes(w,g,J.children)}else this.deactivateChildRoutes(w,g,S);else W&&this.deactivateRouteAndItsChildren(g,S)}deactivateRouteAndItsChildren(w,g){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,g):this.deactivateRouteAndOutlet(w,g)}detachAndStoreRouteSubtree(w,g){const S=g.getContext(w.value.outlet),k=S&&w.value.component?S.children:g,W=No(w);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],k);if(S&&S.outlet){const J=S.outlet.detach(),be=S.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:J,route:w,contexts:be})}}deactivateRouteAndOutlet(w,g){const S=g.getContext(w.value.outlet),k=S&&w.value.component?S.children:g,W=No(w);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],k);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(w,g,S){const k=No(g);w.children.forEach(W=>{this.activateRoutes(W,k[W.value.outlet],S),this.forwardEvent(new xs(W.value.snapshot))}),w.children.length&&this.forwardEvent(new Jo(w.value.snapshot))}activateRoutes(w,g,S){const k=w.value,W=g?g.value:null;if(ca(k),k===W)if(k.component){const J=S.getOrCreateContext(k.outlet);this.activateChildRoutes(w,g,J.children)}else this.activateChildRoutes(w,g,S);else if(k.component){const J=S.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const be=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),J.children.onOutletReAttached(be.contexts),J.attachRef=be.componentRef,J.route=be.route.value,J.outlet&&J.outlet.attach(be.componentRef,be.route.value),ca(be.route.value),this.activateChildRoutes(w,null,J.children)}else{const be=Wn(k.snapshot),pt=be?.get(p._Vd)??null;J.attachRef=null,J.route=k,J.resolver=pt,J.injector=be,J.outlet&&J.outlet.activateWith(k,J.injector),this.activateChildRoutes(w,null,J.children)}}else this.activateChildRoutes(w,null,S)}}class Fo{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Ti{constructor(w,g){this.component=w,this.route=g}}function ro(v,w,g){const S=v._root;return L(S,w?w._root:null,g,[S.value])}function hn(v,w){const g=Symbol(),S=w.get(v,g);return S===g?"function"!=typeof v||(0,p.Z0I)(v)?w.get(v):v:S}function L(v,w,g,S,k={canDeactivateChecks:[],canActivateChecks:[]}){const W=No(w);return v.children.forEach(J=>{(function O(v,w,g,S,k={canDeactivateChecks:[],canActivateChecks:[]}){const W=v.value,J=w?w.value:null,be=g?g.getContext(v.value.outlet):null;if(J&&W.routeConfig===J.routeConfig){const pt=function x(v,w,g){if("function"==typeof g)return g(v,w);switch(g){case"pathParamsChange":return!it(v.url,w.url);case"pathParamsOrQueryParamsChange":return!it(v.url,w.url)||!jn(v.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ho(v,w)||!jn(v.queryParams,w.queryParams);default:return!Ho(v,w)}}(J,W,W.routeConfig.runGuardsAndResolvers);pt?k.canActivateChecks.push(new Fo(S)):(W.data=J.data,W._resolvedData=J._resolvedData),L(v,w,W.component?be?be.children:null:g,S,k),pt&&be&&be.outlet&&be.outlet.isActivated&&k.canDeactivateChecks.push(new Ti(be.outlet.component,J))}else J&&X(w,be,k),k.canActivateChecks.push(new Fo(S)),L(v,null,W.component?be?be.children:null:g,S,k)})(J,W[J.value.outlet],g,S.concat([J.value]),k),delete W[J.value.outlet]}),Tn(W,(J,be)=>X(J,g.getContext(be),k)),k}function X(v,w,g){const S=No(v),k=v.value;Tn(S,(W,J)=>{X(W,k.component?w?w.children.getContext(J):null:w,g)}),g.canDeactivateChecks.push(new Ti(k.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,k))}function nt(v){return"function"==typeof v}function po(v){return v instanceof ut||"EmptyError"===v?.name}const ui=Symbol("INITIAL_VALUE");function Br(){return et(v=>Kt(v.map(w=>w.pipe(_t(1),function Pe(...v){const w=(0,Qe.yG)(v);return(0,dt.e)((g,S)=>{(w?Ke(v,g,w):Ke(v,g)).subscribe(S)})}(ui)))).pipe((0,Ae.U)(w=>{for(const g of w)if(!0!==g){if(g===ui)return ui;if(!1===g||g instanceof vt)return g}return!0}),(0,Ge.h)(w=>w!==ui),_t(1)))}function Ls(v){return(0,kt.z)((0,Rt.b)(w=>{if(Li(w))throw _s(0,w)}),(0,Ae.U)(w=>!0===w))}const na={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ca(v,w,g,S,k){const W=Wo(v,w,g);return W.matched?function da(v,w,g,S){const k=w.canMatch;if(!k||0===k.length)return(0,b.of)(!0);const W=k.map(J=>{const be=hn(J,v);return In(function io(v){return v&&nt(v.canMatch)}(be)?be.canMatch(w,g):v.runInContext(()=>be(w,g)))});return(0,b.of)(W).pipe(Br(),Ls())}(S=ti(w,S),w,g).pipe((0,Ae.U)(J=>!0===J?W:{...na})):(0,b.of)(W)}function Wo(v,w,g){if(""===w.path)return"full"===w.pathMatch&&(v.hasChildren()||g.length>0)?{...na}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const k=(w.matcher||Qr)(g,v,w);if(!k)return{...na};const W={};Tn(k.posParams,(be,pt)=>{W[pt]=be.path});const J=k.consumed.length>0?{...W,...k.consumed[k.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:k.consumed,remainingSegments:g.slice(k.consumed.length),parameters:J,positionalParamSegments:k.posParams??{}}}function ha(v,w,g,S){if(g.length>0&&function T(v,w,g){return g.some(S=>q(v,w,S)&&ni(S)!==Ht)}(v,g,S)){const W=new fe(w,function E(v,w,g,S){const k={};k[Ht]=S,S._sourceSegment=v,S._segmentIndexShift=w.length;for(const W of g)if(""===W.path&&ni(W)!==Ht){const J=new fe([],{});J._sourceSegment=v,J._segmentIndexShift=w.length,k[ni(W)]=J}return k}(v,w,S,new fe(g,v.children)));return W._sourceSegment=v,W._segmentIndexShift=w.length,{segmentGroup:W,slicedSegments:[]}}if(0===g.length&&function N(v,w,g){return g.some(S=>q(v,w,S))}(v,g,S)){const W=new fe(v.segments,function G(v,w,g,S,k){const W={};for(const J of S)if(q(v,g,J)&&!k[ni(J)]){const be=new fe([],{});be._sourceSegment=v,be._segmentIndexShift=w.length,W[ni(J)]=be}return{...k,...W}}(v,w,g,S,v.children));return W._sourceSegment=v,W._segmentIndexShift=w.length,{segmentGroup:W,slicedSegments:g}}const k=new fe(v.segments,v.children);return k._sourceSegment=v,k._segmentIndexShift=w.length,{segmentGroup:k,slicedSegments:g}}function q(v,w,g){return(!(v.hasChildren()||w.length>0)||"full"!==g.pathMatch)&&""===g.path}function te(v,w,g,S){return!!(ni(v)===S||S!==Ht&&q(w,g,v))&&("**"===v.path||Wo(w,v,g).matched)}function ye(v,w,g){return 0===w.length&&!v.children[g]}const Ie=!1;class de{constructor(w){this.segmentGroup=w||null}}class Je{constructor(w){this.urlTree=w}}function Pt(v){return Be(new de(v))}function rn(v){return Be(new Je(v))}class at{constructor(w,g,S,k,W){this.injector=w,this.configLoader=g,this.urlSerializer=S,this.urlTree=k,this.config=W,this.allowRedirects=!0}apply(){const w=ha(this.urlTree.root,[],[],this.config).segmentGroup,g=new fe(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,g,Ht).pipe((0,Ae.U)(W=>this.createUrlTree(fi(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ln(W=>{if(W instanceof Je)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof de?this.noMatchError(W):W}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,Ht).pipe((0,Ae.U)(k=>this.createUrlTree(fi(k),w.queryParams,w.fragment))).pipe(Ln(k=>{throw k instanceof de?this.noMatchError(k):k}))}noMatchError(w){return new p.vHH(4002,Ie)}createUrlTree(w,g,S){const k=zi(w);return new vt(k,g,S)}expandSegmentGroup(w,g,S,k){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(w,g,S).pipe((0,Ae.U)(W=>new fe([],W))):this.expandSegment(w,S,g,S.segments,k,!0)}expandChildren(w,g,S){const k=[];for(const W of Object.keys(S.children))"primary"===W?k.unshift(W):k.push(W);return(0,j.D)(k).pipe((0,ht.b)(W=>{const J=S.children[W],be=Yi(g,W);return this.expandSegmentGroup(w,be,J,W).pipe((0,Ae.U)(pt=>({segment:pt,outlet:W})))}),an((W,J)=>(W[J.outlet]=J.segment,W),{}),ur())}expandSegment(w,g,S,k,W,J){return(0,j.D)(S).pipe((0,ht.b)(be=>this.expandSegmentAgainstRoute(w,g,S,be,k,W,J).pipe(Ln(Wt=>{if(Wt instanceof de)return(0,b.of)(null);throw Wt}))),xe(be=>!!be),Ln((be,pt)=>{if(po(be))return ye(g,k,W)?(0,b.of)(new fe([],{})):Pt(g);throw be}))}expandSegmentAgainstRoute(w,g,S,k,W,J,be){return te(k,g,W,J)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(w,g,k,W,J):be&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,g,S,k,W,J):Pt(g):Pt(g)}expandSegmentAgainstRouteUsingRedirect(w,g,S,k,W,J){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,S,k,J):this.expandRegularSegmentAgainstRouteUsingRedirect(w,g,S,k,W,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,g,S,k){const W=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?rn(W):this.lineralizeSegments(S,W).pipe((0,Fe.z)(J=>{const be=new fe(J,{});return this.expandSegment(w,be,g,J,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,g,S,k,W,J){const{matched:be,consumedSegments:pt,remainingSegments:Wt,positionalParamSegments:qt}=Wo(g,k,W);if(!be)return Pt(g);const Nn=this.applyRedirectCommands(pt,k.redirectTo,qt);return k.redirectTo.startsWith("/")?rn(Nn):this.lineralizeSegments(k,Nn).pipe((0,Fe.z)(ci=>this.expandSegment(w,g,S,ci.concat(Wt),J,!1)))}matchSegmentAgainstRoute(w,g,S,k,W){return"**"===S.path?(w=ti(S,w),S.loadChildren?(S._loadedRoutes?(0,b.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(w,S)).pipe((0,Ae.U)(be=>(S._loadedRoutes=be.routes,S._loadedInjector=be.injector,new fe(k,{})))):(0,b.of)(new fe(k,{}))):Ca(g,S,k,w).pipe(et(({matched:J,consumedSegments:be,remainingSegments:pt})=>J?this.getChildConfig(w=S._injector??w,S,k).pipe((0,Fe.z)(qt=>{const Nn=qt.injector??w,ci=qt.routes,{segmentGroup:ls,slicedSegments:Oi}=ha(g,be,pt,ci),_o=new fe(ls.segments,ls.children);if(0===Oi.length&&_o.hasChildren())return this.expandChildren(Nn,ci,_o).pipe((0,Ae.U)(P=>new fe(be,P)));if(0===ci.length&&0===Oi.length)return(0,b.of)(new fe(be,{}));const Zr=ni(S)===W;return this.expandSegment(Nn,_o,ci,Oi,Zr?Ht:W,!0).pipe((0,Ae.U)(So=>new fe(be.concat(So.segments),So.children)))})):Pt(g)))}getChildConfig(w,g,S){return g.children?(0,b.of)({routes:g.children,injector:w}):g.loadChildren?void 0!==g._loadedRoutes?(0,b.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function ta(v,w,g,S){const k=w.canLoad;if(void 0===k||0===k.length)return(0,b.of)(!0);const W=k.map(J=>{const be=hn(J,v);return In(function or(v){return v&&nt(v.canLoad)}(be)?be.canLoad(w,g):v.runInContext(()=>be(w,g)))});return(0,b.of)(W).pipe(Br(),Ls())}(w,g,S).pipe((0,Fe.z)(k=>k?this.configLoader.loadChildren(w,g).pipe((0,Rt.b)(W=>{g._loadedRoutes=W.routes,g._loadedInjector=W.injector})):function At(v){return Be(Go(Ie,3))}())):(0,b.of)({routes:[],injector:w})}lineralizeSegments(w,g){let S=[],k=g.root;for(;;){if(S=S.concat(k.segments),0===k.numberOfChildren)return(0,b.of)(S);if(k.numberOfChildren>1||!k.children[Ht])return w.redirectTo,Be(new p.vHH(4e3,Ie));k=k.children[Ht]}}applyRedirectCommands(w,g,S){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),w,S)}applyRedirectCreateUrlTree(w,g,S,k){const W=this.createSegmentGroup(w,g.root,S,k);return new vt(W,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(w,g){const S={};return Tn(w,(k,W)=>{if("string"==typeof k&&k.startsWith(":")){const be=k.substring(1);S[W]=g[be]}else S[W]=k}),S}createSegmentGroup(w,g,S,k){const W=this.createSegments(w,g.segments,S,k);let J={};return Tn(g.children,(be,pt)=>{J[pt]=this.createSegmentGroup(w,be,S,k)}),new fe(W,J)}createSegments(w,g,S,k){return g.map(W=>W.path.startsWith(":")?this.findPosParam(w,W,k):this.findOrReturn(W,S))}findPosParam(w,g,S){const k=S[g.path.substring(1)];if(!k)throw new p.vHH(4001,Ie);return k}findOrReturn(w,g){let S=0;for(const k of g){if(k.path===w.path)return g.splice(S),k;S++}return w}}class U{}class ce{constructor(w,g,S,k,W,J,be){this.injector=w,this.rootComponentType=g,this.config=S,this.urlTree=k,this.url=W,this.paramsInheritanceStrategy=J,this.urlSerializer=be}recognize(){const w=ha(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,Ht).pipe((0,Ae.U)(g=>{if(null===g)return null;const S=new ps([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new Mi(S,g),W=new Oo(this.url,k);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(w){const g=w.value,S=os(g,this.paramsInheritanceStrategy);g.params=Object.freeze(S.params),g.data=Object.freeze(S.data),w.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(w,g,S,k){return 0===S.segments.length&&S.hasChildren()?this.processChildren(w,g,S):this.processSegment(w,g,S,S.segments,k)}processChildren(w,g,S){return(0,j.D)(Object.keys(S.children)).pipe((0,ht.b)(k=>{const W=S.children[k],J=Yi(g,k);return this.processSegmentGroup(w,J,W,k)}),an((k,W)=>k&&W?(k.push(...W),k):null),function hi(v,w=!1){return(0,dt.e)((g,S)=>{let k=0;g.subscribe((0,He.x)(S,W=>{const J=v(W,k++);(J||w)&&S.next(W),!J&&S.complete()}))})}(k=>null!==k),De(null),ur(),(0,Ae.U)(k=>{if(null===k)return null;const W=$n(k);return function We(v){v.sort((w,g)=>w.value.outlet===Ht?-1:g.value.outlet===Ht?1:w.value.outlet.localeCompare(g.value.outlet))}(W),W}))}processSegment(w,g,S,k,W){return(0,j.D)(g).pipe((0,ht.b)(J=>this.processSegmentAgainstRoute(J._injector??w,J,S,k,W)),xe(J=>!!J),Ln(J=>{if(po(J))return ye(S,k,W)?(0,b.of)([]):(0,b.of)(null);throw J}))}processSegmentAgainstRoute(w,g,S,k,W){if(g.redirectTo||!te(g,S,k,W))return(0,b.of)(null);let J;if("**"===g.path){const be=k.length>0?bt(k).parameters:{},pt=vn(S)+k.length,Wt=new ps(k,be,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jt(g),ni(g),g.component??g._loadedComponent??null,g,sr(S),pt,Ar(g));J=(0,b.of)({snapshot:Wt,consumedSegments:[],remainingSegments:[]})}else J=Ca(S,g,k,w).pipe((0,Ae.U)(({matched:be,consumedSegments:pt,remainingSegments:Wt,parameters:qt})=>{if(!be)return null;const Nn=vn(S)+pt.length;return{snapshot:new ps(pt,qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jt(g),ni(g),g.component??g._loadedComponent??null,g,sr(S),Nn,Ar(g)),consumedSegments:pt,remainingSegments:Wt}}));return J.pipe(et(be=>{if(null===be)return(0,b.of)(null);const{snapshot:pt,consumedSegments:Wt,remainingSegments:qt}=be;w=g._injector??w;const Nn=g._loadedInjector??w,ci=function ft(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(g),{segmentGroup:ls,slicedSegments:Oi}=ha(S,Wt,qt,ci.filter(Zr=>void 0===Zr.redirectTo));if(0===Oi.length&&ls.hasChildren())return this.processChildren(Nn,ci,ls).pipe((0,Ae.U)(Zr=>null===Zr?null:[new Mi(pt,Zr)]));if(0===ci.length&&0===Oi.length)return(0,b.of)([new Mi(pt,[])]);const _o=ni(g)===W;return this.processSegment(Nn,ci,ls,Oi,_o?Ht:W).pipe((0,Ae.U)(Zr=>null===Zr?null:[new Mi(pt,Zr)]))}))}}function nn(v){const w=v.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function $n(v){const w=[],g=new Set;for(const S of v){if(!nn(S)){w.push(S);continue}const k=w.find(W=>S.value.routeConfig===W.value.routeConfig);void 0!==k?(k.children.push(...S.children),g.add(k)):w.push(S)}for(const S of g){const k=$n(S.children);w.push(new Mi(S.value,k))}return w.filter(S=>!g.has(S))}function sr(v){let w=v;for(;w._sourceSegment;)w=w._sourceSegment;return w}function vn(v){let w=v,g=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,g+=w._segmentIndexShift??0;return g-1}function Jt(v){return v.data||{}}function Ar(v){return v.resolve||{}}function xn(v){return"string"==typeof v.title||null===v.title}function Ut(v){return et(w=>{const g=v(w);return g?(0,j.D)(g).pipe((0,Ae.U)(()=>w)):(0,b.of)(w)})}const Es=new p.OlP("ROUTES");let Co=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,b.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const S=In(g.loadComponent()).pipe((0,Ae.U)(Vs),(0,Rt.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=W}),pr(()=>{this.componentLoaders.delete(g)})),k=new Mt(S,()=>new Se.x).pipe(Le());return this.componentLoaders.set(g,k),k}loadChildren(g,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,b.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const W=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,Ae.U)(be=>{this.onLoadEndListener&&this.onLoadEndListener(S);let pt,Wt,qt=!1;Array.isArray(be)?Wt=be:(pt=be.create(g).injector,Wt=Fn(pt.get(Es,[],p.XFs.Self|p.XFs.Optional)));return{routes:Wt.map(Fs),injector:pt}}),pr(()=>{this.childrenLoaders.delete(S)})),J=new Mt(W,()=>new Se.x).pipe(Le());return this.childrenLoaders.set(S,J),J}loadModuleFactoryOrRoutes(g){return In(g()).pipe((0,Ae.U)(Vs),(0,Fe.z)(S=>S instanceof p.YKP||Array.isArray(S)?(0,b.of)(S):(0,j.D)(this.compiler.compileModuleAsync(S))))}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Vs(v){return function xi(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let ws=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Se.x,this.configLoader=(0,p.f3M)(Co),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(re),this.rootContexts=(0,p.f3M)(ko),this.navigationId=0,this.afterPreactivation=()=>(0,b.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new fo(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new nr(k))}complete(){this.transitions?.complete()}handleNavigationRequest(g){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:S})}setupNavigations(g){return this.transitions=new le({id:0,targetPageId:0,currentUrlTree:g.currentUrlTree,currentRawUrl:g.currentUrlTree,extractedUrl:g.urlHandlingStrategy.extract(g.currentUrlTree),urlAfterRedirects:g.urlHandlingStrategy.extract(g.currentUrlTree),rawUrl:g.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ei,restoredState:null,currentSnapshot:g.routerState.snapshot,targetSnapshot:null,currentRouterState:g.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ge.h)(S=>0!==S.id),(0,Ae.U)(S=>({...S,extractedUrl:g.urlHandlingStrategy.extract(S.rawUrl)})),et(S=>{let k=!1,W=!1;return(0,b.of)(S).pipe((0,Rt.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.rawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),et(J=>{const be=g.browserUrlTree.toString(),pt=!g.navigated||J.extractedUrl.toString()!==be||be!==g.currentUrlTree.toString();if(!pt&&"reload"!==(J.extras.onSameUrlNavigation??g.onSameUrlNavigation)){const qt="";return this.events.next(new kr(J.id,g.serializeUrl(S.rawUrl),qt,0)),g.rawUrlTree=J.rawUrl,J.resolve(null),he.E}if(g.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return Lo(J.source)&&(g.browserUrlTree=J.extractedUrl),(0,b.of)(J).pipe(et(qt=>{const Nn=this.transitions?.getValue();return this.events.next(new ho(qt.id,this.urlSerializer.serialize(qt.extractedUrl),qt.source,qt.restoredState)),Nn!==this.transitions?.getValue()?he.E:Promise.resolve(qt)}),function Ue(v,w,g,S){return et(k=>function yn(v,w,g,S,k){return new at(v,w,g,S,k).apply()}(v,w,g,k.extractedUrl,S).pipe((0,Ae.U)(W=>({...k,urlAfterRedirects:W}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,g.config),(0,Rt.b)(qt=>{this.currentNavigation={...this.currentNavigation,finalUrl:qt.urlAfterRedirects},S.urlAfterRedirects=qt.urlAfterRedirects}),function tn(v,w,g,S,k){return(0,Fe.z)(W=>function Z(v,w,g,S,k,W,J="emptyOnly"){return new ce(v,w,g,S,k,J,W).recognize().pipe(et(be=>null===be?function R(v){return new Ve.y(w=>w.error(v))}(new U):(0,b.of)(be)))}(v,w,g,W.urlAfterRedirects,S.serialize(W.urlAfterRedirects),S,k).pipe((0,Ae.U)(J=>({...W,targetSnapshot:J}))))}(this.environmentInjector,this.rootComponentType,g.config,this.urlSerializer,g.paramsInheritanceStrategy),(0,Rt.b)(qt=>{if(S.targetSnapshot=qt.targetSnapshot,"eager"===g.urlUpdateStrategy){if(!qt.extras.skipLocationChange){const ci=g.urlHandlingStrategy.merge(qt.urlAfterRedirects,qt.rawUrl);g.setBrowserUrl(ci,qt)}g.browserUrlTree=qt.urlAfterRedirects}const Nn=new ds(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot);this.events.next(Nn)}));if(pt&&g.urlHandlingStrategy.shouldProcessUrl(g.rawUrlTree)){const{id:qt,extractedUrl:Nn,source:ci,restoredState:ls,extras:Oi}=J,_o=new ho(qt,this.urlSerializer.serialize(Nn),ci,ls);this.events.next(_o);const Zr=Os(Nn,this.rootComponentType).snapshot;return S={...J,targetSnapshot:Zr,urlAfterRedirects:Nn,extras:{...Oi,skipLocationChange:!1,replaceUrl:!1}},(0,b.of)(S)}{const qt="";return this.events.next(new kr(J.id,g.serializeUrl(S.extractedUrl),qt,1)),g.rawUrlTree=J.rawUrl,J.resolve(null),he.E}}),(0,Rt.b)(J=>{const be=new ss(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot);this.events.next(be)}),(0,Ae.U)(J=>S={...J,guards:ro(J.targetSnapshot,J.currentSnapshot,this.rootContexts)}),function ea(v,w){return(0,Fe.z)(g=>{const{targetSnapshot:S,currentSnapshot:k,guards:{canActivateChecks:W,canDeactivateChecks:J}}=g;return 0===J.length&&0===W.length?(0,b.of)({...g,guardsResult:!0}):function qo(v,w,g,S){return(0,j.D)(v).pipe((0,Fe.z)(k=>function mo(v,w,g,S,k){const W=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,b.of)(!0);const J=W.map(be=>{const pt=Wn(w)??k,Wt=hn(be,pt);return In(function Sn(v){return v&&nt(v.canDeactivate)}(Wt)?Wt.canDeactivate(v,w,g,S):pt.runInContext(()=>Wt(v,w,g,S))).pipe(xe())});return(0,b.of)(J).pipe(Br())}(k.component,k.route,g,w,S)),xe(k=>!0!==k,!0))}(J,S,k,v).pipe((0,Fe.z)(be=>be&&function sn(v){return"boolean"==typeof v}(be)?function ba(v,w,g,S){return(0,j.D)(w).pipe((0,ht.b)(k=>Ke(function as(v,w){return null!==v&&w&&w(new Rs(v)),(0,b.of)(!0)}(k.route.parent,S),function go(v,w){return null!==v&&w&&w(new eo(v)),(0,b.of)(!0)}(k.route,S),function Ji(v,w,g){const S=w[w.length-1],W=w.slice(0,w.length-1).reverse().map(J=>function bo(v){const w=v.routeConfig?v.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:v,guards:w}:null}(J)).filter(J=>null!==J).map(J=>ct(()=>{const be=J.guards.map(pt=>{const Wt=Wn(J.node)??g,qt=hn(pt,Wt);return In(function Tt(v){return v&&nt(v.canActivateChild)}(qt)?qt.canActivateChild(S,v):Wt.runInContext(()=>qt(S,v))).pipe(xe())});return(0,b.of)(be).pipe(Br())}));return(0,b.of)(W).pipe(Br())}(v,k.path,g),function Ri(v,w,g){const S=w.routeConfig?w.routeConfig.canActivate:null;if(!S||0===S.length)return(0,b.of)(!0);const k=S.map(W=>ct(()=>{const J=Wn(w)??g,be=hn(W,J);return In(function Vr(v){return v&&nt(v.canActivate)}(be)?be.canActivate(w,v):J.runInContext(()=>be(w,v))).pipe(xe())}));return(0,b.of)(k).pipe(Br())}(v,k.route,g))),xe(k=>!0!==k,!0))}(S,W,v,w):(0,b.of)(be)),(0,Ae.U)(be=>({...g,guardsResult:be})))})}(this.environmentInjector,J=>this.events.next(J)),(0,Rt.b)(J=>{if(S.guardsResult=J.guardsResult,Li(J.guardsResult))throw _s(0,J.guardsResult);const be=new Jr(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.events.next(be)}),(0,Ge.h)(J=>!!J.guardsResult||(g.restoreHistory(J),this.cancelNavigationTransition(J,"",3),!1)),Ut(J=>{if(J.guards.canActivateChecks.length)return(0,b.of)(J).pipe((0,Rt.b)(be=>{const pt=new Fr(be.id,this.urlSerializer.serialize(be.extractedUrl),this.urlSerializer.serialize(be.urlAfterRedirects),be.targetSnapshot);this.events.next(pt)}),et(be=>{let pt=!1;return(0,b.of)(be).pipe(function jt(v,w){return(0,Fe.z)(g=>{const{targetSnapshot:S,guards:{canActivateChecks:k}}=g;if(!k.length)return(0,b.of)(g);let W=0;return(0,j.D)(k).pipe((0,ht.b)(J=>function St(v,w,g,S){const k=v.routeConfig,W=v._resolve;return void 0!==k?.title&&!xn(k)&&(W[rr]=k.title),function Dn(v,w,g,S){const k=function gn(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===k.length)return(0,b.of)({});const W={};return(0,j.D)(k).pipe((0,Fe.z)(J=>function Ii(v,w,g,S){const k=Wn(w)??S,W=hn(v,k);return In(W.resolve?W.resolve(w,g):k.runInContext(()=>W(w,g)))}(v[J],w,g,S).pipe(xe(),(0,Rt.b)(be=>{W[J]=be}))),Jn(1),function qn(v){return(0,Ae.U)(()=>v)}(W),Ln(J=>po(J)?he.E:Be(J)))}(W,v,w,S).pipe((0,Ae.U)(J=>(v._resolvedData=J,v.data=os(v,g).resolve,k&&xn(k)&&(v.data[rr]=k.title),null)))}(J.route,S,v,w)),(0,Rt.b)(()=>W++),Jn(1),(0,Fe.z)(J=>W===k.length?(0,b.of)(g):he.E))})}(g.paramsInheritanceStrategy,this.environmentInjector),(0,Rt.b)({next:()=>pt=!0,complete:()=>{pt||(g.restoreHistory(be),this.cancelNavigationTransition(be,"",2))}}))}),(0,Rt.b)(be=>{const pt=new Ui(be.id,this.urlSerializer.serialize(be.extractedUrl),this.urlSerializer.serialize(be.urlAfterRedirects),be.targetSnapshot);this.events.next(pt)}))}),Ut(J=>{const be=pt=>{const Wt=[];pt.routeConfig?.loadComponent&&!pt.routeConfig._loadedComponent&&Wt.push(this.configLoader.loadComponent(pt.routeConfig).pipe((0,Rt.b)(qt=>{pt.component=qt}),(0,Ae.U)(()=>{})));for(const qt of pt.children)Wt.push(...be(qt));return Wt};return Kt(be(J.targetSnapshot.root)).pipe(De(),_t(1))}),Ut(()=>this.afterPreactivation()),(0,Ae.U)(J=>{const be=function ms(v,w,g){const S=qs(v,w._root,g?g._root:void 0);return new Ns(S,w)}(g.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return S={...J,targetRouterState:be}}),(0,Rt.b)(J=>{g.currentUrlTree=J.urlAfterRedirects,g.rawUrlTree=g.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),g.routerState=J.targetRouterState,"deferred"===g.urlUpdateStrategy&&(J.extras.skipLocationChange||g.setBrowserUrl(g.rawUrlTree,J),g.browserUrlTree=J.urlAfterRedirects)}),((v,w,g)=>(0,Ae.U)(S=>(new Zs(w,S.targetRouterState,S.currentRouterState,g).activate(v),S)))(this.rootContexts,g.routeReuseStrategy,J=>this.events.next(J)),_t(1),(0,Rt.b)({next:J=>{k=!0,this.lastSuccessfulNavigation=this.currentNavigation,g.navigated=!0,this.events.next(new Wi(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(g.currentUrlTree))),g.titleStrategy?.updateTitle(J.targetRouterState.snapshot),J.resolve(!0)},complete:()=>{k=!0}}),pr(()=>{k||W||this.cancelNavigationTransition(S,"",1),this.currentNavigation?.id===S.id&&(this.currentNavigation=null)}),Ln(J=>{if(W=!0,zo(J)){oi(J)||(g.navigated=!0,g.restoreHistory(S,!0));const be=new Xs(S.id,this.urlSerializer.serialize(S.extractedUrl),J.message,J.cancellationCode);if(this.events.next(be),oi(J)){const pt=g.urlHandlingStrategy.merge(J.url,g.rawUrlTree),Wt={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===g.urlUpdateStrategy||Lo(S.source)};g.scheduleNavigation(pt,Ei,null,Wt,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{g.restoreHistory(S,!0);const be=new Ir(S.id,this.urlSerializer.serialize(S.extractedUrl),J,S.targetSnapshot??void 0);this.events.next(be);try{S.resolve(g.errorHandler(J))}catch(pt){S.reject(pt)}}return he.E}))}))}cancelNavigationTransition(g,S,k){const W=new Xs(g.id,this.urlSerializer.serialize(g.extractedUrl),S,k);this.events.next(W),g.resolve(!1)}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Lo(v){return v!==Ei}let fa=(()=>{class v{buildTitle(g){let S,k=g.root;for(;void 0!==k;)S=this.getResolvedTitleForRoute(k)??S,k=k.children.find(W=>W.outlet===Ht);return S}getResolvedTitleForRoute(g){return g.data[rr]}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(so)},providedIn:"root"}),v})(),so=(()=>{class v extends fa{constructor(g){super(),this.title=g}updateTitle(g){const S=this.buildTitle(g);void 0!==S&&this.title.setTitle(S)}}return v.\u0275fac=function(g){return new(g||v)(p.LFG(bi.Dx))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),ja=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(Hl)},providedIn:"root"}),v})();class Aa{shouldDetach(w){return!1}store(w,g){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,g){return w.routeConfig===g.routeConfig}}let Hl=(()=>{class v extends Aa{}return v.\u0275fac=function(){let w;return function(S){return(w||(w=p.n5z(v)))(S||v)}}(),v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ra=new p.OlP("",{providedIn:"root",factory:()=>({})});let Xe=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:function(){return(0,p.f3M)(pa)},providedIn:"root"}),v})(),pa=(()=>{class v{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,S){return g}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Vo(v){throw v}function ga(v,w,g){return w.parse("/")}const Uo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ha={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(ra,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Vo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ga,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Xe),this.routeReuseStrategy=(0,p.f3M)(ja),this.urlCreationStrategy=(0,p.f3M)(Ki),this.titleStrategy=(0,p.f3M)(fa),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Fn((0,p.f3M)(Es,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(ws),this.urlSerializer=(0,p.f3M)(re),this.location=(0,p.f3M)(Ne.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Os(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=this.browserPageId??0},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}resetRootComponentType(g){this.routerState.root.component=g,this.navigationTransitions.rootComponentType=g}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const g=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ei,g)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const S="popstate"===g.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(g.url,S,g.state)},0)}))}navigateToSyncWithBrowser(g,S,k){const W={replaceUrl:!0},J=k?.navigationId?k:null;if(k){const pt={...k};delete pt.navigationId,delete pt.\u0275routerPageId,0!==Object.keys(pt).length&&(W.state=pt)}const be=this.parseUrl(g);this.scheduleNavigation(be,S,J,W)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(g){this.config=g.map(Fs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,S={}){const{relativeTo:k,queryParams:W,fragment:J,queryParamsHandling:be,preserveFragment:pt}=S,Wt=pt?this.currentUrlTree.fragment:J;let qt=null;switch(be){case"merge":qt={...this.currentUrlTree.queryParams,...W};break;case"preserve":qt=this.currentUrlTree.queryParams;break;default:qt=W||null}return null!==qt&&(qt=this.removeEmptyProps(qt)),this.urlCreationStrategy.createUrlTree(k,this.routerState,this.currentUrlTree,g,qt,Wt??null)}navigateByUrl(g,S={skipLocationChange:!1}){const k=Li(g)?g:this.parseUrl(g),W=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(W,Ei,null,S)}navigate(g,S={skipLocationChange:!1}){return function Ga(v){for(let w=0;w<v.length;w++){const g=v[w];if(null==g)throw new p.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,S),S)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let S;try{S=this.urlSerializer.parse(g)}catch(k){S=this.malformedUriErrorHandler(k,this.urlSerializer,g)}return S}isActive(g,S){let k;if(k=!0===S?{...Uo}:!1===S?{...Ha}:S,Li(g))return bs(this.currentUrlTree,g,k);const W=this.parseUrl(g);return bs(this.currentUrlTree,W,k)}removeEmptyProps(g){return Object.keys(g).reduce((S,k)=>{const W=g[k];return null!=W&&(S[k]=W),S},{})}scheduleNavigation(g,S,k,W,J){if(this.disposed)return Promise.resolve(!1);let be,pt,Wt,qt;return J?(be=J.resolve,pt=J.reject,Wt=J.promise):Wt=new Promise((Nn,ci)=>{be=Nn,pt=ci}),qt="computed"===this.canceledNavigationResolution?k&&k.\u0275routerPageId?k.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:qt,source:S,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:g,extras:W,resolve:be,reject:pt,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(Nn=>Promise.reject(Nn))}setBrowserUrl(g,S){const k=this.urlSerializer.serialize(g);if(this.location.isCurrentPathEqualTo(k)||S.extras.replaceUrl){const J={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(k,"",J)}else{const W={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.go(k,"",W)}}restoreHistory(g,S=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-(this.browserPageId??this.currentPageId);0!==W?this.location.historyGo(W):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===W&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,S){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:S}:{navigationId:g}}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),es=(()=>{class v{constructor(g,S,k,W,J,be){this.router=g,this.route=S,this.tabIndexAttribute=k,this.renderer=W,this.el=J,this.locationStrategy=be,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Se.x;const pt=J.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===pt||"area"===pt,this.isAnchorElement?this.subscription=g.events.subscribe(Wt=>{Wt instanceof Wi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,p.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,p.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,p.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",g)}ngOnChanges(g){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(g,S,k,W,J){return!!(null===this.urlTree||this.isAnchorElement&&(0!==g||S||k||W||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const g=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",g)}applyAttributeValue(g,S){const k=this.renderer,W=this.el.nativeElement;null!==S?k.setAttribute(W,g,S):k.removeAttribute(W,g)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(g){return new(g||v)(p.Y36(Kr),p.Y36(fs),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ne.S$))},v.\u0275dir=p.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(g,S){1&g&&p.NdJ("click",function(W){return S.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&g&&p.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),v})();class Ni{}let rl=(()=>{class v{constructor(g,S,k,W,J){this.router=g,this.injector=k,this.preloadingStrategy=W,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ge.h)(g=>g instanceof Wi),(0,ht.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,S){const k=[];for(const W of S){W.providers&&!W._injector&&(W._injector=(0,p.MMx)(W.providers,g,`Route: ${W.path}`));const J=W._injector??g,be=W._loadedInjector??J;(W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent)&&k.push(this.preloadConfig(J,W)),(W.children||W._loadedRoutes)&&k.push(this.processRoutes(be,W.children??W._loadedRoutes))}return(0,j.D)(k).pipe((0,Ot.J)())}preloadConfig(g,S){return this.preloadingStrategy.preload(S,()=>{let k;k=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(g,S):(0,b.of)(null);const W=k.pipe((0,Fe.z)(J=>null===J?(0,b.of)(void 0):(S._loadedRoutes=J.routes,S._loadedInjector=J.injector,this.processRoutes(J.injector??g,J.routes))));if(S.loadComponent&&!S._loadedComponent){const J=this.loader.loadComponent(S);return(0,j.D)([W,J]).pipe((0,Ot.J)())}return W})}}return v.\u0275fac=function(g){return new(g||v)(p.LFG(Kr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Ni),p.LFG(Co))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ri=new p.OlP("");let Tu=(()=>{class v{constructor(g,S,k,W,J={}){this.urlSerializer=g,this.transitions=S,this.viewportScroller=k,this.zone=W,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof ho?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof Wi&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Lr&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Lr(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return v.\u0275fac=function(g){p.$Z()},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac}),v})();var oo=(()=>((oo=oo||{})[oo.COMPLETE=0]="COMPLETE",oo[oo.FAILED=1]="FAILED",oo[oo.REDIRECTING=2]="REDIRECTING",oo))();const qa=!1;function ao(v,w){return{\u0275kind:v,\u0275providers:w}}const ma=new p.OlP("",{providedIn:"root",factory:()=>!1});function _a(){const v=(0,p.f3M)(p.zs3);return w=>{const g=v.get(p.z2F);if(w!==g.components[0])return;const S=v.get(Kr),k=v.get(Gl);1===v.get(Ma)&&S.initialNavigation(),v.get(sl,null,p.XFs.Optional)?.setUpPreloading(),v.get(ri,null,p.XFs.Optional)?.init(),S.resetRootComponentType(g.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const Gl=new p.OlP(qa?"bootstrap done indicator":"",{factory:()=>new Se.x}),Ma=new p.OlP(qa?"initial navigation":"",{providedIn:"root",factory:()=>1});function Nc(){let v=[];return v=qa?[{provide:p.Xts,multi:!0,useFactory:()=>{const w=(0,p.f3M)(Kr);return()=>w.events.subscribe(g=>{console.group?.(`Router Event: ${g.constructor.name}`),console.log(function Xr(v){if(!("type"in v))return`Unknown Router Event: ${v.constructor.name}`;switch(v.type){case 14:return`ActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state}, shouldActivate: ${v.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 2:return`NavigationCancel(id: ${v.id}, url: '${v.url}')`;case 16:return`NavigationSkipped(id: ${v.id}, url: '${v.url}')`;case 1:return`NavigationEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${v.id}, url: '${v.url}', error: ${v.error})`;case 0:return`NavigationStart(id: ${v.id}, url: '${v.url}')`;case 6:return`ResolveEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 5:return`ResolveStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 10:return`RouteConfigLoadEnd(path: ${v.route.path})`;case 9:return`RouteConfigLoadStart(path: ${v.route.path})`;case 4:return`RoutesRecognized(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 15:return`Scroll(anchor: '${v.anchor}', position: '${v.position?`${v.position[0]}, ${v.position[1]}`:null}')`}}(g)),console.log(g),console.groupEnd?.()})}}]:[],ao(1,v)}const sl=new p.OlP(qa?"router preloader":"");function iu(v){return ao(0,[{provide:sl,useExisting:rl},{provide:Ni,useExisting:v}])}const va=!1,Du=new p.OlP(va?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ji=[Ne.Ye,{provide:re,useClass:ae},Kr,ko,{provide:fs,useFactory:function ru(v){return v.routerState.root},deps:[Kr]},Co,va?{provide:ma,useValue:!0}:[]];function Ea(){return new p.PXZ("Router",Kr)}let pi=(()=>{class v{constructor(g){}static forRoot(g,S){return{ngModule:v,providers:[ji,va&&S?.enableTracing?Nc().\u0275providers:[],{provide:Es,multi:!0,useValue:g},{provide:Du,useFactory:Rr,deps:[[Kr,new p.FiY,new p.tp0]]},{provide:ra,useValue:S||{}},S?.useHash?{provide:Ne.S$,useClass:Ne.Do}:{provide:Ne.S$,useClass:Ne.b0},{provide:ri,useFactory:()=>{const v=(0,p.f3M)(Ne.EM),w=(0,p.f3M)(p.R0b),g=(0,p.f3M)(ra),S=(0,p.f3M)(ws),k=(0,p.f3M)(re);return g.scrollOffset&&v.setOffset(g.scrollOffset),new Tu(k,S,v,w,g)}},S?.preloadingStrategy?iu(S.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Ea},S?.initialNavigation?Ao(S):[],[{provide:li,useFactory:_a},{provide:p.tb,multi:!0,useExisting:li}]]}}static forChild(g){return{ngModule:v,providers:[{provide:Es,multi:!0,useValue:g}]}}}return v.\u0275fac=function(g){return new(g||v)(p.LFG(Du,8))},v.\u0275mod=p.oAB({type:v}),v.\u0275inj=p.cJS({imports:[Ws]}),v})();function Rr(v){if(va&&v)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ao(v){return["disabled"===v.initialNavigation?ao(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const w=(0,p.f3M)(Kr);return()=>{w.setUpLocationChangeListener()}}},{provide:Ma,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?ao(2,[{provide:Ma,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:w=>{const g=w.get(Ne.V_,Promise.resolve());return()=>g.then(()=>new Promise(S=>{const k=w.get(Kr),W=w.get(Gl);(function Bo(v,w){v.events.pipe((0,Ge.h)(g=>g instanceof Wi||g instanceof Xs||g instanceof Ir||g instanceof kr),(0,Ae.U)(g=>g instanceof Wi||g instanceof kr?oo.COMPLETE:g instanceof Xs&&(0===g.code||1===g.code)?oo.REDIRECTING:oo.FAILED),(0,Ge.h)(g=>g!==oo.REDIRECTING),_t(1)).subscribe(()=>{w()})})(k,()=>{S(!0)}),w.get(ws).afterPreactivation=()=>(S(!0),W.closed?(0,b.of)(void 0):W),k.initialNavigation()}))}}]).\u0275providers:[]]}const li=new p.OlP(va?"Router Initializer":"")},9681:(dn,gt,K)=>{K.d(gt,{C6:()=>pr,Jn:()=>ur,KN:()=>rr,Mq:()=>qn,Xd:()=>xe,ZF:()=>hi,qX:()=>ht});var p=K(5861),j=K(4859),b=K(1877),Se=K(2090),le=K(8766);class Ye{constructor(vt){this.container=vt}getPlatformInfoString(){return this.container.getProviders().map(fe=>{if(function ut(Xt){return"VERSION"===Xt.getComponent()?.type}(fe)){const oe=fe.getImmediate();return`${oe.library}/${oe.version}`}return null}).filter(fe=>fe).join(" ")}}const Ve="@firebase/app",ie=new b.Yd("@firebase/app"),Pe="[DEFAULT]",Ge={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fe=new Map,De=new Map;function st(Xt,vt){try{Xt.container.addComponent(vt)}catch(fe){ie.debug(`Component ${vt.name} failed to register with FirebaseApp ${Xt.name}`,fe)}}function xe(Xt){const vt=Xt.name;if(De.has(vt))return ie.debug(`There were multiple attempts to register component ${vt}.`),!1;De.set(vt,Xt);for(const fe of Fe.values())st(fe,Xt);return!0}function ht(Xt,vt){const fe=Xt.container.getProvider("heartbeat").getImmediate({optional:!0});return fe&&fe.triggerHeartbeat(),Xt.container.getProvider(vt)}const an=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jn{constructor(vt,fe,oe){this._isDeleted=!1,this._options=Object.assign({},vt),this._config=Object.assign({},fe),this._name=fe.name,this._automaticDataCollectionEnabled=fe.automaticDataCollectionEnabled,this._container=oe,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(vt){this.checkDestroyed(),this._automaticDataCollectionEnabled=vt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(vt){this._isDeleted=vt}checkDestroyed(){if(this.isDeleted)throw an.create("app-deleted",{appName:this._name})}}const ur="9.20.0";function hi(Xt,vt={}){let fe=Xt;"object"!=typeof vt&&(vt={name:vt});const oe=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},vt),ge=oe.name;if("string"!=typeof ge||!ge)throw an.create("bad-app-name",{appName:String(ge)});if(fe||(fe=(0,Se.aH)()),!fe)throw an.create("no-options");const it=Fe.get(ge);if(it){if((0,Se.vZ)(fe,it.options)&&(0,Se.vZ)(oe,it.config))return it;throw an.create("duplicate-app",{appName:ge})}const mt=new j.H0(ge);for(const ae of De.values())mt.addComponent(ae);const re=new Jn(fe,oe,mt);return Fe.set(ge,re),re}function qn(Xt=Pe){const vt=Fe.get(Xt);if(!vt&&Xt===Pe)return hi();if(!vt)throw an.create("no-app",{appName:Xt});return vt}function pr(){return Array.from(Fe.values())}function rr(Xt,vt,fe){var oe;let ge=null!==(oe=Ge[Xt])&&void 0!==oe?oe:Xt;fe&&(ge+=`-${fe}`);const it=ge.match(/\s|\//),mt=vt.match(/\s|\//);if(it||mt){const re=[`Unable to register library "${ge}" with version "${vt}":`];return it&&re.push(`library name "${ge}" contains illegal characters (whitespace or "/")`),it&&mt&&re.push("and"),mt&&re.push(`version name "${vt}" contains illegal characters (whitespace or "/")`),void ie.warn(re.join(" "))}xe(new j.wA(`${ge}-version`,()=>({library:ge,version:vt}),"VERSION"))}const Qr="firebase-heartbeat-database",Nr=1,jn="firebase-heartbeat-store";let ii=null;function Fn(){return ii||(ii=(0,le.X3)(Qr,Nr,{upgrade:(Xt,vt)=>{0===vt&&Xt.createObjectStore(jn)}}).catch(Xt=>{throw an.create("idb-open",{originalErrorMessage:Xt.message})})),ii}function Vt(){return(Vt=(0,p.Z)(function*(Xt){try{return(yield Fn()).transaction(jn).objectStore(jn).get(er(Xt))}catch(vt){if(vt instanceof Se.ZR)ie.warn(vt.message);else{const fe=an.create("idb-get",{originalErrorMessage:vt?.message});ie.warn(fe.message)}}})).apply(this,arguments)}function Tn(Xt,vt){return In.apply(this,arguments)}function In(){return(In=(0,p.Z)(function*(Xt,vt){try{const oe=(yield Fn()).transaction(jn,"readwrite");return yield oe.objectStore(jn).put(vt,er(Xt)),oe.done}catch(fe){if(fe instanceof Se.ZR)ie.warn(fe.message);else{const oe=an.create("idb-set",{originalErrorMessage:fe?.message});ie.warn(oe.message)}}})).apply(this,arguments)}function er(Xt){return`${Xt.name}!${Xt.options.appId}`}class bs{constructor(vt){this.container=vt,this._heartbeatsCache=null;const fe=this.container.getProvider("app").getImmediate();this._storage=new Rn(fe),this._heartbeatsCachePromise=this._storage.read().then(oe=>(this._heartbeatsCache=oe,oe))}triggerHeartbeat(){var vt=this;return(0,p.Z)(function*(){const oe=vt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ge=ir();if(null===vt._heartbeatsCache&&(vt._heartbeatsCache=yield vt._heartbeatsCachePromise),vt._heartbeatsCache.lastSentHeartbeatDate!==ge&&!vt._heartbeatsCache.heartbeats.some(it=>it.date===ge))return vt._heartbeatsCache.heartbeats.push({date:ge,agent:oe}),vt._heartbeatsCache.heartbeats=vt._heartbeatsCache.heartbeats.filter(it=>{const mt=new Date(it.date).valueOf();return Date.now()-mt<=2592e6}),vt._storage.overwrite(vt._heartbeatsCache)})()}getHeartbeatsHeader(){var vt=this;return(0,p.Z)(function*(){if(null===vt._heartbeatsCache&&(yield vt._heartbeatsCachePromise),null===vt._heartbeatsCache||0===vt._heartbeatsCache.heartbeats.length)return"";const fe=ir(),{heartbeatsToSend:oe,unsentEntries:ge}=function Gi(Xt,vt=1024){const fe=[];let oe=Xt.slice();for(const ge of Xt){const it=fe.find(mt=>mt.agent===ge.agent);if(it){if(it.dates.push(ge.date),Ci(fe)>vt){it.dates.pop();break}}else if(fe.push({agent:ge.agent,dates:[ge.date]}),Ci(fe)>vt){fe.pop();break}oe=oe.slice(1)}return{heartbeatsToSend:fe,unsentEntries:oe}}(vt._heartbeatsCache.heartbeats),it=(0,Se.L)(JSON.stringify({version:2,heartbeats:oe}));return vt._heartbeatsCache.lastSentHeartbeatDate=fe,ge.length>0?(vt._heartbeatsCache.heartbeats=ge,yield vt._storage.overwrite(vt._heartbeatsCache)):(vt._heartbeatsCache.heartbeats=[],vt._storage.overwrite(vt._heartbeatsCache)),it})()}}function ir(){return(new Date).toISOString().substring(0,10)}class Rn{constructor(vt){this.app=vt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var vt=this;return(0,p.Z)(function*(){return(yield vt._canUseIndexedDBPromise)&&(yield function bt(Xt){return Vt.apply(this,arguments)}(vt.app))||{heartbeats:[]}})()}overwrite(vt){var fe=this;return(0,p.Z)(function*(){var oe;if(yield fe._canUseIndexedDBPromise){const it=yield fe.read();return Tn(fe.app,{lastSentHeartbeatDate:null!==(oe=vt.lastSentHeartbeatDate)&&void 0!==oe?oe:it.lastSentHeartbeatDate,heartbeats:vt.heartbeats})}})()}add(vt){var fe=this;return(0,p.Z)(function*(){var oe;if(yield fe._canUseIndexedDBPromise){const it=yield fe.read();return Tn(fe.app,{lastSentHeartbeatDate:null!==(oe=vt.lastSentHeartbeatDate)&&void 0!==oe?oe:it.lastSentHeartbeatDate,heartbeats:[...it.heartbeats,...vt.heartbeats]})}})()}}function Ci(Xt){return(0,Se.L)(JSON.stringify({version:2,heartbeats:Xt})).length}!function Hr(Xt){xe(new j.wA("platform-logger",vt=>new Ye(vt),"PRIVATE")),xe(new j.wA("heartbeat",vt=>new bs(vt),"PRIVATE")),rr(Ve,"0.9.8",Xt),rr(Ve,"0.9.8","esm2017"),rr("fire-js","")}("")},4859:(dn,gt,K)=>{K.d(gt,{H0:()=>Ve,wA:()=>b});var p=K(5861),j=K(2090);class b{constructor(ie,Ee,Qe){this.name=ie,this.instanceFactory=Ee,this.type=Qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const Se="[DEFAULT]";class le{constructor(ie,Ee){this.name=ie,this.container=Ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const Ee=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(Ee)){const Qe=new j.BH;if(this.instancesDeferred.set(Ee,Qe),this.isInitialized(Ee)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:Ee});rt&&Qe.resolve(rt)}catch{}}return this.instancesDeferred.get(Ee).promise}getImmediate(ie){var Ee;const Qe=this.normalizeInstanceIdentifier(ie?.identifier),rt=null!==(Ee=ie?.optional)&&void 0!==Ee&&Ee;if(!this.isInitialized(Qe)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Qe})}catch(He){if(rt)return null;throw He}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function ut(yt){return"EAGER"===yt.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[Ee,Qe]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(Ee);try{const He=this.getOrInitializeService({instanceIdentifier:rt});Qe.resolve(He)}catch{}}}}clearInstance(ie=Se){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,p.Z)(function*(){const Ee=Array.from(ie.instances.values());yield Promise.all([...Ee.filter(Qe=>"INTERNAL"in Qe).map(Qe=>Qe.INTERNAL.delete()),...Ee.filter(Qe=>"_delete"in Qe).map(Qe=>Qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=Se){return this.instances.has(ie)}getOptions(ie=Se){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:Ee={}}=ie,Qe=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Qe))throw Error(`${this.name}(${Qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:Qe,options:Ee});for(const[He,xt]of this.instancesDeferred.entries())Qe===this.normalizeInstanceIdentifier(He)&&xt.resolve(rt);return rt}onInit(ie,Ee){var Qe;const rt=this.normalizeInstanceIdentifier(Ee),He=null!==(Qe=this.onInitCallbacks.get(rt))&&void 0!==Qe?Qe:new Set;He.add(ie),this.onInitCallbacks.set(rt,He);const xt=this.instances.get(rt);return xt&&ie(xt,rt),()=>{He.delete(ie)}}invokeOnInitCallbacks(ie,Ee){const Qe=this.onInitCallbacks.get(Ee);if(Qe)for(const rt of Qe)try{rt(ie,Ee)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:Ee={}}){let Qe=this.instances.get(ie);if(!Qe&&this.component&&(Qe=this.component.instanceFactory(this.container,{instanceIdentifier:(yt=ie,yt===Se?void 0:yt),options:Ee}),this.instances.set(ie,Qe),this.instancesOptions.set(ie,Ee),this.invokeOnInitCallbacks(Qe,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Qe)}catch{}var yt;return Qe||null}normalizeInstanceIdentifier(ie=Se){return this.component?this.component.multipleInstances?ie:Se:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const Ee=this.getProvider(ie.name);if(Ee.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);Ee.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const Ee=new le(ie,this);return this.providers.set(ie,Ee),Ee}getProviders(){return Array.from(this.providers.values())}}},1877:(dn,gt,K)=>{K.d(gt,{Yd:()=>ut,in:()=>j});const p=[];var j=(()=>{return(ie=j||(j={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",j;var ie})();const b={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},Se=j.INFO,le={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},Ye=(ie,Ee,...Qe)=>{if(Ee<ie.logLevel)return;const rt=(new Date).toISOString(),He=le[Ee];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ee})`);console[He](`[${rt}]  ${ie.name}:`,...Qe)};class ut{constructor(Ee){this.name=Ee,this._logLevel=Se,this._logHandler=Ye,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(Ee){if(!(Ee in j))throw new TypeError(`Invalid value "${Ee}" assigned to \`logLevel\``);this._logLevel=Ee}setLogLevel(Ee){this._logLevel="string"==typeof Ee?b[Ee]:Ee}get logHandler(){return this._logHandler}set logHandler(Ee){if("function"!=typeof Ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ee){this._userLogHandler=Ee}debug(...Ee){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...Ee),this._logHandler(this,j.DEBUG,...Ee)}log(...Ee){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...Ee),this._logHandler(this,j.VERBOSE,...Ee)}info(...Ee){this._userLogHandler&&this._userLogHandler(this,j.INFO,...Ee),this._logHandler(this,j.INFO,...Ee)}warn(...Ee){this._userLogHandler&&this._userLogHandler(this,j.WARN,...Ee),this._logHandler(this,j.WARN,...Ee)}error(...Ee){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...Ee),this._logHandler(this,j.ERROR,...Ee)}}},259:(dn,gt,K)=>{K.d(gt,{C6:()=>p.C6,KN:()=>p.KN,Mq:()=>p.Mq,ZF:()=>p.ZF});var p=K(9681);(0,p.KN)("firebase","9.20.0","app")},9996:(dn,gt,K)=>{K.d(gt,{hJ:()=>qm,oe:()=>py,JU:()=>Hg,ad:()=>Yy,cf:()=>gv,pl:()=>Qg,r7:()=>pv});var Ve,p=K(5861),j=K(9681),b=K(4859),Se=K(1877),le=K(2090),Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ut={},yt=yt||{},ie=Ye||self;function Ee(){}function Qe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function rt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var xt="closure_uid_"+(1e9*Math.random()>>>0),Kt=0;function un(i,e,t){return i.call.apply(i.bind,arguments)}function Gt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ot(i,e,t){return(Ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?un:Gt).apply(null,arguments)}function Lt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ke(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,d){for(var y=Array(arguments.length-2),A=2;A<arguments.length;A++)y[A-2]=arguments[A];return e.prototype[u].apply(o,y)}}function Me(){this.s=this.s,this.o=this.o}Me.prototype.s=!1,Me.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function He(i){Object.prototype.hasOwnProperty.call(i,xt)&&i[xt]||(i[xt]=++Kt)}(this)},Me.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function ot(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Be(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Qe(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let y=0;y<d;y++)i[u+y]=o[y]}else i.push(o)}}function he(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ie.addEventListener("test",Ee,e),ie.removeEventListener("test",Ee,e)}catch{}return i}();function dt(i){return/^[\s\xa0]*$/.test(i)}var Le=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Mt(i,e){return i<e?-1:i>e?1:0}function Ne(){var i=ie.navigator;return i&&(i=i.userAgent)?i:""}function Ae(i){return-1!=Ne().indexOf(i)}function et(i){return et[" "](i),i}et[" "]=Ee;var ht,i,Pe=Ae("Opera"),Ge=Ae("Trident")||Ae("MSIE"),Fe=Ae("Edge"),De=Fe||Ge,st=Ae("Gecko")&&!(-1!=Ne().toLowerCase().indexOf("webkit")&&!Ae("Edge"))&&!(Ae("Trident")||Ae("MSIE"))&&!Ae("Edge"),pe=-1!=Ne().toLowerCase().indexOf("webkit")&&!Ae("Edge");function xe(){var i=ie.document;return i?i.documentMode:void 0}e:{var Rt="",Ln=(i=Ne(),st?/rv:([^\);]+)(\)|;)/.exec(i):Fe?/Edge\/([\d\.]+)/.exec(i):Ge?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):pe?/WebKit\/(\S+)/.exec(i):Pe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ln&&(Rt=Ln?Ln[1]:""),Ge){var wn=xe();if(null!=wn&&wn>parseFloat(Rt)){ht=String(wn);break e}}ht=Rt}var an={};var qn=ie.document&&Ge&&(xe()||parseInt(ht,10))||void 0;function pr(i,e){if(he.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(st){e:{try{et(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:bi[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&pr.X.h.call(this)}}Ke(pr,he);var bi={2:"touch",3:"pen",4:"mouse"};pr.prototype.h=function(){pr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),rr=0;function Xn(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++rr,this.ba=this.ea=!1}function gr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Qr(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Nr(i){const e={};for(const t in i)e[t]=i[t];return e}const jn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ii(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let d=0;d<jn.length;d++)t=jn[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Fn(i){this.src=i,this.g={},this.h=0}function bt(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=kt(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(gr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Vt(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==o)return u}return-1}Fn.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var y=Vt(i,e,o,u);return-1<y?(e=i[y],t||(e.ea=!1)):((e=new Xn(e,this.src,d,!!o,u)).ea=t,i.push(e)),e};var Tn="closure_lm_"+(1e6*Math.random()|0),In={};function er(i,e,t,o,u){if(o&&o.once)return bs(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)er(i,e[d],t,o,u);return null}return t=vt(t),i&&i[Ht]?i.N(e,t,rt(o)?!!o.capture:!!o,u):si(i,e,t,!1,o,u)}function si(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var y=rt(u)?!!u.capture:!!u,A=Hr(i);if(A||(i[Tn]=A=new Fn(i)),(t=A.add(e,t,o,y,d)).proxy)return t;if(o=function Vn(){const e=Ci;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)lt||(u=y),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Rn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function bs(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)bs(i,e[d],t,o,u);return null}return t=vt(t),i&&i[Ht]?i.O(e,t,rt(o)?!!o.capture:!!o,u):si(i,e,t,!0,o,u)}function ir(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)ir(i,e[d],t,o,u);else o=rt(o)?!!o.capture:!!o,t=vt(t),i&&i[Ht]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Vt(d=i.g[e],t,o,u))&&(gr(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Hr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Vt(e,t,o,u)),(t=-1<i?e[i]:null)&&Gi(t))}function Gi(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Ht])bt(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Rn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Hr(e))?(bt(t,i),0==t.h&&(t.src=null,e[Tn]=null)):gr(i)}}}function Rn(i){return i in In?In[i]:In[i]="on"+i}function Ci(i,e){if(i.ba)i=!0;else{e=new pr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&Gi(i),i=t.call(o,e)}return i}function Hr(i){return(i=i[Tn])instanceof Fn?i:null}var Xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(i){return"function"==typeof i?i:(i[Xt]||(i[Xt]=function(e){return i.handleEvent(e)}),i[Xt])}function fe(){Me.call(this),this.i=new Fn(this),this.P=this,this.I=null}function oe(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new he(e,i);else if(e instanceof he)e.target=e.target||i;else{var u=e;ii(e=new he(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var y=e.g=t[d];u=ge(y,o,!0,e)&&u}if(u=ge(y=e.g=i,o,!0,e)&&u,u=ge(y,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=ge(y=e.g=t[d],o,!1,e)&&u}function ge(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var y=e[d];if(y&&!y.ba&&y.capture==t){var A=y.listener,V=y.ha||y.src;y.ea&&bt(i.i,y),u=!1!==A.call(V,o)&&u}}return u&&!o.defaultPrevented}Ke(fe,Me),fe.prototype[Ht]=!0,fe.prototype.removeEventListener=function(i,e,t,o){ir(this,i,e,t,o)},fe.prototype.M=function(){if(fe.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)gr(t[o]);delete i.g[e],i.h--}}this.I=null},fe.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},fe.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var it=ie.JSON.stringify;function mt(){var i=ne;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var zt,ae=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Te,i=>i.reset());class Te{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function je(i){ie.setTimeout(()=>{throw i},0)}function ke(i,e){zt||function we(){var i=ie.Promise.resolve(void 0);zt=function(){i.then(_e)}}(),me||(zt(),me=!0),ne.add(i,e)}var me=!1,ne=new class re{constructor(){this.h=this.g=null}add(e,t){const o=ae.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function _e(){for(var i;i=mt();){try{i.h.call(i.g)}catch(t){je(t)}var e=ae;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}me=!1}function tt(i,e){fe.call(this),this.h=i||1,this.g=e||ie,this.j=Ot(this.lb,this),this.l=Date.now()}function Ct(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Yt(i,e,t){if("function"==typeof i)t&&(i=Ot(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ot(i.handleEvent,i)}return 2147483647<Number(e)?-1:ie.setTimeout(i,e||0)}function en(i){i.g=Yt(()=>{i.g=null,i.i&&(i.i=!1,en(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ke(tt,fe),(Ve=tt.prototype).ca=!1,Ve.R=null,Ve.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),oe(this,"tick"),this.ca&&(Ct(this),this.start()))}},Ve.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ve.M=function(){tt.X.M.call(this),Ct(this),delete this.g};class br extends Me{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:en(this)}M(){super.M(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(i){Me.call(this),this.h=i,this.g={}}Ke(Or,Me);var ki=[];function mi(i,e,t,o){Array.isArray(t)||(t&&(ki[0]=t.toString()),t=ki);for(var u=0;u<t.length;u++){var d=er(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function yi(i){Qr(i.g,function(e,t){this.g.hasOwnProperty(t)&&Gi(e)},i),i.g={}}function Fi(){this.g=!0}function fi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Li(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var y=1;y<u.length;y++)u[y]=""}}}return it(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Or.prototype.M=function(){Or.X.M.call(this),yi(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fi.prototype.Aa=function(){this.g=!1},Fi.prototype.info=function(){};var vi={},Cs=null;function As(){return Cs=Cs||new fe}function Gr(i){he.call(this,vi.Pa,i)}function Ss(i){const e=As();oe(e,new Gr(e))}function Bn(i,e){he.call(this,vi.STAT_EVENT,i),this.stat=e}function Hn(i){const e=As();oe(e,new Bn(e,i))}function wr(i,e){he.call(this,vi.Qa,i),this.size=e}function tr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){i()},e)}vi.Pa="serverreachability",Ke(Gr,he),vi.STAT_EVENT="statevent",Ke(Bn,he),vi.Qa="timingevent",Ke(wr,he);var Mr={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ms={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function qi(){}function Ai(){}qi.prototype.h=null;var cr,Qt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function An(){he.call(this,"d")}function Tr(){he.call(this,"c")}function Vi(){}function mr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new Or(this),this.O=yr,this.T=new tt(i=De?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new is}function is(){this.i=null,this.g="",this.h=!1}Ke(An,he),Ke(Tr,he),Ke(Vi,qi),Vi.prototype.g=function(){return new XMLHttpRequest},Vi.prototype.i=function(){return{}},cr=new Vi;var yr=45e3,Ps={},Ei={};function mn(i,e,t){i.K=1,i.v=Ki(Lr(e)),i.s=t,i.P=!0,ho(i,null)}function ho(i,e){i.F=Date.now(),Ir(i),i.A=Lr(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Oo(t.i,"t",o),i.C=0,t=i.l.H,i.h=new is,i.g=qo(i.l,t?e:null,!i.s),0<i.N&&(i.L=new br(Ot(i.La,i,i.g),i.N)),mi(i.S,i.g,"readystatechange",i.ib),e=i.H?Nr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Ss(),function _i(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var y="",A=d.split("&"),V=0;V<A.length;V++){var H=A[V].split("=");if(1<H.length){var ee=H[0];H=H[1];var ve=ee.split("_");y=2<=ve.length&&"type"==ve[1]?y+(ee+"=")+H+"&":y+(ee+"=redacted&")}}else y=null;else y=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Wi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Xs(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=kr(i,t),u==Ei){4==e&&(i.o=4,Hn(14),o=!1),fi(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ps){i.o=4,Hn(15),fi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}fi(i.j,i.m,u,null),Ui(i,u)}Wi(i)&&u!=Ei&&u!=Ps&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Hn(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Sn(e),e.K=!0,Hn(11))):(fi(i.j,i.m,t,"[Invalid Chunked Response]"),Fr(i),Jr(i))}function kr(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Ei:(t=Number(e.substring(t,o)),isNaN(t)?Ps:(o+=1)+t>e.length?Ei:(e=e.substr(o,t),i.C=o+t,e))}function Ir(i){i.V=Date.now()+i.O,ds(i,i.O)}function ds(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=tr(Ot(i.gb,i),e)}function ss(i){i.B&&(ie.clearTimeout(i.B),i.B=null)}function Jr(i){0==i.l.G||i.I||Ur(i.l,i)}function Fr(i){ss(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ct(i.T),yi(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ui(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Io(t.h,i)))if(!i.J&&Io(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Qi(t),L(t)}Tt(t),Hn(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=tr(Ot(t.cb,t),6e3));if(1>=ys(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ui(t,11)}else if((i.J||t.g==i)&&Qi(t),!dt(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(t.T=H[0],H=H[1],2==t.G)if("c"==H[0]){t.I=H[1],t.ka=H[2];const ee=H[3];null!=ee&&(t.ma=ee,t.j.info("VER="+t.ma));const ve=H[4];null!=ve&&(t.Ca=ve,t.j.info("SVER="+t.Ca));const ze=H[5];null!=ze&&"number"==typeof ze&&0<ze&&(t.J=o=1.5*ze,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const wt=i.g;if(wt){const Bt=wt.g?wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bt){var d=o.h;d.g||-1==Bt.indexOf("spdy")&&-1==Bt.indexOf("quic")&&-1==Bt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(no(d,d.h),d.h=null))}if(o.D){const cn=wt.g?wt.g.getResponseHeader("X-HTTP-Session-Id"):null;cn&&(o.za=cn,Cn(o.F,o.D,cn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var y=i;if((o=t).sa=ea(o,o.H?o.ka:null,o.V),y.J){_s(o.h,y);var A=y,V=o.J;V&&A.setTimeout(V),A.B&&(ss(A),Ir(A)),o.g=y}else Vr(o);0<t.i.length&&x(t)}else"stop"!=H[0]&&"close"!=H[0]||ui(t,7);else 3==t.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?ui(t,7):hn(t):"noop"!=H[0]&&t.l&&t.l.wa(H),t.A=0)}Ss()}catch{}}function Rs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Qe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function fo(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Qe(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function nr(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Qe(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}(Ve=mr.prototype).setTimeout=function(i){this.O=i},Ve.ib=function(i){i=i.target;const e=this.L;e&&3==wi(i)?e.l():this.La(i)},Ve.La=function(i){try{if(i==this.g)e:{const ee=wi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ee)&&(3!=ee||De||this.g&&(this.h.h||this.g.fa()||Zs(this.g)))){this.I||4!=ee||7==e||Ss(),ss(this);var t=this.g.aa();this.Y=t;t:if(Wi(this)){var o=Zs(this.g);i="";var u=o.length,d=4==wi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),Jr(this);var y="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.fa();if(this.i=200==t,function zi(i,e,t,o,u,d,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+y})}(this.j,this.u,this.A,this.m,this.U,ee,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var A,V=this.g;if((A=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(A)){var H=A;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Hn(12),Fr(this),Jr(this);break e}fi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ui(this,t)}this.P?(Xs(this,ee,y),De&&this.i&&3==ee&&(mi(this.S,this.T,"tick",this.hb),this.T.start())):(fi(this.j,this.m,y,null),Ui(this,y)),4==ee&&Fr(this),this.i&&!this.I&&(4==ee?Ur(this.l,this):(this.i=!1,Ir(this)))}else 400==t&&0<y.indexOf("Unknown SID")?(this.o=3,Hn(12)):(this.o=0,Hn(13)),Fr(this),Jr(this)}}}catch{}},Ve.hb=function(){if(this.g){var i=wi(this.g),e=this.g.fa();this.C<e.length&&(ss(this),Xs(this,i,e),this.i&&4!=i&&Ir(this))}},Ve.cancel=function(){this.I=!0,Fr(this)},Ve.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function zs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ss(),Hn(17)),Fr(this),this.o=2,Jr(this)):ds(this,this.V-i)};var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xs(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof xs){this.h=void 0!==e?e:i.h,Xr(this,i.j),this.s=i.s,this.g=i.g,hs(this,i.m),this.l=i.l,e=i.i;var t=new fs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ei(this,t),this.o=i.o}else i&&(t=String(i).match(Jo))?(this.h=!!e,Xr(this,t[1]||"",!0),this.s=Bi(t[2]||""),this.g=Bi(t[3]||"",!0),hs(this,t[4]),this.l=Bi(t[5]||"",!0),ei(this,t[6]||"",!0),this.o=Bi(t[7]||"")):(this.h=!!e,this.i=new fs(null,this.h))}function Lr(i){return new xs(i)}function Xr(i,e,t){i.j=t?Bi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function hs(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ei(i,e,t){e instanceof fs?(i.i=e,function jo(i,e){e&&!i.j&&(os(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(to(this,o),Oo(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=zr(e,Os)),i.i=new fs(e,i.h))}function Cn(i,e,t){i.i.set(e,t)}function Ki(i){return Cn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Bi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function zr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Si),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Si(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}xs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(zr(e,Mi,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(zr(e,Mi,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(zr(t,"/"==t.charAt(0)?Ns:No,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",zr(t,ks)),i.join("")};var Mi=/[#\/\?@]/g,No=/[#\?:]/g,Ns=/[#\?]/g,Os=/[#\?@]/g,ks=/#/g;function fs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function os(i){i.g||(i.g=new Map,i.h=0,i.i&&function eo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function to(i,e){os(i),e=gs(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ps(i,e){return os(i),e=gs(i,e),i.g.has(e)}function Oo(i,e,t){to(i,e),0<t.length&&(i.i=null,i.g.set(gs(i,e),ot(t)),i.h+=t.length)}function gs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ho(i){this.l=i||ms,i=ie.PerformanceNavigationTiming?0<(i=ie.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ie.g&&ie.g.Ga&&ie.g.Ga()&&ie.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ve=fs.prototype).add=function(i,e){os(this),this.i=null,i=gs(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Ve.forEach=function(i,e){os(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ve.oa=function(){os(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)t.push(e[o])}return t},Ve.W=function(i){os(this);let e=[];if("string"==typeof i)ps(this,i)&&(e=e.concat(this.g.get(gs(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Ve.set=function(i,e){return os(this),this.i=null,ps(this,i=gs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ve.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const d=encodeURIComponent(String(o)),y=this.W(o);for(o=0;o<y.length;o++){var u=d;""!==y[o]&&(u+="="+encodeURIComponent(String(y[o]))),i.push(u)}}return this.i=i.join("&")};var ms=10;function qs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ys(i){return i.h?1:i.g?i.g.size:0}function Io(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function no(i,e){i.g?i.g.add(e):i.h=e}function _s(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Go(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return ot(i.i)}function oi(){}function zo(){this.g=new oi}function vs(i,e,t){const o=t||"";try{Rs(i,function(u,d){let y=u;rt(u)&&(y=it(u)),e.push(o+d+"="+encodeURIComponent(y))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function dr(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function $i(i){this.l=i.ac||null,this.j=i.jb||!1}function qr(i,e){fe.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Wr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ho.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},oi.prototype.stringify=function(i){return ie.JSON.stringify(i,void 0)},oi.prototype.parse=function(i){return ie.JSON.parse(i,void 0)},Ke($i,qi),$i.prototype.g=function(){return new qr(this.l,this.j)},$i.prototype.i=function(i){return function(){return i}}({}),Ke(qr,fe);var Wr=0;function Ws(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function ti(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Zi(i)}function Zi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ve=qr.prototype).open=function(i,e){if(this.readyState!=Wr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Zi(this)},Ve.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ie).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ti(this)),this.readyState=Wr},Ve.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ws(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},Ve.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ti(this):Zi(this),3==this.readyState&&Ws(this)}},Ve.Va=function(i){this.g&&(this.response=this.responseText=i,ti(this))},Ve.Ua=function(i){this.g&&(this.response=i,ti(this))},Ve.ga=function(){this.g&&ti(this)},Ve.setRequestHeader=function(i,e){this.v.append(i,e)},Ve.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ve.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Pi=ie.JSON.parse;function _r(i){fe.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Do,this.K=this.L=!1}Ke(_r,fe);var Do="",Cr=/^https?$/i,Xo=["POST","PUT"];function ai(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Fs(i),Yi(i)}function Fs(i){i.D||(i.D=!0,oe(i,"complete"),oe(i,"error"))}function ni(i){if(i.h&&typeof yt<"u"&&(!i.C[1]||4!=wi(i)||2!=i.aa()))if(i.v&&4==wi(i))Yt(i.Ha,0,i);else if(oe(i,"readystatechange"),4==wi(i)){i.h=!1;try{const A=i.aa();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===A){var u=String(i.H).match(Jo)[1]||null;if(!u&&ie.self&&ie.self.location){var d=ie.self.location.protocol;u=d.substr(0,d.length-1)}o=!Cr.test(u?u.toLowerCase():"")}t=o}if(t)oe(i,"complete"),oe(i,"success");else{i.m=6;try{var y=2<wi(i)?i.g.statusText:""}catch{y=""}i.j=y+" ["+i.aa()+"]",Fs(i)}}finally{Yi(i)}}}function Yi(i,e){if(i.g){Wn(i);const t=i.g,o=i.C[0]?Ee:null;i.g=null,i.C=null,e||oe(i,"ready");try{t.onreadystatechange=o}catch{}}}function Wn(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ie.clearTimeout(i.A),i.A=null)}function wi(i){return i.g?i.g.readyState:0}function Zs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Do:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Fo(i){let e="";return Qr(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Ti(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Fo(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Cn(i,e,t))}function ro(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function bo(i){this.Ca=0,this.i=[],this.j=new Fi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ro("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ro("baseRetryDelayMs",5e3,i),this.bb=ro("retryDelaySeedMs",1e4,i),this.$a=ro("forwardChannelMaxRetries",2,i),this.ta=ro("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Ho(i&&i.concurrentRequestLimit),this.Fa=new zo,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function hn(i){if(O(i),3==i.G){var e=i.U++,t=Lr(i.F);Cn(t,"SID",i.I),Cn(t,"RID",e),Cn(t,"TYPE","terminate"),sn(i,t),(e=new mr(i,i.j,e,void 0)).K=2,e.v=Ki(Lr(t)),t=!1,ie.navigator&&ie.navigator.sendBeacon&&(t=ie.navigator.sendBeacon(e.v.toString(),"")),!t&&ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=qo(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ir(e)}Br(i)}function L(i){i.g&&(Sn(i),i.g.cancel(),i.g=null)}function O(i){L(i),i.u&&(ie.clearTimeout(i.u),i.u=null),Qi(i),i.h.cancel(),i.m&&("number"==typeof i.m&&ie.clearTimeout(i.m),i.m=null)}function x(i){qs(i.h)||i.m||(i.m=!0,ke(i.Ja,i),i.C=0)}function nt(i,e){var t;t=e?e.m:i.U++;const o=Lr(i.F);Cn(o,"SID",i.I),Cn(o,"RID",t),Cn(o,"AID",i.T),sn(i,o),i.o&&i.s&&Ti(o,i.o,i.s),t=new mr(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=or(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),no(i.h,t),mn(t,o,e)}function sn(i,e){i.ia&&Qr(i.ia,function(t,o){Cn(e,o,t)}),i.l&&Rs({},function(t,o){Cn(e,o,t)})}function or(i,e,t){t=Math.min(i.i.length,t);var o=i.l?Ot(i.l.Ra,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const y=["count="+t];-1==d?0<t?(d=u[0].h,y.push("ofs="+d)):d=0:y.push("ofs="+d);let A=!0;for(let V=0;V<t;V++){let H=u[V].h;const ee=u[V].g;if(H-=d,0>H)d=Math.max(0,u[V].h-100),A=!1;else try{vs(ee,y,"req"+H+"_")}catch{o&&o(ee)}}if(A){o=y.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Vr(i){i.g||i.u||(i.Z=1,ke(i.Ia,i),i.A=0)}function Tt(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=tr(Ot(i.Ia,i),po(i,i.A)),i.A++,0))}function Sn(i){null!=i.B&&(ie.clearTimeout(i.B),i.B=null)}function io(i){i.g=new mr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Lr(i.sa);Cn(e,"RID","rpc"),Cn(e,"SID",i.I),Cn(e,"CI",i.L?"0":"1"),Cn(e,"AID",i.T),Cn(e,"TYPE","xmlhttp"),sn(i,e),i.o&&i.s&&Ti(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Ki(Lr(e)),t.s=null,t.P=!0,ho(t,i)}function Qi(i){null!=i.v&&(ie.clearTimeout(i.v),i.v=null)}function Ur(i,e){var t=null;if(i.g==e){Qi(i),Sn(i),i.g=null;var o=2}else{if(!Io(i.h,e))return;t=e.D,_s(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;oe(o=As(),new wr(o,t)),x(i)}else Vr(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function X(i,e){return!(ys(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=tr(Ot(i.Ja,i,e),po(i,i.C)),i.C++,0)))}(i,e)||2==o&&Tt(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:ui(i,5);break;case 4:ui(i,10);break;case 3:ui(i,6);break;default:ui(i,2)}}function po(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function ui(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=Ot(i.kb,i);t||(t=new xs("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||Xr(t,"https"),Ki(t)),function ko(i,e){const t=new Fi;if(ie.Image){const o=new Image;o.onload=Lt(dr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Lt(dr,t,o,"TestLoadImage: error",!1,e),o.onabort=Lt(dr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Lt(dr,t,o,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Hn(2);i.G=0,i.l&&i.l.va(e),Br(i),O(i)}function Br(i){if(i.G=0,i.la=[],i.l){const e=Go(i.h);(0!=e.length||0!=i.i.length)&&(Be(i.la,e),Be(i.la,i.i),i.h.i.length=0,ot(i.i),i.i.length=0),i.l.ua()}}function ea(i,e,t){var o=t instanceof xs?Lr(t):new xs(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),hs(o,o.m);else{var u=ie.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new xs(null,void 0);o&&Xr(d,o),e&&(d.g=e),u&&hs(d,u),t&&(d.l=t),o=d}return e=i.za,(t=i.D)&&e&&Cn(o,t,e),Cn(o,"VER",i.ma),sn(i,o),o}function qo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _r(t&&i.Da&&!i.ra?new $i({jb:!0}):i.ra)).Ka(i.H),e}function ba(){}function go(){if(Ge&&!(10<=Number(qn)))throw Error("Environmental error: no available transport.")}function as(i,e){fe.call(this),this.g=new bo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!dt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dt(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new mo(this)}function Ri(i){An.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ji(){Tr.call(this),this.status=1}function mo(i){this.g=i}(Ve=_r.prototype).Ka=function(i){this.L=i},Ve.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cr.g(),this.C=function lr(i){return i.h||(i.h=i.i())}(this.u?this.u:cr),this.g.onreadystatechange=Ot(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void ai(this,d)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())t.set(d,o.get(d))}o=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=ie.FormData&&i instanceof ie.FormData,!(0<=kt(Xo,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,y]of t)this.g.setRequestHeader(d,y);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wn(this),0<this.B&&((this.K=function Ks(i){return Ge&&function Jn(){return function _t(i){var e=an;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Le(String(ht)).split("."),t=Le("9").split("."),o=Math.max(e.length,t.length);for(let y=0;0==i&&y<o;y++){var u=e[y]||"",d=t[y]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=Mt(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Mt(0==u[2].length,0==d[2].length)||Mt(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.qa,this)):this.A=Yt(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){ai(this,d)}},Ve.qa=function(){typeof yt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oe(this,"timeout"),this.abort(8))},Ve.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,oe(this,"complete"),oe(this,"abort"),Yi(this))},Ve.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yi(this,!0)),_r.X.M.call(this)},Ve.Ha=function(){this.s||(this.F||this.v||this.l?ni(this):this.fb())},Ve.fb=function(){ni(this)},Ve.aa=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}},Ve.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ve.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Pi(e)}},Ve.Ea=function(){return this.m},Ve.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ve=bo.prototype).ma=8,Ve.G=1,Ve.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new mr(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=Nr(d),ii(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=or(this,u,e),Cn(t=Lr(this.F),"RID",i),Cn(t,"CVER",22),this.D&&Cn(t,"X-HTTP-Session-Id",this.D),sn(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(Fo(d)))+"&"+e:this.o&&Ti(t,this.o,d)),no(this.h,u),this.Ya&&Cn(t,"TYPE","init"),this.O?(Cn(t,"$req",e),Cn(t,"SID","null"),u.Z=!0,mn(u,t,null)):mn(u,t,e),this.G=2}}else 3==this.G&&(i?nt(this,i):0==this.i.length||qs(this.h)||nt(this))},Ve.Ia=function(){if(this.u=null,io(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=tr(Ot(this.eb,this),i)}},Ve.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Hn(10),L(this),io(this))},Ve.cb=function(){null!=this.v&&(this.v=null,L(this),Tt(this),Hn(19))},Ve.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Hn(2)):(this.j.info("Failed to ping google.com"),Hn(1))},(Ve=ba.prototype).xa=function(){},Ve.wa=function(){},Ve.va=function(){},Ve.ua=function(){},Ve.Ra=function(){},go.prototype.g=function(i,e){return new as(i,e)},Ke(as,fe),as.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Hn(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=ea(i,null,i.V),x(i)},as.prototype.close=function(){hn(this.g)},as.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=it(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&x(e)},as.prototype.M=function(){this.g.l=null,delete this.j,hn(this.g),delete this.g,as.X.M.call(this)},Ke(Ri,An),Ke(Ji,Tr),Ke(mo,ba),mo.prototype.xa=function(){oe(this.g,"a")},mo.prototype.wa=function(i){oe(this.g,new Ri(i))},mo.prototype.va=function(i){oe(this.g,new Ji)},mo.prototype.ua=function(){oe(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,as.prototype.send=as.prototype.u,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Ms.COMPLETE="complete",Ai.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",fe.prototype.listen=fe.prototype.N,_r.prototype.listenOnce=_r.prototype.O,_r.prototype.getLastError=_r.prototype.Oa,_r.prototype.getLastErrorCode=_r.prototype.Ea,_r.prototype.getStatus=_r.prototype.aa,_r.prototype.getResponseJson=_r.prototype.Sa,_r.prototype.getResponseText=_r.prototype.fa,_r.prototype.send=_r.prototype.da,_r.prototype.setWithCredentials=_r.prototype.Ka;var ta=ut.createWebChannelTransport=function(){return new go},Ls=ut.getStatEventTarget=function(){return As()},da=ut.ErrorCode=Mr,na=ut.EventType=Ms,Ca=ut.Event=vi,Wo=ut.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ha=ut.FetchXmlHttpFactory=$i,G=ut.WebChannel=Ai,E=ut.XhrIo=_r;const T="@firebase/firestore";class N{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}N.UNAUTHENTICATED=new N(null),N.GOOGLE_CREDENTIALS=new N("google-credentials-uid"),N.FIRST_PARTY=new N("first-party-uid"),N.MOCK_USER=new N("mock-user");let q="9.20.0";const te=new Se.Yd("@firebase/firestore");function ye(){return te.logLevel}function de(i,...e){if(te.logLevel<=Se.in.DEBUG){const t=e.map(rn);te.debug(`Firestore (${q}): ${i}`,...t)}}function Je(i,...e){if(te.logLevel<=Se.in.ERROR){const t=e.map(rn);te.error(`Firestore (${q}): ${i}`,...t)}}function Pt(i,...e){if(te.logLevel<=Se.in.WARN){const t=e.map(rn);te.warn(`Firestore (${q}): ${i}`,...t)}}function rn(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function It(i="Unexpected state"){const e=`FIRESTORE (${q}) INTERNAL ASSERTION FAILED: `+i;throw Je(e),new Error(e)}function At(i,e){i||It()}function at(i,e){return i}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends le.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class U{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class R{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(N.UNAUTHENTICATED))}shutdown(){}}class ce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class We{constructor(e){this.t=e,this.currentUser=N.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const d=H=>this.i!==u?(u=this.i,t(H)):Promise.resolve();let y=new U;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new U,e.enqueueRetryable(()=>d(this.currentUser))};const A=()=>{const H=y;e.enqueueRetryable((0,p.Z)(function*(){yield H.promise,yield d(o.currentUser)}))},V=H=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(H=>V(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?V(H):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new U)}},0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(At("string"==typeof o.accessToken),new R(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new N(e)}}class ft{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=N.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nn{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new ft(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(N.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $n{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zn{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=d=>{null!=d.error&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const y=d.token!==this.T;return this.T=d.token,de("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.I.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.I.getImmediate({optional:!0});d?u(d):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.T=t.token,new $n(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function vn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Gn{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=vn(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length))}return o}}function Jt(i,e){return i<e?-1:i>e?1:0}function Ar(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}class jt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new D(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new jt(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new jt(0,0))}static max(){return new St(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Dn{constructor(e,t,o){void 0===t?t=0:t>e.length&&It(),void 0===o?o=e.length-t:o>e.length-t&&It(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Dn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dn?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const d=e.get(u),y=t.get(u);if(d<y)return-1;if(d>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gn extends Dn{construct(e,t,o){return new gn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new D(Ue.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new gn(t)}static emptyPath(){return new gn([])}}const Ii=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Dn{construct(e,t,o){return new xn(e,t,o)}static isValidIdentifier(e){return Ii.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xn(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const d=()=>{if(0===o.length)throw new D(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let y=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new D(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new D(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===A?(y=!y,u++):"."!==A||y?(o+=A,u++):(d(),u++)}if(d(),y)throw new D(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(t)}static emptyPath(){return new xn([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(gn.fromString(e))}static fromName(e){return new Ut(gn.fromString(e).popFirst(5))}static empty(){return new Ut(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new gn(e.slice()))}}function fa(i){return new so(i.readTime,i.key,-1)}class so{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new so(St.min(),Ut.empty(),-1)}static max(){return new so(St.max(),Ut.empty(),-1)}}function ja(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ut.comparator(i.documentKey,e.documentKey),0!==t?t:Jt(i.largestBatchId,e.largestBatchId))}const Aa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yn(i){return ra.apply(this,arguments)}function ra(){return ra=(0,p.Z)(function*(i){if(i.code!==Ue.FAILED_PRECONDITION||i.message!==Aa)throw i;de("LocalStore","Unexpectedly lost primary lease")}),ra.apply(this,arguments)}class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xe((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Xe?t:Xe.resolve(t)}catch(t){return Xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Xe.reject(t)}static resolve(e){return new Xe((t,o)=>{t(e)})}static reject(e){return new Xe((t,o)=>{o(e)})}static waitFor(e){return new Xe((t,o)=>{let u=0,d=0,y=!1;e.forEach(A=>{++u,A.next(()=>{++d,y&&d===u&&t()},V=>o(V))}),y=!0,d===u&&t()})}static or(e){let t=Xe.resolve(!1);for(const o of e)t=t.next(u=>u?Xe.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,d)=>{o.push(t.call(this,u,d))}),this.waitFor(o)}static mapArray(e,t){return new Xe((o,u)=>{const d=e.length,y=new Array(d);let A=0;for(let V=0;V<d;V++){const H=V;t(e[H]).next(ee=>{y[H]=ee,++A,A===d&&o(y)},ee=>u(ee))}})}static doWhile(e,t){return new Xe((o,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):o()};d()})}}function Uo(i){return"IndexedDbTransactionError"===i.name}let Ni=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function wu(i){return null==i}function Sa(i){return 0===i&&1/i==-1/0}function Ka(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function us(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function yo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Rr{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ao(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ao(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ao(this.root,e,this.comparator,!0)}}class Ao{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,o,u,d){this.key=e,this.value=t,this.color=o??li.RED,this.left=u??li.EMPTY,this.right=d??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,d){return new li(e??this.key,t??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return li.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(i,e,t,o,u){return this}insert(i,e,t){return new li(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hr{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ql(this.data.getIterator())}getIteratorFrom(e){return new ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hr(this.comparator);return t.data=e,t}}class ql{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class w{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new w([])}unionWith(e){let t=new hr(xn.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new w(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ar(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class g extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class k{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new g("Invalid base64 string: "+u):u}}(e);return new k(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new k(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}k.EMPTY_BYTE_STRING=new k("");const W=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function J(i){if(At(!!i),"string"==typeof i){let e=0;const t=W.exec(i);if(At(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:be(i.seconds),nanos:be(i.nanos)}}function be(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function pt(i){return"string"==typeof i?k.fromBase64String(i):k.fromUint8Array(i)}function Wt(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function qt(i){const e=i.mapValue.fields.__previous_value__;return Wt(e)?qt(e):e}function Nn(i){const e=J(i.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}class ci{constructor(e,t,o,u,d,y,A,V){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=y,this.autoDetectLongPolling=A,this.useFetchStreams=V}}class ls{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ls("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ls&&e.projectId===this.projectId&&e.database===this.database}}const Oi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wt(i)?4:On(i)?9007199254740991:10:It()}function $o(i,e){if(i===e)return!0;const t=Zr(i);if(t!==Zr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Nn(i).isEqual(Nn(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=J(o.timestampValue),y=J(u.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,pt(i.bytesValue).isEqual(pt(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return be(o.geoPointValue.latitude)===be(u.geoPointValue.latitude)&&be(o.geoPointValue.longitude)===be(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return be(o.integerValue)===be(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=be(o.doubleValue),y=be(u.doubleValue);return d===y?Sa(d)===Sa(y):isNaN(d)&&isNaN(y)}return!1}(i,e);case 9:return Ar(i.arrayValue.values||[],e.arrayValue.values||[],$o);case 10:return function(o,u){const d=o.mapValue.fields||{},y=u.mapValue.fields||{};if(Ka(d)!==Ka(y))return!1;for(const A in d)if(d.hasOwnProperty(A)&&(void 0===y[A]||!$o(d[A],y[A])))return!1;return!0}(i,e);default:return It()}var u}function So(i,e){return void 0!==(i.values||[]).find(t=>$o(t,e))}function P(i,e){if(i===e)return 0;const t=Zr(i),o=Zr(e);if(t!==o)return Jt(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jt(i.booleanValue,e.booleanValue);case 2:return function(u,d){const y=be(u.integerValue||u.doubleValue),A=be(d.integerValue||d.doubleValue);return y<A?-1:y>A?1:y===A?0:isNaN(y)?isNaN(A)?0:-1:1}(i,e);case 3:return F(i.timestampValue,e.timestampValue);case 4:return F(Nn(i),Nn(e));case 5:return Jt(i.stringValue,e.stringValue);case 6:return function(u,d){const y=pt(u),A=pt(d);return y.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const y=u.split("/"),A=d.split("/");for(let V=0;V<y.length&&V<A.length;V++){const H=Jt(y[V],A[V]);if(0!==H)return H}return Jt(y.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const y=Jt(be(u.latitude),be(d.latitude));return 0!==y?y:Jt(be(u.longitude),be(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const y=u.values||[],A=d.values||[];for(let V=0;V<y.length&&V<A.length;++V){const H=P(y[V],A[V]);if(H)return H}return Jt(y.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===Oi.mapValue&&d===Oi.mapValue)return 0;if(u===Oi.mapValue)return 1;if(d===Oi.mapValue)return-1;const y=u.fields||{},A=Object.keys(y),V=d.fields||{},H=Object.keys(V);A.sort(),H.sort();for(let ee=0;ee<A.length&&ee<H.length;++ee){const ve=Jt(A[ee],H[ee]);if(0!==ve)return ve;const ze=P(y[A[ee]],V[H[ee]]);if(0!==ze)return ze}return Jt(A.length,H.length)}(i.mapValue,e.mapValue);default:throw It()}}function F(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Jt(i,e);const t=J(i),o=J(e),u=Jt(t.seconds,o.seconds);return 0!==u?u:Jt(t.nanos,o.nanos)}function z(i){return se(i)}function se(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=J(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?pt(i.bytesValue).toBase64():"referenceValue"in i?Ut.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const y of o.values||[])d?d=!1:u+=",",u+=se(y);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",y=!0;for(const A of u)y?y=!1:d+=",",d+=`${A}:${se(o.fields[A])}`;return d+"}"}(i.mapValue):It();var e}function Ze(i){return!!i&&"integerValue"in i}function Nt(i){return!!i&&"arrayValue"in i}function ln(i){return!!i&&"nullValue"in i}function _n(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function En(i){return!!i&&"mapValue"in i}function Qn(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return us(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Qn(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qn(i.arrayValue.values[t]);return e}return Object.assign({},i)}function On(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!En(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qn(t)}setAll(e){let t=xn.emptyPath(),o={},u=[];e.forEach((y,A)=>{if(!t.isImmediateParentOf(A)){const V=this.getFieldsMap(t);this.applyChanges(V,o,u),o={},u=[],t=A.popLast()}y?o[A.lastSegment()]=Qn(y):u.push(A.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,u)}delete(e){const t=this.field(e.popLast());En(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $o(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];En(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){us(t,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new Hi(Qn(this.value))}}function Us(i){const e=[];return us(i.fields,(t,o)=>{const u=new xn([t]);if(En(o)){const d=Us(o.mapValue).fields;if(0===d.length)e.push(u);else for(const y of d)e.push(u.child(y))}else e.push(u)}),new w(e)}class fr{constructor(e,t,o,u,d,y,A){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=d,this.data=y,this.documentState=A}static newInvalidDocument(e){return new fr(e,0,St.min(),St.min(),St.min(),Hi.empty(),0)}static newFoundDocument(e,t,o,u){return new fr(e,1,t,St.min(),o,u,0)}static newNoDocument(e,t){return new fr(e,2,t,St.min(),St.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new fr(e,3,t,St.min(),St.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(St.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ko{constructor(e,t){this.position=e,this.inclusive=t}}function Vc(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],y=i.position[u];if(o=d.field.isKeyField()?Ut.comparator(Ut.fromName(y.referenceValue),t.key):P(y,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Md(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!$o(i.position[t],e.position[t]))return!1;return!0}class Cu{constructor(e,t="asc"){this.field=e,this.dir=t}}function am(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Pd{}class ar extends Pd{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Xh(e,t,o):"array-contains"===t?new tf(e,o):"in"===t?new Nd(e,o):"not-in"===t?new Pa(e,o):"array-contains-any"===t?new jp(e,o):new ar(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new ef(e,o):new ol(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(P(t,this.value)):null!==t&&Zr(this.value)===Zr(t)&&this.matchesComparison(P(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xr extends Pd{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new xr(e,t)}matches(e){return Wl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Wl(i){return"and"===i.op}function Kl(i){return function Up(i){for(const e of i.filters)if(e instanceof xr)return!1;return!0}(i)&&Wl(i)}function Jh(i){if(i instanceof ar)return i.field.canonicalString()+i.op.toString()+z(i.value);if(Kl(i))return i.filters.map(e=>Jh(e)).join(",");{const e=i.filters.map(t=>Jh(t)).join(",");return`${i.op}(${e})`}}function Rd(i,e){return i instanceof ar?(t=i,(o=e)instanceof ar&&t.op===o.op&&t.field.isEqual(o.field)&&$o(t.value,o.value)):i instanceof xr?function(t,o){return o instanceof xr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,d,y)=>u&&Rd(d,o.filters[y]),!0)}(i,e):void It();var t,o}function $p(i){return i instanceof ar?`${(e=i).field.canonicalString()} ${e.op} ${z(e.value)}`:i instanceof xr?function(e){return e.op.toString()+" {"+e.getFilters().map($p).join(" ,")+"}"}(i):"Filter";var e}class Xh extends ar{constructor(e,t,o){super(e,t,o),this.key=Ut.fromName(o.referenceValue)}matches(e){const t=Ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class ef extends ar{constructor(e,t){super(e,"in",t),this.keys=xd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ol extends ar{constructor(e,t){super(e,"not-in",t),this.keys=xd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xd(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Ut.fromName(o.referenceValue))}class tf extends ar{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nt(t)&&So(t.arrayValue,this.value)}}class Nd extends ar{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&So(this.value.arrayValue,t)}}class Pa extends ar{constructor(e,t){super(e,"not-in",t)}matches(e){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!So(this.value.arrayValue,t)}}class jp extends ar{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>So(this.value.arrayValue,o))}}class Hp{constructor(e,t=null,o=[],u=[],d=null,y=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=y,this.endAt=A,this.ft=null}}function Od(i,e=null,t=[],o=[],u=null,d=null,y=null){return new Hp(i,e,t,o,u,d,y)}function ou(i){const e=at(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Jh(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),wu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>z(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>z(o)).join(",")),e.ft=t}return e.ft}function Za(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!am(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Rd(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Md(i.startAt,e.startAt)&&Md(i.endAt,e.endAt)}function Bc(i){return Ut.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Ya{constructor(e,t=null,o=[],u=[],d=null,y="F",A=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=y,this.startAt=A,this.endAt=V,this.dt=null,this.wt=null}}function Bs(i){return new Ya(i)}function jc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ia(i){const e=at(i);if(null===e.dt){e.dt=[];const t=function al(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),o=function Hc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new Cu(t)),e.dt.push(new Cu(xn.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.dt.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Cu(xn.keyField(),d))}}}return e.dt}function Qs(i){const e=at(i);if(!e.wt)if("F"===e.limitType)e.wt=Od(e.path,e.collectionGroup,ia(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of ia(e))t.push(new Cu(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Ko(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Ko(e.startAt.position,e.startAt.inclusive):null;e.wt=Od(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function ul(i,e,t){return new Ya(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Zl(i,e){return Za(Qs(i),Qs(e))&&i.limitType===e.limitType}function rf(i){return`${ou(Qs(i))}|lt:${i.limitType}`}function Ld(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>$p(o)).join(", ")}]`),wu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>z(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>z(o)).join(",")),`Target(${t})`}(Qs(i))}; limitType=${i.limitType})`}function ll(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Ut.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of ia(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,d,y){const A=Vc(u,d,y);return u.inclusive?A<=0:A<0}(t.startAt,ia(t),o)||t.endAt&&!function(u,d,y){const A=Vc(u,d,y);return u.inclusive?A>=0:A>0}(t.endAt,ia(t),o)));var t,o}function Gp(i){return(e,t)=>{let o=!1;for(const u of ia(i)){const d=Vd(u,e,t);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function Vd(i,e,t){const o=i.field.isKeyField()?Ut.comparator(e.key,t.key):function(u,d,y){const A=d.data.field(u),V=y.data.field(u);return null!==A&&null!==V?P(A,V):It()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return It()}}class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(t,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return yo(this.inner)}size(){return this.innerSize}}const cl=new Rr(Ut.comparator);function Mo(){return cl}const Au=new Rr(Ut.comparator);function Yl(...i){let e=Au;for(const t of i)e=e.insert(t.key,t);return e}function af(i){let e=Au;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function sa(){return dl()}function zc(){return dl()}function dl(){return new wa(i=>i.toString(),(i,e)=>i.isEqual(e))}const Su=new Rr(Ut.comparator),Ud=new hr(Ut.comparator);function Kn(...i){let e=Ud;for(const t of i)e=e.add(t);return e}const uf=new hr(Jt);function au(){return uf}function Bd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sa(e)?"-0":e}}function zp(i){return{integerValue:""+i}}function qc(i,e){return function rl(i){return"number"==typeof i&&Number.isInteger(i)&&!Sa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?zp(e):Bd(i,e)}class Wc{constructor(){this._=void 0}}function qp(i,e,t){return i instanceof uu?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof Mu?$d(i,e):i instanceof hl?Wp(i,e):function(o,u){const d=lf(o,u),y=cf(d)+cf(o._t);return Ze(d)&&Ze(o._t)?zp(y):Bd(o.serializer,y)}(i,e)}function um(i,e,t){return i instanceof Mu?$d(i,e):i instanceof hl?Wp(i,e):t}function lf(i,e){return i instanceof fl?Ze(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class uu extends Wc{}class Mu extends Wc{constructor(e){super(),this.elements=e}}function $d(i,e){const t=Pu(e);for(const o of i.elements)t.some(u=>$o(u,o))||t.push(o);return{arrayValue:{values:t}}}class hl extends Wc{constructor(e){super(),this.elements=e}}function Wp(i,e){let t=Pu(e);for(const o of i.elements)t=t.filter(u=>!$o(u,o));return{arrayValue:{values:t}}}class fl extends Wc{constructor(e,t){super(),this.serializer=e,this._t=t}}function cf(i){return be(i.integerValue||i.doubleValue)}function Pu(i){return Nt(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class lm{constructor(e,t){this.version=e,this.transformResults=t}}class ts{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class jd{}function df(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Ru(i.key,ts.none()):new lu(i.key,i.data,ts.none());{const t=i.data,o=Hi.empty();let u=new hr(xn.comparator);for(let d of e.fields)if(!u.has(d)){let y=t.field(d);null===y&&d.length>1&&(d=d.popLast(),y=t.field(d)),null===y?o.delete(d):o.set(d,y),u=u.add(d)}return new Ta(i.key,o,new w(u.toArray()),ts.none())}}function Zp(i,e,t){i instanceof lu?function(o,u,d){const y=o.value.clone(),A=Hd(o.fieldTransforms,u,d.transformResults);y.setAll(A),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,e,t):i instanceof Ta?function(o,u,d){if(!pl(o.precondition,u))return void u.convertToUnknownDocument(d.version);const y=Hd(o.fieldTransforms,u,d.transformResults),A=u.data;A.setAll(pf(o)),A.setAll(y),u.convertToFoundDocument(d.version,A).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jl(i,e,t,o){return i instanceof lu?function(u,d,y,A){if(!pl(u.precondition,d))return y;const V=u.value.clone(),H=Gd(u.fieldTransforms,A,d);return V.setAll(H),d.convertToFoundDocument(d.version,V).setHasLocalMutations(),null}(i,e,t,o):i instanceof Ta?function(u,d,y,A){if(!pl(u.precondition,d))return y;const V=Gd(u.fieldTransforms,A,d),H=d.data;return H.setAll(pf(u)),H.setAll(V),d.convertToFoundDocument(d.version,H).setHasLocalMutations(),null===y?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ee=>ee.field))}(i,e,t,o):(y=t,pl(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y);var d,y}function hf(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=lf(o.transform,u||null);null!=d&&(null===t&&(t=Hi.empty()),t.set(o.field,d))}return t||null}function ff(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Ar(t,o,(u,d)=>function Kp(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Mu&&o instanceof Mu||t instanceof hl&&o instanceof hl?Ar(t.elements,o.elements,$o):t instanceof fl&&o instanceof fl?$o(t._t,o._t):t instanceof uu&&o instanceof uu);var t,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class lu extends jd{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ta extends jd{constructor(e,t,o,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function pf(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Hd(i,e,t){const o=new Map;At(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],y=d.transform,A=e.data.field(d.field);o.set(d.field,um(y,A,t[u]))}return o}function Gd(i,e,t){const o=new Map;for(const u of i){const d=u.transform,y=t.data.field(u.field);o.set(u.field,qp(d,y,e))}return o}class Ru extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gl extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gf{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&Zp(d,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Jl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Jl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=zc();return this.mutations.forEach(u=>{const d=e.get(u.key),y=d.overlayedDocument;let A=this.applyToLocalView(y,d.mutatedFields);A=t.has(u.key)?null:A;const V=df(y,A);null!==V&&o.set(u.key,V),y.isValidDocument()||y.convertToNoDocument(St.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kn())}isEqual(e){return this.batchId===e.batchId&&Ar(this.mutations,e.mutations,(t,o)=>ff(t,o))&&Ar(this.baseMutations,e.baseMutations,(t,o)=>ff(t,o))}}class zd{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){At(e.mutations.length===o.length);let u=Su;const d=e.mutations;for(let y=0;y<d.length;y++)u=u.insert(d[y].key,o[y].version);return new zd(e,t,o,u)}}class mf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qp{constructor(e){this.count=e}}var ns,Er;function Jp(i){if(void 0===i)return Je("GRPC error has no .code"),Ue.UNKNOWN;switch(i){case ns.OK:return Ue.OK;case ns.CANCELLED:return Ue.CANCELLED;case ns.UNKNOWN:return Ue.UNKNOWN;case ns.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case ns.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case ns.INTERNAL:return Ue.INTERNAL;case ns.UNAVAILABLE:return Ue.UNAVAILABLE;case ns.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case ns.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case ns.NOT_FOUND:return Ue.NOT_FOUND;case ns.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case ns.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case ns.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case ns.ABORTED:return Ue.ABORTED;case ns.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case ns.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case ns.DATA_LOSS:return Ue.DATA_LOSS;default:return It()}}(Er=ns||(ns={}))[Er.OK=0]="OK",Er[Er.CANCELLED=1]="CANCELLED",Er[Er.UNKNOWN=2]="UNKNOWN",Er[Er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Er[Er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Er[Er.NOT_FOUND=5]="NOT_FOUND",Er[Er.ALREADY_EXISTS=6]="ALREADY_EXISTS",Er[Er.PERMISSION_DENIED=7]="PERMISSION_DENIED",Er[Er.UNAUTHENTICATED=16]="UNAUTHENTICATED",Er[Er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Er[Er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Er[Er.ABORTED=10]="ABORTED",Er[Er.OUT_OF_RANGE=11]="OUT_OF_RANGE",Er[Er.UNIMPLEMENTED=12]="UNIMPLEMENTED",Er[Er.INTERNAL=13]="INTERNAL",Er[Er.UNAVAILABLE=14]="UNAVAILABLE",Er[Er.DATA_LOSS=15]="DATA_LOSS";class _f{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vf}static getOrCreateInstance(){return null===vf&&(vf=new _f),vf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let vf=null;class Kc{constructor(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Kc(St.min(),u,au(),Mo(),Kn())}}class yl{constructor(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new yl(o,t,Kn(),Kn(),Kn())}}class qd{constructor(e,t,o,u){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=u}}class Ef{constructor(e,t){this.targetId=e,this.Et=t}}class Zc{constructor(e,t,o=k.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Wd{constructor(){this.At=0,this.Rt=Tf(),this.vt=k.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Kn(),t=Kn(),o=Kn();return this.Rt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:It()}}),new yl(this.vt,this.bt,e,t,o)}xt(){this.Pt=!1,this.Rt=Tf()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Xp{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Mo(),this.qt=wf(),this.Ut=new hr(Jt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const o=this.jt(t);switch(e.state){case 0:this.Wt(t)&&o.Dt(e.resumeToken);break;case 1:o.$t(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.$t(),o.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(o.Mt(),o.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:It()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,u)=>{this.Wt(u)&&t(u)})}Jt(e){var t;const o=e.targetId,u=e.Et.count,d=this.Yt(o);if(d){const y=d.target;if(Bc(y))if(0===u){const A=new Ut(y.path);this.Qt(o,A,fr.newNoDocument(A,St.min()))}else At(1===u);else{const A=this.Zt(o);A!==u&&(this.Ht(o),this.Ut=this.Ut.add(o),null===(t=_f.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:A,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((d,y)=>{const A=this.Yt(y);if(A){if(d.current&&Bc(A.target)){const V=new Ut(A.target.path);null!==this.Lt.get(V)||this.te(y,V)||this.Qt(y,V,fr.newNoDocument(V,e))}d.St&&(t.set(y,d.Ct()),d.xt())}});let o=Kn();this.qt.forEach((d,y)=>{let A=!0;y.forEachWhile(V=>{const H=this.Yt(V);return!H||2===H.purpose||(A=!1,!1)}),A&&(o=o.add(d))}),this.Lt.forEach((d,y)=>y.setReadTime(e));const u=new Kc(e,t,this.Ut,this.Lt,o);return this.Lt=Mo(),this.qt=wf(),this.Ut=new hr(Jt),u}Gt(e,t){if(!this.Wt(e))return;const o=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.Wt(e))return;const u=this.jt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new Wd,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new hr(Jt),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||de("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Wd),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function wf(){return new Rr(Ut.comparator)}function Tf(){return new Rr(Ut.comparator)}const _l={asc:"ASCENDING",desc:"DESCENDING"},dm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hm={and:"AND",or:"OR"};class fm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function cu(i,e){return Xl(i,e.toTimestamp())}function Di(i){return At(!!i),St.fromTimestamp(function(e){const t=J(e);return new jt(t.seconds,t.nanos)}(i))}function ec(i,e){return(t=i,new gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Kd(i){const e=gn.fromString(i);return At(vl(e)),e}function tc(i,e){return ec(i.databaseId,e.path)}function $r(i,e){const t=Kd(e);if(t.get(1)!==i.databaseId.projectId)throw new D(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new D(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ut(If(t))}function Zd(i,e){return ec(i.databaseId,e)}function du(i){return new gn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function If(i){return At(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Df(i,e,t){return{name:tc(i,e),fields:t.value.mapValue.fields}}function $s(i,e){return{documents:[Zd(i,e.path)]}}function Nu(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Zd(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Zd(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(V){if(0!==V.length)return Pf(xr.create(V,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const d=function(V){if(0!==V.length)return V.map(H=>{return{field:Ou((ee=H).field),direction:rc(ee.dir)};var ee})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const y=(H=e.limit,i.useProto3Json||wu(H)?H:{value:H});var H,A,V;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function Sf(i){let e=function nc(i){const e=Kd(i);return 4===e.length?gn.emptyPath():If(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){At(1===o);const ee=t.from[0];ee.allDescendants?u=ee.collectionId:e=e.child(ee.collectionId)}let d=[];t.where&&(d=function(ee){const ve=Qc(ee);return ve instanceof xr&&Kl(ve)?ve.getFilters():[ve]}(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(ee=>{return new Cu(ku((ve=ee).field),function(ze){switch(ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ve.direction));var ve}));let A=null;t.limit&&(A=function(ee){let ve;return ve="object"==typeof ee?ee.value:ee,wu(ve)?null:ve}(t.limit));let V=null;var ee;t.startAt&&(V=new Ko((ee=t.startAt).values||[],!!ee.before));let H=null;return t.endAt&&(H=function(ee){return new Ko(ee.values||[],!ee.before)}(t.endAt)),function Fd(i,e,t,o,u,d,y,A){return new Ya(i,e,t,o,u,d,y,A)}(e,u,y,d,A,"F",V,H)}function Qc(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ku(e.unaryFilter.field);return ar.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=ku(e.unaryFilter.field);return ar.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ku(e.unaryFilter.field);return ar.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ku(e.unaryFilter.field);return ar.create(d,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(i):void 0!==i.fieldFilter?ar.create(ku((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return xr.create(e.compositeFilter.filters.map(t=>Qc(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return It()}}(e.compositeFilter.op))}(i):It();var e}function rc(i){return _l[i]}function ic(i){return dm[i]}function pm(i){return hm[i]}function Ou(i){return{fieldPath:i.canonicalString()}}function ku(i){return xn.fromServerFormat(i.fieldPath)}function Pf(i){return i instanceof ar?function(e){if("=="===e.op){if(_n(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NAN"}};if(ln(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_n(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NOT_NAN"}};if(ln(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(e.field),op:ic(e.op),value:e.value}}}(i):i instanceof xr?function(e){const t=e.getFilters().map(o=>Pf(o));return 1===t.length?t[0]:{compositeFilter:{op:pm(e.op),filters:t}}}(i):It()}function tg(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vl(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Qa{constructor(e,t,o,u,d=St.min(),y=St.min(),A=k.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=A}withSequenceNumber(e){return new Qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class El{constructor(e){this.se=e}}function Tl(i){const e=Sf({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?ul(e,e.limit,"L"):e}class xa{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(be(e.integerValue));else if("doubleValue"in e){const o=be(e.doubleValue);isNaN(o)?this.ae(t,13):(this.ae(t,15),Sa(o)?t.he(0):t.he(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ae(t,20),"string"==typeof o?t.le(o):(t.le(`${o.seconds||""}`),t.he(o.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(pt(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ae(t,45),t.he(o.latitude||0),t.he(o.longitude||0)}else"mapValue"in e?On(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):It()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const o=e.fields||{};this.ae(t,55);for(const u of Object.keys(o))this.fe(u,t),this.ue(o[u],t)}ge(e,t){const o=e.values||[];this.ae(t,50);for(const u of o)this.ue(u,t)}_e(e,t){this.ae(t,37),Ut.fromName(e).path.forEach(o=>{this.ae(t,60),this.ye(o,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}xa.pe=new xa;class nh{constructor(){this.He=new Dl}addToCollectionParentIndex(e,t){return this.He.add(t),Xe.resolve()}getCollectionParents(e,t){return Xe.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return Xe.resolve()}deleteFieldIndex(e,t){return Xe.resolve()}getDocumentsMatchingTarget(e,t){return Xe.resolve(null)}getIndexType(e,t){return Xe.resolve(0)}getFieldIndexes(e,t){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}getMinOffset(e,t){return Xe.resolve(so.min())}getMinOffsetFromCollectionGroup(e,t){return Xe.resolve(so.min())}updateCollectionGroup(e,t,o){return Xe.resolve()}updateIndexEntries(e,t){return Xe.resolve()}}class Dl{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new hr(gn.comparator),d=!u.has(o);return this.index[t]=u.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new hr(gn.comparator)).toArray()}}new Uint8Array(0);class Po{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Po(e,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Po.DEFAULT_COLLECTION_PERCENTILE=10,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Po.DEFAULT=new Po(41943040,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Po.DISABLED=new Po(-1,0,0);class Sl{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Sl(0)}static bn(){return new Sl(-1)}}class ig{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Xe.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ym{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ag{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&Jl(o.mutation,u,w.empty(),jt.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Kn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Kn()){const u=sa();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(d=>{let y=Yl();return d.forEach((A,V)=>{y=y.insert(A,V.overlayedDocument)}),y}))}getOverlayedDocuments(e,t){const o=sa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Kn()))}populateOverlays(e,t,o){const u=[];return o.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((y,A)=>{t.set(y,A)})})}computeViews(e,t,o,u){let d=Mo();const y=dl(),A=dl();return t.forEach((V,H)=>{const ee=o.get(H.key);u.has(H.key)&&(void 0===ee||ee.mutation instanceof Ta)?d=d.insert(H.key,H):void 0!==ee?(y.set(H.key,ee.mutation.getFieldMask()),Jl(ee.mutation,H,ee.mutation.getFieldMask(),jt.now())):y.set(H.key,w.empty())}),this.recalculateAndSaveOverlays(e,d).next(V=>(V.forEach((H,ee)=>y.set(H,ee)),t.forEach((H,ee)=>{var ve;return A.set(H,new ym(ee,null!==(ve=y.get(H))&&void 0!==ve?ve:null))}),A))}recalculateAndSaveOverlays(e,t){const o=dl();let u=new Rr((y,A)=>y-A),d=Kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(y=>{for(const A of y)A.keys().forEach(V=>{const H=t.get(V);if(null===H)return;let ee=o.get(V)||w.empty();ee=A.applyToLocalView(H,ee),o.set(V,ee);const ve=(u.get(A.batchId)||Kn()).add(V);u=u.insert(A.batchId,ve)})}).next(()=>{const y=[],A=u.getReverseIterator();for(;A.hasNext();){const V=A.getNext(),H=V.key,ee=V.value,ve=zc();ee.forEach(ze=>{if(!d.has(ze)){const wt=df(t.get(ze),o.get(ze));null!==wt&&ve.set(ze,wt),d=d.add(ze)}}),y.push(this.documentOverlayCache.saveOverlays(e,H,ve))}return Xe.waitFor(y)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Ut.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Ys(i){return null!==i.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(d=>{const y=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-d.size):Xe.resolve(sa());let A=-1,V=d;return y.next(H=>Xe.forEach(H,(ee,ve)=>(A<ve.largestBatchId&&(A=ve.largestBatchId),d.get(ee)?Xe.resolve():this.remoteDocumentCache.getEntry(e,ee).next(ze=>{V=V.insert(ee,ze)}))).next(()=>this.populateOverlays(e,H,d)).next(()=>this.computeViews(e,V,H,Kn())).next(ee=>({batchId:A,changes:af(ee)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ut(t)).next(o=>{let u=Yl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,u).next(y=>Xe.forEach(y,A=>{const V=(H=t,ee=A.child(u),new Ya(ee,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,ee;return this.getDocumentsMatchingCollectionQuery(e,V,o).next(H=>{H.forEach((ee,ve)=>{d=d.insert(ee,ve)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,u))).next(d=>{u.forEach((A,V)=>{const H=V.getKey();null===d.get(H)&&(d=d.insert(H,fr.newInvalidDocument(H)))});let y=Yl();return d.forEach((A,V)=>{const H=u.get(A);void 0!==H&&Jl(H.mutation,V,w.empty(),jt.now()),ll(t,V)&&(y=y.insert(A,V))}),y})}}class _m{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Xe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Di(o.createTime)}),Xe.resolve()}getNamedQuery(e,t){return Xe.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(o=t).name,query:Tl(o.bundledQuery),readTime:Di(o.readTime)}),Xe.resolve();var o}}class vm{constructor(){this.overlays=new Rr(Ut.comparator),this.ts=new Map}getOverlay(e,t){return Xe.resolve(this.overlays.get(t))}getOverlays(e,t){const o=sa();return Xe.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,d)=>{this.re(e,t,d)}),Xe.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.ts.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.ts.delete(o)),Xe.resolve()}getOverlaysForCollection(e,t,o){const u=sa(),d=t.length+1,y=new Ut(t.child("")),A=this.overlays.getIteratorFrom(y);for(;A.hasNext();){const V=A.getNext().value,H=V.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===d&&V.largestBatchId>o&&u.set(V.getKey(),V)}return Xe.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let d=new Rr((H,ee)=>H-ee);const y=this.overlays.getIterator();for(;y.hasNext();){const H=y.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>o){let ee=d.get(H.largestBatchId);null===ee&&(ee=sa(),d=d.insert(H.largestBatchId,ee)),ee.set(H.getKey(),H)}}const A=sa(),V=d.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((H,ee)=>A.set(H,ee)),!(A.size()>=u)););return Xe.resolve(A)}re(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const y=this.ts.get(u.largestBatchId).delete(o.key);this.ts.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(o.key,new mf(t,o));let d=this.ts.get(t);void 0===d&&(d=Kn(),this.ts.set(t,d)),this.ts.set(t,d.add(o.key))}}class Qo{constructor(){this.es=new hr(gi.ns),this.ss=new hr(gi.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const o=new gi(e,t);this.es=this.es.add(o),this.ss=this.ss.add(o)}os(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.us(new gi(e,t))}cs(e,t){e.forEach(o=>this.removeReference(o,t))}hs(e){const t=new Ut(new gn([])),o=new gi(t,e),u=new gi(t,e+1),d=[];return this.ss.forEachInRange([o,u],y=>{this.us(y),d.push(y.key)}),d}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Ut(new gn([])),o=new gi(t,e),u=new gi(t,e+1);let d=Kn();return this.ss.forEachInRange([o,u],y=>{d=d.add(y.key)}),d}containsKey(e){const t=new gi(e,0),o=this.es.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class gi{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Ut.comparator(e.key,t.key)||Jt(e.ds,t.ds)}static rs(e,t){return Jt(e.ds,t.ds)||Ut.comparator(e.key,t.key)}}class Vf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new hr(gi.ns)}checkEmpty(e){return Xe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const d=this.ws;this.ws++;const y=new gf(d,t,o,u);this.mutationQueue.push(y);for(const A of u)this._s=this._s.add(new gi(A.key,d)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Xe.resolve(y)}lookupMutationBatch(e,t){return Xe.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ys(t+1),d=u<0?0:u;return Xe.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new gi(t,0),u=new gi(t,Number.POSITIVE_INFINITY),d=[];return this._s.forEachInRange([o,u],y=>{const A=this.gs(y.ds);d.push(A)}),Xe.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new hr(Jt);return t.forEach(u=>{const d=new gi(u,0),y=new gi(u,Number.POSITIVE_INFINITY);this._s.forEachInRange([d,y],A=>{o=o.add(A.ds)})}),Xe.resolve(this.ps(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let d=o;Ut.isDocumentKey(d)||(d=d.child(""));const y=new gi(new Ut(d),0);let A=new hr(Jt);return this._s.forEachWhile(V=>{const H=V.key.path;return!!o.isPrefixOf(H)&&(H.length===u&&(A=A.add(V.ds)),!0)},y),Xe.resolve(this.ps(A))}ps(e){const t=[];return e.forEach(o=>{const u=this.gs(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){At(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let o=this._s;return Xe.forEach(t.mutations,u=>{const d=new gi(u.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this._s=o})}En(e){}containsKey(e,t){const o=new gi(t,0),u=this._s.firstAfterOrEqual(o);return Xe.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Xe.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ug{constructor(e){this.Ts=e,this.docs=new Rr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),d=u?u.size:0,y=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:y}),this.size+=y-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Xe.resolve(o?o.document.mutableCopy():fr.newInvalidDocument(t))}getEntries(e,t){let o=Mo();return t.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():fr.newInvalidDocument(u))}),Xe.resolve(o)}getDocumentsMatchingQuery(e,t,o,u){let d=Mo();const y=t.path,A=new Ut(y.child("")),V=this.docs.getIteratorFrom(A);for(;V.hasNext();){const{key:H,value:{document:ee}}=V.getNext();if(!y.isPrefixOf(H.path))break;H.path.length>y.length+1||ja(fa(ee),o)<=0||(u.has(ee.key)||ll(t,ee))&&(d=d.insert(ee.key,ee.mutableCopy()))}return Xe.resolve(d)}getAllFromCollectionGroup(e,t,o,u){It()}Es(e,t){return Xe.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Uf(this)}getSize(e){return Xe.resolve(this.size)}}class Uf extends ig{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Jn.addEntry(e,u)):this.Jn.removeEntry(o)}),Xe.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class Em{constructor(e){this.persistence=e,this.As=new wa(t=>ou(t),Za),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Qo,this.targetCount=0,this.bs=Sl.vn()}forEachTarget(e,t){return this.As.forEach((o,u)=>t(u)),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Rs&&(this.Rs=t),Xe.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Sl(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,Xe.resolve()}updateTargetData(e,t){return this.Sn(t),Xe.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,t,o){let u=0;const d=[];return this.As.forEach((y,A)=>{A.sequenceNumber<=t&&null===o.get(A.targetId)&&(this.As.delete(y),d.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),Xe.waitFor(d).next(()=>u)}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,t){const o=this.As.get(t)||null;return Xe.resolve(o)}addMatchingKeys(e,t,o){return this.vs.os(t,o),Xe.resolve()}removeMatchingKeys(e,t,o){this.vs.cs(t,o);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(y=>{d.push(u.markPotentiallyOrphaned(e,y))}),Xe.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),Xe.resolve()}getMatchingKeysForTargetId(e,t){const o=this.vs.fs(t);return Xe.resolve(o)}containsKey(e,t){return Xe.resolve(this.vs.containsKey(t))}}class Bf{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Ni(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new Em(this),this.indexManager=new nh,this.remoteDocumentCache=new ug(o=>this.referenceDelegate.Cs(o)),this.serializer=new El(t),this.xs=new _m(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ps[e.toKey()];return o||(o=new Vf(t,this.referenceDelegate),this.Ps[e.toKey()]=o),o}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,o){de("MemoryPersistence","Starting transaction:",e);const u=new lg(this.Vs.next());return this.referenceDelegate.Ns(),o(u).next(d=>this.referenceDelegate.ks(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Os(e,t){return Xe.or(Object.values(this.Ps).map(o=>()=>o.containsKey(e,t)))}}class lg extends Hl{constructor(e){super(),this.currentSequenceNumber=e}}class Ml{constructor(e){this.persistence=e,this.$s=new Qo,this.Ms=null}static Fs(e){return new Ml(e)}get Bs(){if(this.Ms)return this.Ms;throw It()}addReference(e,t,o){return this.$s.addReference(o,t),this.Bs.delete(o.toString()),Xe.resolve()}removeReference(e,t,o){return this.$s.removeReference(o,t),this.Bs.add(o.toString()),Xe.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),Xe.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(u=>this.Bs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Bs.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.Bs,o=>{const u=Ut.fromPath(o);return this.Ls(e,u).next(d=>{d||t.removeEntry(u,St.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(o=>{o?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return Xe.or([()=>Xe.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class mc{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Vi=o,this.Si=u}static Di(e,t){let o=Kn(),u=Kn();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new mc(e,t.fromCache,o,u)}}class jf{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,o,u){return this.Ni(e,t).next(d=>d||this.ki(e,t,u,o)).next(d=>d||this.Oi(e,t))}Ni(e,t){if(jc(t))return Xe.resolve(null);let o=Qs(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=ul(t,null,"F"),o=Qs(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const y=Kn(...d);return this.xi.getDocuments(e,y).next(A=>this.indexManager.getMinOffset(e,o).next(V=>{const H=this.$i(t,A);return this.Mi(t,H,y,V.readTime)?this.Ni(e,ul(t,null,"F")):this.Fi(e,H,t,V)}))})))}ki(e,t,o,u){return jc(t)||u.isEqual(St.min())?this.Oi(e,t):this.xi.getDocuments(e,o).next(d=>{const y=this.$i(t,d);return this.Mi(t,y,o,u)?this.Oi(e,t):(ye()<=Se.in.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ld(t)),this.Fi(e,y,t,function Lo(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=St.fromTimestamp(1e9===o?new jt(t+1,0):new jt(t,o));return new so(u,Ut.empty(),e)}(u,-1)))})}$i(e,t){let o=new hr(Gp(e));return t.forEach((u,d)=>{ll(e,d)&&(o=o.add(d))}),o}Mi(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Oi(e,t){return ye()<=Se.in.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ld(t)),this.xi.getDocumentsMatchingQuery(e,t,so.min())}Fi(e,t,o,u){return this.xi.getDocumentsMatchingQuery(e,o,u).next(d=>(t.forEach(y=>{d=d.insert(y.key,y)}),d))}}class wm{constructor(e,t,o,u){this.persistence=e,this.Bi=t,this.serializer=u,this.Li=new Rr(Jt),this.qi=new wa(d=>ou(d),Za),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(o)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ag(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function Hf(i,e){return zu.apply(this,arguments)}function zu(){return zu=(0,p.Z)(function*(i,e){const t=at(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,t.Gi(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const y=[],A=[];let V=Kn();for(const H of u){y.push(H.batchId);for(const ee of H.mutations)V=V.add(ee.key)}for(const H of d){A.push(H.batchId);for(const ee of H.mutations)V=V.add(ee.key)}return t.localDocuments.getDocuments(o,V).next(H=>({Qi:H,removedBatchIds:y,addedBatchIds:A}))})})}),zu.apply(this,arguments)}function zf(i){const e=at(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function qf(i,e){const t=at(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Wu(i,e,t){return ch.apply(this,arguments)}function ch(){return ch=(0,p.Z)(function*(i,e,t){const o=at(i),u=o.Li.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,y=>o.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!Uo(y))throw y;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.Li=o.Li.remove(e),o.qi.delete(u.target)}),ch.apply(this,arguments)}function ud(i,e,t){const o=at(i);let u=St.min(),d=Kn();return o.persistence.runTransaction("Execute query","readonly",y=>function(A,V,H){const ee=at(A),ve=ee.qi.get(H);return void 0!==ve?Xe.resolve(ee.Li.get(ve)):ee.Ds.getTargetData(V,H)}(o,y,Qs(e)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,o.Ds.getMatchingKeysForTargetId(y,A.targetId).next(V=>{d=V})}).next(()=>o.Bi.getDocumentsMatchingQuery(y,e,t?u:St.min(),t?d:Kn())).next(A=>(function Wf(i,e,t){let o=i.Ui.get(e)||St.min();t.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ui.set(e,o)}(o,function sf(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),A),{documents:A,Wi:d})))}class Qf{constructor(){this.activeTargetIds=au()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pg{constructor(){this.Br=new Qf,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,o){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Qf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jf{qr(e){}shutdown(){}}class bm{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ph=null;function gu(){return null===ph?ph=268435456+Math.round(2147483648*Math.random()):ph++,"0x"+ph.toString(16)}const Cm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gg{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const Js="WebChannelConnection";class Am extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,o,u,d){const y=gu(),A=this.ao(e,t);de("RestConnection",`Sending RPC '${e}' ${y}:`,A,o);const V={};return this.ho(V,u,d),this.lo(e,A,V,o).then(H=>(de("RestConnection",`Received RPC '${e}' ${y}: `,H),H),H=>{throw Pt("RestConnection",`RPC '${e}' ${y} failed with error: `,H,"url: ",A,"request:",o),H})}fo(e,t,o,u,d,y){return this.co(e,t,o,u,d)}ho(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+q,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ao(e,t){return`${this.ro}/v1/${t}:${Cm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,o,u){const d=gu();return new Promise((y,A)=>{const V=new E;V.setWithCredentials(!0),V.listenOnce(na.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case da.NO_ERROR:const ee=V.getResponseJson();de(Js,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(ee)),y(ee);break;case da.TIMEOUT:de(Js,`RPC '${e}' ${d} timed out`),A(new D(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case da.HTTP_ERROR:const ve=V.getStatus();if(de(Js,`RPC '${e}' ${d} failed with status:`,ve,"response text:",V.getResponseText()),ve>0){let ze=V.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const wt=ze?.error;if(wt&&wt.status&&wt.message){const Bt=function(cn){const bn=cn.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(bn)>=0?bn:Ue.UNKNOWN}(wt.status);A(new D(Bt,wt.message))}else A(new D(Ue.UNKNOWN,"Server responded with status "+V.getStatus()))}else A(new D(Ue.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{de(Js,`RPC '${e}' ${d} completed.`)}});const H=JSON.stringify(u);de(Js,`RPC '${e}' ${d} sending request:`,u),V.send(t,"POST",H,o,15)})}wo(e,t,o){const u=gu(),d=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=ta(),A=Ls(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(V.xmlHttpFactory=new ha({})),this.ho(V.initMessageHeaders,t,o),V.encodeInitMessageHeaders=!0;const H=d.join("");de(Js,`Creating RPC '${e}' stream ${u}: ${H}`,V);const ee=y.createWebChannel(H,V);let ve=!1,ze=!1;const wt=new gg({Wr:cn=>{ze?de(Js,`Not sending because RPC '${e}' stream ${u} is closed:`,cn):(ve||(de(Js,`Opening RPC '${e}' stream ${u} transport.`),ee.open(),ve=!0),de(Js,`RPC '${e}' stream ${u} sending:`,cn),ee.send(cn))},Hr:()=>ee.close()}),Bt=(cn,bn,Yr)=>{cn.listen(bn,cs=>{try{Yr(cs)}catch(Sr){setTimeout(()=>{throw Sr},0)}})};return Bt(ee,G.EventType.OPEN,()=>{ze||de(Js,`RPC '${e}' stream ${u} transport opened.`)}),Bt(ee,G.EventType.CLOSE,()=>{ze||(ze=!0,de(Js,`RPC '${e}' stream ${u} transport closed`),wt.so())}),Bt(ee,G.EventType.ERROR,cn=>{ze||(ze=!0,Pt(Js,`RPC '${e}' stream ${u} transport errored:`,cn),wt.so(new D(Ue.UNAVAILABLE,"The operation could not be completed")))}),Bt(ee,G.EventType.MESSAGE,cn=>{var bn;if(!ze){const Yr=cn.data[0];At(!!Yr);const Sr=Yr.error||(null===(bn=Yr[0])||void 0===bn?void 0:bn.error);if(Sr){de(Js,`RPC '${e}' stream ${u} received error:`,Sr);const xo=Sr.status;let Gs=function(la){const $a=ns[la];if(void 0!==$a)return Jp($a)}(xo),rs=Sr.message;void 0===Gs&&(Gs=Ue.INTERNAL,rs="Unknown error status: "+xo+" with message "+Sr.message),ze=!0,wt.so(new D(Gs,rs)),ee.close()}else de(Js,`RPC '${e}' stream ${u} received:`,Yr),wt.io(Yr)}}),Bt(A,Ca.STAT_EVENT,cn=>{cn.stat===Wo.PROXY?de(Js,`RPC '${e}' stream ${u} detected buffering proxy`):cn.stat===Wo.NOPROXY&&de(Js,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{wt.no()},0),wt}}function gh(){return typeof document<"u"?document:null}function ld(i){return new fm(i,!0)}class ep{constructor(e,t,o=1e3,u=1.5,d=6e4){this.Ws=e,this.timerId=t,this._o=o,this.mo=u,this.yo=d,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),u=Math.max(0,t-o);u>0&&de("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class mg{constructor(e,t,o,u,d,y,A,V){this.Ws=e,this.bo=o,this.Po=u,this.connection=d,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=A,this.listener=V,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new ep(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,p.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,p.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var o=this;return(0,p.Z)(function*(){o.Bo(),o.Lo(),o.Co.cancel(),o.Vo++,4!==e?o.Co.reset():t&&t.code===Ue.RESOURCE_EXHAUSTED?(Je(t.toString()),Je("Using maximum backoff delay to prevent overloading the backend."),o.Co.Eo()):t&&t.code===Ue.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Vo===t&&this.Ko(o,u)},o=>{e(()=>{const u=new D(Ue.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Go(u)})})}Ko(e,t){const o=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{o(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(u=>{o(()=>this.Go(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}ko(){var e=this;this.state=5,this.Co.Ao((0,p.Z)(function*(){e.state=0,e.start()}))}Go(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sm extends mg{constructor(e,t,o,u,d,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,y),this.serializer=d}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function Yc(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:It(),u=e.targetChange.targetIds||[],d=function(V,H){return V.useProto3Json?(At(void 0===H||"string"==typeof H),k.fromBase64String(H||"")):(At(void 0===H||H instanceof Uint8Array),k.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,A=y&&function(V){const H=void 0===V.code?Ue.UNKNOWN:Jp(V.code);return new D(H,V.message||"")}(y);t=new Zc(o,u,d,A||null)}else if("documentChange"in e){const o=e.documentChange,u=$r(i,o.document.name),d=Di(o.document.updateTime),y=o.document.createTime?Di(o.document.createTime):St.min(),A=new Hi({mapValue:{fields:o.document.fields}}),V=fr.newFoundDocument(u,d,y,A);t=new qd(o.targetIds||[],o.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const o=e.documentDelete,u=$r(i,o.document),d=o.readTime?Di(o.readTime):St.min(),y=fr.newNoDocument(u,d);t=new qd([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,u=$r(i,o.document);t=new qd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return It();{const o=e.filter,d=new Qp(o.count||0);t=new Ef(o.targetId,d)}}var V;return t}(this.serializer,e),o=function(u){if(!("targetChange"in u))return St.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Di(d.readTime):St.min()}(e);return this.listener.zo(t,o)}jo(e){const t={};t.database=du(this.serializer),t.addTarget=function(u,d){let y;const A=d.target;return y=Bc(A)?{documents:$s(u,A)}:{query:Nu(u,A)},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?y.resumeToken=eg(u,d.resumeToken):d.snapshotVersion.compareTo(St.min())>0&&(y.readTime=Xl(u,d.snapshotVersion.toTimestamp())),y}(this.serializer,e);const o=function Mf(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return It()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=du(this.serializer),t.removeTarget=e,this.Fo(t)}}class yg extends mg{constructor(e,t,o,u,d,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,y),this.serializer=d,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function Af(i,e){return i&&i.length>0?(At(void 0!==e),i.map(t=>function(o,u){let d=Di(o.updateTime?o.updateTime:u);return d.isEqual(St.min())&&(d=Di(u)),new lm(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Di(e.commitTime);return this.listener.Zo(o,t)}return At(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=du(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function Zo(i,e){let t;if(e instanceof lu)t={update:Df(i,e.key,e.value)};else if(e instanceof Ru)t={delete:tc(i,e.key)};else if(e instanceof Ta)t={update:Df(i,e.key,e.data),updateMask:tg(e.fieldMask)};else{if(!(e instanceof gl))return It();t={verify:tc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const y=d.transform;if(y instanceof uu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Mu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof hl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof fl)return{fieldPath:d.field.canonicalString(),increment:y._t};throw It()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:cu(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:It()),t;var u}(this.serializer,o))};this.Fo(t)}}class Mm extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=u,this.eu=!1}nu(){if(this.eu)throw new D(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.co(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new D(Ue.UNKNOWN,u.toString())})}fo(e,t,o,u){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,y])=>this.connection.fo(e,t,o,d,y,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new D(Ue.UNKNOWN,d.toString())})}terminate(){this.eu=!0}}class np{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Je(t),this.ru=!1):de("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class Py{constructor(e,t,o,u,d){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=d,this._u.qr(A=>{o.enqueueAndForget((0,p.Z)(function*(){var V;aa(y)&&(de("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,p.Z)(function*(H){const ee=at(H);ee.du.add(4),yield cd(ee),ee.mu.set("Unknown"),ee.du.delete(4),yield xl(ee)}),function(H){return V.apply(this,arguments)})(y))}))}),this.mu=new np(o,u)}}function xl(i){return rp.apply(this,arguments)}function rp(){return rp=(0,p.Z)(function*(i){if(aa(i))for(const e of i.wu)yield e(!0)}),rp.apply(this,arguments)}function cd(i){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,p.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Zu.apply(this,arguments)}function dd(i,e){const t=at(i);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),_c(t)?ip(t):Yu(t).No()&&yh(t,e))}function hd(i,e){const t=at(i),o=Yu(t);t.fu.delete(e),o.No()&&_g(t,e),0===t.fu.size&&(o.No()?o.$o():aa(t)&&t.mu.set("Unknown"))}function yh(i,e){i.gu.Ot(e.targetId),Yu(i).jo(e)}function _g(i,e){i.gu.Ot(e),Yu(i).Wo(e)}function ip(i){i.gu=new Xp({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.fu.get(e)||null}),Yu(i).start(),i.mu.ou()}function _c(i){return aa(i)&&!Yu(i).xo()&&i.fu.size>0}function aa(i){return 0===at(i).du.size}function fd(i){i.gu=void 0}function pd(i){return gd.apply(this,arguments)}function gd(){return gd=(0,p.Z)(function*(i){i.fu.forEach((e,t)=>{yh(i,e)})}),gd.apply(this,arguments)}function _h(i,e){return vh.apply(this,arguments)}function vh(){return vh=(0,p.Z)(function*(i,e){fd(i),_c(i)?(i.mu.au(e),ip(i)):i.mu.set("Unknown")}),vh.apply(this,arguments)}function sp(i,e,t){return md.apply(this,arguments)}function md(){return md=(0,p.Z)(function*(i,e,t){if(i.mu.set("Online"),e instanceof Zc&&2===e.state&&e.cause)try{yield(o=(0,p.Z)(function*(u,d){const y=d.cause;for(const A of d.targetIds)u.fu.has(A)&&(yield u.remoteSyncer.rejectListen(A,y),u.fu.delete(A),u.gu.removeTarget(A))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield vc(i,o)}else if(e instanceof qd?i.gu.Kt(e):e instanceof Ef?i.gu.Jt(e):i.gu.zt(e),!t.isEqual(St.min()))try{const o=yield zf(i.localStore);t.compareTo(o)>=0&&(yield function(u,d){const y=u.gu.Xt(d);return y.targetChanges.forEach((A,V)=>{if(A.resumeToken.approximateByteSize()>0){const H=u.fu.get(V);H&&u.fu.set(V,H.withResumeToken(A.resumeToken,d))}}),y.targetMismatches.forEach(A=>{const V=u.fu.get(A);if(!V)return;u.fu.set(A,V.withResumeToken(k.EMPTY_BYTE_STRING,V.snapshotVersion)),_g(u,A);const H=new Qa(V.target,A,1,V.sequenceNumber);yh(u,H)}),u.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(o){de("RemoteStore","Failed to raise snapshot:",o),yield vc(i,o)}var o}),md.apply(this,arguments)}function vc(i,e,t){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,p.Z)(function*(i,e,t){if(!Uo(e))throw e;i.du.add(1),yield cd(i),i.mu.set("Offline"),t||(t=()=>zf(i.localStore)),i.asyncQueue.enqueueRetryable((0,p.Z)(function*(){de("RemoteStore","Retrying IndexedDB access"),yield t(),i.du.delete(1),yield xl(i)}))}),Eh.apply(this,arguments)}function wh(i,e){return e().catch(t=>vc(i,t,e))}function m(i){return c.apply(this,arguments)}function c(){return c=(0,p.Z)(function*(i){const e=at(i),t=Fa(e);let o=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;f(e);)try{const u=yield qf(e.localStore,o);if(null===u){0===e.lu.length&&t.$o();break}o=u.batchId,I(e,u)}catch(u){yield vc(e,u)}B(e)&&Y(e)}),c.apply(this,arguments)}function f(i){return aa(i)&&i.lu.length<10}function I(i,e){i.lu.push(e);const t=Fa(i);t.No()&&t.Jo&&t.Yo(e.mutations)}function B(i){return aa(i)&&!Fa(i).xo()&&i.lu.length>0}function Y(i){Fa(i).start()}function Ce(i){return $e.apply(this,arguments)}function $e(){return $e=(0,p.Z)(function*(i){Fa(i).tu()}),$e.apply(this,arguments)}function Et(i){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,p.Z)(function*(i){const e=Fa(i);for(const t of i.lu)e.Yo(t.mutations)}),Zt.apply(this,arguments)}function pn(i,e,t){return Mn.apply(this,arguments)}function Mn(){return Mn=(0,p.Z)(function*(i,e,t){const o=i.lu.shift(),u=zd.from(o,e,t);yield wh(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield m(i)}),Mn.apply(this,arguments)}function Ro(i,e){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,p.Z)(function*(i,e){var t;e&&Fa(i).Jo&&(yield(t=(0,p.Z)(function*(o,u){if(function ml(i){switch(i){default:return It();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}(d=u.code)&&d!==Ue.ABORTED){const y=o.lu.shift();Fa(o).Oo(),yield wh(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,u)),yield m(o)}var d}),function(o,u){return t.apply(this,arguments)})(i,e)),B(i)&&Y(i)}),Ia.apply(this,arguments)}function Ec(i,e){return yd.apply(this,arguments)}function yd(){return yd=(0,p.Z)(function*(i,e){const t=at(i);t.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const o=aa(t);t.du.add(3),yield cd(t),o&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield xl(t)}),yd.apply(this,arguments)}function Tc(){return Tc=(0,p.Z)(function*(i,e){const t=at(i);e?(t.du.delete(2),yield xl(t)):e||(t.du.add(2),yield cd(t),t.mu.set("Unknown"))}),Tc.apply(this,arguments)}function Yu(i){return i.yu||(i.yu=function(e,t,o){const u=at(e);return u.nu(),new Sm(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Jr:pd.bind(null,i),Zr:_h.bind(null,i),zo:sp.bind(null,i)}),i.wu.push(function(){var e=(0,p.Z)(function*(t){t?(i.yu.Oo(),_c(i)?ip(i):i.mu.set("Unknown")):(yield i.yu.stop(),fd(i))});return function(t){return e.apply(this,arguments)}}())),i.yu}function Fa(i){return i.pu||(i.pu=function(e,t,o){const u=at(e);return u.nu(),new yg(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Jr:Ce.bind(null,i),Zr:Ro.bind(null,i),Xo:Et.bind(null,i),Zo:pn.bind(null,i)}),i.wu.push(function(){var e=(0,p.Z)(function*(t){t?(i.pu.Oo(),yield m(i)):(yield i.pu.stop(),i.lu.length>0&&(de("RemoteStore",`Stopping write stream with ${i.lu.length} pending writes`),i.lu=[]))});return function(t){return e.apply(this,arguments)}}())),i.pu}class Nl{constructor(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new U,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,o,u,d){const y=Date.now()+o,A=new Nl(e,t,y,u,d);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qu(i,e){if(Je("AsyncQueue",`${e}: ${i}`),Uo(i))return new D(Ue.UNAVAILABLE,`${e}: ${i}`);throw i}class mu{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Ut.comparator(t.key,o.key):(t,o)=>Ut.comparator(t.key,o.key),this.keyedMap=Yl(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new mu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new mu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Th{constructor(){this.Iu=new Rr(Ut.comparator)}track(e){const t=e.doc.key,o=this.Iu.get(t);o?0!==e.type&&3===o.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==o.type?this.Iu=this.Iu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Iu=this.Iu.remove(t):1===e.type&&2===o.type?this.Iu=this.Iu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):It():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ol{constructor(e,t,o,u,d,y,A,V,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=y,this.syncStateChanged=A,this.excludesMetadataChanges=V,this.hasCachedResults=H}static fromInitialDocuments(e,t,o,u,d){const y=[];return t.forEach(A=>{y.push({type:0,doc:A})}),new Ol(e,t,mu.emptySet(t),y,o,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Ih{constructor(){this.Eu=void 0,this.listeners=[]}}class La{constructor(){this.queries=new wa(e=>rf(e),Zl),this.onlineState="Unknown",this.Au=new Set}}function vg(){return vg=(0,p.Z)(function*(i,e){const t=at(i),o=e.query;let u=!1,d=t.queries.get(o);if(d||(u=!0,d=new Ih),u)try{d.Eu=yield t.onListen(o)}catch(y){const A=Qu(y,`Initialization of query '${Ld(e.query)}' failed`);return void e.onError(A)}t.queries.set(o,d),d.listeners.push(e),e.Ru(t.onlineState),d.Eu&&e.vu(d.Eu)&&wg(t)}),vg.apply(this,arguments)}function op(){return op=(0,p.Z)(function*(i,e){const t=at(i),o=e.query;let u=!1;const d=t.queries.get(o);if(d){const y=d.listeners.indexOf(e);y>=0&&(d.listeners.splice(y,1),u=0===d.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),op.apply(this,arguments)}function Ry(i,e){const t=at(i);let o=!1;for(const u of e){const y=t.queries.get(u.query);if(y){for(const A of y.listeners)A.vu(u)&&(o=!0);y.Eu=u}}o&&wg(t)}function xy(i,e,t){const o=at(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);o.queries.delete(e)}function wg(i){i.Au.forEach(e=>{e.next()})}class bh{constructor(e,t,o){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ol(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class Ah{constructor(e){this.key=e}}class Oy{constructor(e){this.key=e}}class up{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Kn(),this.mutatedKeys=Kn(),this.Ku=Gp(e),this.Gu=new mu(this.Ku)}get Qu(){return this.Lu}zu(e,t){const o=t?t.ju:new Th,u=t?t.Gu:this.Gu;let d=t?t.mutatedKeys:this.mutatedKeys,y=u,A=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ee,ve)=>{const ze=u.get(ee),wt=ll(this.query,ve)?ve:null,Bt=!!ze&&this.mutatedKeys.has(ze.key),cn=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let bn=!1;ze&&wt?ze.data.isEqual(wt.data)?Bt!==cn&&(o.track({type:3,doc:wt}),bn=!0):this.Wu(ze,wt)||(o.track({type:2,doc:wt}),bn=!0,(V&&this.Ku(wt,V)>0||H&&this.Ku(wt,H)<0)&&(A=!0)):!ze&&wt?(o.track({type:0,doc:wt}),bn=!0):ze&&!wt&&(o.track({type:1,doc:ze}),bn=!0,(V||H)&&(A=!0)),bn&&(wt?(y=y.add(wt),d=cn?d.add(ee):d.delete(ee)):(y=y.delete(ee),d=d.delete(ee)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const ee="F"===this.query.limitType?y.last():y.first();y=y.delete(ee.key),d=d.delete(ee.key),o.track({type:1,doc:ee})}return{Gu:y,ju:o,Mi:A,mutatedKeys:d}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const d=e.ju.Tu();d.sort((H,ee)=>function(ve,ze){const wt=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return wt(ve)-wt(ze)}(H.type,ee.type)||this.Ku(H.doc,ee.doc)),this.Hu(o);const y=t?this.Ju():[],A=0===this.Uu.size&&this.current?1:0,V=A!==this.qu;return this.qu=A,0!==d.length||V?{snapshot:new Ol(this.query,e.Gu,u,d,e.mutatedKeys,0===A,V,!1,!!o&&o.resumeToken.approximateByteSize()>0),Yu:y}:{Yu:y}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Th,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Kn(),this.Gu.forEach(o=>{this.Zu(o.key)&&(this.Uu=this.Uu.add(o.key))});const t=[];return e.forEach(o=>{this.Uu.has(o)||t.push(new Oy(o))}),this.Uu.forEach(o=>{e.has(o)||t.push(new Ah(o))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Kn();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return Ol.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Q_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Rm{constructor(e){this.key=e,this.ec=!1}}class xm{constructor(e,t,o,u,d,y){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=y,this.nc={},this.sc=new wa(A=>rf(A),Zl),this.ic=new Map,this.rc=new Set,this.oc=new Rr(Ut.comparator),this.uc=new Map,this.cc=new Qo,this.ac={},this.hc=new Map,this.lc=Sl.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Nm(i,e){return lp.apply(this,arguments)}function lp(){return lp=(0,p.Z)(function*(i,e){const t=function Xu(i){const e=at(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ig.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$y.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ky.bind(null,e),e.nc.zo=Ry.bind(null,e.eventManager),e.nc.wc=xy.bind(null,e.eventManager),e}(i);let o,u;const d=t.sc.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),u=d.view.tc();else{const y=yield function qu(i,e){const t=at(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Ds.getTargetData(o,e).next(d=>d?(u=d,Xe.resolve(u)):t.Ds.allocateTargetId(o).next(y=>(u=new Qa(e,y,0,o.currentSequenceNumber),t.Ds.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Li.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Li=t.Li.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}(t.localStore,Qs(e));t.isPrimaryClient&&dd(t.remoteStore,y);const A=t.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,u=yield function Sh(i,e,t,o,u){return Xa.apply(this,arguments)}(t,e,o,"current"===A,y.resumeToken)}return u}),lp.apply(this,arguments)}function Xa(){return Xa=(0,p.Z)(function*(i,e,t,o,u){i.dc=(ve,ze,wt)=>{return(Bt=(0,p.Z)(function*(cn,bn,Yr,cs){let Sr=bn.view.zu(Yr);Sr.Mi&&(Sr=yield ud(cn.localStore,bn.query,!1).then(({documents:rs})=>bn.view.zu(rs,Sr)));const xo=cs&&cs.targetChanges.get(bn.targetId),Gs=bn.view.applyChanges(Sr,cn.isPrimaryClient,xo);return Ph(cn,bn.targetId,Gs.Yu),Gs.snapshot}),function(cn,bn,Yr,cs){return Bt.apply(this,arguments)})(i,ve,ze,wt);var Bt};const d=yield ud(i.localStore,e,!0),y=new up(e,d.Wi),A=y.zu(d.documents),V=yl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),H=y.applyChanges(A,i.isPrimaryClient,V);Ph(i,t,H.Yu);const ee=new Q_(e,t,y);return i.sc.set(e,ee),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),H.snapshot}),Xa.apply(this,arguments)}function cp(i,e){return _d.apply(this,arguments)}function _d(){return _d=(0,p.Z)(function*(i,e){const t=at(i),o=t.sc.get(e),u=t.ic.get(o.targetId);if(u.length>1)return t.ic.set(o.targetId,u.filter(d=>!Zl(d,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Wu(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),hd(t.remoteStore,o.targetId),vd(t,o.targetId)}).catch(Yn))):(vd(t,o.targetId),yield Wu(t.localStore,o.targetId,!0))}),_d.apply(this,arguments)}function Tg(){return Tg=(0,p.Z)(function*(i,e,t){const o=function Ed(i){const e=at(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ly.bind(null,e),e}(i);try{const u=yield function(d,y){const A=at(d),V=jt.now(),H=y.reduce((ze,wt)=>ze.add(wt.key),Kn());let ee,ve;return A.persistence.runTransaction("Locally write mutations","readwrite",ze=>{let wt=Mo(),Bt=Kn();return A.Ki.getEntries(ze,H).next(cn=>{wt=cn,wt.forEach((bn,Yr)=>{Yr.isValidDocument()||(Bt=Bt.add(bn))})}).next(()=>A.localDocuments.getOverlayedDocuments(ze,wt)).next(cn=>{ee=cn;const bn=[];for(const Yr of y){const cs=hf(Yr,ee.get(Yr.key).overlayedDocument);null!=cs&&bn.push(new Ta(Yr.key,cs,Us(cs.value.mapValue),ts.exists(!0)))}return A.mutationQueue.addMutationBatch(ze,V,bn,y)}).next(cn=>{ve=cn;const bn=cn.applyToLocalDocumentSet(ee,Bt);return A.documentOverlayCache.saveOverlays(ze,cn.batchId,bn)})}).then(()=>({batchId:ve.batchId,changes:af(ee)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,y,A){let V=d.ac[d.currentUser.toKey()];V||(V=new Rr(Jt)),V=V.insert(y,A),d.ac[d.currentUser.toKey()]=V}(o,u.batchId,t),yield Ju(o,u.changes),yield m(o.remoteStore)}catch(u){const d=Qu(u,"Failed to persist write");t.reject(d)}}),Tg.apply(this,arguments)}function Ig(i,e){return dp.apply(this,arguments)}function dp(){return dp=(0,p.Z)(function*(i,e){const t=at(i);try{const o=yield function Tm(i,e){const t=at(i),o=e.snapshotVersion;let u=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const y=t.Ki.newChangeBuffer({trackRemovals:!0});u=t.Li;const A=[];e.targetChanges.forEach((ee,ve)=>{const ze=u.get(ve);if(!ze)return;A.push(t.Ds.removeMatchingKeys(d,ee.removedDocuments,ve).next(()=>t.Ds.addMatchingKeys(d,ee.addedDocuments,ve)));let wt=ze.withSequenceNumber(d.currentSequenceNumber);var Bt,cn,bn;e.targetMismatches.has(ve)?wt=wt.withResumeToken(k.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):ee.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(ee.resumeToken,o)),u=u.insert(ve,wt),cn=wt,bn=ee,(0===(Bt=ze).resumeToken.approximateByteSize()||cn.snapshotVersion.toMicroseconds()-Bt.snapshotVersion.toMicroseconds()>=3e8||bn.addedDocuments.size+bn.modifiedDocuments.size+bn.removedDocuments.size>0)&&A.push(t.Ds.updateTargetData(d,wt))});let V=Mo(),H=Kn();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&A.push(t.persistence.referenceDelegate.updateLimboDocument(d,ee))}),A.push(function Un(i,e,t){let o=Kn(),u=Kn();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let y=Mo();return t.forEach((A,V)=>{const H=d.get(A);V.isFoundDocument()!==H.isFoundDocument()&&(u=u.add(A)),V.isNoDocument()&&V.version.isEqual(St.min())?(e.removeEntry(A,V.readTime),y=y.insert(A,V)):!H.isValidDocument()||V.version.compareTo(H.version)>0||0===V.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(V),y=y.insert(A,V)):de("LocalStore","Ignoring outdated watch update for ",A,". Current version:",H.version," Watch version:",V.version)}),{zi:y,ji:u}})}(d,y,e.documentUpdates).next(ee=>{V=ee.zi,H=ee.ji})),!o.isEqual(St.min())){const ee=t.Ds.getLastRemoteSnapshotVersion(d).next(ve=>t.Ds.setTargetsMetadata(d,d.currentSequenceNumber,o));A.push(ee)}return Xe.waitFor(A).next(()=>y.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,V,H)).next(()=>V)}).then(d=>(t.Li=u,d))}(t.localStore,e);e.targetChanges.forEach((u,d)=>{const y=t.uc.get(d);y&&(At(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.ec=!0:u.modifiedDocuments.size>0?At(y.ec):u.removedDocuments.size>0&&(At(y.ec),y.ec=!1))}),yield Ju(t,o,e)}catch(o){yield Yn(o)}}),dp.apply(this,arguments)}function Om(i,e,t){const o=at(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.sc.forEach((d,y)=>{const A=y.view.Ru(e);A.snapshot&&u.push(A.snapshot)}),function(d,y){const A=at(d);A.onlineState=y;let V=!1;A.queries.forEach((H,ee)=>{for(const ve of ee.listeners)ve.Ru(y)&&(V=!0)}),V&&wg(A)}(o.eventManager,e),u.length&&o.nc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function ky(i,e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,p.Z)(function*(i,e,t){const o=at(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.uc.get(e),d=u&&u.key;if(d){let y=new Rr(Ut.comparator);y=y.insert(d,fr.newNoDocument(d,St.min()));const A=Kn().add(d),V=new Kc(St.min(),new Map,new hr(Jt),y,A);yield Ig(o,V),o.oc=o.oc.remove(d),o.uc.delete(e),Rh(o)}else yield Wu(o.localStore,e,!1).then(()=>vd(o,e,t)).catch(Yn)}),Ic.apply(this,arguments)}function Fy(i,e){return km.apply(this,arguments)}function km(){return km=(0,p.Z)(function*(i,e){const t=at(i),o=e.batch.batchId;try{const u=yield function Gf(i,e){const t=at(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=t.Ki.newChangeBuffer({trackRemovals:!0});return function(y,A,V,H){const ee=V.batch,ve=ee.keys();let ze=Xe.resolve();return ve.forEach(wt=>{ze=ze.next(()=>H.getEntry(A,wt)).next(Bt=>{const cn=V.docVersions.get(wt);At(null!==cn),Bt.version.compareTo(cn)<0&&(ee.applyToRemoteDocument(Bt,V),Bt.isValidDocument()&&(Bt.setReadTime(V.commitVersion),H.addEntry(Bt)))})}),ze.next(()=>y.mutationQueue.removeMutationBatch(A,ee))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(y){let A=Kn();for(let V=0;V<y.mutationResults.length;++V)y.mutationResults[V].transformResults.length>0&&(A=A.add(y.batch.mutations[V].key));return A}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}(t.localStore,e);Ag(t,o,null),Cg(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Ju(t,u)}catch(u){yield Yn(u)}}),km.apply(this,arguments)}function Ly(i,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,p.Z)(function*(i,e,t){const o=at(i);try{const u=yield function(d,y){const A=at(d);return A.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let H;return A.mutationQueue.lookupMutationBatch(V,y).next(ee=>(At(null!==ee),H=ee.keys(),A.mutationQueue.removeMutationBatch(V,ee))).next(()=>A.mutationQueue.performConsistencyCheck(V)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(V,H,y)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,H)).next(()=>A.localDocuments.getDocuments(V,H))})}(o.localStore,e);Ag(o,e,t),Cg(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Ju(o,u)}catch(u){yield Yn(u)}}),Dg.apply(this,arguments)}function Cg(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function Ag(i,e,t){const o=at(i);let u=o.ac[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.ac[o.currentUser.toKey()]=u}}function vd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),t&&i.nc.wc(o,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.hs(e).forEach(o=>{i.cc.containsKey(o)||Sg(i,o)})}function Sg(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(hd(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),Rh(i))}function Ph(i,e,t){for(const o of t)o instanceof Ah?(i.cc.addReference(o.key,e),Uy(i,o)):o instanceof Oy?(de("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||Sg(i,o.key)):It()}function Uy(i,e){const t=e.key,o=t.path.canonicalString();i.oc.get(t)||i.rc.has(o)||(de("SyncEngine","New document in limbo: "+t),i.rc.add(o),Rh(i))}function Rh(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new Ut(gn.fromString(e)),o=i.lc.next();i.uc.set(o,new Rm(t)),i.oc=i.oc.insert(t,o),dd(i.remoteStore,new Qa(Qs(Bs(t.path)),o,2,Ni.ct))}}function Ju(i,e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,p.Z)(function*(i,e,t){const o=at(i),u=[],d=[],y=[];var A;o.sc.isEmpty()||(o.sc.forEach((A,V)=>{y.push(o.dc(V,e,t).then(H=>{if((H||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,H?.fromCache?"not-current":"current"),H){u.push(H);const ee=mc.Di(V.targetId,H);d.push(ee)}}))}),yield Promise.all(y),o.nc.zo(u),yield(A=(0,p.Z)(function*(V,H){const ee=at(V);try{yield ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",ve=>Xe.forEach(H,ze=>Xe.forEach(ze.Vi,wt=>ee.persistence.referenceDelegate.addReference(ve,ze.targetId,wt)).next(()=>Xe.forEach(ze.Si,wt=>ee.persistence.referenceDelegate.removeReference(ve,ze.targetId,wt)))))}catch(ve){if(!Uo(ve))throw ve;de("LocalStore","Failed to update sequence numbers: "+ve)}for(const ve of H){const ze=ve.targetId;if(!ve.fromCache){const wt=ee.Li.get(ze),cn=wt.withLastLimboFreeSnapshotVersion(wt.snapshotVersion);ee.Li=ee.Li.insert(ze,cn)}}}),function(V,H){return A.apply(this,arguments)})(o.localStore,d))}),Mg.apply(this,arguments)}function By(i,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,p.Z)(function*(i,e){const t=at(i);if(!t.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const o=yield Hf(t.localStore,e);t.currentUser=e,(u=t).hc.forEach(y=>{y.forEach(A=>{A.reject(new D(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ju(t,o.Qi)}var u}),Pg.apply(this,arguments)}function $y(i,e){const t=at(i),o=t.uc.get(e);if(o&&o.ec)return Kn().add(o.key);{let u=Kn();const d=t.ic.get(e);if(!d)return u;for(const y of d){const A=t.sc.get(y);u=u.unionWith(A.view.Qu)}return u}}class Oh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.serializer=ld(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function cg(i,e,t,o){return new wm(i,e,t,o)}(this.persistence,new jf,e.initialUser,this.serializer)}createPersistence(e){return new Bf(Ml.Fs,this.serializer)}createSharedClientState(e){return new pg}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eu{initialize(e,t){var o=this;return(0,p.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Om(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=By.bind(null,o.syncEngine),yield function wc(i,e){return Tc.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new La}createDatastore(e){const t=ld(e.databaseInfo.databaseId),o=new Am(e.databaseInfo);return new Mm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=A=>Om(this.syncEngine,A,0),y=bm.D()?new bm:new Jf,new Py(t,o,u,d,y);var t,o,u,d,y}createSyncEngine(e,t){return function(o,u,d,y,A,V,H){const ee=new xm(o,u,d,y,A,V);return H&&(ee.fc=!0),ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const o=at(t);de("RemoteStore","RemoteStore shutting down."),o.du.add(5),yield cd(o),o._u.shutdown(),o.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class el{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Je("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dd{constructor(e,t,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=N.UNAUTHENTICATED,this.clientId=Gn.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,p.Z)(function*(A){de("FirestoreClient","Received user=",A.uid),yield d.authCredentialListener(A),d.user=A});return function(A){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(de("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new U;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Qu(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function kh(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,p.Z)(function*(d){o.isEqual(d)||(yield Hf(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),fp.apply(this,arguments)}function pp(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,p.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield function mp(i){return yp.apply(this,arguments)}(i);de("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Ec(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>Ec(e.remoteStore,d)),i._onlineComponents=e}),gp.apply(this,arguments)}function yp(){return yp=(0,p.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Og(i){return"FirebaseError"===i.name?i.code===Ue.FAILED_PRECONDITION||i.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(t))throw t;Pt("Error using user provided cache. Falling back to memory cache: "+t),yield kh(i,new Oh)}}else de("FirestoreClient","Using default OfflineComponentProvider"),yield kh(i,new Oh);return i._offlineComponents}),yp.apply(this,arguments)}function Fh(i){return _p.apply(this,arguments)}function _p(){return _p=(0,p.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),yield pp(i,i._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),yield pp(i,new eu))),i._onlineComponents}),_p.apply(this,arguments)}function kl(i){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,p.Z)(function*(i){const e=yield Fh(i),t=e.eventManager;return t.onListen=Nm.bind(null,e.syncEngine),t.onUnlisten=cp.bind(null,e.syncEngine),t}),Lh.apply(this,arguments)}const Vg=new Map;function Dp(i,e,t){if(!t)throw new D(Ue.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Bg(i){if(!Ut.isDocumentKey(i))throw new D(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function zm(i){if(Ut.isDocumentKey(i))throw new D(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Uh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":It()}function Dr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new D(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uh(i);throw new D(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}class jg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new D(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Ug(i,e,t,o){if(!0===e&&!0===o)throw new D(Ue.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Z;switch(t.type){case"firstParty":return new nn(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new D(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vg.get(e);t&&(de("ComponentProvider","Removing Datastore"),Vg.delete(e),t.terminate())}(this),Promise.resolve()}}class js{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new js(this.firestore,e,this._key)}}class lo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Ba extends lo{constructor(e,t,o){super(e,t,Bs(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new js(this.firestore,null,new Ut(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function qm(i,e,...t){if(i=(0,le.m9)(i),Dp("collection","path",e),i instanceof Bh){const o=gn.fromString(e,...t);return zm(o),new Ba(i,null,o)}{if(!(i instanceof js||i instanceof Ba))throw new D(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(gn.fromString(e,...t));return zm(o),new Ba(i.firestore,null,o)}}function Hg(i,e,...t){if(i=(0,le.m9)(i),1===arguments.length&&(e=Gn.A()),Dp("doc","path",e),i instanceof Bh){const o=gn.fromString(e,...t);return Bg(o),new js(i,null,new Ut(o))}{if(!(i instanceof js||i instanceof Ba))throw new D(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(gn.fromString(e,...t));return Bg(o),new js(i.firestore,i instanceof Ba?i.converter:null,new Ut(o))}}class Wm{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new ep(this,"async_queue_retry"),this.qc=()=>{const t=gh();t&&de("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=gh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=gh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new U;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,p.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Uo(t))throw t;de("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(o=>{throw this.Mc=o,this.Fc=!1,Je("INTERNAL UNHANDLED ERROR: ",function(d){let y=d.message||"";return d.stack&&(y=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),y}(o)),o}).then(o=>(this.Fc=!1,o))));return this.Nc=t,t}enqueueAfterDelay(e,t,o){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const u=Nl.createAndSchedule(this,e,t,o,d=>this.Qc(d));return this.$c.push(u),u}Uc(){this.Mc&&It()}verifyOperationInProgress(){}zc(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function bp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class jr extends Bh{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Wm,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fl(this),this._firestoreClient.terminate()}}function Yy(i,e){const t="object"==typeof i?i:(0,j.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,j.qX)(t,"firestore").getImmediate({identifier:o});if(!u._initialized){const d=(0,le.P0)("firestore");d&&function Wy(i,e,t,o={}){var u;const d=(i=Dr(i,Bh))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Pt("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let y,A;if("string"==typeof o.mockUserToken)y=o.mockUserToken,A=N.MOCK_USER;else{y=(0,le.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new D(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new N(V)}i._authCredentials=new ce(new R(y,A))}}(u,...d)}return u}function Is(i){return i._firestoreClient||Fl(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Fl(i){var e,t,o;const u=i._freezeSettings(),d=(A=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ci(i._databaseId,A,i._persistenceKey,(H=u).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,H.useFetchStreams));var A,H;i._firestoreClient=new Dd(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(t=u.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class Ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ll(k.fromBase64String(e))}catch(t){throw new D(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ll(k.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new D(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ap{constructor(e){this._methodName=e}}class Vl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}const e_=/^__.*__$/;class t_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}class Wg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ym(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class jh{constructor(e,t,o,u,d,y){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===d&&this.Jc(),this.fieldTransforms=d||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new jh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Zc({path:o,ta:!1});return u.ea(e),u}na(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Zc({path:o,ta:!1});return u.Jc(),u}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Mp(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Ym(this.Yc)&&e_.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class rv{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||ld(e)}ua(e,t,o,u=!1){return new jh({Yc:e,methodName:t,oa:o,path:xn.emptyPath(),ta:!1,ra:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ul(i){const e=i._freezeSettings(),t=ld(i._databaseId);return new rv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Hh(i,e,t,o,u,d={}){const y=i.ua(d.merge||d.mergeFields?2:0,e,t,u);Gh("Data must be an object, but it was:",y,o);const A=Xm(o,y);let V,H;if(d.merge)V=new w(y.fieldMask),H=y.fieldTransforms;else if(d.mergeFields){const ee=[];for(const ve of d.mergeFields){const ze=tl(e,ve,t);if(!y.contains(ze))throw new D(Ue.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);ty(ee,ze)||ee.push(ze)}V=new w(ee),H=y.fieldTransforms.filter(ve=>V.covers(ve.field))}else V=null,H=y.fieldTransforms;return new t_(new Hi(A),V,H)}class ua extends Ap{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ua}}function Ac(i,e){if(ey(i=(0,le.m9)(i)))return Gh("Unsupported field value:",e,i),Xm(i,e);if(i instanceof Ap)return function(t,o){if(!Ym(o.Yc))throw o.ia(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ia(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,o){const u=[];let d=0;for(const y of t){let A=Ac(y,o.sa(d));null==A&&(A={nullValue:"NULL_VALUE"}),u.push(A),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,le.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qc(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=jt.fromDate(t);return{timestampValue:Xl(o.serializer,u)}}if(t instanceof jt){const u=new jt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xl(o.serializer,u)}}if(t instanceof Vl)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ll)return{bytesValue:eg(o.serializer,t._byteString)};if(t instanceof js){const u=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw o.ia(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ec(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ia(`Unsupported field value: ${Uh(t)}`)}(i,e)}function Xm(i,e){const t={};return yo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(i,(o,u)=>{const d=Ac(u,e.Xc(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function ey(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof jt||i instanceof Vl||i instanceof Ll||i instanceof js||i instanceof Ap)}function Gh(i,e,t){if(!ey(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Uh(t);throw e.ia("an object"===o?i+" a custom object":i+" "+o)}var o}function tl(i,e,t){if((e=(0,le.m9)(e))instanceof bd)return e._internalPath;if("string"==typeof e)return zh(i,e);throw Mp("Field path arguments must be of type string or ",i,!1,void 0,t)}const n_=new RegExp("[~\\*/\\[\\]]");function zh(i,e,t){if(e.search(n_)>=0)throw Mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new bd(...e.split("."))._internalPath}catch{throw Mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Mp(i,e,t,o,u){const d=o&&!o.isEmpty(),y=void 0!==u;let A=`Function ${e}() called with invalid data`;t&&(A+=" (via `toFirestore()`)"),A+=". ";let V="";return(d||y)&&(V+=" (found",d&&(V+=` in field ${o}`),y&&(V+=` in document ${u}`),V+=")"),new D(Ue.INVALID_ARGUMENT,A+i+V)}function ty(i,e){return i.some(t=>t.isEqual(e))}class Pp{constructor(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new js(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ny(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ny extends Pp{data(){return super.data()}}function Sc(i,e){return"string"==typeof e?zh(i,e):e instanceof bd?e._internalPath:e._delegate._internalPath}class l_{convertValue(e,t="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw It()}}convertObject(e,t){const o={};return us(e.fields,(u,d)=>{o[u]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new Vl(be(e.latitude),be(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=qt(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Nn(e));default:return null}}convertTimestamp(e){const t=J(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=gn.fromString(e);At(vl(o));const u=new ls(o.get(1),o.get(3)),d=new Ut(o.popFirst(5));return u.isEqual(t)||Je(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}class $l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pc extends Pp{constructor(e,t,o,u,d,y){super(e,t,o,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Sc("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Wh extends Pc{data(e={}){return super.data(e)}}class Rc{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new $l(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Wh(this._firestore,this._userDataWriter,o.key,o,new $l(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new D(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new Wh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new $l(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>u||3!==y.type).map(y=>{const A=new Wh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new $l(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,H=-1;return 0!==y.type&&(V=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),1!==y.type&&(d=d.add(y.doc),H=d.indexOf(y.doc.key)),{type:fy(y.type),doc:A,oldIndex:V,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}class _u extends l_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new js(this.firestore,null,t)}}function Qg(i,e,t){i=Dr(i,js);const o=Dr(i.firestore,jr),u=function Yg(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e,t);return Zh(o,[Hh(Ul(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,ts.none())])}function pv(i,e,t,...o){i=Dr(i,js);const u=Dr(i.firestore,jr),d=Ul(u);let y;return y="string"==typeof(e=(0,le.m9)(e))||e instanceof bd?function Zg(i,e,t,o,u,d){const y=i.ua(1,e,t),A=[tl(e,o,t)],V=[u];if(d.length%2!=0)throw new D(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ze=0;ze<d.length;ze+=2)A.push(tl(e,d[ze])),V.push(d[ze+1]);const H=[],ee=Hi.empty();for(let ze=A.length-1;ze>=0;--ze)if(!ty(H,A[ze])){const wt=A[ze];let Bt=V[ze];Bt=(0,le.m9)(Bt);const cn=y.na(wt);if(Bt instanceof ua)H.push(wt);else{const bn=Ac(Bt,cn);null!=bn&&(H.push(wt),ee.set(wt,bn))}}const ve=new w(H);return new Wg(ee,ve,y.fieldTransforms)}(d,"updateDoc",i._key,e,t,o):function Kg(i,e,t,o){const u=i.ua(1,e,t);Gh("Data must be an object, but it was:",u,o);const d=[],y=Hi.empty();us(o,(V,H)=>{const ee=zh(e,V,t);H=(0,le.m9)(H);const ve=u.na(ee);if(H instanceof ua)d.push(ee);else{const ze=Ac(H,ve);null!=ze&&(d.push(ee),y.set(ee,ze))}});const A=new w(d);return new Wg(y,A,u.fieldTransforms)}(d,"updateDoc",i._key,e),Zh(u,[y.toMutation(i._key,ts.exists(!0))])}function py(i){return Zh(Dr(i.firestore,jr),[new Ru(i._key,ts.none())])}function gv(i,...e){var t,o,u;i=(0,le.m9)(i);let d={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||bp(e[y])||(d=e[y],y++);const A={includeMetadataChanges:d.includeMetadataChanges};if(bp(e[y])){const ve=e[y];e[y]=null===(t=ve.next)||void 0===t?void 0:t.bind(ve),e[y+1]=null===(o=ve.error)||void 0===o?void 0:o.bind(ve),e[y+2]=null===(u=ve.complete)||void 0===u?void 0:u.bind(ve)}let V,H,ee;if(i instanceof js)H=Dr(i.firestore,jr),ee=Bs(i._key.path),V={next:ve=>{e[y]&&e[y](function Jg(i,e,t){const o=t.docs.get(e._key),u=new _u(i);return new Pc(i,u,e._key,o,new $l(t.hasPendingWrites,t.fromCache),e.converter)}(H,i,ve))},error:e[y+1],complete:e[y+2]};else{const ve=Dr(i,lo);H=Dr(ve.firestore,jr),ee=ve._query;const ze=new _u(H);V={next:wt=>{e[y]&&e[y](new Rc(H,ze,ve,wt))},error:e[y+1],complete:e[y+2]},function ry(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new D(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(ve,ze,wt,Bt){const cn=new el(Bt),bn=new bh(ze,cn,wt);return ve.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Dh(i,e){return vg.apply(this,arguments)}(yield kl(ve),bn)})),()=>{cn.yc(),ve.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Eg(i,e){return op.apply(this,arguments)}(yield kl(ve),bn)}))}}(Is(H),ee,A,V)}function Zh(i,e){return function(t,o){const u=new U;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Mh(i,e,t){return Tg.apply(this,arguments)}(yield function Fg(i){return Fh(i).then(e=>e.syncEngine)}(t),o,u)})),u.promise}(Is(i),e)}!function(i,e=!0){q=j.Jn,(0,j.Xd)(new b.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const d=t.getProvider("app").getImmediate(),y=new jr(new We(t.getProvider("auth-internal")),new zn(t.getProvider("app-check-internal")),function(A,V){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new D(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ls(A.options.projectId,V)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),y._setSettings(u),y},"PUBLIC").setMultipleInstances(!0)),(0,j.KN)(T,"3.10.1",i),(0,j.KN)(T,"3.10.1","esm2017")}()},8766:(dn,gt,K)=>{K.d(gt,{Lj:()=>Ke,X3:()=>Lt});var p=K(5861);const j=(Be,he)=>he.some(lt=>Be instanceof lt);let b,Se;const ut=new WeakMap,Ve=new WeakMap,yt=new WeakMap,ie=new WeakMap,Ee=new WeakMap;let He={get(Be,he,lt){if(Be instanceof IDBTransaction){if("done"===he)return Ve.get(Be);if("objectStoreNames"===he)return Be.objectStoreNames||yt.get(Be);if("store"===he)return lt.objectStoreNames[1]?void 0:lt.objectStore(lt.objectStoreNames[0])}return Gt(Be[he])},set:(Be,he,lt)=>(Be[he]=lt,!0),has:(Be,he)=>Be instanceof IDBTransaction&&("done"===he||"store"===he)||he in Be};function un(Be){return"function"==typeof Be?function Kt(Be){return Be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Be)?function(...he){return Be.apply(Ot(this),he),Gt(ut.get(this))}:function(...he){return Gt(Be.apply(Ot(this),he))}:function(he,...lt){const dt=Be.call(Ot(this),he,...lt);return yt.set(dt,he.sort?he.sort():[he]),Gt(dt)}}(Be):(Be instanceof IDBTransaction&&function rt(Be){if(Ve.has(Be))return;const he=new Promise((lt,dt)=>{const Le=()=>{Be.removeEventListener("complete",Mt),Be.removeEventListener("error",Ne),Be.removeEventListener("abort",Ne)},Mt=()=>{lt(),Le()},Ne=()=>{dt(Be.error||new DOMException("AbortError","AbortError")),Le()};Be.addEventListener("complete",Mt),Be.addEventListener("error",Ne),Be.addEventListener("abort",Ne)});Ve.set(Be,he)}(Be),j(Be,function le(){return b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Be,He):Be)}function Gt(Be){if(Be instanceof IDBRequest)return function Qe(Be){const he=new Promise((lt,dt)=>{const Le=()=>{Be.removeEventListener("success",Mt),Be.removeEventListener("error",Ne)},Mt=()=>{lt(Gt(Be.result)),Le()},Ne=()=>{dt(Be.error),Le()};Be.addEventListener("success",Mt),Be.addEventListener("error",Ne)});return he.then(lt=>{lt instanceof IDBCursor&&ut.set(lt,Be)}).catch(()=>{}),Ee.set(he,Be),he}(Be);if(ie.has(Be))return ie.get(Be);const he=un(Be);return he!==Be&&(ie.set(Be,he),Ee.set(he,Be)),he}const Ot=Be=>Ee.get(Be);function Lt(Be,he,{blocked:lt,upgrade:dt,blocking:Le,terminated:Mt}={}){const Ne=indexedDB.open(Be,he),Ae=Gt(Ne);return dt&&Ne.addEventListener("upgradeneeded",et=>{dt(Gt(Ne.result),et.oldVersion,et.newVersion,Gt(Ne.transaction))}),lt&&Ne.addEventListener("blocked",()=>lt()),Ae.then(et=>{Mt&&et.addEventListener("close",()=>Mt()),Le&&et.addEventListener("versionchange",()=>Le())}).catch(()=>{}),Ae}function Ke(Be,{blocked:he}={}){const lt=indexedDB.deleteDatabase(Be);return he&&lt.addEventListener("blocked",()=>he()),Gt(lt).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],kt=new Map;function ot(Be,he){if(!(Be instanceof IDBDatabase)||he in Be||"string"!=typeof he)return;if(kt.get(he))return kt.get(he);const lt=he.replace(/FromIndex$/,""),dt=he!==lt,Le=ct.includes(lt);if(!(lt in(dt?IDBIndex:IDBObjectStore).prototype)||!Le&&!Me.includes(lt))return;const Mt=function(){var Ne=(0,p.Z)(function*(Ae,...et){const _t=this.transaction(Ae,Le?"readwrite":"readonly");let Pe=_t.store;return dt&&(Pe=Pe.index(et.shift())),(yield Promise.all([Pe[lt](...et),Le&&_t.done]))[0]});return function(et){return Ne.apply(this,arguments)}}();return kt.set(he,Mt),Mt}!function xt(Be){He=Be(He)}(Be=>({...Be,get:(he,lt,dt)=>ot(he,lt)||Be.get(he,lt,dt),has:(he,lt)=>!!ot(he,lt)||Be.has(he,lt)}))},7185:(dn,gt,K)=>{K.d(gt,{Rh:()=>et,_W:()=>Le});var p=K(8256),j=K(7340),b=K(6895),Se=K(7579),le=K(1481);const Ye=["toast-component",""];function ut(De,st){if(1&De){const pe=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(pe);const ht=p.oxw();return p.KtG(ht.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function Ve(De,st){if(1&De&&(p.ynx(0),p._uU(1),p.BQk()),2&De){const pe=p.oxw(2);p.xp6(1),p.hij("[",pe.duplicatesCount+1,"]")}}function yt(De,st){if(1&De&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,Ve,2,1,"ng-container",4),p.qZA()),2&De){const pe=p.oxw();p.Tol(pe.options.titleClass),p.uIk("aria-label",pe.title),p.xp6(1),p.hij(" ",pe.title," "),p.xp6(1),p.Q6J("ngIf",pe.duplicatesCount)}}function ie(De,st){if(1&De&&p._UZ(0,"div",7),2&De){const pe=p.oxw();p.Tol(pe.options.messageClass),p.Q6J("innerHTML",pe.message,p.oJD)}}function Ee(De,st){if(1&De&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&De){const pe=p.oxw();p.Tol(pe.options.messageClass),p.uIk("aria-label",pe.message),p.xp6(1),p.hij(" ",pe.message," ")}}function Qe(De,st){if(1&De&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&De){const pe=p.oxw();p.xp6(1),p.Udp("width",pe.width+"%")}}class Lt{constructor(st,pe){this.component=st,this.injector=pe}attach(st,pe){return this._attachedHost=st,st.attach(this,pe)}detach(){const st=this._attachedHost;if(st)return this._attachedHost=void 0,st.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(st){this._attachedHost=st}}class Ke{attach(st,pe){return this._attachedPortal=st,this.attachComponentPortal(st,pe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(st){this._disposeFn=st}}class Me{constructor(st){this._overlayRef=st,this.duplicatesCount=0,this._afterClosed=new Se.x,this._activate=new Se.x,this._manualClose=new Se.x,this._resetTimeout=new Se.x,this._countDuplicate=new Se.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(st,pe){st&&this._resetTimeout.next(),pe&&this._countDuplicate.next(++this.duplicatesCount)}}class ct{constructor(st,pe,xe,ht,Rt,Ln){this.toastId=st,this.config=pe,this.message=xe,this.title=ht,this.toastType=Rt,this.toastRef=Ln,this._onTap=new Se.x,this._onAction=new Se.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(st){this._onAction.next(st)}onAction(){return this._onAction.asObservable()}}const ot=new p.OlP("ToastConfig");class Be extends Ke{constructor(st,pe,xe){super(),this._hostDomElement=st,this._componentFactoryResolver=pe,this._appRef=xe}attachComponentPortal(st,pe){const xe=this._componentFactoryResolver.resolveComponentFactory(st.component);let ht;return ht=xe.create(st.injector),this._appRef.attachView(ht.hostView),this.setDisposeFn(()=>{this._appRef.detachView(ht.hostView),ht.destroy()}),pe?this._hostDomElement.insertBefore(this._getComponentRootNode(ht),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(ht)),ht}_getComponentRootNode(st){return st.hostView.rootNodes[0]}}let he=(()=>{class De{constructor(){this._document=(0,p.f3M)(b.K0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const pe=this._document.createElement("div");pe.classList.add("overlay-container"),pe.setAttribute("aria-live","polite"),this._document.body.appendChild(pe),this._containerElement=pe}}return De.\u0275fac=function(pe){return new(pe||De)},De.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();class lt{constructor(st){this._portalHost=st}attach(st,pe=!0){return this._portalHost.attach(st,pe)}detach(){return this._portalHost.detach()}}let dt=(()=>{class De{constructor(){this._overlayContainer=(0,p.f3M)(he),this._componentFactoryResolver=(0,p.f3M)(p._Vd),this._appRef=(0,p.f3M)(p.z2F),this._document=(0,p.f3M)(b.K0),this._paneElements=new Map}create(pe,xe){return this._createOverlayRef(this.getPaneElement(pe,xe))}getPaneElement(pe="",xe){return this._paneElements.get(xe)||this._paneElements.set(xe,{}),this._paneElements.get(xe)[pe]||(this._paneElements.get(xe)[pe]=this._createPaneElement(pe,xe)),this._paneElements.get(xe)[pe]}_createPaneElement(pe,xe){const ht=this._document.createElement("div");return ht.id="toast-container",ht.classList.add(pe),ht.classList.add("toast-container"),xe?xe.getContainerElement().appendChild(ht):this._overlayContainer.getContainerElement().appendChild(ht),ht}_createPortalHost(pe){return new Be(pe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(pe){return new lt(this._createPortalHost(pe))}}return De.\u0275fac=function(pe){return new(pe||De)},De.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})(),Le=(()=>{class De{constructor(pe,xe,ht,Rt,Ln){this.overlay=xe,this._injector=ht,this.sanitizer=Rt,this.ngZone=Ln,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...pe.default,...pe.config},pe.config.iconClasses&&(this.toastrConfig.iconClasses={...pe.default.iconClasses,...pe.config.iconClasses})}show(pe,xe,ht={},Rt=""){return this._preBuildNotification(Rt,pe,xe,this.applyConfig(ht))}success(pe,xe,ht={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",pe,xe,this.applyConfig(ht))}error(pe,xe,ht={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",pe,xe,this.applyConfig(ht))}info(pe,xe,ht={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",pe,xe,this.applyConfig(ht))}warning(pe,xe,ht={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",pe,xe,this.applyConfig(ht))}clear(pe){for(const xe of this.toasts)if(void 0!==pe){if(xe.toastId===pe)return void xe.toastRef.manualClose()}else xe.toastRef.manualClose()}remove(pe){const xe=this._findToast(pe);if(!xe||(xe.activeToast.toastRef.close(),this.toasts.splice(xe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const ht=this.toasts[this.currentlyActive].toastRef;ht.isInactive()||(this.currentlyActive=this.currentlyActive+1,ht.activate())}return!0}findDuplicate(pe="",xe="",ht,Rt){const{includeTitleDuplicates:Ln}=this.toastrConfig;for(const wn of this.toasts)if((!Ln||Ln&&wn.title===pe)&&wn.message===xe)return wn.toastRef.onDuplicate(ht,Rt),wn;return null}applyConfig(pe={}){return{...this.toastrConfig,...pe}}_findToast(pe){for(let xe=0;xe<this.toasts.length;xe++)if(this.toasts[xe].toastId===pe)return{index:xe,activeToast:this.toasts[xe]};return null}_preBuildNotification(pe,xe,ht,Rt){return Rt.onActivateTick?this.ngZone.run(()=>this._buildNotification(pe,xe,ht,Rt)):this._buildNotification(pe,xe,ht,Rt)}_buildNotification(pe,xe,ht,Rt){if(!Rt.toastComponent)throw new Error("toastComponent required");const Ln=this.findDuplicate(ht,xe,this.toastrConfig.resetTimeoutOnDuplicate&&Rt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&ht||xe)&&this.toastrConfig.preventDuplicates&&null!==Ln)return Ln;this.previousToastMessage=xe;let wn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(wn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const an=this.overlay.create(Rt.positionClass,this.overlayContainer);this.index=this.index+1;let Jn=xe;xe&&Rt.enableHtml&&(Jn=this.sanitizer.sanitize(p.q3G.HTML,xe));const ur=new Me(an),hi=new ct(this.index,Rt,Jn,ht,pe,ur),pr=p.zs3.create({providers:[{provide:ct,useValue:hi}],parent:this._injector}),bi=new Lt(Rt.toastComponent,pr),Ht=an.attach(bi,Rt.newestOnTop);ur.componentInstance=Ht.instance;const rr={toastId:this.index,title:ht||"",message:xe||"",toastRef:ur,onShown:ur.afterActivate(),onHidden:ur.afterClosed(),onTap:hi.onTap(),onAction:hi.onAction(),portal:Ht};return wn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{rr.toastRef.activate()})),this.toasts.push(rr),rr}}return De.\u0275fac=function(pe){return new(pe||De)(p.LFG(ot),p.LFG(dt),p.LFG(p.zs3),p.LFG(le.H7),p.LFG(p.R0b))},De.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})(),Mt=(()=>{class De{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(pe,xe,ht){this.toastrService=pe,this.toastPackage=xe,this.ngZone=ht,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=xe.message,this.title=xe.title,this.options=xe.config,this.originalTimeout=xe.config.timeOut,this.toastClasses=`${xe.toastType} ${xe.config.toastClass}`,this.sub=xe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=xe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=xe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=xe.toastRef.countDuplicate().subscribe(Rt=>{this.duplicatesCount=Rt})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const pe=(new Date).getTime();this.width=(this.hideTime-pe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(pe,xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(pe),xe)):this.timeout=setTimeout(()=>pe(),xe)}outsideInterval(pe,xe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(pe),xe)):this.intervalId=setInterval(()=>pe(),xe)}runInsideAngular(pe){this.ngZone?this.ngZone.run(()=>pe()):pe()}}return De.\u0275fac=function(pe){return new(pe||De)(p.Y36(Le),p.Y36(ct),p.Y36(p.R0b))},De.\u0275cmp=p.Xpm({type:De,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(pe,xe){1&pe&&p.NdJ("click",function(){return xe.tapToast()})("mouseenter",function(){return xe.stickAround()})("mouseleave",function(){return xe.delayedHideToast()}),2&pe&&(p.d8E("@flyInOut",xe.state),p.Tol(xe.toastClasses),p.Udp("display",xe.displayStyle))},standalone:!0,features:[p.jDz],attrs:Ye,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(pe,xe){1&pe&&(p.YNc(0,ut,3,0,"button",0),p.YNc(1,yt,3,5,"div",1),p.YNc(2,ie,1,3,"div",2),p.YNc(3,Ee,2,4,"div",3),p.YNc(4,Qe,2,2,"div",4)),2&pe&&(p.Q6J("ngIf",xe.options.closeButton),p.xp6(1),p.Q6J("ngIf",xe.title),p.xp6(1),p.Q6J("ngIf",xe.message&&xe.options.enableHtml),p.xp6(1),p.Q6J("ngIf",xe.message&&!xe.options.enableHtml),p.xp6(1),p.Q6J("ngIf",xe.options.progressBar))},dependencies:[b.O5],encapsulation:2,data:{animation:[(0,j.X$)("flyInOut",[(0,j.SB)("inactive",(0,j.oB)({opacity:0})),(0,j.SB)("active",(0,j.oB)({opacity:1})),(0,j.SB)("removed",(0,j.oB)({opacity:0})),(0,j.eR)("inactive => active",(0,j.jt)("{{ easeTime }}ms {{ easing }}")),(0,j.eR)("active => removed",(0,j.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),De})();const Ne={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:Mt},Ae=(De={})=>(0,p.MR2)([{provide:ot,useValue:{default:Ne,config:De}}]);let et=(()=>{class De{static forRoot(pe={}){return{ngModule:De,providers:[Ae(pe)]}}}return De.\u0275fac=function(pe){return new(pe||De)},De.\u0275mod=p.oAB({type:De}),De.\u0275inj=p.cJS({imports:[Mt]}),De})()},5861:(dn,gt,K)=>{function p(b,Se,le,Ye,ut,Ve,yt){try{var ie=b[Ve](yt),Ee=ie.value}catch(Qe){return void le(Qe)}ie.done?Se(Ee):Promise.resolve(Ee).then(Ye,ut)}function j(b){return function(){var Se=this,le=arguments;return new Promise(function(Ye,ut){var Ve=b.apply(Se,le);function yt(Ee){p(Ve,Ye,ut,yt,ie,"next",Ee)}function ie(Ee){p(Ve,Ye,ut,yt,ie,"throw",Ee)}yt(void 0)})}}K.d(gt,{Z:()=>j})}},dn=>{dn(dn.s=8520)}]);
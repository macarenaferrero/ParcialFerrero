"use strict";(self.webpackChunkParcialFerrero=self.webpackChunkParcialFerrero||[]).push([[179],{2313:(yn,ct,q)=>{q.d(ct,{nm:()=>Jr});var g=q(414),de=(q(8256),q(3692),q(259),q(5861)),Ve=q(2951),be=q(4859),lt=q(2090),et=q(1877);const he=new Map,ae={activated:!1,tokenObservers:[]},Ye={initialized:!1,enabled:!1};function ht(pe){return he.get(pe)||Object.assign({},ae)}function Rt(){return Ye}const yt="https://content-firebaseappcheck.googleapis.com/v1",en="exchangeDebugToken",$t={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Oe{constructor(ye,Ue,ut,kt,on){if(this.operation=ye,this.retryPolicy=Ue,this.getWaitDuration=ut,this.lowerBound=kt,this.upperBound=on,this.pending=null,this.nextErrorWaitInterval=kt,kt>on)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ye){var Ue=this;return(0,de.Z)(function*(){Ue.stop();try{Ue.pending=new lt.BH,yield function ft(pe){return new Promise(ye=>{setTimeout(ye,pe)})}(Ue.getNextRun(ye)),Ue.pending.resolve(),yield Ue.pending.promise,Ue.pending=new lt.BH,yield Ue.operation(),Ue.pending.resolve(),yield Ue.pending.promise,Ue.process(!0).catch(()=>{})}catch(ut){Ue.retryPolicy(ut)?Ue.process(!1).catch(()=>{}):Ue.stop()}})()}getNextRun(ye){if(ye)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ue=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ue}}}const Ge=new lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dt(pe,ye){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,de.Z)(function*({url:pe,body:ye},Ue){const ut={"Content-Type":"application/json"},kt=Ue.getImmediate({optional:!0});if(kt){const Oi=yield kt.getHeartbeatsHeader();Oi&&(ut["X-Firebase-Client"]=Oi)}const on={method:"POST",body:JSON.stringify(ye),headers:ut};let Hn,En;try{Hn=yield fetch(pe,on)}catch(Oi){throw Ge.create("fetch-network-error",{originalErrorMessage:Oi?.message})}if(200!==Hn.status)throw Ge.create("fetch-status-error",{httpStatus:Hn.status});try{En=yield Hn.json()}catch(Oi){throw Ge.create("fetch-parse-error",{originalErrorMessage:Oi?.message})}const sr=En.ttl.match(/^([\d.]+)(s)$/);if(!sr||!sr[2]||isNaN(Number(sr[1])))throw Ge.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${En.ttl}`});const Ni=1e3*Number(sr[1]),In=Date.now();return{token:En.token,expireTimeMillis:In+Ni,issuedAtTimeMillis:In}})).apply(this,arguments)}const Ne="firebase-app-check-database",Et=1,ue="firebase-app-check-store";let _e=null;function kn(pe,ye){return On.apply(this,arguments)}function On(){return(On=(0,de.Z)(function*(pe,ye){const ut=(yield function Fe(){return _e||(_e=new Promise((pe,ye)=>{try{const Ue=indexedDB.open(Ne,Et);Ue.onsuccess=ut=>{pe(ut.target.result)},Ue.onerror=ut=>{var kt;ye(Ge.create("storage-open",{originalErrorMessage:null===(kt=ut.target.error)||void 0===kt?void 0:kt.message}))},Ue.onupgradeneeded=ut=>{0===ut.oldVersion&&ut.target.result.createObjectStore(ue,{keyPath:"compositeKey"})}}catch(Ue){ye(Ge.create("storage-open",{originalErrorMessage:Ue?.message}))}}),_e)}()).transaction(ue,"readwrite"),on=ut.objectStore(ue).put({compositeKey:pe,value:ye});return new Promise((Hn,En)=>{on.onsuccess=sr=>{Hn()},ut.onerror=sr=>{var Ni;En(Ge.create("storage-set",{originalErrorMessage:null===(Ni=sr.target.error)||void 0===Ni?void 0:Ni.message}))}})})).apply(this,arguments)}const ri=new et.Yd("@firebase/app-check");function Hi(pe,ye){return(0,lt.hl)()?function Ae(pe,ye){return kn(function Dr(pe){return`${pe.options.appId}-${pe.name}`}(pe),ye)}(pe,ye).catch(Ue=>{ri.warn(`Failed to write token to IndexedDB. Error: ${Ue}`)}):Promise.resolve()}function Zr(){return bi.apply(this,arguments)}function bi(){return(bi=(0,de.Z)(function*(){const pe=Rt();if(pe.enabled&&pe.token)return pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cr={error:"UNKNOWN_ERROR"};function Di(pe){return lt.US.encodeString(JSON.stringify(pe),!1)}function Vn(pe){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,de.Z)(function*(pe,ye=!1){const Ue=pe.app;!function st(pe){if(!ht(pe).activated)throw Ge.create("use-before-activation",{appName:pe.name})}(Ue);const ut=ht(Ue);let on,kt=ut.token;if(kt&&!ir(kt)&&(ut.token=void 0,kt=void 0),!kt){const sr=yield ut.cachedTokenPromise;sr&&(ir(sr)?kt=sr:yield Hi(Ue,void 0))}if(!ye&&kt&&ir(kt))return{token:kt.token};let En,Hn=!1;if(function lr(){return Rt().enabled}()){ut.exchangeTokenPromise||(ut.exchangeTokenPromise=dt(function pt(pe,ye){const{projectId:Ue,appId:ut,apiKey:kt}=pe.options;return{url:`${yt}/projects/${Ue}/apps/${ut}:${en}?key=${kt}`,body:{debug_token:ye}}}(Ue,yield Zr()),pe.heartbeatServiceProvider).finally(()=>{ut.exchangeTokenPromise=void 0}),Hn=!0);const sr=yield ut.exchangeTokenPromise;return yield Hi(Ue,sr),ut.token=sr,{token:sr.token}}try{ut.exchangeTokenPromise||(ut.exchangeTokenPromise=ut.provider.getToken().finally(()=>{ut.exchangeTokenPromise=void 0}),Hn=!0),kt=yield ht(Ue).exchangeTokenPromise}catch(sr){"appCheck/throttled"===sr.code?ri.warn(sr.message):ri.error(sr),on=sr}return kt?on?En=ir(kt)?{token:kt.token,internalError:on}:ps(on):(En={token:kt.token},ut.token=kt,yield Hi(Ue,kt)):En=ps(on),Hn&&function fi(pe,ye){const Ue=ht(pe).tokenObservers;for(const ut of Ue)try{"EXTERNAL"===ut.type&&null!=ye.error?ut.error(ye.error):ut.next(ye)}catch{}}(Ue,En),En})).apply(this,arguments)}function xr(pe,ye){const Ue=ht(pe),ut=Ue.tokenObservers.filter(kt=>kt.next!==ye);0===ut.length&&Ue.tokenRefresher&&Ue.tokenRefresher.isRunning()&&Ue.tokenRefresher.stop(),Ue.tokenObservers=ut}function Ci(pe){const{app:ye}=pe,Ue=ht(ye);let ut=Ue.tokenRefresher;ut||(ut=function Bn(pe){const{app:ye}=pe;return new Oe((0,de.Z)(function*(){let ut;if(ut=ht(ye).token?yield Vn(pe,!0):yield Vn(pe),ut.error)throw ut.error;if(ut.internalError)throw ut.internalError}),()=>!0,()=>{const Ue=ht(ye);if(Ue.token){let ut=Ue.token.issuedAtTimeMillis+.5*(Ue.token.expireTimeMillis-Ue.token.issuedAtTimeMillis)+3e5;return ut=Math.min(ut,Ue.token.expireTimeMillis-3e5),Math.max(0,ut-Date.now())}return 0},$t.RETRIAL_MIN_WAIT,$t.RETRIAL_MAX_WAIT)}(pe),Ue.tokenRefresher=ut),!ut.isRunning()&&Ue.isTokenAutoRefreshEnabled&&ut.start()}function ir(pe){return pe.expireTimeMillis-Date.now()>0}function ps(pe){return{token:Di(cr),error:pe}}class jn{constructor(ye,Ue){this.app=ye,this.heartbeatServiceProvider=Ue}_delete(){const{tokenObservers:ye}=ht(this.app);for(const Ue of ye)xr(this.app,Ue.next);return Promise.resolve()}}const un="app-check-internal";!function _n(){(0,Ve.Xd)(new be.wA("app-check",pe=>function Ai(pe,ye){return new jn(pe,ye)}(pe.getProvider("app").getImmediate(),pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((pe,ye,Ue)=>{pe.getProvider(un).initialize()})),(0,Ve.Xd)(new be.wA(un,pe=>function xi(pe){return{getToken:ye=>Vn(pe,ye),addTokenListener:ye=>function Un(pe,ye,Ue,ut){const{app:kt}=pe,on=ht(kt);if(on.tokenObservers=[...on.tokenObservers,{next:Ue,error:ut,type:ye}],on.token&&ir(on.token)){const En=on.token;Promise.resolve().then(()=>{Ue({token:En.token}),Ci(pe)}).catch(()=>{})}on.cachedTokenPromise.then(()=>Ci(pe))}(pe,"INTERNAL",ye),removeTokenListener:ye=>xr(pe.app,ye)}}(pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ve.KN)("@firebase/app-check","0.7.0")}();class Jr{constructor(){return(0,g.vb)("app-check")}}typeof window<"u"&&window},3692:(yn,ct,q)=>{q.d(ct,{Ot:()=>Pe,ZF:()=>an,hX:()=>ht,z6:()=>de});var g=q(259),$=q(8256),I=q(414);class Pe{constructor(Oe){return Oe}}class de{constructor(){return(0,g.C6)()}}const lt=new $.OlP("angularfire2._apps"),et={provide:Pe,useFactory:function be(ot){return ot&&1===ot.length?ot[0]:new Pe((0,g.Mq)())},deps:[[new $.FiY,lt]]},he={provide:de,deps:[[new $.FiY,lt]]};function ae(ot){return(Oe,ft)=>{const Ft=Oe.runOutsideAngular(()=>ot(ft));return new Pe(Ft)}}let Ye=(()=>{class ot{constructor(ft){(0,g.KN)("angularfire",I.q4.full,"core"),(0,g.KN)("angularfire",I.q4.full,"app"),(0,g.KN)("angular",$.q4F.full,ft.toString())}}return ot.\u0275fac=function(ft){return new(ft||ot)($.LFG($.Lbi))},ot.\u0275mod=$.oAB({type:ot}),ot.\u0275inj=$.cJS({providers:[et,he]}),ot})();function ht(ot,...Oe){return{ngModule:Ye,providers:[{provide:lt,useFactory:ae(ot),multi:!0,deps:[$.R0b,$.zs3,I.HU,...Oe]}]}}const an=(0,I.u3)(g.ZF,!0)},8020:(yn,ct,q)=>{q.d(ct,{dh:()=>xn});var g=q(414),de=(q(8256),q(3692),q(259),q(5861)),Ve=q(2090),be=q(2951),lt=q(655),et=q(1877),he=q(4859);const en=function an(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$t=new Ve.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new et.Yd("@firebase/auth");function Ft(D,...h){Oe.logLevel<=et.in.ERROR&&Oe.error(`Auth (${be.Jn}): ${D}`,...h)}function Ge(D,...h){throw Yt(D,...h)}function Ot(D,...h){return Yt(D,...h)}function Yt(D,...h){if("string"!=typeof D){const _=h[0],R=[...h.slice(1)];return R[0]&&(R[0].appName=D.name),D._errorFactory.create(_,...R)}return $t.create(D,...h)}function dt(D,h,..._){if(!D)throw Yt(h,..._)}function Lt(D){const h="INTERNAL ASSERTION FAILED: "+D;throw Ft(h),new Error(h)}function We(D,h){D||Lt(h)}function Ne(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Be{constructor(h,_){this.shortDelay=h,this.longDelay=_,We(_>h,"Short delay should be less than long delay!"),this.isMobile=(0,Ve.uI)()||(0,Ve.b$)()}get(){return function Et(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function pt(){return"http:"===Ne()||"https:"===Ne()}()||(0,Ve.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Fe{static initialize(h,_,R){this.fetchImpl=h,_&&(this.headersImpl=_),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new Be(3e4,6e4);function wt(D,h,_,R){return kn.apply(this,arguments)}function kn(){return(kn=(0,de.Z)(function*(D,h,_,R,Z={}){return On(D,Z,(0,de.Z)(function*(){let te={},He={};R&&("GET"===h?He=R:te={body:JSON.stringify(R)});const mt=(0,Ve.xO)(Object.assign({key:D.config.apiKey},He)).slice(1),Zt=yield D._getAdditionalHeaders();return Zt["Content-Type"]="application/json",D.languageCode&&(Zt["X-Firebase-Locale"]=D.languageCode),Fe.fetch()(ri(D,D.config.apiHost,_,mt),Object.assign({method:h,headers:Zt,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function On(D,h,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,de.Z)(function*(D,h,_){D._canInitEmulator=!1;const R=Object.assign(Object.assign({},fe),h);try{const Z=new vr(D),te=yield Promise.race([_(),Z.promise]);Z.clearNetworkTimeout();const He=yield te.json();if("needConfirmation"in He)throw Kr(D,"account-exists-with-different-credential",He);if(te.ok&&!("errorMessage"in He))return He;{const mt=te.ok?He.errorMessage:He.error.message,[Zt,hn]=mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Zt)throw Kr(D,"credential-already-in-use",He);if("EMAIL_EXISTS"===Zt)throw Kr(D,"email-already-in-use",He);if("USER_DISABLED"===Zt)throw Kr(D,"user-disabled",He);const Nn=R[Zt]||Zt.toLowerCase().replace(/[_\s]+/g,"-");if(hn)throw function st(D,h,_){const R=Object.assign(Object.assign({},en()),{[h]:_});return new Ve.LL("auth","Firebase",R).create(h,{appName:D.name})}(D,Nn,hn);Ge(D,Nn)}}catch(Z){if(Z instanceof Ve.ZR)throw Z;Ge(D,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function ri(D,h,_,R){const Z=`${h}${_}?${R}`;return D.config.emulator?function _e(D,h){We(D.emulator,"Emulator should always be set here");const{url:_}=D.emulator;return h?`${_}${h.startsWith("/")?h.slice(1):h}`:_}(D.config,Z):`${D.config.apiScheme}://${Z}`}class vr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((_,R)=>{this.timer=setTimeout(()=>R(Ot(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kr(D,h,_){const R={appName:D.name};_.email&&(R.email=_.email),_.phoneNumber&&(R.phoneNumber=_.phoneNumber);const Z=Ot(D,h,R);return Z.customData._tokenResponse=_,Z}function tn(){return(tn=(0,de.Z)(function*(D,h){return wt(D,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function bi(){return(bi=(0,de.Z)(function*(D,h){return wt(D,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function ii(D){if(D)try{const h=new Date(Number(D));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Vn(){return(Vn=(0,de.Z)(function*(D,h=!1){const _=(0,Ve.m9)(D),R=yield _.getIdToken(h),Z=Bt(R);dt(Z&&Z.exp&&Z.auth_time&&Z.iat,_.auth,"internal-error");const te="object"==typeof Z.firebase?Z.firebase:void 0,He=te?.sign_in_provider;return{claims:Z,token:R,authTime:ii(Tt(Z.auth_time)),issuedAtTime:ii(Tt(Z.iat)),expirationTime:ii(Tt(Z.exp)),signInProvider:He||null,signInSecondFactor:te?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(D){return 1e3*Number(D)}function Bt(D){const[h,_,R]=D.split(".");if(void 0===h||void 0===_||void 0===R)return Ft("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,Ve.tV)(_);return Z?JSON.parse(Z):(Ft("Failed to decode base64 JWT payload"),null)}catch(Z){return Ft("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function Un(D,h){return xr.apply(this,arguments)}function xr(){return(xr=(0,de.Z)(function*(D,h,_=!1){if(_)return h;try{return yield h}catch(R){throw R instanceof Ve.ZR&&function Ci({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(R)&&D.auth.currentUser===D&&(yield D.auth.signOut()),R}})).apply(this,arguments)}class Bn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var _;if(h){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const Z=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(h=!1){var _=this;if(!this.isRunning)return;const R=this.getInterval(h);this.timerId=setTimeout((0,de.Z)(function*(){yield _.iteration()}),R)}iteration(){var h=this;return(0,de.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&h.schedule(!0))}h.schedule()})()}}class fi{constructor(h,_){this.createdAt=h,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ii(this.lastLoginAt),this.creationTime=ii(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ir(D){return ps.apply(this,arguments)}function ps(){return ps=(0,de.Z)(function*(D){var h;const _=D.auth,R=yield D.getIdToken(),Z=yield Un(D,function Zr(D,h){return bi.apply(this,arguments)}(_,{idToken:R}));dt(Z?.users.length,_,"internal-error");const te=Z.users[0];D._notifyReloadListener(te);const He=null!==(h=te.providerUserInfo)&&void 0!==h&&h.length?function cs(D){return D.map(h=>{var{providerId:_}=h,R=(0,lt._T)(h,["providerId"]);return{providerId:_,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(te.providerUserInfo):[],mt=function xi(D,h){return[...D.filter(R=>!h.some(Z=>Z.providerId===R.providerId)),...h]}(D.providerData,He),Nn=!!D.isAnonymous&&!(D.email&&te.passwordHash||mt?.length),gr={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:mt,metadata:new fi(te.createdAt,te.lastLoginAt),isAnonymous:Nn};Object.assign(D,gr)}),ps.apply(this,arguments)}function Ai(){return(Ai=(0,de.Z)(function*(D){const h=(0,Ve.m9)(D);yield ir(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function $e(){return($e=(0,de.Z)(function*(D,h){const _=yield On(D,{},(0,de.Z)(function*(){const R=(0,Ve.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:Z,apiKey:te}=D.config,He=ri(D,Z,"/v1/token",`key=${te}`),mt=yield D._getAdditionalHeaders();return mt["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(He,{method:"POST",headers:mt,body:R})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){dt(h.idToken,"internal-error"),dt(typeof h.idToken<"u","internal-error"),dt(typeof h.refreshToken<"u","internal-error");const _="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Fn(D){const h=Bt(D);return dt(h,"internal-error"),dt(typeof h.exp<"u","internal-error"),dt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,_)}getToken(h,_=!1){var R=this;return(0,de.Z)(function*(){return dt(!R.accessToken||R.refreshToken,h,"user-token-expired"),_||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(h,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,_){var R=this;return(0,de.Z)(function*(){const{accessToken:Z,refreshToken:te,expiresIn:He}=yield function Yr(D,h){return $e.apply(this,arguments)}(h,_);R.updateTokensAndExpiration(Z,te,Number(He))})()}updateTokensAndExpiration(h,_,R){this.refreshToken=_||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(h,_){const{refreshToken:R,accessToken:Z,expirationTime:te}=_,He=new Te;return R&&(dt("string"==typeof R,"internal-error",{appName:h}),He.refreshToken=R),Z&&(dt("string"==typeof Z,"internal-error",{appName:h}),He.accessToken=Z),te&&(dt("number"==typeof te,"internal-error",{appName:h}),He.expirationTime=te),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Te,this.toJSON())}_performRefresh(){return Lt("not implemented")}}function Me(D,h){dt("string"==typeof D||typeof D>"u","internal-error",{appName:h})}class _t{constructor(h){var{uid:_,auth:R,stsTokenManager:Z}=h,te=(0,lt._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=R,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new fi(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(h){var _=this;return(0,de.Z)(function*(){const R=yield Un(_,_.stsTokenManager.getToken(_.auth,h));return dt(R,_.auth,"internal-error"),_.accessToken!==R&&(_.accessToken=R,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),R})()}getIdTokenResult(h){return function Di(D){return Vn.apply(this,arguments)}(this,h)}reload(){return function jn(D){return Ai.apply(this,arguments)}(this)}_assign(h){this!==h&&(dt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(_=>Object.assign({},_)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const _=new _t(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(h){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,_=!1){var R=this;return(0,de.Z)(function*(){let Z=!1;h.idToken&&h.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(h),Z=!0),_&&(yield ir(R)),yield R.auth._persistUserIfCurrent(R),Z&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var h=this;return(0,de.Z)(function*(){const _=yield h.getIdToken();return yield Un(h,function Hi(D,h){return tn.apply(this,arguments)}(h.auth,{idToken:_})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,_){var R,Z,te,He,mt,Zt,hn,Nn;const gr=null!==(R=_.displayName)&&void 0!==R?R:void 0,ko=null!==(Z=_.email)&&void 0!==Z?Z:void 0,Vu=null!==(te=_.phoneNumber)&&void 0!==te?te:void 0,Nl=null!==(He=_.photoURL)&&void 0!==He?He:void 0,Ol=null!==(mt=_.tenantId)&&void 0!==mt?mt:void 0,tc=null!==(Zt=_._redirectEventId)&&void 0!==Zt?Zt:void 0,Rc=null!==(hn=_.createdAt)&&void 0!==hn?hn:void 0,rd=null!==(Nn=_.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:nc,emailVerified:xc,isAnonymous:Oh,providerData:kh,stsTokenManager:id}=_;dt(nc&&id,h,"internal-error");const Fh=Te.fromJSON(this.name,id);dt("string"==typeof nc,h,"internal-error"),Me(gr,h.name),Me(ko,h.name),dt("boolean"==typeof xc,h,"internal-error"),dt("boolean"==typeof Oh,h,"internal-error"),Me(Vu,h.name),Me(Nl,h.name),Me(Ol,h.name),Me(tc,h.name),Me(Rc,h.name),Me(rd,h.name);const Ud=new _t({uid:nc,auth:h,email:ko,emailVerified:xc,displayName:gr,isAnonymous:Oh,photoURL:Nl,phoneNumber:Vu,tenantId:Ol,stsTokenManager:Fh,createdAt:Rc,lastLoginAt:rd});return kh&&Array.isArray(kh)&&(Ud.providerData=kh.map(dp=>Object.assign({},dp))),tc&&(Ud._redirectEventId=tc),Ud}static _fromIdTokenResponse(h,_,R=!1){return(0,de.Z)(function*(){const Z=new Te;Z.updateFromServerResponse(_);const te=new _t({uid:_.localId,auth:h,stsTokenManager:Z,isAnonymous:R});return yield ir(te),te})()}}const vt=new Map;function re(D){We(D instanceof Function,"Expected a class definition");let h=vt.get(D);return h?(We(h instanceof D,"Instance stored in cache mismatched with class"),h):(h=new D,vt.set(D,h),h)}const ve=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,de.Z)(function*(){return!0})()}_set(_,R){var Z=this;return(0,de.Z)(function*(){Z.storage[_]=R})()}_get(_){var R=this;return(0,de.Z)(function*(){const Z=R.storage[_];return void 0===Z?null:Z})()}_remove(_){var R=this;return(0,de.Z)(function*(){delete R.storage[_]})()}_addListener(_,R){}_removeListener(_,R){}}return D.type="NONE",D})();function ze(D,h,_){return`firebase:${D}:${h}:${_}`}class ke{constructor(h,_,R){this.persistence=h,this.auth=_,this.userKey=R;const{config:Z,name:te}=this.auth;this.fullUserKey=ze(this.userKey,Z.apiKey,te),this.fullPersistenceKey=ze("persistence",Z.apiKey,te),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,de.Z)(function*(){const _=yield h.persistence._get(h.fullUserKey);return _?_t._fromJSON(h.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var _=this;return(0,de.Z)(function*(){if(_.persistence===h)return;const R=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=h,R?_.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,_,R="authUser"){return(0,de.Z)(function*(){if(!_.length)return new ke(re(ve),h,R);const Z=(yield Promise.all(_.map(function(){var hn=(0,de.Z)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return hn.apply(this,arguments)}}()))).filter(hn=>hn);let te=Z[0]||re(ve);const He=ze(R,h.config.apiKey,h.name);let mt=null;for(const hn of _)try{const Nn=yield hn._get(He);if(Nn){const gr=_t._fromJSON(h,Nn);hn!==te&&(mt=gr),te=hn;break}}catch{}const Zt=Z.filter(hn=>hn._shouldAllowMigration);return te._shouldAllowMigration&&Zt.length?(te=Zt[0],mt&&(yield te._set(He,mt.toJSON())),yield Promise.all(_.map(function(){var hn=(0,de.Z)(function*(Nn){if(Nn!==te)try{yield Nn._remove(He)}catch{}});return function(Nn){return hn.apply(this,arguments)}}())),new ke(te,h,R)):new ke(te,h,R)})()}}function zt(D){const h=D.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(function we(D=(0,Ve.z$)()){return/iemobile/i.test(D)}(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(function De(D=(0,Ve.z$)()){return/firefox\//i.test(D)}(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(function At(D=(0,Ve.z$)()){return/blackberry/i.test(D)}(h))return"Blackberry";if(function Kt(D=(0,Ve.z$)()){return/webos/i.test(D)}(h))return"Webos";if(function Ee(D=(0,Ve.z$)()){const h=D.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}(h))return"Safari";if((h.includes("chrome/")||function ne(D=(0,Ve.z$)()){return/crios\//i.test(D)}(h))&&!h.includes("edge/"))return"Chrome";if(function nt(D=(0,Ve.z$)()){return/android/i.test(D)}(h))return"Android";{const R=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function un(D,h=[]){let _;switch(D){case"Browser":_=zt((0,Ve.z$)());break;case"Worker":_=`${zt((0,Ve.z$)())}-${D}`;break;default:_=D}const R=h.length?h.join(","):"FirebaseCore-web";return`${_}/JsCore/${be.Jn}/${R}`}function zn(D,h){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,de.Z)(function*(D,h){return wt(D,"GET","/v2/recaptchaConfig",function Xe(D,h){return D.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:D.tenantId}):h}(D,h))})).apply(this,arguments)}function ci(D){return void 0!==D&&void 0!==D.enterprise}class bs{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}const di="NO_RECAPTCHA";class Gr{constructor(h){this.type="recaptcha-enterprise",this.auth=Or(h)}verify(h="verify",_=!1){var R=this;return(0,de.Z)(function*(){function te(){return te=(0,de.Z)(function*(mt){if(!_){if(null==mt.tenantId&&null!=mt._agentRecaptchaConfig)return mt._agentRecaptchaConfig.siteKey;if(null!=mt.tenantId&&void 0!==mt._tenantRecaptchaConfigs[mt.tenantId])return mt._tenantRecaptchaConfigs[mt.tenantId].siteKey}return new Promise(function(){var Zt=(0,de.Z)(function*(hn,Nn){zn(mt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(gr=>{if(void 0!==gr.recaptchaKey){const ko=new bs(gr);return null==mt.tenantId?mt._agentRecaptchaConfig=ko:mt._tenantRecaptchaConfigs[mt.tenantId]=ko,hn(ko.siteKey)}Nn(new Error("recaptcha Enterprise site key undefined"))}).catch(gr=>{Nn(gr)})});return function(hn,Nn){return Zt.apply(this,arguments)}}())}),te.apply(this,arguments)}function He(mt,Zt,hn){const Nn=window.grecaptcha;ci(Nn)?Nn.enterprise.ready(()=>{Nn.enterprise.execute(mt,{action:h}).then(gr=>{Zt(gr)}).catch(()=>{Zt(di)})}):hn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((mt,Zt)=>{(function Z(mt){return te.apply(this,arguments)})(R.auth).then(hn=>{if(!_&&ci(window.grecaptcha))He(hn,mt,Zt);else{if(typeof window>"u")return void Zt(new Error("RecaptchaVerifier is only supported in browser"));(function ks(D){return new Promise((h,_)=>{const R=document.createElement("script");R.setAttribute("src",D),R.onload=h,R.onerror=Z=>{const te=Ot("internal-error");te.customData=Z,_(te)},R.type="text/javascript",R.charset="UTF-8",function Ks(){var D,h;return null!==(h=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==h?h:document}().appendChild(R)})})("https://www.google.com/recaptcha/enterprise.js?render="+hn).then(()=>{He(hn,mt,Zt)}).catch(Nn=>{Zt(Nn)})}}).catch(hn=>{Zt(hn)})})})()}}class ds{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,_){const R=te=>new Promise((He,mt)=>{try{He(h(te))}catch(Zt){mt(Zt)}});R.onAbort=_,this.queue.push(R);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(h){var _=this;return(0,de.Z)(function*(){if(_.auth.currentUser===h)return;const R=[];try{for(const Z of _.queue)yield Z(h),Z.onAbort&&R.push(Z.onAbort)}catch(Z){R.reverse();for(const te of R)try{te()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}class Si{constructor(h,_,R,Z){this.app=h,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=R,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pe(this),this.idTokenSubscription=new pe(this),this.beforeStateQueue=new ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(h,_){var R=this;return _&&(this._popupRedirectResolver=re(_)),this._initializationPromise=this.queue((0,de.Z)(function*(){var Z,te;if(!R._deleted&&(R.persistenceManager=yield ke.create(R,h),!R._deleted)){if(null!==(Z=R._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(_),R.lastNotifiedUid=(null===(te=R.currentUser)||void 0===te?void 0:te.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,de.Z)(function*(){if(h._deleted)return;const _=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||_){if(h.currentUser&&_&&h.currentUser.uid===_.uid)return h._currentUser._assign(_),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(_,!0)}})()}initializeCurrentUser(h){var _=this;return(0,de.Z)(function*(){var R;const Z=yield _.assertedPersistence.getCurrentUser();let te=Z,He=!1;if(h&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const mt=null===(R=_.redirectUser)||void 0===R?void 0:R._redirectEventId,Zt=te?._redirectEventId,hn=yield _.tryRedirectSignIn(h);(!mt||mt===Zt)&&hn?.user&&(te=hn.user,He=!0)}if(!te)return _.directlySetCurrentUser(null);if(!te._redirectEventId){if(He)try{yield _.beforeStateQueue.runMiddleware(te)}catch(mt){te=Z,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(mt))}return te?_.reloadAndSetCurrentUserOrClear(te):_.directlySetCurrentUser(null)}return dt(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===te._redirectEventId?_.directlySetCurrentUser(te):_.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(h){var _=this;return(0,de.Z)(function*(){let R=null;try{R=yield _._popupRedirectResolver._completeRedirectFn(_,h,!0)}catch{yield _._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(h){var _=this;return(0,de.Z)(function*(){try{yield ir(h)}catch(R){if("auth/network-request-failed"!==R?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ue(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var h=this;return(0,de.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var _=this;return(0,de.Z)(function*(){const R=h?(0,Ve.m9)(h):null;return R&&dt(R.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(R&&R._clone(_))})()}_updateCurrentUser(h,_=!1){var R=this;return(0,de.Z)(function*(){if(!R._deleted)return h&&dt(R.tenantId===h.tenantId,R,"tenant-id-mismatch"),_||(yield R.beforeStateQueue.runMiddleware(h)),R.queue((0,de.Z)(function*(){yield R.directlySetCurrentUser(h),R.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,de.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var _=this;return this.queue((0,de.Z)(function*(){yield _.assertedPersistence.setPersistence(re(h))}))}initializeRecaptchaConfig(){var h=this;return(0,de.Z)(function*(){const _=yield zn(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),R=new bs(_);null==h.tenantId?h._agentRecaptchaConfig=R:h._tenantRecaptchaConfigs[h.tenantId]=R,R.emailPasswordEnabled&&new Gr(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Ve.LL("auth","Firebase",h())}onAuthStateChanged(h,_,R){return this.registerStateListener(this.authStateSubscription,h,_,R)}beforeAuthStateChanged(h,_){return this.beforeStateQueue.pushCallback(h,_)}onIdTokenChanged(h,_,R){return this.registerStateListener(this.idTokenSubscription,h,_,R)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,_){var R=this;return(0,de.Z)(function*(){const Z=yield R.getOrInitRedirectPersistenceManager(_);return null===h?Z.removeCurrentUser():Z.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var _=this;return(0,de.Z)(function*(){if(!_.redirectPersistenceManager){const R=h&&re(h)||_._popupRedirectResolver;dt(R,_,"argument-error"),_.redirectPersistenceManager=yield ke.create(_,[re(R._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(h){var _=this;return(0,de.Z)(function*(){var R,Z;return _._isInitialized&&(yield _.queue((0,de.Z)(function*(){}))),(null===(R=_._currentUser)||void 0===R?void 0:R._redirectEventId)===h?_._currentUser:(null===(Z=_.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===h?_.redirectUser:null})()}_persistUserIfCurrent(h){var _=this;return(0,de.Z)(function*(){if(h===_.currentUser)return _.queue((0,de.Z)(function*(){return _.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(_=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,_,R,Z){if(this._deleted)return()=>{};const te="function"==typeof _?_:_.next.bind(_),He=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(He,this,"internal-error"),He.then(()=>te(this.currentUser)),"function"==typeof _?h.addObserver(_,R,Z):h.addObserver(_)}directlySetCurrentUser(h){var _=this;return(0,de.Z)(function*(){_.currentUser&&_.currentUser!==h&&_._currentUser._stopProactiveRefresh(),h&&_.isProactiveRefreshEnabled&&h._startProactiveRefresh(),_.currentUser=h,h?yield _.assertedPersistence.setCurrentUser(h):yield _.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,de.Z)(function*(){var _;const R={"X-Client-Version":h.clientVersion};h.app.options.appId&&(R["X-Firebase-gmpid"]=h.app.options.appId);const Z=yield null===(_=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();Z&&(R["X-Firebase-Client"]=Z);const te=yield h._getAppCheckToken();return te&&(R["X-Firebase-AppCheck"]=te),R})()}_getAppCheckToken(){var h=this;return(0,de.Z)(function*(){var _;const R=yield null===(_=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return R?.error&&function ft(D,...h){Oe.logLevel<=et.in.WARN&&Oe.warn(`Auth (${be.Jn}): ${D}`,...h)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Or(D){return(0,Ve.m9)(D)}class pe{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Ve.ne)(_=>this.observer=_)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function oo(D){return`__${D}${Math.floor(1e6*Math.random())}`})("rcb"),new Be(3e4,6e4),new Be(2e3,1e4),new Be(3e4,6e4),new Be(5e3,15e3),encodeURIComponent("fac");var d="@firebase/auth",m="0.23.1";class b{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var _=this;return(0,de.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const _=this.auth.onIdTokenChanged(R=>{h(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,_),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const _=this.internalListeners.get(h);_&&(this.internalListeners.delete(h),_(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Ve.Pz)("authIdTokenMaxAge"),function W(D){(0,be.Xd)(new he.wA("auth",(h,{options:_})=>{const R=h.getProvider("app").getImmediate(),Z=h.getProvider("heartbeat"),te=h.getProvider("app-check-internal"),{apiKey:He,authDomain:mt}=R.options;dt(He&&!He.includes(":"),"invalid-api-key",{appName:R.name}),dt(!mt?.includes(":"),"argument-error",{appName:R.name});const Zt={apiKey:He,authDomain:mt,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:un(D)},hn=new Si(R,Z,te,Zt);return function Ue(D,h){const _=h?.persistence||[],R=(Array.isArray(_)?_:[_]).map(re);h?.errorMap&&D._updateErrorMap(h.errorMap),D._initializeWithPersistence(R,h?.popupRedirectResolver)}(hn,_),hn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,_,R)=>{h.getProvider("auth-internal").initialize()})),(0,be.Xd)(new he.wA("auth-internal",h=>{const _=Or(h.getProvider("auth").getImmediate());return new b(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.KN)(d,m,function F(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,be.KN)(d,m,"esm2017")}("Browser");class xn{constructor(){return(0,g.vb)("auth")}}},4102:(yn,ct,q)=>{q.d(ct,{gg:()=>Yf,hJ:()=>Dy,BS:()=>Nd,oe:()=>Ay,JU:()=>Ov,ad:()=>Lv,Cm:()=>Av,pl:()=>Hv,r7:()=>Gv});var me,g=q(414),$=q(8256),I=q(8020),Pe=q(3692),de=q(259),Ve=q(2313),be=q(5861),lt=q(2951),et=q(4859),he=q(1877),ae=q(2090),Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ht={},Rt=Rt||{},yt=Ye||self;function an(){}function Xt(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function en(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ot="closure_uid_"+(1e9*Math.random()>>>0),Oe=0;function ft(r,e,t){return r.call.apply(r.bind,arguments)}function Ft(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Ge(r,e,t){return(Ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ft:Ft).apply(null,arguments)}function Ot(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function st(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var p=Array(arguments.length-2),C=2;C<arguments.length;C++)p[C-2]=arguments[C];return e.prototype[a].apply(s,p)}}function Vt(){this.s=this.s,this.o=this.o}Vt.prototype.s=!1,Vt.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function $t(r){Object.prototype.hasOwnProperty.call(r,ot)&&r[ot]||(r[ot]=++Oe)}(this)},Vt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Lt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function We(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Xt(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let p=0;p<c;p++)r[a+p]=s[p]}else r.push(s)}}function Se(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{yt.addEventListener("test",an,e),yt.removeEventListener("test",an,e)}catch{}return r}();function Ne(r){return/^[\s\xa0]*$/.test(r)}var Et=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function ue(r,e){return r<e?-1:r>e?1:0}function Be(){var r=yt.navigator;return r&&(r=r.userAgent)?r:""}function _e(r){return-1!=Be().indexOf(r)}function Fe(r){return Fe[" "](r),r}function fe(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}Fe[" "]=an;var Dr,r,Ae=_e("Opera"),Xe=_e("Trident")||_e("MSIE"),wt=_e("Edge"),kn=wt||Xe,On=_e("Gecko")&&!(-1!=Be().toLowerCase().indexOf("webkit")&&!_e("Edge"))&&!(_e("Trident")||_e("MSIE"))&&!_e("Edge"),dn=-1!=Be().toLowerCase().indexOf("webkit")&&!_e("Edge");function ur(){var r=yt.document;return r?r.documentMode:void 0}e:{var ri="",vr=(r=Be(),On?/rv:([^\);]+)(\)|;)/.exec(r):wt?/Edge\/([\d\.]+)/.exec(r):Xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):dn?/WebKit\/(\S+)/.exec(r):Ae?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(vr&&(ri=vr?vr[1]:""),Xe){var Kr=ur();if(null!=Kr&&Kr>parseFloat(ri)){Dr=String(Kr);break e}}Dr=ri}var Hi={},Zr=yt.document&&Xe&&(ur()||parseInt(Dr,10))||void 0;function bi(r,e){if(Se.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(On){e:{try{Fe(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:ii[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&bi.$.h.call(this)}}st(bi,Se);var ii={2:"touch",3:"pen",4:"mouse"};bi.prototype.h=function(){bi.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var cr="closure_listenable_"+(1e6*Math.random()|0),Di=0;function Vn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Di,this.fa=this.ia=!1}function Tt(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Bt(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Fn(r){const e={};for(const t in r)e[t]=r[t];return e}const Un="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xr(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<Un.length;c++)t=Un[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Ci(r){this.src=r,this.g={},this.h=0}function Bn(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=dt(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Tt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function fi(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}Ci.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var p=fi(r,e,s,a);return-1<p?(e=r[p],t||(e.ia=!1)):((e=new Vn(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var ir="closure_lm_"+(1e6*Math.random()|0),ps={};function jn(r,e,t,s,a){if(s&&s.once)return cs(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)jn(r,e[c],t,s,a);return null}return t=re(t),r&&r[cr]?r.O(e,t,en(s)?!!s.capture:!!s,a):Ai(r,e,t,!1,s,a)}function Ai(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=en(a)?!!a.capture:!!a,C=_t(r);if(C||(r[ir]=C=new Ci(r)),(t=C.add(e,t,s,p,c)).proxy)return t;if(s=function xi(){const e=Me;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)pt||(a=p),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Te(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function cs(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)cs(r,e[c],t,s,a);return null}return t=re(t),r&&r[cr]?r.P(e,t,en(s)?!!s.capture:!!s,a):Ai(r,e,t,!0,s,a)}function Yr(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Yr(r,e[c],t,s,a);else s=en(s)?!!s.capture:!!s,t=re(t),r&&r[cr]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=fi(c=r.g[e],t,s,a))&&(Tt(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=_t(r))&&(e=r.g[e.toString()],r=-1,e&&(r=fi(e,t,s,a)),(t=-1<r?e[r]:null)&&$e(t))}function $e(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[cr])Bn(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Te(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=_t(e))?(Bn(t,r),0==t.h&&(t.src=null,e[ir]=null)):Tt(r)}}}function Te(r){return r in ps?ps[r]:ps[r]="on"+r}function Me(r,e){if(r.fa)r=!0;else{e=new bi(e,this);var t=r.listener,s=r.la||r.src;r.ia&&$e(r),r=t.call(s,e)}return r}function _t(r){return(r=r[ir])instanceof Ci?r:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(r){return"function"==typeof r?r:(r[vt]||(r[vt]=function(e){return r.handleEvent(e)}),r[vt])}function oe(){Vt.call(this),this.i=new Ci(this),this.S=this,this.J=null}function ve(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Se(e,r);else if(e instanceof Se)e.target=e.target||r;else{var a=e;xr(e=new Se(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=ze(p,s,!0,e)&&a}if(a=ze(p=e.g=r,s,!0,e)&&a,a=ze(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=ze(p=e.g=t[c],s,!1,e)&&a}function ze(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.fa&&p.capture==t){var C=p.listener,B=p.la||p.src;p.ia&&Bn(r.i,p),a=!1!==C.call(B,s)&&a}}return a&&!s.defaultPrevented}st(oe,Vt),oe.prototype[cr]=!0,oe.prototype.removeEventListener=function(r,e,t,s){Yr(this,r,e,t,s)},oe.prototype.N=function(){if(oe.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Tt(t[s]);delete r.g[e],r.h--}}this.J=null},oe.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},oe.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var ke=yt.JSON.stringify;function zt(){var r=Ar;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var At,Ee=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new ne,r=>r.reset());class ne{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function we(r){yt.setTimeout(()=>{throw r},0)}function nt(r,e){At||function Kt(){var r=yt.Promise.resolve(void 0);At=function(){r.then(Qr)}}(),nn||(At(),nn=!0),Ar.add(r,e)}var nn=!1,Ar=new class De{constructor(){this.h=this.g=null}add(e,t){const s=Ee.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Qr(){for(var r;r=zt();){try{r.h.call(r.g)}catch(t){we(t)}var e=Ee;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}nn=!1}function rt(r,e){oe.call(this),this.h=r||1,this.g=e||yt,this.j=Ge(this.qb,this),this.l=Date.now()}function je(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Mt(r,e,t){if("function"==typeof r)t&&(r=Ge(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ge(r.handleEvent,r)}return 2147483647<Number(e)?-1:yt.setTimeout(r,e||0)}function un(r){r.g=Mt(()=>{r.g=null,r.i&&(r.i=!1,un(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}st(rt,oe),(me=rt.prototype).ga=!1,me.T=null,me.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ve(this,"tick"),this.ga&&(je(this),this.start()))}},me.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.N=function(){rt.$.N.call(this),je(this),delete this.g};class _n extends Vt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:un(this)}N(){super.N(),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cn(r){Vt.call(this),this.h=r,this.g={}}st(Cn,Vt);var zn=[];function Jr(r,e,t,s){Array.isArray(t)||(t&&(zn[0]=t.toString()),t=zn);for(var a=0;a<t.length;a++){var c=jn(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Er(r){Bt(r.g,function(e,t){this.g.hasOwnProperty(t)&&$e(e)},r),r.g={}}function ci(){this.g=!0}function ks(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tr(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return ke(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Cn.prototype.N=function(){Cn.$.N.call(this),Er(this)},Cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ci.prototype.Ea=function(){this.g=!1},ci.prototype.info=function(){};var Nr={},di=null;function Gr(){return di=di||new oe}function si(r){Se.call(this,Nr.Ta,r)}function rs(r){const e=Gr();ve(e,new si(e))}function ds(r,e){Se.call(this,Nr.STAT_EVENT,r),this.stat=e}function Si(r){const e=Gr();ve(e,new ds(e,r))}function Or(r,e){Se.call(this,Nr.Ua,r),this.size=e}function pe(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){r()},e)}Nr.Ta="serverreachability",st(si,Se),Nr.STAT_EVENT="statevent",st(ds,Se),Nr.Ua="timingevent",st(Or,Se);var ye={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ue={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ut(){}function on(){}ut.prototype.h=null;var Ni,Hn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function En(){Se.call(this,"d")}function sr(){Se.call(this,"c")}function In(){}function Oi(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Cn(this),this.P=Aa,this.V=new rt(r=kn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Br}function Br(){this.i=null,this.g="",this.h=!1}st(En,Se),st(sr,Se),st(In,ut),In.prototype.g=function(){return new XMLHttpRequest},In.prototype.i=function(){return{}},Ni=new In;var Aa=45e3,pi={},hi={};function Fs(r,e,t){r.L=1,r.v=Vs(ki(e)),r.s=t,r.S=!0,Zs(r,null)}function Zs(r,e){r.G=Date.now(),ar(r),r.A=ki(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),As(t.i,"t",s),r.C=0,t=r.l.I,r.h=new Br,r.g=ma(r.l,t?e:null,!r.s),0<r.O&&(r.M=new _n(Ge(r.Pa,r,r.g),r.O)),Jr(r.U,r.g,"readystatechange",r.nb),e=r.I?Fn(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),rs(),function bs(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var p="",C=c.split("&"),B=0;B<C.length;B++){var G=C[B].split("=");if(1<G.length){var J=G[0];G=G[1];var Ie=J.split("_");p=2<=Ie.length&&"type"==Ie[1]?p+(J+"=")+G+"&":p+(J+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Zi(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function ea(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=Ls(r,t),a==hi){4==e&&(r.o=4,Si(14),s=!1),ks(r.j,r.m,null,"[Incomplete Response]");break}if(a==pi){r.o=4,Si(15),ks(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}ks(r.j,r.m,a,null),Uo(r,a)}Zi(r)&&a!=hi&&a!=pi&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Si(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),wi(e),e.L=!0,Si(11))):(ks(r.j,r.m,t,"[Invalid Chunked Response]"),Ys(r),ao(r))}function Ls(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?hi:(t=Number(e.substring(t,s)),isNaN(t)?pi:(s+=1)+t>e.length?hi:(e=e.substr(s,t),r.C=s+t,e))}function ar(r){r.Y=Date.now()+r.P,Lo(r,r.P)}function Lo(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=pe(Ge(r.lb,r),e)}function Us(r){r.B&&(yt.clearTimeout(r.B),r.B=null)}function ao(r){0==r.l.H||r.J||Za(r.l,r)}function Ys(r){Us(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,je(r.V),Er(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function Uo(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Do(t.h,r)))if(!r.K&&Do(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Na(t),Mr(t)}ys(t),Si(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=pe(Ge(t.ib,t),6e3));if(1>=ra(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Go(t,11)}else if((r.K||t.g==r)&&Na(t),!Ne(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let G=a[e];if(t.V=G[0],G=G[1],2==t.H)if("c"==G[0]){t.J=G[1],t.oa=G[2];const J=G[3];null!=J&&(t.qa=J,t.j.info("VER="+t.qa));const Ie=G[4];null!=Ie&&(t.Ga=Ie,t.j.info("SVER="+t.Ga));const Ke=G[5];null!=Ke&&"number"==typeof Ke&&0<Ke&&(t.K=s=1.5*Ke,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Dt=r.g;if(Dt){const Ht=Dt.g?Dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ht){var c=s.h;c.g||-1==Ht.indexOf("spdy")&&-1==Ht.indexOf("quic")&&-1==Ht.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(co(c,c.h),c.h=null))}if(s.F){const sn=Dt.g?Dt.g.getResponseHeader("X-HTTP-Session-Id"):null;sn&&(s.Da=sn,kr(s.G,s.F,sn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var p=r;if((s=t).wa=po(s,s.I?s.oa:null,s.Y),p.K){Ka(s.h,p);var C=p,B=s.K;B&&C.setTimeout(B),C.B&&(Us(C),ar(C)),s.g=p}else Ra(s);0<t.i.length&&It(t)}else"stop"!=G[0]&&"close"!=G[0]||Go(t,7);else 3==t.H&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?Go(t,7):pn(t):"noop"!=G[0]&&t.l&&t.l.Aa(G),t.A=0)}rs()}catch{}}function Bo(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Xt(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Yi(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Xt(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Vo(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Xt(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(me=Oi.prototype).setTimeout=function(r){this.P=r},me.nb=function(r){r=r.target;const e=this.M;e&&3==wn(r)?e.l():this.Pa(r)},me.Pa=function(r){try{if(r==this.g)e:{const J=wn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>J)&&(3!=J||kn||this.g&&(this.h.h||this.g.ja()||V(this.g)))){this.J||4!=J||7==e||rs(),Us(this);var t=this.g.da();this.aa=t;t:if(Zi(this)){var s=V(this.g);r="";var a=s.length,c=4==wn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),ao(this);var p="";break t}this.h.i=new yt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function Ks(r,e,t,s,a,c,p){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.W,J,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var C,B=this.g;if((C=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ne(C)){var G=C;break t}}G=null}if(!(t=G)){this.i=!1,this.o=3,Si(12),Ys(this),ao(this);break e}ks(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uo(this,t)}this.S?(ea(this,J,p),kn&&this.i&&3==J&&(Jr(this.U,this.V,"tick",this.mb),this.V.start())):(ks(this.j,this.m,p,null),Uo(this,p)),4==J&&Ys(this),this.i&&!this.J&&(4==J?Za(this.l,this):(this.i=!1,ar(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Si(12)):(this.o=0,Si(13)),Ys(this),ao(this)}}}catch{}},me.mb=function(){if(this.g){var r=wn(this.g),e=this.g.ja();this.C<e.length&&(Us(this),ea(this,r,e),this.i&&4!=r&&ar(this))}},me.cancel=function(){this.J=!0,Ys(this)},me.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function oo(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(rs(),Si(17)),Ys(this),this.o=2,ao(this)):Lo(this,this.Y-r)};var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mi(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Mi){this.h=void 0!==e?e:r.h,gs(this,r.j),this.s=r.s,this.g=r.g,Ei(this,r.m),this.l=r.l,e=r.i;var t=new Ma;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ds(this,t),this.o=r.o}else r&&(t=String(r).match(Gi))?(this.h=!!e,gs(this,t[1]||"",!0),this.s=Qs(t[2]||""),this.g=Qs(t[3]||"",!0),Ei(this,t[4]),this.l=Qs(t[5]||"",!0),Ds(this,t[6]||"",!0),this.o=Qs(t[7]||"")):(this.h=!!e,this.i=new Ma(null,this.h))}function ki(r){return new Mi(r)}function gs(r,e,t){r.j=t?Qs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ei(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ds(r,e,t){e instanceof Ma?(r.i=e,function na(r,e){e&&!r.j&&(Cs(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Au(this,s),As(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=za(e,$o)),r.i=new Ma(e,r.h))}function kr(r,e,t){r.i.set(e,t)}function Vs(r){return kr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Qs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function za(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Bs),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Bs(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Mi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(za(e,uo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(za(e,uo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(za(t,"/"==t.charAt(0)?ta:Sa,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",za(t,qa)),r.join("")};var uo=/[#\/\?@]/g,Sa=/[#\?:]/g,ta=/[#\?]/g,$o=/[#\?@]/g,qa=/#/g;function Ma(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Cs(r){r.g||(r.g=new Map,r.h=0,r.i&&function Qi(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Au(r,e){Cs(r),e=$s(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function su(r,e){return Cs(r),e=$s(r,e),r.g.has(e)}function As(r,e,t){Au(r,e),0<t.length&&(r.i=null,r.g.set($s(r,e),Lt(t)),r.h+=t.length)}function $s(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function lo(r){this.l=r||ju,r=yt.PerformanceNavigationTiming?0<(r=yt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(yt.g&&yt.g.Ka&&yt.g.Ka()&&yt.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(me=Ma.prototype).add=function(r,e){Cs(this),this.i=null,r=$s(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},me.forEach=function(r,e){Cs(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},me.sa=function(){Cs(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},me.Z=function(r){Cs(this);let e=[];if("string"==typeof r)su(this,r)&&(e=e.concat(this.g.get($s(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},me.set=function(r,e){return Cs(this),this.i=null,su(this,r=$s(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},me.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var a=c;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),r.push(a)}}return this.i=r.join("&")};var ju=10;function ms(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ra(r){return r.h?1:r.g?r.g.size:0}function Do(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function co(r,e){r.g?r.g.add(e):r.h=e}function Ka(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Ji(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Lt(r.i)}function is(){}function $r(){this.g=new is}function ho(r,e,t){const s=t||"";try{Bo(r,function(a,c){let p=a;en(a)&&(p=ke(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function fo(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Li(r){this.l=r.fc||null,this.j=r.ob||!1}function jo(r,e){oe.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=ia,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lo.prototype.cancel=function(){if(this.i=Ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},is.prototype.stringify=function(r){return yt.JSON.stringify(r,void 0)},is.prototype.parse=function(r){return yt.JSON.parse(r,void 0)},st(Li,ut),Li.prototype.g=function(){return new jo(this.l,this.j)},Li.prototype.i=function(r){return function(){return r}}({}),st(jo,oe);var ia=0;function Pi(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function sa(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Ui(r)}function Ui(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(me=jo.prototype).open=function(r,e){if(this.readyState!=ia)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Ui(this)},me.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||yt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sa(this)),this.readyState=ia},me.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof yt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pi(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},me.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?sa(this):Ui(this),3==this.readyState&&Pi(this)}},me.Za=function(r){this.g&&(this.response=this.responseText=r,sa(this))},me.Ya=function(r){this.g&&(this.response=r,sa(this))},me.ka=function(){this.g&&sa(this)},me.setRequestHeader=function(r,e){this.v.append(r,e)},me.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(jo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var ss=yt.JSON.parse;function Sr(r){oe.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vi,this.L=this.M=!1}st(Sr,oe);var Vi="",Xs=/^https?$/i,wr=["POST","PUT"];function oa(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,aa(r),Pa(r)}function aa(r){r.F||(r.F=!0,ve(r,"complete"),ve(r,"error"))}function Xi(r){if(r.h&&typeof Rt<"u"&&(!r.C[1]||4!=wn(r)||2!=r.da()))if(r.v&&4==wn(r))Mt(r.La,0,r);else if(ve(r,"readystatechange"),4==wn(r)){r.h=!1;try{const C=r.da();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===C){var a=String(r.I).match(Gi)[1]||null;if(!a&&yt.self&&yt.self.location){var c=yt.self.location.protocol;a=c.substr(0,c.length-1)}s=!Xs.test(a?a.toLowerCase():"")}t=s}if(t)ve(r,"complete"),ve(r,"success");else{r.m=6;try{var p=2<wn(r)?r.g.statusText:""}catch{p=""}r.j=p+" ["+r.da()+"]",aa(r)}}finally{Pa(r)}}}function Pa(r,e){if(r.g){gi(r);const t=r.g,s=r.C[0]?an:null;r.g=null,r.C=null,e||ve(r,"ready");try{t.onreadystatechange=s}catch{}}}function gi(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(yt.clearTimeout(r.A),r.A=null)}function wn(r){return r.g?r.g.readyState:0}function V(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Vi:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function L(r){let e="";return Bt(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function O(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=L(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):kr(r,e,t))}function ee(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function it(r){this.Ga=0,this.i=[],this.j=new ci,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ee("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ee("baseRetryDelayMs",5e3,r),this.hb=ee("retryDelaySeedMs",1e4,r),this.eb=ee("forwardChannelMaxRetries",2,r),this.xa=ee("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new lo(r&&r.concurrentRequestLimit),this.Ja=new $r,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function pn(r){if(Bi(r),3==r.H){var e=r.W++,t=ki(r.G);kr(t,"SID",r.J),kr(t,"RID",e),kr(t,"TYPE","terminate"),Ss(r,t),(e=new Oi(r,r.j,e,void 0)).L=2,e.v=Vs(ki(t)),t=!1,yt.navigator&&yt.navigator.sendBeacon&&(t=yt.navigator.sendBeacon(e.v.toString(),"")),!t&&yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ma(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ar(e)}hs(r)}function Mr(r){r.g&&(wi(r),r.g.cancel(),r.g=null)}function Bi(r){Mr(r),r.u&&(yt.clearTimeout(r.u),r.u=null),Na(r),r.h.cancel(),r.m&&("number"==typeof r.m&&yt.clearTimeout(r.m),r.m=null)}function It(r){ms(r.h)||r.m||(r.m=!0,nt(r.Na,r),r.C=0)}function Co(r,e){var t;t=e?e.m:r.W++;const s=ki(r.G);kr(s,"SID",r.J),kr(s,"RID",t),kr(s,"AID",r.V),Ss(r,s),r.o&&r.s&&O(s,r.o,r.s),t=new Oi(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=mi(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),co(r.h,t),Fs(t,s,e)}function Ss(r,e){r.ma&&Bt(r.ma,function(t,s){kr(e,s,t)}),r.l&&Bo({},function(t,s){kr(e,s,t)})}function mi(r,e,t){t=Math.min(r.i.length,t);var s=r.l?Ge(r.l.Va,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let C=!0;for(let B=0;B<t;B++){let G=a[B].h;const J=a[B].g;if(G-=c,0>G)c=Math.max(0,a[B].h-100),C=!1;else try{ho(J,p,"req"+G+"_")}catch{s&&s(J)}}if(C){s=p.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function Ra(r){r.g||r.u||(r.ba=1,nt(r.Ma,r),r.A=0)}function ys(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=pe(Ge(r.Ma,r),fu(r,r.A)),r.A++,0))}function wi(r){null!=r.B&&(yt.clearTimeout(r.B),r.B=null)}function xa(r){r.g=new Oi(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ki(r.wa);kr(e,"RID","rpc"),kr(e,"SID",r.J),kr(e,"CI",r.M?"0":"1"),kr(e,"AID",r.V),kr(e,"TYPE","xmlhttp"),Ss(r,e),r.o&&r.s&&O(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=Vs(ki(e)),t.s=null,t.S=!0,Zs(t,r)}function Na(r){null!=r.v&&(yt.clearTimeout(r.v),r.v=null)}function Za(r,e){var t=null;if(r.g==e){Na(r),wi(r),r.g=null;var s=2}else{if(!Do(r.h,e))return;t=e.F,Ka(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;ve(s=Gr(),new Or(s,t)),It(r)}else Ra(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==s&&function nr(r,e){return!(ra(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=pe(Ge(r.Na,r,e),fu(r,r.C)),r.C++,0)))}(r,e)||2==s&&ys(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Go(r,5);break;case 4:Go(r,10);break;case 3:Go(r,6);break;default:Go(r,2)}}function fu(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Go(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=Ge(r.pb,r);t||(t=new Mi("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||gs(t,"https"),Vs(t)),function Js(r,e){const t=new ci;if(yt.Image){const s=new Image;s.onload=Ot(fo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ot(fo,t,s,"TestLoadImage: error",!1,e),s.onabort=Ot(fo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ot(fo,t,s,"TestLoadImage: timeout",!1,e),yt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Si(2);r.H=0,r.l&&r.l.za(e),hs(r),Bi(r)}function hs(r){if(r.H=0,r.pa=[],r.l){const e=Ji(r.h);(0!=e.length||0!=r.i.length)&&(We(r.pa,e),We(r.pa,r.i),r.h.i.length=0,Lt(r.i),r.i.length=0),r.l.ya()}}function po(r,e,t){var s=t instanceof Mi?ki(t):new Mi(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Ei(s,s.m);else{var a=yt.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Mi(null,void 0);s&&gs(c,s),e&&(c.g=e),a&&Ei(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&kr(s,t,e),kr(s,"VER",r.qa),Ss(r,s),s}function ma(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Sr(t&&r.Ha&&!r.va?new Li({ob:!0}):r.va)).Oa(r.I),e}function Ya(){}function Ao(){if(Xe&&!(10<=Number(Zr)))throw Error("Environmental error: no available transport.")}function Ms(r,e){oe.call(this),this.g=new it(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Ne(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ne(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new ka(this)}function pu(r){En.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Oa(){sr.call(this),this.status=1}function ka(r){this.g=r}function js(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Qa(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],p=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;p=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(p<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((c=(e=t+((p=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=c+((p=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Fr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(me=Sr.prototype).Oa=function(r){this.M=r},me.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ni.g(),this.C=function kt(r){return r.h||(r.h=r.i())}(this.u?this.u:Ni),this.g.onreadystatechange=Ge(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void oa(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=yt.FormData&&r instanceof yt.FormData,!(0<=dt(wr,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gi(this),0<this.B&&((this.L=function Ho(r){return Xe&&function tn(){return fe(Hi,9,function(){let r=0;const e=Et(String(Dr)).split("."),t=Et("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==r&&p<s;p++){var a=e[p]||"",c=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=ue(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||ue(0==a[2].length,0==c[2].length)||ue(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ge(this.ua,this)):this.A=Mt(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){oa(this,c)}},me.ua=function(){typeof Rt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ve(this,"timeout"),this.abort(8))},me.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,ve(this,"complete"),ve(this,"abort"),Pa(this))},me.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pa(this,!0)),Sr.$.N.call(this)},me.La=function(){this.s||(this.G||this.v||this.l?Xi(this):this.kb())},me.kb=function(){Xi(this)},me.da=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},me.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},me.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),ss(e)}},me.Ia=function(){return this.m},me.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=it.prototype).qa=8,me.H=1,me.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Oi(this,this.j,r,void 0);let c=this.s;if(this.U&&(c?(c=Fn(c),xr(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mi(this,a,e),kr(t=ki(this.G),"RID",r),kr(t,"CVER",22),this.F&&kr(t,"X-HTTP-Session-Id",this.F),Ss(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(L(c)))+"&"+e:this.o&&O(t,this.o,c)),co(this.h,a),this.bb&&kr(t,"TYPE","init"),this.P?(kr(t,"$req",e),kr(t,"SID","null"),a.ba=!0,Fs(a,t,null)):Fs(a,t,e),this.H=2}}else 3==this.H&&(r?Co(this,r):0==this.i.length||ms(this.h)||Co(this))},me.Ma=function(){if(this.u=null,xa(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=pe(Ge(this.jb,this),r)}},me.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Si(10),Mr(this),xa(this))},me.ib=function(){null!=this.v&&(this.v=null,Mr(this),ys(this),Si(19))},me.pb=function(r){r?(this.j.info("Successfully pinged google.com"),Si(2)):(this.j.info("Failed to ping google.com"),Si(1))},(me=Ya.prototype).Ba=function(){},me.Aa=function(){},me.za=function(){},me.ya=function(){},me.Va=function(){},Ao.prototype.g=function(r,e){return new Ms(r,e)},st(Ms,oe),Ms.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;Si(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=po(r,null,r.Y),It(r)},Ms.prototype.close=function(){pn(this.g)},Ms.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=ke(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&It(e)},Ms.prototype.N=function(){this.g.l=null,delete this.j,pn(this.g),delete this.g,Ms.$.N.call(this)},st(pu,En),st(Oa,sr),st(ka,Ya),ka.prototype.Ba=function(){ve(this.g,"a")},ka.prototype.Aa=function(r){ve(this.g,new pu(r))},ka.prototype.za=function(r){ve(this.g,new Oa)},ka.prototype.ya=function(){ve(this.g,"b")},st(js,function eo(){this.blockSize=-1}),js.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},js.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Qa(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){Qa(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){Qa(this,s),a=0;break}}this.h=a,this.i+=e},js.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Ja={};function Hs(r){return-128<=r&&128>r?fe(Ja,r,function(e){return new Fr([0|e],0>e?-1:0)}):new Fr([0|r],0>r?-1:0)}function zi(r){if(isNaN(r)||!isFinite(r))return go;if(0>r)return An(zi(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=zo;return new Fr(e,0)}var zo=4294967296,go=Hs(0),gu=Hs(1),ua=Hs(16777216);function Gs(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Tr(r){return-1==r.h}function An(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Fr(t,~r.h).add(gu)}function So(r,e){return r.add(An(e))}function Xr(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function ou(r,e){this.g=r,this.h=e}function P(r,e){if(Gs(e))throw Error("division by zero");if(Gs(r))return new ou(go,go);if(Tr(r))return e=P(An(r),e),new ou(An(e.g),An(e.h));if(Tr(e))return e=P(r,An(e)),new ou(An(e.g),e.h);if(30<r.g.length){if(Tr(r)||Tr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=gu,s=e;0>=s.X(r);)t=H(t),s=H(s);var a=k(t,1),c=k(s,1);for(s=k(s,2),t=k(t,2);!Gs(s);){var p=c.add(s);0>=p.X(r)&&(a=a.add(t),c=p),s=k(s,1),t=k(t,1)}return e=So(r,a.R(e)),new ou(a,e)}for(a=go;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),p=(c=zi(t)).R(e);Tr(p)||0<p.X(r);)p=(c=zi(t-=s)).R(e);Gs(c)&&(c=gu),a=a.add(c),r=So(r,p)}return new ou(a,r)}function H(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Fr(t,r.h)}function k(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Fr(a,r.h)}(me=Fr.prototype).ea=function(){if(Tr(this))return-An(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:zo+s)*e,e*=zo}return r},me.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Gs(this))return"0";if(Tr(this))return"-"+An(this).toString(r);for(var e=zi(Math.pow(r,6)),t=this,s="";;){var a=P(t,e).g,c=((0<(t=So(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Gs(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},me.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},me.X=function(r){return Tr(r=So(this,r))?-1:Gs(r)?0:1},me.abs=function(){return Tr(this)?An(this):this},me.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),p=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=p>>>16,t[a]=(p&=65535)<<16|(c&=65535)}return new Fr(t,-2147483648&t[t.length-1]?-1:0)},me.R=function(r){if(Gs(this)||Gs(r))return go;if(Tr(this))return Tr(r)?An(this).R(An(r)):An(An(this).R(r));if(Tr(r))return An(this.R(An(r)));if(0>this.X(ua)&&0>r.X(ua))return zi(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,p=65535&this.D(s),C=r.D(a)>>>16,B=65535&r.D(a);t[2*s+2*a]+=p*B,Xr(t,2*s+2*a),t[2*s+2*a+1]+=c*B,Xr(t,2*s+2*a+1),t[2*s+2*a+1]+=p*C,Xr(t,2*s+2*a+1),t[2*s+2*a+2]+=c*C,Xr(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Fr(t,0)},me.gb=function(r){return P(this,r).h},me.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Fr(t,this.h&r.h)},me.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Fr(t,this.h|r.h)},me.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Fr(t,this.h^r.h)},Ao.prototype.createWebChannel=Ao.prototype.g,Ms.prototype.send=Ms.prototype.u,Ms.prototype.open=Ms.prototype.m,Ms.prototype.close=Ms.prototype.close,ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Ue.COMPLETE="complete",on.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",oe.prototype.listen=oe.prototype.O,Sr.prototype.listenOnce=Sr.prototype.P,Sr.prototype.getLastError=Sr.prototype.Sa,Sr.prototype.getLastErrorCode=Sr.prototype.Ia,Sr.prototype.getStatus=Sr.prototype.da,Sr.prototype.getResponseJson=Sr.prototype.Wa,Sr.prototype.getResponseText=Sr.prototype.ja,Sr.prototype.send=Sr.prototype.ha,Sr.prototype.setWithCredentials=Sr.prototype.Oa,js.prototype.digest=js.prototype.l,js.prototype.reset=js.prototype.reset,js.prototype.update=js.prototype.j,Fr.prototype.add=Fr.prototype.add,Fr.prototype.multiply=Fr.prototype.R,Fr.prototype.modulo=Fr.prototype.gb,Fr.prototype.compare=Fr.prototype.X,Fr.prototype.toNumber=Fr.prototype.ea,Fr.prototype.toString=Fr.prototype.toString,Fr.prototype.getBits=Fr.prototype.D,Fr.fromNumber=zi,Fr.fromString=function Xa(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return An(Xa(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=zi(Math.pow(e,8)),s=go,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),p=parseInt(r.substring(a,a+c),e);8>c?(c=zi(Math.pow(e,c)),s=s.R(c).add(zi(p))):s=(s=s.R(t)).add(zi(p))}return s};var Y=ht.createWebChannelTransport=function(){return new Ao},ge=ht.getStatEventTarget=function(){return Gr()},tt=ht.ErrorCode=ye,bt=ht.EventType=Ue,gn=ht.Event=Nr,jr=ht.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ei=ht.FetchXmlHttpFactory=Li,dr=ht.WebChannel=on,Qn=ht.XhrIo=Sr,oi=ht.Md5=js,Xn=ht.Integer=Fr;const Ri="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let Ir="9.21.0";const os=new he.Yd("@firebase/firestore");function er(){return os.logLevel}function Nt(r,...e){if(os.logLevel<=he.in.DEBUG){const t=e.map(Su);os.debug(`Firestore (${Ir}): ${r}`,...t)}}function Lr(r,...e){if(os.logLevel<=he.in.ERROR){const t=e.map(Su);os.error(`Firestore (${Ir}): ${r}`,...t)}}function Ps(r,...e){if(os.logLevel<=he.in.WARN){const t=e.map(Su);os.warn(`Firestore (${Ir}): ${r}`,...t)}}function Su(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function rn(r="Unexpected state"){const e=`FIRESTORE (${Ir}) INTERNAL ASSERTION FAILED: `+r;throw Lr(e),new Error(e)}function mn(r,e){r||rn()}function qt(r,e){return r}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class al{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class Cl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mu{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=G=>this.i!==a?(a=this.i,t(G)):Promise.resolve();let p=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Fi,e.enqueueRetryable(()=>c(this.currentUser))};const C=()=>{const G=p;e.enqueueRetryable((0,be.Z)(function*(){yield G.promise,yield c(s.currentUser)}))},B=G=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(G=>B(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?B(G):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Fi)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(mn("string"==typeof s.accessToken),new Mo(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mn(null===e||"string"==typeof e),new zr(e)}}class Hu{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ya{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Hu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.T;return this.T=c.token,Nt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mn("string"==typeof t.token),this.T=t.token,new yi(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pu(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Fa{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Pu(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function qn(r,e){return r<e?-1:r>e?1:0}function _u(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new rr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qn(this.nanoseconds,e.nanoseconds):qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tn(e)}static min(){return new Tn(new rr(0,0))}static max(){return new Tn(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mo{constructor(e,t,s){void 0===t?t=0:t>e.length&&rn(),void 0===s?s=e.length-t:s>e.length-t&&rn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===mo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mo?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mr extends mo{construct(e,t,s){return new mr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Pt(at.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new mr(t)}static emptyPath(){return new mr([])}}const _a=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends mo{construct(e,t,s){return new ti(e,t,s)}static isValidIdentifier(e){return _a.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ti(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Pt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const C=e[a];if("\\"===C){if(a+1===e.length)throw new Pt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[a+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new Pt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=B,a+=2}else"`"===C?(p=!p,a++):"."!==C||p?(s+=C,a++):(c(),a++)}if(c(),p)throw new Pt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(t)}static emptyPath(){return new ti([])}}class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(mr.fromString(e))}static fromName(e){return new Jt(mr.fromString(e).popFirst(5))}static empty(){return new Jt(mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new mr(e.slice()))}}function es(r){return new ai(r.readTime,r.key,-1)}class ai{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ai(Tn.min(),Jt.empty(),-1)}static max(){return new ai(Tn.max(),Jt.empty(),-1)}}function Ro(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Jt.comparator(r.documentKey,e.documentKey),0!==t?t:qn(r.largestBatchId,e.largestBatchId))}const qo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function va(r){return $i.apply(this,arguments)}function $i(){return $i=(0,be.Z)(function*(r){if(r.code!==at.FAILED_PRECONDITION||r.message!==qo)throw r;Nt("LocalStore","Unexpectedly lost primary lease")}),$i.apply(this,arguments)}class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qe((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Qe?t:Qe.resolve(t)}catch(t){return Qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Qe.reject(t)}static resolve(e){return new Qe((t,s)=>{t(e)})}static reject(e){return new Qe((t,s)=>{s(e)})}static waitFor(e){return new Qe((t,s)=>{let a=0,c=0,p=!1;e.forEach(C=>{++a,C.next(()=>{++c,p&&c===a&&t()},B=>s(B))}),p=!0,c===a&&t()})}static or(e){let t=Qe.resolve(!1);for(const s of e)t=t.next(a=>a?Qe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Qe((s,a)=>{const c=e.length,p=new Array(c);let C=0;for(let B=0;B<c;B++){const G=B;t(e[G]).next(J=>{p[G]=J,++C,C===c&&s(p)},J=>a(J))}})}static doWhile(e,t){return new Qe((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function _s(r){return"IndexedDbTransactionError"===r.name}let vs=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function ui(r){return null==r}function Eu(r){return 0===r&&1/r==-1/0}function wa(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function vo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function cl(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class _i{constructor(e,t){this.comparator=e,this.root=t||Ti.EMPTY}insert(e,t){return new _i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new _i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lu(this.root,e,this.comparator,!0)}}class lu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Ti.RED,this.left=a??Ti.EMPTY,this.right=c??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Ti(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ti.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rn();const e=this.left.check();if(e!==this.right.check())throw rn();return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1,Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw rn()}get value(){throw rn()}get color(){throw rn()}get left(){throw rn()}get right(){throw rn()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Ti(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ni{constructor(e){this.comparator=e,this.data=new _i(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ic(this.data.getIterator())}getIteratorFrom(e){return new Ic(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ni(this.comparator);return t.data=e,t}}class Ic{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ko{constructor(e){this.fields=e,e.sort(ti.comparator)}static empty(){return new Ko([])}unionWith(e){let t=new ni(ti.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ko(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class zl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zl("Invalid base64 string: "+a):a}}(e);return new Wi(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Wi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wi.EMPTY_BYTE_STRING=new Wi("");const Wl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(r){if(mn(!!r),"string"==typeof r){let e=0;const t=Wl.exec(r);if(mn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ji(r.seconds),nanos:ji(r.nanos)}}function ji(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ts(r){return"string"==typeof r?Wi.fromBase64String(r):Wi.fromUint8Array(r)}function Zu(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Eo(r){const e=r.mapValue.fields.__previous_value__;return Zu(e)?Eo(e):e}function Yu(r){const e=Ta(r.mapValue.fields.__local_write_time__.timestampValue);return new rr(e.seconds,e.nanos)}class dl{constructor(e,t,s,a,c,p,C,B){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=C,this.useFetchStreams=B}}class wu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}const Tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ja(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zu(r)?4:Oo(r)?9007199254740991:10:rn()}function M(r,e){if(r===e)return!0;const t=ja(r);if(t!==ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yu(r).isEqual(Yu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Ta(s.timestampValue),p=Ta(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ts(r.bytesValue).isEqual(Ts(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return ji(s.geoPointValue.latitude)===ji(a.geoPointValue.latitude)&&ji(s.geoPointValue.longitude)===ji(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ji(s.integerValue)===ji(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=ji(s.doubleValue),p=ji(a.doubleValue);return c===p?Eu(c)===Eu(p):isNaN(c)&&isNaN(p)}return!1}(r,e);case 9:return _u(r.arrayValue.values||[],e.arrayValue.values||[],M);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(wa(c)!==wa(p))return!1;for(const C in c)if(c.hasOwnProperty(C)&&(void 0===p[C]||!M(c[C],p[C])))return!1;return!0}(r,e);default:return rn()}var a}function N(r,e){return void 0!==(r.values||[]).find(t=>M(t,e))}function z(r,e){if(r===e)return 0;const t=ja(r),s=ja(e);if(t!==s)return qn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return qn(r.booleanValue,e.booleanValue);case 2:return function(a,c){const p=ji(a.integerValue||a.doubleValue),C=ji(c.integerValue||c.doubleValue);return p<C?-1:p>C?1:p===C?0:isNaN(p)?isNaN(C)?0:-1:1}(r,e);case 3:return se(r.timestampValue,e.timestampValue);case 4:return se(Yu(r),Yu(e));case 5:return qn(r.stringValue,e.stringValue);case 6:return function(a,c){const p=Ts(a),C=Ts(c);return p.compareTo(C)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),C=c.split("/");for(let B=0;B<p.length&&B<C.length;B++){const G=qn(p[B],C[B]);if(0!==G)return G}return qn(p.length,C.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const p=qn(ji(a.latitude),ji(c.latitude));return 0!==p?p:qn(ji(a.longitude),ji(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],C=c.values||[];for(let B=0;B<p.length&&B<C.length;++B){const G=z(p[B],C[B]);if(G)return G}return qn(p.length,C.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Tu.mapValue&&c===Tu.mapValue)return 0;if(a===Tu.mapValue)return 1;if(c===Tu.mapValue)return-1;const p=a.fields||{},C=Object.keys(p),B=c.fields||{},G=Object.keys(B);C.sort(),G.sort();for(let J=0;J<C.length&&J<G.length;++J){const Ie=qn(C[J],G[J]);if(0!==Ie)return Ie;const Ke=z(p[C[J]],B[G[J]]);if(0!==Ke)return Ke}return qn(C.length,G.length)}(r.mapValue,e.mapValue);default:throw rn()}}function se(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return qn(r,e);const t=Ta(r),s=Ta(e),a=qn(t.seconds,s.seconds);return 0!==a?a:qn(t.nanos,s.nanos)}function Re(r){return qe(r)}function qe(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Ta(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ts(r.bytesValue).toBase64():"referenceValue"in r?Jt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=qe(p);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const C of a)p?p=!1:c+=",",c+=`${C}:${qe(s.fields[C])}`;return c+"}"}(r.mapValue):rn();var e}function cn(r){return!!r&&"integerValue"in r}function bn(r){return!!r&&"arrayValue"in r}function Jn(r){return!!r&&"nullValue"in r}function Wn(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wo(r){return!!r&&"mapValue"in r}function ts(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return vo(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ts(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ts(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Oo(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!wo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ts(t)}setAll(e){let t=ti.emptyPath(),s={},a=[];e.forEach((p,C)=>{if(!t.isImmediateParentOf(C)){const B=this.getFieldsMap(t);this.applyChanges(B,s,a),s={},a=[],t=C.popLast()}p?s[C.lastSegment()]=ts(p):a.push(C.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());wo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return M(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];wo(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){vo(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new ns(ts(this.value))}}function Kl(r){const e=[];return vo(r.fields,(t,s)=>{const a=new ti([t]);if(wo(s)){const c=Kl(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new Ko(e)}class Ki{constructor(e,t,s,a,c,p,C){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=p,this.documentState=C}static newInvalidDocument(e){return new Ki(e,0,Tn.min(),Tn.min(),Tn.min(),ns.empty(),0)}static newFoundDocument(e,t,s,a){return new Ki(e,1,t,Tn.min(),s,a,0)}static newNoDocument(e,t){return new Ki(e,2,t,Tn.min(),Tn.min(),ns.empty(),0)}static newUnknownDocument(e,t){return new Ki(e,3,t,Tn.min(),Tn.min(),ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lu{constructor(e,t){this.position=e,this.inclusive=t}}function bc(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],p=r.position[a];if(s=c.field.isKeyField()?Jt.comparator(Jt.fromName(p.referenceValue),t.key):z(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Qc(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!M(r.position[t],e.position[t]))return!1;return!0}class fl{constructor(e,t="asc"){this.field=e,this.dir=t}}function da(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Dc{}class Vr extends Dc{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new tp(e,t,s):"array-contains"===t?new Jl(e,s):"in"===t?new Al(e,s):"not-in"===t?new w(e,s):"array-contains-any"===t?new d(e,s):new Vr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Xc(e,s):new np(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(z(t,this.value)):null!==t&&ja(this.value)===ja(t)&&this.matchesComparison(z(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vi extends Dc{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new vi(e,t)}matches(e){return xs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function xs(r){return"and"===r.op}function Zl(r){return function Yl(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}(r)&&xs(r)}function Cc(r){if(r instanceof Vr)return r.field.canonicalString()+r.op.toString()+Re(r.value);if(Zl(r))return r.filters.map(e=>Cc(e)).join(",");{const e=r.filters.map(t=>Cc(t)).join(",");return`${r.op}(${e})`}}function Ql(r,e){return r instanceof Vr?(t=r,(s=e)instanceof Vr&&t.op===s.op&&t.field.isEqual(s.field)&&M(t.value,s.value)):r instanceof vi?function(t,s){return s instanceof vi&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,p)=>a&&Ql(c,s.filters[p]),!0)}(r,e):void rn();var t,s}function Jc(r){return r instanceof Vr?`${(e=r).field.canonicalString()} ${e.op} ${Re(e.value)}`:r instanceof vi?function(e){return e.op.toString()+" {"+e.getFilters().map(Jc).join(" ,")+"}"}(r):"Filter";var e}class tp extends Vr{constructor(e,t,s){super(e,t,s),this.key=Jt.fromName(s.referenceValue)}matches(e){const t=Jt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xc extends Vr{constructor(e,t){super(e,"in",t),this.keys=Ph(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class np extends Vr{constructor(e,t){super(e,"not-in",t),this.keys=Ph(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ph(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Jt.fromName(s.referenceValue))}class Jl extends Vr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bn(t)&&N(t.arrayValue,this.value)}}class Al extends Vr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&N(this.value.arrayValue,t)}}class w extends Vr{constructor(e,t){super(e,"not-in",t)}matches(e){if(N(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!N(this.value.arrayValue,t)}}class d extends Vr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bn(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>N(this.value.arrayValue,s))}}class m{constructor(e,t=null,s=[],a=[],c=null,p=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=C,this.ft=null}}function b(r,e=null,t=[],s=[],a=null,c=null,p=null){return new m(r,e,t,s,a,c,p)}function F(r){const e=qt(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Cc(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),ui(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Re(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Re(s)).join(",")),e.ft=t}return e.ft}function W(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!da(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ql(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Qc(r.startAt,e.startAt)&&Qc(r.endAt,e.endAt)}function ie(r){return Jt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class xt{constructor(e,t=null,s=[],a=[],c=null,p="F",C=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=C,this.endAt=B,this.dt=null,this._t=null}}function Sn(r){return new xt(r)}function xn(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function fr(r){const e=qt(r);if(null===e.dt){e.dt=[];const t=function Pn(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),s=function vn(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new fl(t)),e.dt.push(new fl(ti.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new fl(ti.keyField(),c))}}}return e.dt}function pr(r){const e=qt(r);if(!e._t)if("F"===e.limitType)e._t=b(e.path,e.collectionGroup,fr(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of fr(e))t.push(new fl(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Lu(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Lu(e.startAt.position,e.startAt.inclusive):null;e._t=b(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Pr(r,e,t){return new xt(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ro(r,e){return W(pr(r),pr(e))&&r.limitType===e.limitType}function To(r){return`${F(pr(r))}|lt:${r.limitType}`}function Ns(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Jc(s)).join(", ")}]`),ui(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Re(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Re(s)).join(",")),`Target(${t})`}(pr(r))}; limitType=${r.limitType})`}function qs(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Jt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of fr(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,p){const C=bc(a,c,p);return a.inclusive?C<=0:C<0}(t.startAt,fr(t),s)||t.endAt&&!function(a,c,p){const C=bc(a,c,p);return a.inclusive?C>=0:C>0}(t.endAt,fr(t),s)));var t,s}function Zo(r){return(e,t)=>{let s=!1;for(const a of fr(r)){const c=ed(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function ed(r,e,t){const s=r.field.isKeyField()?Jt.comparator(e.key,t.key):function(a,c,p){const C=c.data.field(a),B=p.data.field(a);return null!==C&&null!==B?z(C,B):rn()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return rn()}}class Ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return cl(this.inner)}size(){return this.innerSize}}const gl=new _i(Jt.comparator);function ba(){return gl}const Sl=new _i(Jt.comparator);function Dn(...r){let e=Sl;for(const t of r)e=e.insert(t.key,t);return e}function $n(r){let e=Sl;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ln(){return us()}function Wr(){return us()}function us(){return new Ia(r=>r.toString(),(r,e)=>r.isEqual(e))}const cu=new _i(Jt.comparator),Yo=new ni(Jt.comparator);function Kn(...r){let e=Yo;for(const t of r)e=e.add(t);return e}const ls=new ni(qn);function Ac(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eu(e)?"-0":e}}function io(r){return{integerValue:""+r}}function ru(r,e){return function Ba(r){return"number"==typeof r&&Number.isInteger(r)&&!Eu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?io(e):Ac(r,e)}class fa{constructor(){this._=void 0}}function Xl(r,e,t){return r instanceof Sc?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Zu(a)&&(a=Eo(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Pl?Rh(r,e):r instanceof Ju?kd(r,e):function(s,a){const c=rp(s,a),p=ip(c)+ip(s.wt);return cn(c)&&cn(s.wt)?io(p):Ac(s.serializer,p)}(r,e)}function td(r,e,t){return r instanceof Pl?Rh(r,e):r instanceof Ju?kd(r,e):t}function rp(r,e){return r instanceof Uu?cn(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Sc extends fa{}class Pl extends fa{constructor(e){super(),this.elements=e}}function Rh(r,e){const t=sp(e);for(const s of r.elements)t.some(a=>M(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ju extends fa{constructor(e){super(),this.elements=e}}function kd(r,e){let t=sp(e);for(const s of r.elements)t=t.filter(a=>!M(a,s));return{arrayValue:{values:t}}}class Uu extends fa{constructor(e,t){super(),this.serializer=e,this.wt=t}}function ip(r){return ji(r.integerValue||r.doubleValue)}function sp(r){return bn(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class xh{constructor(e,t){this.version=e,this.transformResults=t}}class Is{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Is}static exists(e){return new Is(void 0,e)}static updateTime(e){return new Is(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class ec{}function Ld(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new iu(r.key,Is.none()):new Pc(r.key,r.data,Is.none());{const t=r.data,s=ns.empty();let a=new ni(ti.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?s.delete(c):s.set(c,p),a=a.add(c)}return new ml(r.key,s,new Ko(a.toArray()),Is.none())}}function op(r,e,t){r instanceof Pc?function(s,a,c){const p=s.value.clone(),C=lp(s.fieldTransforms,a,c.transformResults);p.setAll(C),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):r instanceof ml?function(s,a,c){if(!nd(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=lp(s.fieldTransforms,a,c.transformResults),C=a.data;C.setAll(up(s)),C.setAll(p),a.convertToFoundDocument(c.version,C).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mc(r,e,t,s){return r instanceof Pc?function(a,c,p,C){if(!nd(a.precondition,c))return p;const B=a.value.clone(),G=cp(a.fieldTransforms,C,c);return B.setAll(G),c.convertToFoundDocument(c.version,B).setHasLocalMutations(),null}(r,e,t,s):r instanceof ml?function(a,c,p,C){if(!nd(a.precondition,c))return p;const B=cp(a.fieldTransforms,C,c),G=c.data;return G.setAll(up(a)),G.setAll(B),c.convertToFoundDocument(c.version,G).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(J=>J.field))}(r,e,t,s):(p=t,nd(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function ap(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=rp(s.transform,a||null);null!=c&&(null===t&&(t=ns.empty()),t.set(s.field,c))}return t||null}function Rl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&_u(t,s,(a,c)=>function jg(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Pl&&s instanceof Pl||t instanceof Ju&&s instanceof Ju?_u(t.elements,s.elements,M):t instanceof Uu&&s instanceof Uu?M(t.wt,s.wt):t instanceof Sc&&s instanceof Sc);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Pc extends ec{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ml extends ec{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function up(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function lp(r,e,t){const s=new Map;mn(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],p=c.transform,C=e.data.field(c.field);s.set(c.field,td(p,C,t[a]))}return s}function cp(r,e,t){const s=new Map;for(const a of r){const c=a.transform,p=t.data.field(a.field);s.set(a.field,Xl(c,p,e))}return s}class iu extends ec{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xl extends ec{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nh{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&op(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Mc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Mc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Wr();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let C=this.applyToLocalView(p,c.mutatedFields);C=t.has(a.key)?null:C;const B=Ld(p,C);null!==B&&s.set(a.key,B),p.isValidDocument()||p.convertToNoDocument(Tn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kn())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,(t,s)=>Rl(t,s))&&_u(this.baseMutations,e.baseMutations,(t,s)=>Rl(t,s))}}class D{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){mn(e.mutations.length===s.length);let a=cu;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new D(e,t,s,a)}}class h{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class R{constructor(e,t){this.count=e,this.unchangedNames=t}}var Z,te;function mt(r){if(void 0===r)return Lr("GRPC error has no .code"),at.UNKNOWN;switch(r){case Z.OK:return at.OK;case Z.CANCELLED:return at.CANCELLED;case Z.UNKNOWN:return at.UNKNOWN;case Z.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Z.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Z.INTERNAL:return at.INTERNAL;case Z.UNAVAILABLE:return at.UNAVAILABLE;case Z.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Z.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Z.NOT_FOUND:return at.NOT_FOUND;case Z.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Z.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Z.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Z.ABORTED:return at.ABORTED;case Z.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Z.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Z.DATA_LOSS:return at.DATA_LOSS;default:return rn()}}(te=Z||(Z={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";class Zt{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return hn}static getOrCreateInstance(){return null===hn&&(hn=new Zt),hn}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let hn=null;const gr=new Xn([4294967295,4294967295],0);function ko(r){const e=function Nn(){return new TextEncoder}().encode(r),t=new oi;return t.update(e),new Uint8Array(t.digest())}function Vu(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Xn([t,s],0),new Xn([a,c],0)]}class Nl{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ol(`Invalid padding: ${t}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ol(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Ol(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Xn.fromNumber(this.yt)}Tt(e,t,s){let a=e.add(t.multiply(Xn.fromNumber(s)));return 1===a.compare(gr)&&(a=new Xn([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=ko(e),[s,a]=Vu(t);for(let c=0;c<this.hashCount;c++){const p=this.Tt(s,a,c);if(!this.Et(p))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Nl(c,a,t);return s.forEach(C=>p.insert(C)),p}insert(e){if(0===this.yt)return;const t=ko(e),[s,a]=Vu(t);for(let c=0;c<this.hashCount;c++){const p=this.Tt(s,a,c);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tc{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new tc(Tn.min(),a,new _i(qn),ba(),Kn())}}class Rc{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Rc(s,t,Kn(),Kn(),Kn())}}class rd{constructor(e,t,s,a){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=a}}class nc{constructor(e,t){this.targetId=e,this.bt=t}}class xc{constructor(e,t,s=Wi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Oh{constructor(){this.Vt=0,this.St=Fh(),this.Dt=Wi.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Kn(),t=Kn(),s=Kn();return this.St.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:rn()}}),new Rc(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=Fh()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class kh{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=ba(),this.jt=id(),this.zt=new _i(qn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:rn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const s=e.targetId,a=e.bt.count,c=this.ne(s);if(c){const p=c.target;if(ie(p))if(0===a){const C=new Jt(p.path);this.Jt(s,C,Ki.newNoDocument(C,Tn.min()))}else mn(1===a);else{const C=this.se(s);if(C!==a){const B=this.ie(e,C);0!==B&&(this.te(s),this.zt=this.zt.insert(s,2===B?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Zt.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(G,J,Ie){var Ke,Dt,Ht,sn,Rn,_r;const Ii={localCacheCount:J,existenceFilterCount:Ie.count},br=Ie.unchangedNames;return br&&(Ii.bloomFilter={applied:0===G,hashCount:null!==(Ke=br?.hashCount)&&void 0!==Ke?Ke:0,bitmapLength:null!==(sn=null===(Ht=null===(Dt=br?.bits)||void 0===Dt?void 0:Dt.bitmap)||void 0===Ht?void 0:Ht.length)&&void 0!==sn?sn:0,padding:null!==(_r=null===(Rn=br?.bits)||void 0===Rn?void 0:Rn.padding)&&void 0!==_r?_r:0}),Ii}(B,C,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:a}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:p=0},hashCount:C=0}=s;let B,G;try{B=Ts(c).toUint8Array()}catch(J){if(J instanceof zl)return Ps("Decoding the base64 bloom filter in existence filter failed ("+J.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw J}try{G=new Nl(B,p,C)}catch(J){return Ps(J instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",J),1}return 0===G.yt?1:a!==t-this.re(e.targetId,G)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const p=this.Kt.oe(),C=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.At(C)||(this.Jt(e,c,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((c,p)=>{const C=this.ne(p);if(C){if(c.current&&ie(C.target)){const B=new Jt(C.target.path);null!==this.Qt.get(B)||this.ce(p,B)||this.Jt(p,B,Ki.newNoDocument(B,e))}c.kt&&(t.set(p,c.Ot()),c.$t())}});let s=Kn();this.jt.forEach((c,p)=>{let C=!0;p.forEachWhile(B=>{const G=this.ne(B);return!G||"TargetPurposeLimboResolution"===G.purpose||(C=!1,!1)}),C&&(s=s.add(c))}),this.Qt.forEach((c,p)=>p.setReadTime(e));const a=new tc(e,t,this.zt,this.Qt,s);return this.Qt=ba(),this.jt=id(),this.zt=new _i(qn),a}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new Oh,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new ni(qn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Nt("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Oh),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function id(){return new _i(Jt.comparator)}function Fh(){return new _i(Jt.comparator)}const Ud={asc:"ASCENDING",desc:"DESCENDING"},dp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fy={and:"AND",or:"OR"};class Hg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sd(r,e){return r.useProto3Json||ui(e)?e:{value:e}}function Nc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lh(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ly(r,e){return Nc(r,e.toTimestamp())}function Ur(r){return mn(!!r),Tn.fromTimestamp(function(e){const t=Ta(e);return new rr(t.seconds,t.nanos)}(r))}function Uh(r,e){return(t=r,new mr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Gg(r){const e=mr.fromString(r);return mn(sc(e)),e}function Oc(r,e){return Uh(r.databaseId,e.path)}function Xu(r,e){const t=Gg(e);if(t.get(1)!==r.databaseId.projectId)throw new Pt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Pt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Jt(qg(t))}function hp(r,e){return Uh(r.databaseId,e)}function Vd(r){return new mr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function qg(r){return mn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function fp(r,e,t){return{name:Oc(r,e),fields:t.value.mapValue.fields}}function pp(r,e){return{documents:[hp(r,e.path)]}}function gp(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=hp(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hp(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(B){if(0!==B.length)return vp(vi.create(B,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(B){if(0!==B.length)return B.map(G=>{return{field:rc((J=G).field),direction:yp(J.dir)};var J})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=sd(r,e.limit);var C,B;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function Kg(r){let e=function zg(r){const e=Gg(r);return 4===e.length?mr.emptyPath():qg(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){mn(1===s);const J=t.from[0];J.allDescendants?a=J.collectionId:e=e.child(J.collectionId)}let c=[];t.where&&(c=function(J){const Ie=mp(J);return Ie instanceof vi&&Zl(Ie)?Ie.getFilters():[Ie]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(J=>{return new fl(ic((Ie=J).field),function(Ke){switch(Ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let C=null;t.limit&&(C=function(J){let Ie;return Ie="object"==typeof J?J.value:J,ui(Ie)?null:Ie}(t.limit));let B=null;var J;t.startAt&&(B=new Lu((J=t.startAt).values||[],!!J.before));let G=null;return t.endAt&&(G=function(J){return new Lu(J.values||[],!J.before)}(t.endAt)),function jt(r,e,t,s,a,c,p,C){return new xt(r,e,t,s,a,c,p,C)}(e,a,p,c,C,"F",B,G)}function mp(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ic(e.unaryFilter.field);return Vr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=ic(e.unaryFilter.field);return Vr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ic(e.unaryFilter.field);return Vr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ic(e.unaryFilter.field);return Vr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return rn()}}(r):void 0!==r.fieldFilter?Vr.create(ic((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return vi.create(e.compositeFilter.filters.map(t=>mp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rn()}}(e.compositeFilter.op))}(r):rn();var e}function yp(r){return Ud[r]}function dE(r){return dp[r]}function _p(r){return Fy[r]}function rc(r){return{fieldPath:r.canonicalString()}}function ic(r){return ti.fromServerFormat(r.fieldPath)}function vp(r){return r instanceof Vr?function(e){if("=="===e.op){if(Wn(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NAN"}};if(Jn(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wn(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NOT_NAN"}};if(Jn(e.value))return{unaryFilter:{field:rc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rc(e.field),op:dE(e.op),value:e.value}}}(r):r instanceof vi?function(e){const t=e.getFilters().map(s=>vp(s));return 1===t.length?t[0]:{compositeFilter:{op:_p(e.op),filters:t}}}(r):rn()}function Yg(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sc(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class kl{constructor(e,t,s,a,c=Tn.min(),p=Tn.min(),C=Wi.EMPTY_BYTE_STRING,B=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=C,this.expectedCount=B}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Bh{constructor(e){this.le=e}}function Ep(r){const e=Kg({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Pr(e,e.limit,"L"):e}class Uc{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(ji(e.integerValue));else if("doubleValue"in e){const s=ji(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),Eu(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Ts(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?Oo(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):rn()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const a of Object.keys(s))this.Ie(a,t),this.we(s[a],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const a of s)this.we(a,t)}Ae(e,t){this.ge(t,37),Jt.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}Uc.be=new Uc;class zy{constructor(){this.sn=new Ip}addToCollectionParentIndex(e,t){return this.sn.add(t),Qe.resolve()}getCollectionParents(e,t){return Qe.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Qe.resolve()}deleteFieldIndex(e,t){return Qe.resolve()}getDocumentsMatchingTarget(e,t){return Qe.resolve(null)}getIndexType(e,t){return Qe.resolve(0)}getFieldIndexes(e,t){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,t){return Qe.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,t){return Qe.resolve(ai.min())}updateCollectionGroup(e,t,s){return Qe.resolve()}updateIndexEntries(e,t){return Qe.resolve()}}class Ip{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new ni(mr.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ni(mr.comparator)).toArray()}}new Uint8Array(0);class Ha{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ha(e,Ha.DEFAULT_COLLECTION_PERCENTILE,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ha.DEFAULT_COLLECTION_PERCENTILE=10,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ha.DEFAULT=new Ha(41943040,Ha.DEFAULT_COLLECTION_PERCENTILE,Ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ha.DISABLED=new Ha(-1,0,0);class lc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new lc(0)}static kn(){return new lc(-1)}}class Jy{constructor(){this.changes=new Ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Qe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class e_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Sp{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Mc(s.mutation,a,Ko.empty(),rr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Kn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Kn()){const a=Ln();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let p=Dn();return c.forEach((C,B)=>{p=p.insert(C,B.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=Ln();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Kn()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,C)=>{t.set(p,C)})})}computeViews(e,t,s,a){let c=ba();const p=us(),C=us();return t.forEach((B,G)=>{const J=s.get(G.key);a.has(G.key)&&(void 0===J||J.mutation instanceof ml)?c=c.insert(G.key,G):void 0!==J?(p.set(G.key,J.mutation.getFieldMask()),Mc(J.mutation,G,J.mutation.getFieldMask(),rr.now())):p.set(G.key,Ko.empty())}),this.recalculateAndSaveOverlays(e,c).next(B=>(B.forEach((G,J)=>p.set(G,J)),t.forEach((G,J)=>{var Ie;return C.set(G,new e_(J,null!==(Ie=p.get(G))&&void 0!==Ie?Ie:null))}),C))}recalculateAndSaveOverlays(e,t){const s=us();let a=new _i((p,C)=>p-C),c=Kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const C of p)C.keys().forEach(B=>{const G=t.get(B);if(null===G)return;let J=s.get(B)||Ko.empty();J=C.applyToLocalView(G,J),s.set(B,J);const Ie=(a.get(C.batchId)||Kn()).add(B);a=a.insert(C.batchId,Ie)})}).next(()=>{const p=[],C=a.getReverseIterator();for(;C.hasNext();){const B=C.getNext(),G=B.key,J=B.value,Ie=Wr();J.forEach(Ke=>{if(!c.has(Ke)){const Dt=Ld(t.get(Ke),s.get(Ke));null!==Dt&&Ie.set(Ke,Dt),c=c.add(Ke)}}),p.push(this.documentOverlayCache.saveOverlays(e,G,Ie))}return Qe.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Jt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Gn(r){return null!==r.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Qe.resolve(Ln());let C=-1,B=c;return p.next(G=>Qe.forEach(G,(J,Ie)=>(C<Ie.largestBatchId&&(C=Ie.largestBatchId),c.get(J)?Qe.resolve():this.remoteDocumentCache.getEntry(e,J).next(Ke=>{B=B.insert(J,Ke)}))).next(()=>this.populateOverlays(e,G,c)).next(()=>this.computeViews(e,B,G,Kn())).next(J=>({batchId:C,changes:$n(J)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jt(t)).next(s=>{let a=Dn();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Dn();return this.indexManager.getCollectionParents(e,a).next(p=>Qe.forEach(p,C=>{const B=(G=t,J=C.child(a),new xt(J,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));var G,J;return this.getDocumentsMatchingCollectionQuery(e,B,s).next(G=>{G.forEach((J,Ie)=>{c=c.insert(J,Ie)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((C,B)=>{const G=B.getKey();null===c.get(G)&&(c=c.insert(G,Ki.newInvalidDocument(G)))});let p=Dn();return c.forEach((C,B)=>{const G=a.get(C);void 0!==G&&Mc(G.mutation,B,Ko.empty(),rr.now()),qs(t,B)&&(p=p.insert(C,B))}),p})}}class t_{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Qe.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:Ur(s.createTime)}),Qe.resolve()}getNamedQuery(e,t){return Qe.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:Ep(s.bundledQuery),readTime:Ur(s.readTime)}),Qe.resolve();var s}}class n_{constructor(){this.overlays=new _i(Jt.comparator),this.hs=new Map}getOverlay(e,t){return Qe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ln();return Qe.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.de(e,t,c)}),Qe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.hs.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.hs.delete(s)),Qe.resolve()}getOverlaysForCollection(e,t,s){const a=Ln(),c=t.length+1,p=new Jt(t.child("")),C=this.overlays.getIteratorFrom(p);for(;C.hasNext();){const B=C.getNext().value,G=B.getKey();if(!t.isPrefixOf(G.path))break;G.path.length===c&&B.largestBatchId>s&&a.set(B.getKey(),B)}return Qe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new _i((G,J)=>G-J);const p=this.overlays.getIterator();for(;p.hasNext();){const G=p.getNext().value;if(G.getKey().getCollectionGroup()===t&&G.largestBatchId>s){let J=c.get(G.largestBatchId);null===J&&(J=Ln(),c=c.insert(G.largestBatchId,J)),J.set(G.getKey(),G)}}const C=Ln(),B=c.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((G,J)=>C.set(G,J)),!(C.size()>=a)););return Qe.resolve(C)}de(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.hs.get(a.largestBatchId).delete(s.key);this.hs.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new h(t,s));let c=this.hs.get(t);void 0===c&&(c=Kn(),this.hs.set(t,c)),this.hs.set(t,c.add(s.key))}}class dm{constructor(){this.ls=new ni(Qo.fs),this.ds=new ni(Qo._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new Qo(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new Qo(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new Jt(new mr([])),s=new Qo(t,e),a=new Qo(t,e+1),c=[];return this.ds.forEachInRange([s,a],p=>{this.gs(p),c.push(p.key)}),c}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Jt(new mr([])),s=new Qo(t,e),a=new Qo(t,e+1);let c=Kn();return this.ds.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new Qo(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Qo{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Jt.comparator(e.key,t.key)||qn(e.Es,t.Es)}static _s(e,t){return qn(e.Es,t.Es)||Jt.comparator(e.key,t.key)}}class hm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new ni(Qo.fs)}checkEmpty(e){return Qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.As;this.As++;const p=new Nh(c,t,s,a);this.mutationQueue.push(p);for(const C of a)this.Rs=this.Rs.add(new Qo(C.key,c)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return Qe.resolve(p)}lookupMutationBatch(e,t){return Qe.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),c=a<0?0:a;return Qe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Qo(t,0),a=new Qo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],p=>{const C=this.vs(p.Es);c.push(C)}),Qe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ni(qn);return t.forEach(a=>{const c=new Qo(a,0),p=new Qo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,p],C=>{s=s.add(C.Es)})}),Qe.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Jt.isDocumentKey(c)||(c=c.child(""));const p=new Qo(new Jt(c),0);let C=new ni(qn);return this.Rs.forEachWhile(B=>{const G=B.key.path;return!!s.isPrefixOf(G)&&(G.length===a&&(C=C.add(B.Es)),!0)},p),Qe.resolve(this.bs(C))}bs(e){const t=[];return e.forEach(s=>{const a=this.vs(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){mn(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Qe.forEach(t.mutations,a=>{const c=new Qo(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new Qo(t,0),a=this.Rs.firstAfterOrEqual(s);return Qe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Qe.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Bc{constructor(e){this.Ss=e,this.docs=new _i(Jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,p=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Qe.resolve(s?s.document.mutableCopy():Ki.newInvalidDocument(t))}getEntries(e,t){let s=ba();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ki.newInvalidDocument(a))}),Qe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=ba();const p=t.path,C=new Jt(p.child("")),B=this.docs.getIteratorFrom(C);for(;B.hasNext();){const{key:G,value:{document:J}}=B.getNext();if(!p.isPrefixOf(G.path))break;G.path.length>p.length+1||Ro(es(J),s)<=0||(a.has(J.key)||qs(t,J))&&(c=c.insert(J.key,J.mutableCopy()))}return Qe.resolve(c)}getAllFromCollectionGroup(e,t,s,a){rn()}Ds(e,t){return Qe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new r_(this)}getSize(e){return Qe.resolve(this.size)}}class r_ extends Jy{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(s)}),Qe.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class Mp{constructor(e){this.persistence=e,this.Cs=new Ia(t=>F(t),W),this.lastRemoteSnapshotVersion=Tn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new dm,this.targetCount=0,this.ks=lc.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,a)=>t(a)),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),Qe.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new lc(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Qe.resolve()}updateTargetData(e,t){return this.$n(t),Qe.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Cs.forEach((p,C)=>{C.sequenceNumber<=t&&null===s.get(C.targetId)&&(this.Cs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,C.targetId)),a++)}),Qe.waitFor(c).next(()=>a)}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return Qe.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),Qe.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),Qe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Qe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return Qe.resolve(s)}containsKey(e,t){return Qe.resolve(this.Ns.containsKey(t))}}class qd{constructor(e,t){this.Ms={},this.overlays={},this.Os=new vs(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new Mp(this),this.indexManager=new zy,this.remoteDocumentCache=new Bc(s=>this.referenceDelegate.Bs(s)),this.serializer=new Bh(t),this.Ls=new t_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new n_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new hm(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){Nt("MemoryPersistence","Starting transaction:",e);const a=new i_(this.Os.next());return this.referenceDelegate.qs(),s(a).next(c=>this.referenceDelegate.Us(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ks(e,t){return Qe.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class i_ extends zu{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Gs=new dm,this.Qs=null}static js(e){return new Pp(e)}get zs(){if(this.Qs)return this.Qs;throw rn()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),Qe.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),Qe.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Qe.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.zs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.zs,s=>{const a=Jt.fromPath(s);return this.Ws(e,a).next(c=>{c||t.removeEntry(a,Tn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Qe.or([()=>Qe.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Xh{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=a}static Bi(e,t){let s=Kn(),a=Kn();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Xh(e,t.fromCache,s,a)}}class Kd{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ui(e,t).next(c=>c||this.Ki(e,t,a,s)).next(c=>c||this.Gi(e,t))}Ui(e,t){if(xn(t))return Qe.resolve(null);let s=pr(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Pr(t,null,"F"),s=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const p=Kn(...c);return this.qi.getDocuments(e,p).next(C=>this.indexManager.getMinOffset(e,s).next(B=>{const G=this.Qi(t,C);return this.ji(t,G,p,B.readTime)?this.Ui(e,Pr(t,null,"F")):this.zi(e,G,t,B)}))})))}Ki(e,t,s,a){return xn(t)||a.isEqual(Tn.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(c=>{const p=this.Qi(t,c);return this.ji(t,p,s,a)?this.Gi(e,t):(er()<=he.in.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ns(t)),this.zi(e,p,t,function ul(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Tn.fromTimestamp(1e9===s?new rr(t+1,0):new rr(t,s));return new ai(a,Jt.empty(),e)}(a,-1)))})}Qi(e,t){let s=new ni(Zo(e));return t.forEach((a,c)=>{qs(e,c)&&(s=s.add(c))}),s}ji(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Gi(e,t){return er()<=he.in.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Ns(t)),this.qi.getDocumentsMatchingQuery(e,t,ai.min())}zi(e,t,s,a){return this.qi.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class s_{constructor(e,t,s,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new _i(qn),this.Ji=new Ia(c=>F(c),W),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sp(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function gm(r,e){return Op.apply(this,arguments)}function Op(){return Op=(0,be.Z)(function*(r,e){const t=qt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const p=[],C=[];let B=Kn();for(const G of a){p.push(G.batchId);for(const J of G.mutations)B=B.add(J.key)}for(const G of c){C.push(G.batchId);for(const J of G.mutations)B=B.add(J.key)}return t.localDocuments.getDocuments(s,B).next(G=>({tr:G,removedBatchIds:p,addedBatchIds:C}))})})}),Op.apply(this,arguments)}function mm(r){const e=qt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function u_(r,e){const t=qt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function jc(r,e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,be.Z)(function*(r,e,t){const s=qt(r),a=s.Hi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!_s(p))throw p;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(a.target)}),Zd.apply(this,arguments)}function Fp(r,e,t){const s=qt(r);let a=Tn.min(),c=Kn();return s.persistence.runTransaction("Execute query","readonly",p=>function(C,B,G){const J=qt(C),Ie=J.Ji.get(G);return void 0!==Ie?Qe.resolve(J.Hi.get(Ie)):J.Fs.getTargetData(B,G)}(s,p,pr(e)).next(C=>{if(C)return a=C.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(p,C.targetId).next(B=>{c=B})}).next(()=>s.Wi.getDocumentsMatchingQuery(p,e,t?a:Tn.min(),t?c:Kn())).next(C=>(function l_(r,e,t){let s=r.Yi.get(e)||Tn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Yi.set(e,s)}(s,function ha(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),C),{documents:C,sr:c})))}class dd{constructor(){this.activeTargetIds=function Ml(){return ls}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sf{constructor(){this.Wr=new dd,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new dd,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lp{Jr(e){}shutdown(){}}class af{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qd=null;function Jd(){return null===Qd?Qd=268435456+Math.round(2147483648*Math.random()):Qd++,"0x"+Qd.toString(16)}const d_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h_{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Da="WebChannelConnection";class f_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,a,c){const p=Jd(),C=this.Io(e,t);Nt("RestConnection",`Sending RPC '${e}' ${p}:`,C,s);const B={};return this.To(B,a,c),this.Eo(e,C,B,s).then(G=>(Nt("RestConnection",`Received RPC '${e}' ${p}: `,G),G),G=>{throw Ps("RestConnection",`RPC '${e}' ${p} failed with error: `,G,"url: ",C,"request:",s),G})}Ao(e,t,s,a,c,p){return this.po(e,t,s,a,c)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ir,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Io(e,t){return`${this.wo}/v1/${t}:${d_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,a){const c=Jd();return new Promise((p,C)=>{const B=new Qn;B.setWithCredentials(!0),B.listenOnce(bt.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case tt.NO_ERROR:const J=B.getResponseJson();Nt(Da,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(J)),p(J);break;case tt.TIMEOUT:Nt(Da,`RPC '${e}' ${c} timed out`),C(new Pt(at.DEADLINE_EXCEEDED,"Request time out"));break;case tt.HTTP_ERROR:const Ie=B.getStatus();if(Nt(Da,`RPC '${e}' ${c} failed with status:`,Ie,"response text:",B.getResponseText()),Ie>0){let Ke=B.getResponseJson();Array.isArray(Ke)&&(Ke=Ke[0]);const Dt=Ke?.error;if(Dt&&Dt.status&&Dt.message){const Ht=function(sn){const Rn=sn.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(Rn)>=0?Rn:at.UNKNOWN}(Dt.status);C(new Pt(Ht,Dt.message))}else C(new Pt(at.UNKNOWN,"Server responded with status "+B.getStatus()))}else C(new Pt(at.UNAVAILABLE,"Connection failed."));break;default:rn()}}finally{Nt(Da,`RPC '${e}' ${c} completed.`)}});const G=JSON.stringify(a);Nt(Da,`RPC '${e}' ${c} sending request:`,a),B.send(t,"POST",G,s,15)})}Ro(e,t,s){const a=Jd(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Y(),C=ge(),B={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(B.xmlHttpFactory=new ei({})),this.To(B.initMessageHeaders,t,s),B.encodeInitMessageHeaders=!0;const G=c.join("");Nt(Da,`Creating RPC '${e}' stream ${a}: ${G}`,B);const J=p.createWebChannel(G,B);let Ie=!1,Ke=!1;const Dt=new h_({io:sn=>{Ke?Nt(Da,`Not sending because RPC '${e}' stream ${a} is closed:`,sn):(Ie||(Nt(Da,`Opening RPC '${e}' stream ${a} transport.`),J.open(),Ie=!0),Nt(Da,`RPC '${e}' stream ${a} sending:`,sn),J.send(sn))},ro:()=>J.close()}),Ht=(sn,Rn,_r)=>{sn.listen(Rn,Ii=>{try{_r(Ii)}catch(br){setTimeout(()=>{throw br},0)}})};return Ht(J,dr.EventType.OPEN,()=>{Ke||Nt(Da,`RPC '${e}' stream ${a} transport opened.`)}),Ht(J,dr.EventType.CLOSE,()=>{Ke||(Ke=!0,Nt(Da,`RPC '${e}' stream ${a} transport closed`),Dt.fo())}),Ht(J,dr.EventType.ERROR,sn=>{Ke||(Ke=!0,Ps(Da,`RPC '${e}' stream ${a} transport errored:`,sn),Dt.fo(new Pt(at.UNAVAILABLE,"The operation could not be completed")))}),Ht(J,dr.EventType.MESSAGE,sn=>{var Rn;if(!Ke){const _r=sn.data[0];mn(!!_r);const br=_r.error||(null===(Rn=_r[0])||void 0===Rn?void 0:Rn.error);if(br){Nt(Da,`RPC '${e}' stream ${a} received error:`,br);const Ga=br.status;let bo=function(Du){const Tc=Z[Du];if(void 0!==Tc)return mt(Tc)}(Ga),Os=br.message;void 0===bo&&(bo=at.INTERNAL,Os="Unknown error status: "+Ga+" with message "+br.message),Ke=!0,Dt.fo(new Pt(bo,Os)),J.close()}else Nt(Da,`RPC '${e}' stream ${a} received:`,_r),Dt._o(_r)}}),Ht(C,gn.STAT_EVENT,sn=>{sn.stat===jr.PROXY?Nt(Da,`RPC '${e}' stream ${a} detected buffering proxy`):sn.stat===jr.NOPROXY&&Nt(Da,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Dt.lo()},0),Dt}}function Xd(){return typeof document<"u"?document:null}function eh(r){return new Hg(r,!0)}class Vp{constructor(e,t,s=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=a,this.bo=c,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-s);a>0&&Nt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class du{constructor(e,t,s,a,c,p,C,B){this.si=e,this.Mo=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=C,this.listener=B,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Vp(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,be.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,be.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,be.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===at.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===at.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.$o===t&&this.Xo(s,a)},s=>{e(()=>{const a=new Pt(at.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(a)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{s(()=>this.Zo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,be.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p_ extends du{constructor(e,t,s,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function Bd(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:rn(),a=e.targetChange.targetIds||[],c=function(B,G){return B.useProto3Json?(mn(void 0===G||"string"==typeof G),Wi.fromBase64String(G||"")):(mn(void 0===G||G instanceof Uint8Array),Wi.fromUint8Array(G||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,C=p&&function(B){const G=void 0===B.code?at.UNKNOWN:mt(B.code);return new Pt(G,B.message||"")}(p);t=new xc(s,a,c,C||null)}else if("documentChange"in e){const s=e.documentChange,a=Xu(r,s.document.name),c=Ur(s.document.updateTime),p=s.document.createTime?Ur(s.document.createTime):Tn.min(),C=new ns({mapValue:{fields:s.document.fields}}),B=Ki.newFoundDocument(a,c,p,C);t=new rd(s.targetIds||[],s.removedTargetIds||[],B.key,B)}else if("documentDelete"in e){const s=e.documentDelete,a=Xu(r,s.document),c=s.readTime?Ur(s.readTime):Tn.min(),p=Ki.newNoDocument(a,c);t=new rd([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=Xu(r,s.document);t=new rd([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return rn();{const s=e.filter,{count:a=0,unchangedNames:c}=s,p=new R(a,c);t=new nc(s.targetId,p)}}var B;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Tn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Tn.min():c.readTime?Ur(c.readTime):Tn.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=Vd(this.serializer),t.addTarget=function(a,c){let p;const C=c.target;if(p=ie(C)?{documents:pp(a,C)}:{query:gp(a,C)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=Lh(a,c.resumeToken);const B=sd(a,c.expectedCount);null!==B&&(p.expectedCount=B)}else if(c.snapshotVersion.compareTo(Tn.min())>0){p.readTime=Nc(a,c.snapshotVersion.toTimestamp());const B=sd(a,c.expectedCount);null!==B&&(p.expectedCount=B)}return p}(this.serializer,e);const s=function Zg(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=Vd(this.serializer),t.removeTarget=e,this.zo(t)}}class g_ extends du{constructor(e,t,s,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function Wg(r,e){return r&&r.length>0?(mn(void 0!==e),r.map(t=>function(s,a){let c=Ur(s.updateTime?s.updateTime:a);return c.isEqual(Tn.min())&&(c=Ur(a)),new xh(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Ur(e.commitTime);return this.listener.uu(s,t)}return mn(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Vd(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function kc(r,e){let t;if(e instanceof Pc)t={update:fp(r,e.key,e.value)};else if(e instanceof iu)t={delete:Oc(r,e.key)};else if(e instanceof ml)t={update:fp(r,e.key,e.data),updateMask:Yg(e.fieldMask)};else{if(!(e instanceof xl))return rn();t={verify:Oc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof Sc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Pl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Uu)return{fieldPath:c.field.canonicalString(),increment:p.wt};throw rn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Ly(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:rn()),t;var a}(this.serializer,s))};this.zo(t)}}class fE extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new Pt(at.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.po(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pt(at.UNKNOWN,a.toString())})}Ao(e,t,s,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Ao(e,t,s,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pt(at.UNKNOWN,c.toString())})}terminate(){this.hu=!0}}class m_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Lr(t),this.wu=!1):Nt("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class y_{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=c,this.vu.Jr(C=>{s.enqueueAndForget((0,be.Z)(function*(){var B;Ca(p)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,be.Z)(function*(G){const J=qt(G);J.Au.add(4),yield hd(J),J.Pu.set("Unknown"),J.Au.delete(4),yield th(J)}),function(G){return B.apply(this,arguments)})(p))}))}),this.Pu=new m_(s,a)}}function th(r){return lf.apply(this,arguments)}function lf(){return lf=(0,be.Z)(function*(r){if(Ca(r))for(const e of r.Ru)yield e(!0)}),lf.apply(this,arguments)}function hd(r){return $p.apply(this,arguments)}function $p(){return $p=(0,be.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),$p.apply(this,arguments)}function fd(r,e){const t=qt(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Gp(t)?Hp(t):_d(t).Uo()&&jp(t,e))}function nh(r,e){const t=qt(r),s=_d(t);t.Eu.delete(e),s.Uo()&&Em(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():Ca(t)&&t.Pu.set("Unknown"))}function jp(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_d(r).nu(e)}function Em(r,e){r.bu.Lt(e),_d(r).su(e)}function Hp(r){r.bu=new kh({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),_d(r).start(),r.Pu.mu()}function Gp(r){return Ca(r)&&!_d(r).qo()&&r.Eu.size>0}function Ca(r){return 0===qt(r).Au.size}function cf(r){r.bu=void 0}function __(r){return zp.apply(this,arguments)}function zp(){return zp=(0,be.Z)(function*(r){r.Eu.forEach((e,t)=>{jp(r,e)})}),zp.apply(this,arguments)}function wm(r,e){return qp.apply(this,arguments)}function qp(){return qp=(0,be.Z)(function*(r,e){cf(r),Gp(r)?(r.Pu.pu(e),Hp(r)):r.Pu.set("Unknown")}),qp.apply(this,arguments)}function v_(r,e,t){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,be.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof xc&&2===e.state&&e.cause)try{yield(s=(0,be.Z)(function*(a,c){const p=c.cause;for(const C of c.targetIds)a.Eu.has(C)&&(yield a.remoteSyncer.rejectListen(C,p),a.Eu.delete(C),a.bu.removeTarget(C))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield pd(r,s)}else if(e instanceof rd?r.bu.Wt(e):e instanceof nc?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(Tn.min()))try{const s=yield mm(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.bu.ue(c);return p.targetChanges.forEach((C,B)=>{if(C.resumeToken.approximateByteSize()>0){const G=a.Eu.get(B);G&&a.Eu.set(B,G.withResumeToken(C.resumeToken,c))}}),p.targetMismatches.forEach((C,B)=>{const G=a.Eu.get(C);if(!G)return;a.Eu.set(C,G.withResumeToken(Wi.EMPTY_BYTE_STRING,G.snapshotVersion)),Em(a,C);const J=new kl(G.target,C,B,G.sequenceNumber);jp(a,J)}),a.remoteSyncer.applyRemoteEvent(p)}(r,t))}catch(s){Nt("RemoteStore","Failed to raise snapshot:",s),yield pd(r,s)}var s}),Wp.apply(this,arguments)}function pd(r,e,t){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,be.Z)(function*(r,e,t){if(!_s(e))throw e;r.Au.add(1),yield hd(r),r.Pu.set("Offline"),t||(t=()=>mm(r.localStore)),r.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield th(r)}))}),Kp.apply(this,arguments)}function Tm(r,e){return e().catch(t=>pd(r,t,e))}function Vl(r){return gd.apply(this,arguments)}function gd(){return gd=(0,be.Z)(function*(r){const e=qt(r),t=fc(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;df(e);)try{const a=yield u_(e.localStore,s);if(null===a){0===e.Tu.length&&t.Qo();break}s=a.batchId,pE(e,a)}catch(a){yield pd(e,a)}hf(e)&&E_(e)}),gd.apply(this,arguments)}function df(r){return Ca(r)&&r.Tu.length<10}function pE(r,e){r.Tu.push(e);const t=fc(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function hf(r){return Ca(r)&&!fc(r).qo()&&r.Tu.length>0}function E_(r){fc(r).start()}function Im(r){return ff.apply(this,arguments)}function ff(){return ff=(0,be.Z)(function*(r){fc(r).au()}),ff.apply(this,arguments)}function bm(r){return pf.apply(this,arguments)}function pf(){return pf=(0,be.Z)(function*(r){const e=fc(r);for(const t of r.Tu)e.ou(t.mutations)}),pf.apply(this,arguments)}function Zp(r,e,t){return tl.apply(this,arguments)}function tl(){return tl=(0,be.Z)(function*(r,e,t){const s=r.Tu.shift(),a=D.from(s,e,t);yield Tm(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Vl(r)}),tl.apply(this,arguments)}function gf(r,e){return md.apply(this,arguments)}function md(){return md=(0,be.Z)(function*(r,e){var t;e&&fc(r).ru&&(yield(t=(0,be.Z)(function*(s,a){if(function He(r){switch(r){default:return rn();case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0}}(c=a.code)&&c!==at.ABORTED){const p=s.Tu.shift();fc(s).Go(),yield Tm(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield Vl(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),hf(r)&&E_(r)}),md.apply(this,arguments)}function yd(r,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,be.Z)(function*(r,e){const t=qt(r);t.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const s=Ca(t);t.Au.add(3),yield hd(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield th(t)}),Yp.apply(this,arguments)}function yf(){return yf=(0,be.Z)(function*(r,e){const t=qt(r);e?(t.Au.delete(2),yield th(t)):e||(t.Au.add(2),yield hd(t),t.Pu.set("Unknown"))}),yf.apply(this,arguments)}function _d(r){return r.Vu||(r.Vu=function(e,t,s){const a=qt(e);return a.lu(),new p_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:__.bind(null,r),co:wm.bind(null,r),eu:v_.bind(null,r)}),r.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(r.Vu.Go(),Gp(r)?Hp(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),cf(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function fc(r){return r.Su||(r.Su=function(e,t,s){const a=qt(e);return a.lu(),new g_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:Im.bind(null,r),co:gf.bind(null,r),cu:bm.bind(null,r),uu:Zp.bind(null,r)}),r.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(r.Su.Go(),yield Vl(r)):(yield r.Su.stop(),r.Tu.length>0&&(Nt("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class Gc{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,C=new Gc(e,t,p,a,c);return C.start(s),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(r,e){if(Lr("AsyncQueue",`${e}: ${r}`),_s(r))return new Pt(at.UNAVAILABLE,`${e}: ${r}`);throw r}class rh{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Jt.comparator(t.key,s.key):(t,s)=>Jt.comparator(t.key,s.key),this.keyedMap=Dn(),this.sortedSet=new _i(this.comparator)}static emptySet(e){return new rh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new rh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Dm{constructor(){this.Du=new _i(Jt.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):rn():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ed{constructor(e,t,s,a,c,p,C,B,G){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=C,this.excludesMetadataChanges=B,this.hasCachedResults=G}static fromInitialDocuments(e,t,s,a,c){const p=[];return t.forEach(C=>{p.push({type:0,doc:C})}),new Ed(e,t,rh.emptySet(t),p,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ro(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class w_{constructor(){this.xu=void 0,this.listeners=[]}}class T_{constructor(){this.queries=new Ia(e=>To(e),ro),this.onlineState="Unknown",this.Nu=new Set}}function Jp(){return Jp=(0,be.Z)(function*(r,e){const t=qt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new w_),a)try{c.xu=yield t.onListen(s)}catch(p){const C=vd(p,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(C)}t.queries.set(s,c),c.listeners.push(e),e.ku(t.onlineState),c.xu&&e.Mu(c.xu)&&ih(t)}),Jp.apply(this,arguments)}function _f(){return _f=(0,be.Z)(function*(r,e){const t=qt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),_f.apply(this,arguments)}function eg(r,e){const t=qt(r);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const C of p.listeners)C.Mu(a)&&(s=!0);p.xu=a}}s&&ih(t)}function I_(r,e,t){const s=qt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function ih(r){r.Nu.forEach(e=>{e.next()})}class tg{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Ed(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Sm{constructor(e){this.key=e}}class Mm{constructor(e){this.key=e}}class ng{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Kn(),this.mutatedKeys=Kn(),this.Zu=Zo(e),this.tc=new rh(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new Dm,a=t?t.tc:this.tc;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,C=!1;const B="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,G="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((J,Ie)=>{const Ke=a.get(J),Dt=qs(this.query,Ie)?Ie:null,Ht=!!Ke&&this.mutatedKeys.has(Ke.key),sn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let Rn=!1;Ke&&Dt?Ke.data.isEqual(Dt.data)?Ht!==sn&&(s.track({type:3,doc:Dt}),Rn=!0):this.ic(Ke,Dt)||(s.track({type:2,doc:Dt}),Rn=!0,(B&&this.Zu(Dt,B)>0||G&&this.Zu(Dt,G)<0)&&(C=!0)):!Ke&&Dt?(s.track({type:0,doc:Dt}),Rn=!0):Ke&&!Dt&&(s.track({type:1,doc:Ke}),Rn=!0,(B||G)&&(C=!0)),Rn&&(Dt?(p=p.add(Dt),c=sn?c.add(J):c.delete(J)):(p=p.delete(J),c=c.delete(J)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const J="F"===this.query.limitType?p.last():p.first();p=p.delete(J.key),c=c.delete(J.key),s.track({type:1,doc:J})}return{tc:p,sc:s,ji:C,mutatedKeys:c}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const c=e.sc.Cu();c.sort((G,J)=>function(Ie,Ke){const Dt=Ht=>{switch(Ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn()}};return Dt(Ie)-Dt(Ke)}(G.type,J.type)||this.Zu(G.doc,J.doc)),this.rc(s);const p=t?this.oc():[],C=0===this.Xu.size&&this.current?1:0,B=C!==this.Yu;return this.Yu=C,0!==c.length||B?{snapshot:new Ed(this.query,e.tc,a,c,e.mutatedKeys,0===C,B,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:p}:{uc:p}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new Dm,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Kn(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new Mm(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new Sm(s))}),t}ac(e){this.Ju=e.sr,this.Xu=Kn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Ed.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class Pm{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class C_{constructor(e){this.key=e,this.lc=!1}}class gE{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.fc={},this.dc=new Ia(C=>To(C),ro),this._c=new Map,this.wc=new Set,this.mc=new _i(Jt.comparator),this.gc=new Map,this.yc=new dm,this.Ic={},this.Tc=new Map,this.Ec=lc.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function Rm(r,e){return xm.apply(this,arguments)}function xm(){return xm=(0,be.Z)(function*(r,e){const t=function Af(r){const e=qt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Td.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=km.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vf.bind(null,e),e.fc.eu=eg.bind(null,e.eventManager),e.fc.vc=I_.bind(null,e.eventManager),e}(r);let s,a;const c=t.dc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.hc();else{const p=yield function $c(r,e){const t=qt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Fs.getTargetData(s,e).next(c=>c?(a=c,Qe.resolve(a)):t.Fs.allocateTargetId(s).next(p=>(a=new kl(e,p,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Hi.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}(t.localStore,pr(e)),C=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield function wd(r,e,t,s,a){return rg.apply(this,arguments)}(t,e,s,"current"===C,p.resumeToken),t.isPrimaryClient&&fd(t.remoteStore,p)}return a}),xm.apply(this,arguments)}function rg(){return rg=(0,be.Z)(function*(r,e,t,s,a){r.Rc=(Ie,Ke,Dt)=>{return(Ht=(0,be.Z)(function*(sn,Rn,_r,Ii){let br=Rn.view.nc(_r);br.ji&&(br=yield Fp(sn.localStore,Rn.query,!1).then(({documents:Os})=>Rn.view.nc(Os,br)));const Ga=Ii&&Ii.targetChanges.get(Rn.targetId),bo=Rn.view.applyChanges(br,sn.isPrimaryClient,Ga);return Ef(sn,Rn.targetId,bo.uc),bo.snapshot}),function(sn,Rn,_r,Ii){return Ht.apply(this,arguments)})(r,Ie,Ke,Dt);var Ht};const c=yield Fp(r.localStore,e,!0),p=new ng(e,c.sr),C=p.nc(c.documents),B=Rc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),G=p.applyChanges(C,r.isPrimaryClient,B);Ef(r,t,G.uc);const J=new Pm(e,t,p);return r.dc.set(e,J),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),G.snapshot}),rg.apply(this,arguments)}function A_(r,e){return sh.apply(this,arguments)}function sh(){return sh=(0,be.Z)(function*(r,e){const t=qt(r),s=t.dc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!ro(c,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield jc(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),nh(t.remoteStore,s.targetId),nl(t,s.targetId)}).catch(va))):(nl(t,s.targetId),yield jc(t.localStore,s.targetId,!0))}),sh.apply(this,arguments)}function $u(){return $u=(0,be.Z)(function*(r,e,t){const s=function uh(r){const e=qt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ig.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Id.bind(null,e),e}(r);try{const a=yield function(c,p){const C=qt(c),B=rr.now(),G=p.reduce((Ke,Dt)=>Ke.add(Dt.key),Kn());let J,Ie;return C.persistence.runTransaction("Locally write mutations","readwrite",Ke=>{let Dt=ba(),Ht=Kn();return C.Xi.getEntries(Ke,G).next(sn=>{Dt=sn,Dt.forEach((Rn,_r)=>{_r.isValidDocument()||(Ht=Ht.add(Rn))})}).next(()=>C.localDocuments.getOverlayedDocuments(Ke,Dt)).next(sn=>{J=sn;const Rn=[];for(const _r of p){const Ii=ap(_r,J.get(_r.key).overlayedDocument);null!=Ii&&Rn.push(new ml(_r.key,Ii,Kl(Ii.value.mapValue),Is.exists(!0)))}return C.mutationQueue.addMutationBatch(Ke,B,Rn,p)}).next(sn=>{Ie=sn;const Rn=sn.applyToLocalDocumentSet(J,Ht);return C.documentOverlayCache.saveOverlays(Ke,sn.batchId,Rn)})}).then(()=>({batchId:Ie.batchId,changes:$n(J)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,C){let B=c.Ic[c.currentUser.toKey()];B||(B=new _i(qn)),B=B.insert(p,C),c.Ic[c.currentUser.toKey()]=B}(s,a.batchId,t),yield wl(s,a.changes),yield Vl(s.remoteStore)}catch(a){const c=vd(a,"Failed to persist write");t.reject(c)}}),$u.apply(this,arguments)}function Td(r,e){return pa.apply(this,arguments)}function pa(){return pa=(0,be.Z)(function*(r,e){const t=qt(r);try{const s=yield function a_(r,e){const t=qt(r),s=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const C=[];e.targetChanges.forEach((J,Ie)=>{const Ke=a.get(Ie);if(!Ke)return;C.push(t.Fs.removeMatchingKeys(c,J.removedDocuments,Ie).next(()=>t.Fs.addMatchingKeys(c,J.addedDocuments,Ie)));let Dt=Ke.withSequenceNumber(c.currentSequenceNumber);var Ht,sn,Rn;null!==e.targetMismatches.get(Ie)?Dt=Dt.withResumeToken(Wi.EMPTY_BYTE_STRING,Tn.min()).withLastLimboFreeSnapshotVersion(Tn.min()):J.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(J.resumeToken,s)),a=a.insert(Ie,Dt),sn=Dt,Rn=J,(0===(Ht=Ke).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-Ht.snapshotVersion.toMicroseconds()>=3e8||Rn.addedDocuments.size+Rn.modifiedDocuments.size+Rn.removedDocuments.size>0)&&C.push(t.Fs.updateTargetData(c,Dt))});let B=ba(),G=Kn();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(c,J))}),C.push(function kp(r,e,t){let s=Kn(),a=Kn();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let p=ba();return t.forEach((C,B)=>{const G=c.get(C);B.isFoundDocument()!==G.isFoundDocument()&&(a=a.add(C)),B.isNoDocument()&&B.version.isEqual(Tn.min())?(e.removeEntry(C,B.readTime),p=p.insert(C,B)):!G.isValidDocument()||B.version.compareTo(G.version)>0||0===B.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(B),p=p.insert(C,B)):Nt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",G.version," Watch version:",B.version)}),{er:p,nr:a}})}(c,p,e.documentUpdates).next(J=>{B=J.er,G=J.nr})),!s.isEqual(Tn.min())){const J=t.Fs.getLastRemoteSnapshotVersion(c).next(Ie=>t.Fs.setTargetsMetadata(c,c.currentSequenceNumber,s));C.push(J)}return Qe.waitFor(C).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,B,G)).next(()=>B)}).then(c=>(t.Hi=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.gc.get(c);p&&(mn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.lc=!0:a.modifiedDocuments.size>0?mn(p.lc):a.removedDocuments.size>0&&(mn(p.lc),p.lc=!1))}),yield wl(t,s,e)}catch(s){yield va(s)}}),pa.apply(this,arguments)}function pc(r,e,t){const s=qt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.dc.forEach((c,p)=>{const C=p.view.ku(e);C.snapshot&&a.push(C.snapshot)}),function(c,p){const C=qt(c);C.onlineState=p;let B=!1;C.queries.forEach((G,J)=>{for(const Ie of J.listeners)Ie.ku(p)&&(B=!0)}),B&&ih(C)}(s.eventManager,e),a.length&&s.fc.eu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function vf(r,e,t){return hu.apply(this,arguments)}function hu(){return hu=(0,be.Z)(function*(r,e,t){const s=qt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.gc.get(e),c=a&&a.key;if(c){let p=new _i(Jt.comparator);p=p.insert(c,Ki.newNoDocument(c,Tn.min()));const C=Kn().add(c),B=new tc(Tn.min(),new Map,new _i(qn),p,C);yield Td(s,B),s.mc=s.mc.remove(c),s.gc.delete(e),wf(s)}else yield jc(s.localStore,e,!1).then(()=>nl(s,e,t)).catch(va)}),hu.apply(this,arguments)}function ig(r,e){return gc.apply(this,arguments)}function gc(){return gc=(0,be.Z)(function*(r,e){const t=qt(r),s=e.batch.batchId;try{const a=yield function o_(r,e){const t=qt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Xi.newChangeBuffer({trackRemovals:!0});return function(p,C,B,G){const J=B.batch,Ie=J.keys();let Ke=Qe.resolve();return Ie.forEach(Dt=>{Ke=Ke.next(()=>G.getEntry(C,Dt)).next(Ht=>{const sn=B.docVersions.get(Dt);mn(null!==sn),Ht.version.compareTo(sn)<0&&(J.applyToRemoteDocument(Ht,B),Ht.isValidDocument()&&(Ht.setReadTime(B.commitVersion),G.addEntry(Ht)))})}),Ke.next(()=>p.mutationQueue.removeMutationBatch(C,J))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let C=Kn();for(let B=0;B<p.mutationResults.length;++B)p.mutationResults[B].transformResults.length>0&&(C=C.add(p.batch.mutations[B].key));return C}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);vc(t,s,null),_c(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield wl(t,a)}catch(a){yield va(a)}}),gc.apply(this,arguments)}function Id(r,e,t){return mc.apply(this,arguments)}function mc(){return mc=(0,be.Z)(function*(r,e,t){const s=qt(r);try{const a=yield function(c,p){const C=qt(c);return C.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let G;return C.mutationQueue.lookupMutationBatch(B,p).next(J=>(mn(null!==J),G=J.keys(),C.mutationQueue.removeMutationBatch(B,J))).next(()=>C.mutationQueue.performConsistencyCheck(B)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(B,G,p)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,G)).next(()=>C.localDocuments.getDocuments(B,G))})}(s.localStore,e);vc(s,e,t),_c(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield wl(s,a)}catch(a){yield va(a)}}),mc.apply(this,arguments)}function _c(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function vc(r,e,t){const s=qt(r);let a=s.Ic[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Ic[s.currentUser.toKey()]=a}}function nl(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||zc(r,s)})}function zc(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(nh(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),wf(r))}function Ef(r,e,t){for(const s of t)s instanceof Sm?(r.yc.addReference(s.key,e),Nm(r,s)):s instanceof Mm?(Nt("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||zc(r,s.key)):rn()}function Nm(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(Nt("SyncEngine","New document in limbo: "+t),r.wc.add(s),wf(r))}function wf(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new Jt(mr.fromString(e)),s=r.Ec.next();r.gc.set(s,new C_(t)),r.mc=r.mc.insert(t,s),fd(r.remoteStore,new kl(pr(Sn(t.path)),s,"TargetPurposeLimboResolution",vs.ct))}}function wl(r,e,t){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,be.Z)(function*(r,e,t){const s=qt(r),a=[],c=[],p=[];var C;s.dc.isEmpty()||(s.dc.forEach((C,B)=>{p.push(s.Rc(B,e,t).then(G=>{if((G||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(B.targetId,G?.fromCache?"not-current":"current"),G){a.push(G);const J=Xh.Bi(B.targetId,G);c.push(J)}}))}),yield Promise.all(p),s.fc.eu(a),yield(C=(0,be.Z)(function*(B,G){const J=qt(B);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>Qe.forEach(G,Ke=>Qe.forEach(Ke.$i,Dt=>J.persistence.referenceDelegate.addReference(Ie,Ke.targetId,Dt)).next(()=>Qe.forEach(Ke.Fi,Dt=>J.persistence.referenceDelegate.removeReference(Ie,Ke.targetId,Dt)))))}catch(Ie){if(!_s(Ie))throw Ie;Nt("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of G){const Ke=Ie.targetId;if(!Ie.fromCache){const Dt=J.Hi.get(Ke),sn=Dt.withLastLimboFreeSnapshotVersion(Dt.snapshotVersion);J.Hi=J.Hi.insert(Ke,sn)}}}),function(B,G){return C.apply(this,arguments)})(s.localStore,c))}),Tf.apply(this,arguments)}function Om(r,e){return If.apply(this,arguments)}function If(){return If=(0,be.Z)(function*(r,e){const t=qt(r);if(!t.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const s=yield gm(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(p=>{p.forEach(C=>{C.reject(new Pt(at.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield wl(t,s.tr)}var a}),If.apply(this,arguments)}function km(r,e){const t=qt(r),s=t.gc.get(e);if(s&&s.lc)return Kn().add(s.key);{let a=Kn();const c=t._c.get(e);if(!c)return a;for(const p of c){const C=t.dc.get(p);a=a.unionWith(C.view.ec)}return a}}class lh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.serializer=eh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Np(r,e,t,s){return new s_(r,e,t,s)}(this.persistence,new Kd,e.initialUser,this.serializer)}createPersistence(e){return new qd(Pp.js,this.serializer)}createSharedClientState(e){return new sf}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qc{initialize(e,t){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>pc(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Om.bind(null,s.syncEngine),yield function mf(r,e){return yf.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new T_}createDatastore(e){const t=eh(e.databaseInfo.databaseId),s=new f_(e.databaseInfo);return new fE(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=C=>pc(this.syncEngine,C,0),p=af.D()?new af:new Lp,new y_(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,C,B,G){const J=new gE(s,a,c,p,C,B);return G&&(J.Ac=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const s=qt(t);Nt("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield hd(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class ch{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class O_{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=zr.UNAUTHENTICATED,this.clientId=Fa.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,be.Z)(function*(C){Nt("FirestoreClient","Received user=",C.uid),yield c.authCredentialListener(C),c.user=C});return function(C){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(Nt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pt(at.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=vd(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Ad(r,e){return dh.apply(this,arguments)}function dh(){return dh=(0,be.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,be.Z)(function*(c){s.isEqual(c)||(yield gm(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),dh.apply(this,arguments)}function Sf(r,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,be.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Pf(r){return Rf.apply(this,arguments)}(r);Nt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>yd(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>yd(e.remoteStore,c)),r._onlineComponents=e}),Mf.apply(this,arguments)}function Rf(){return Rf=(0,be.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ad(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function hg(r){return"FirebaseError"===r.name?r.code===at.FAILED_PRECONDITION||r.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;Ps("Error using user provided cache. Falling back to memory cache: "+t),yield Ad(r,new lh)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),yield Ad(r,new lh);return r._offlineComponents}),Rf.apply(this,arguments)}function hh(r){return xf.apply(this,arguments)}function xf(){return xf=(0,be.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Sf(r,r._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield Sf(r,new qc))),r._onlineComponents}),xf.apply(this,arguments)}function Ec(r){return $l.apply(this,arguments)}function $l(){return $l=(0,be.Z)(function*(r){const e=yield hh(r),t=e.eventManager;return t.onListen=Rm.bind(null,e.syncEngine),t.onUnlisten=A_.bind(null,e.syncEngine),t}),$l.apply(this,arguments)}const yg=new Map;function _g(r,e,t){if(!t)throw new Pt(at.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vg(r){if(!Jt.isDocumentKey(r))throw new Pt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gm(r){if(Jt.isDocumentKey(r))throw new Pt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fh(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":rn()}function li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Pt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fh(r);throw new Pt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class zm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function V_(r,e,t,s){if(!0===e&&!0===s)throw new Pt(at.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new al;switch(t.type){case"firstParty":return new ya(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yg.get(e);t&&(Nt("ComponentProvider","Removing Datastore"),yg.delete(e),t.terminate())}(this),Promise.resolve()}}class Io{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Io(this.firestore,e,this._key)}}class ga{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class jl extends ga{constructor(e,t,s){super(e,t,Sn(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Io(this.firestore,null,new Jt(e))}withConverter(e){return new jl(this.firestore,e,this._path)}}function Eg(r,e,...t){if(r=(0,ae.m9)(r),_g("collection","path",e),r instanceof ph){const s=mr.fromString(e,...t);return Gm(s),new jl(r,null,s)}{if(!(r instanceof Io||r instanceof jl))throw new Pt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(mr.fromString(e,...t));return Gm(s),new jl(r.firestore,null,s)}}function rl(r,e,...t){if(r=(0,ae.m9)(r),1===arguments.length&&(e=Fa.A()),_g("doc","path",e),r instanceof ph){const s=mr.fromString(e,...t);return vg(s),new Io(r,null,new Jt(s))}{if(!(r instanceof Io||r instanceof jl))throw new Pt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(mr.fromString(e,...t));return vg(s),new Io(r.firestore,r instanceof jl?r.converter:null,new Jt(s))}}class Tl{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Vp(this,"async_queue_retry"),this.Yc=()=>{const t=Xd();t&&Nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=Xd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=Xd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Fi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,be.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!_s(t))throw t;Nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=Gc.createAndSchedule(this,e,t,s,c=>this.ea(c));return this.jc.push(a),a}Xc(){this.zc&&rn()}verifyOperationInProgress(){}na(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function bu(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class fs extends ph{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Tl,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Km(this),this._firestoreClient.terminate()}}function $_(r,e){const t="object"==typeof r?r:(0,lt.Mq)(),s="string"==typeof r?r:e||"(default)",a=(0,lt.qX)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,ae.P0)("firestore");c&&function qm(r,e,t,s={}){var a;const c=(r=li(r,ph))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Ps("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,C;if("string"==typeof s.mockUserToken)p=s.mockUserToken,C=zr.MOCK_USER;else{p=(0,ae.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const B=s.mockUserToken.sub||s.mockUserToken.user_id;if(!B)throw new Pt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new zr(B)}r._authCredentials=new Cl(new Mo(p,C))}}(a,...c)}return a}function Fo(r){return r._firestoreClient||Km(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Km(r){var e,t,s;const a=r._freezeSettings(),c=(C=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new dl(r._databaseId,C,r._persistenceKey,(G=a).host,G.ssl,G.experimentalForceLongPolling,G.experimentalAutoDetectLongPolling,G.useFetchStreams));var C,G;r._firestoreClient=new O_(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(Wi.fromBase64String(e))}catch(t){throw new Pt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Il(Wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Of{constructor(e){this._methodName=e}}class kf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qn(this._lat,e._lat)||qn(this._long,e._long)}}const Qm=/^__.*__$/;class Jm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ml(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pc(e,this.data,t,this.fieldTransforms)}}class Dg{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ml(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cg(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rn()}}class Ff{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.oa(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new Ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.la(e),a}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return _h(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Cg(this.ua)&&Qm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class q_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||eh(e)}ga(e,t,s,a=!1){return new Ff({ua:e,methodName:t,ma:s,path:ti.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(r){const e=r._freezeSettings(),t=eh(r._databaseId);return new q_(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Ag(r,e,t,s,a,c={}){const p=r.ga(c.merge||c.mergeFields?2:0,e,t,a);Mg("Data must be an object, but it was:",p,s);const C=ry(s,p);let B,G;if(c.merge)B=new Ko(p.fieldMask),G=p.fieldTransforms;else if(c.mergeFields){const J=[];for(const Ie of c.mergeFields){const Ke=mh(e,Ie,t);if(!p.contains(Ke))throw new Pt(at.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);Pg(J,Ke)||J.push(Ke)}B=new Ko(J),G=p.fieldTransforms.filter(Ie=>B.covers(Ie.field))}else B=null,G=p.fieldTransforms;return new Jm(new ns(C),B,G)}class gh extends Of{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function Zc(r,e){if(iy(r=(0,ae.m9)(r)))return Mg("Unsupported field value:",e,r),ry(r,e);if(r instanceof Of)return function(t,s){if(!Cg(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let C=Zc(p,s.da(c));null==C&&(C={nullValue:"NULL_VALUE"}),a.push(C),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,ae.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ru(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=rr.fromDate(t);return{timestampValue:Nc(s.serializer,a)}}if(t instanceof rr){const a=new rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nc(s.serializer,a)}}if(t instanceof kf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Il)return{bytesValue:Lh(s.serializer,t._byteString)};if(t instanceof Io){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Uh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${fh(t)}`)}(r,e)}function ry(r,e){const t={};return cl(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(r,(s,a)=>{const c=Zc(a,e.aa(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function iy(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof rr||r instanceof kf||r instanceof Il||r instanceof Io||r instanceof Of)}function Mg(r,e,t){if(!iy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=fh(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function mh(r,e,t){if((e=(0,ae.m9)(e))instanceof wc)return e._internalPath;if("string"==typeof e)return yh(r,e);throw _h("Field path arguments must be of type string or ",r,!1,void 0,t)}const sy=new RegExp("[~\\*/\\[\\]]");function yh(r,e,t){if(e.search(sy)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new wc(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function _h(r,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let B="";return(c||p)&&(B+=" (found",c&&(B+=` in field ${s}`),p&&(B+=` in document ${a}`),B+=")"),new Pt(at.INVALID_ARGUMENT,C+r+B)}function Pg(r,e){return r.some(t=>t.isEqual(e))}class Lf{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Io(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oy extends Lf{data(){return super.data()}}function vh(r,e){return"string"==typeof e?yh(r,e):e instanceof wc?e._internalPath:e._delegate._internalPath}class X_{convertValue(e,t="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ji(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return vo(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new kf(ji(e.latitude),ji(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Eo(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const t=Ta(e);return new rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=mr.fromString(e);mn(sc(s));const a=new wu(s.get(1),s.get(3)),c=new Jt(s.popFirst(5));return a.isEqual(t)||Lr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rd extends Lf{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(vh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Bf extends Rd{data(e={}){return super.data(e)}}class xd{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ol(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Bf(this._firestore,this._userDataWriter,s.key,s,new ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new Bf(s._firestore,s._userDataWriter,p.doc.key,p.doc,new ol(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const C=new Bf(s._firestore,s._userDataWriter,p.doc.key,p.doc,new ol(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let B=-1,G=-1;return 0!==p.type&&(B=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),G=c.indexOf(p.doc.key)),{type:$f(p.type),doc:C,oldIndex:B,newIndex:G}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $f(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rn()}}class Hl extends X_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Io(this.firestore,null,t)}}function ov(r,e,t){r=li(r,Io);const s=li(r.firestore,fs),a=function Vf(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e,t);return Ch(s,[Ag(Md(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Is.none())])}function ly(r,e,t,...s){r=li(r,Io);const a=li(r.firestore,fs),c=Md(a);let p;return p="string"==typeof(e=(0,ae.m9)(e))||e instanceof wc?function ty(r,e,t,s,a,c){const p=r.ga(1,e,t),C=[mh(e,s,t)],B=[a];if(c.length%2!=0)throw new Pt(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<c.length;Ke+=2)C.push(mh(e,c[Ke])),B.push(c[Ke+1]);const G=[],J=ns.empty();for(let Ke=C.length-1;Ke>=0;--Ke)if(!Pg(G,C[Ke])){const Dt=C[Ke];let Ht=B[Ke];Ht=(0,ae.m9)(Ht);const sn=p.fa(Dt);if(Ht instanceof gh)G.push(Dt);else{const Rn=Zc(Ht,sn);null!=Rn&&(G.push(Dt),J.set(Dt,Rn))}}const Ie=new Ko(G);return new Dg(J,Ie,p.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function ey(r,e,t,s){const a=r.ga(1,e,t);Mg("Data must be an object, but it was:",a,s);const c=[],p=ns.empty();vo(s,(B,G)=>{const J=yh(e,B,t);G=(0,ae.m9)(G);const Ie=a.fa(J);if(G instanceof gh)c.push(J);else{const Ke=Zc(G,Ie);null!=Ke&&(c.push(J),p.set(J,Ke))}});const C=new Ko(c);return new Dg(p,C,a.fieldTransforms)}(c,"updateDoc",r._key,e),Ch(a,[p.toMutation(r._key,Is.exists(!0))])}function cy(r){return Ch(li(r.firestore,fs),[new iu(r._key,Is.none())])}function Ch(r,e){return function(t,s){const a=new Fi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function S_(r,e,t){return $u.apply(this,arguments)}(yield function pg(r){return hh(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(Fo(r),e)}!function(r,e=!0){Ir=lt.Jn,(0,lt.Xd)(new et.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new fs(new mu(t.getProvider("auth-internal")),new Mu(t.getProvider("app-check-internal")),function(C,B){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new Pt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(C.options.projectId,B)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,lt.KN)(Ri,"3.11.0",r),(0,lt.KN)(Ri,"3.11.0","esm2017")}();var kg=q(9751),fy=q(4004),py={includeMetadataChanges:!1};function Wf(r,e){return void 0===e&&(e=py),new kg.y(function(t){var s=function uv(r,...e){var t,s,a;r=(0,ae.m9)(r);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||bu(e[p])||(c=e[p],p++);const C={includeMetadataChanges:c.includeMetadataChanges};if(bu(e[p])){const Ie=e[p];e[p]=null===(t=Ie.next)||void 0===t?void 0:t.bind(Ie),e[p+1]=null===(s=Ie.error)||void 0===s?void 0:s.bind(Ie),e[p+2]=null===(a=Ie.complete)||void 0===a?void 0:a.bind(Ie)}let B,G,J;if(r instanceof Io)G=li(r.firestore,fs),J=Sn(r._key.path),B={next:Ie=>{e[p]&&e[p](function Og(r,e,t){const s=t.docs.get(e._key),a=new Hl(r);return new Rd(r,a,e._key,s,new ol(t.hasPendingWrites,t.fromCache),e.converter)}(G,r,Ie))},error:e[p+1],complete:e[p+2]};else{const Ie=li(r,ga);G=li(Ie.firestore,fs),J=Ie._query;const Ke=new Hl(G);B={next:Dt=>{e[p]&&e[p](new xd(G,Ke,Ie,Dt))},error:e[p+1],complete:e[p+2]},function Rg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Pt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query)}return function(Ie,Ke,Dt,Ht){const sn=new ch(Ht),Rn=new tg(Ke,sn,Dt);return Ie.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Qp(r,e){return Jp.apply(this,arguments)}(yield Ec(Ie),Rn)})),()=>{sn.Sc(),Ie.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Xp(r,e){return _f.apply(this,arguments)}(yield Ec(Ie),Rn)}))}}(Fo(G),J,C,B)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function _y(r,e){return void 0===e&&(e={}),function bv(r){return Wf(r,{includeMetadataChanges:!0}).pipe((0,fy.U)(function(e){return e.docs}))}(r).pipe((0,fy.U)(function(t){return t.map(function(s){return function gy(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}(s,e)})}))}class Yf{constructor(e){return e}}const vy="firestore",Lg=new $.OlP("angularfire2.firestore-instances");function Ug(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new Yf(s)}}const Vg={provide:class Ey{constructor(){return(0,g.vb)(vy)}},deps:[[new $.FiY,Lg]]},wy={provide:Yf,useFactory:function Cv(r,e){const t=(0,g.JM)(vy,r,e);return t&&new Yf(t)},deps:[[new $.FiY,Lg],Pe.Ot]};let Bg=(()=>{class r{constructor(){(0,de.KN)("angularfire",g.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=$.oAB({type:r}),r.\u0275inj=$.cJS({providers:[wy,Vg]}),r})();function Av(r,...e){return{ngModule:Bg,providers:[{provide:Lg,useFactory:Ug(r),multi:!0,deps:[$.R0b,$.zs3,g.HU,Pe.z6,[new $.FiY,I.dh],[new $.FiY,Ve.nm],...e]}]}}const Nd=(0,g.u3)(_y,!0),Dy=(0,g.u3)(Eg,!0),Ay=(0,g.u3)(cy,!0),Ov=(0,g.u3)(rl,!0),Lv=(0,g.u3)($_,!0),Hv=(0,g.u3)(ov,!0),Gv=(0,g.u3)(ly,!0)},414:(yn,ct,q)=>{q.d(ct,{q4:()=>as,HU:()=>ji,vb:()=>ql,JM:()=>zl,u3:()=>ja});var g=q(8256),$=q(259),I=q(5861),Pe=q(2951),de=q(2090),Ve=q(4859),be=q(1877);const lt=(M,N)=>N.some(z=>M instanceof z);let et,he;const ht=new WeakMap,me=new WeakMap,Rt=new WeakMap,yt=new WeakMap,an=new WeakMap;let $t={get(M,N,z){if(M instanceof IDBTransaction){if("done"===N)return me.get(M);if("objectStoreNames"===N)return M.objectStoreNames||Rt.get(M);if("store"===N)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return Ft(M[N])},set:(M,N,z)=>(M[N]=z,!0),has:(M,N)=>M instanceof IDBTransaction&&("done"===N||"store"===N)||N in M};function ft(M){return"function"==typeof M?function Oe(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...N){return M.apply(Ge(this),N),Ft(ht.get(this))}:function(...N){return Ft(M.apply(Ge(this),N))}:function(N,...z){const se=M.call(Ge(this),N,...z);return Rt.set(se,N.sort?N.sort():[N]),Ft(se)}}(M):(M instanceof IDBTransaction&&function en(M){if(me.has(M))return;const N=new Promise((z,se)=>{const Re=()=>{M.removeEventListener("complete",qe),M.removeEventListener("error",Ct),M.removeEventListener("abort",Ct)},qe=()=>{z(),Re()},Ct=()=>{se(M.error||new DOMException("AbortError","AbortError")),Re()};M.addEventListener("complete",qe),M.addEventListener("error",Ct),M.addEventListener("abort",Ct)});me.set(M,N)}(M),lt(M,function ae(){return et||(et=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,$t):M)}function Ft(M){if(M instanceof IDBRequest)return function Xt(M){const N=new Promise((z,se)=>{const Re=()=>{M.removeEventListener("success",qe),M.removeEventListener("error",Ct)},qe=()=>{z(Ft(M.result)),Re()},Ct=()=>{se(M.error),Re()};M.addEventListener("success",qe),M.addEventListener("error",Ct)});return N.then(z=>{z instanceof IDBCursor&&ht.set(z,M)}).catch(()=>{}),an.set(N,M),N}(M);if(yt.has(M))return yt.get(M);const N=ft(M);return N!==M&&(yt.set(M,N),an.set(N,M)),N}const Ge=M=>an.get(M);function Ot(M,N,{blocked:z,upgrade:se,blocking:Re,terminated:qe}={}){const Ct=indexedDB.open(M,N),ln=Ft(Ct);return se&&Ct.addEventListener("upgradeneeded",cn=>{se(Ft(Ct.result),cn.oldVersion,cn.newVersion,Ft(Ct.transaction))}),z&&Ct.addEventListener("blocked",()=>z()),ln.then(cn=>{qe&&cn.addEventListener("close",()=>qe()),Re&&cn.addEventListener("versionchange",()=>Re())}).catch(()=>{}),ln}function st(M,{blocked:N}={}){const z=indexedDB.deleteDatabase(M);return N&&z.addEventListener("blocked",()=>N()),Ft(z).then(()=>{})}const Vt=["get","getKey","getAll","getAllKeys","count"],Yt=["put","add","delete","clear"],dt=new Map;function Lt(M,N){if(!(M instanceof IDBDatabase)||N in M||"string"!=typeof N)return;if(dt.get(N))return dt.get(N);const z=N.replace(/FromIndex$/,""),se=N!==z,Re=Yt.includes(z);if(!(z in(se?IDBIndex:IDBObjectStore).prototype)||!Re&&!Vt.includes(z))return;const qe=function(){var Ct=(0,I.Z)(function*(ln,...cn){const bn=this.transaction(ln,Re?"readwrite":"readonly");let Jn=bn.store;return se&&(Jn=Jn.index(cn.shift())),(yield Promise.all([Jn[z](...cn),Re&&bn.done]))[0]});return function(cn){return Ct.apply(this,arguments)}}();return dt.set(N,qe),qe}!function ot(M){$t=M($t)}(M=>({...M,get:(N,z,se)=>Lt(N,z)||M.get(N,z,se),has:(N,z)=>!!Lt(N,z)||M.has(N,z)}));const We="@firebase/installations",Se="0.6.4",pt=1e4,Ne=`w:${Se}`,Et="FIS_v2",ue="https://firebaseinstallations.googleapis.com/v1",Be=36e5,Ae=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(M){return M instanceof de.ZR&&M.code.includes("request-failed")}function wt({projectId:M}){return`${ue}/projects/${M}/installations`}function kn(M){return{token:M.token,requestStatus:2,expiresIn:Kr(M.expiresIn),creationTime:Date.now()}}function On(M,N){return dn.apply(this,arguments)}function dn(){return(dn=(0,I.Z)(function*(M,N){const se=(yield N.json()).error;return Ae.create("request-failed",{requestName:M,serverCode:se.code,serverMessage:se.message,serverStatus:se.status})})).apply(this,arguments)}function ur({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function ri(M){return vr.apply(this,arguments)}function vr(){return(vr=(0,I.Z)(function*(M){const N=yield M();return N.status>=500&&N.status<600?M():N})).apply(this,arguments)}function Kr(M){return Number(M.replace("s","000"))}function Cr(){return(Cr=(0,I.Z)(function*({appConfig:M,heartbeatServiceProvider:N},{fid:z}){const se=wt(M),Re=ur(M),qe=N.getImmediate({optional:!0});if(qe){const bn=yield qe.getHeartbeatsHeader();bn&&Re.append("x-firebase-client",bn)}const ln={method:"POST",headers:Re,body:JSON.stringify({fid:z,authVersion:Et,appId:M.appId,sdkVersion:Ne})},cn=yield ri(()=>fetch(se,ln));if(cn.ok){const bn=yield cn.json();return{fid:bn.fid||z,registrationStatus:2,refreshToken:bn.refreshToken,authToken:kn(bn.authToken)}}throw yield On("Create Installation",cn)})).apply(this,arguments)}function lr(M){return new Promise(N=>{setTimeout(N,M)})}const bi=/^[cdef][\w-]{21}$/,ii="";function cr(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const z=function Di(M){return function Zr(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return bi.test(z)?z:ii}catch{return ii}}function Vn(M){return`${M.appName}!${M.appId}`}const Tt=new Map;function Bt(M,N){const z=Vn(M);xr(z,N),function Ci(M,N){const z=function fi(){return!Bn&&"BroadcastChannel"in self&&(Bn=new BroadcastChannel("[Firebase] FID Change"),Bn.onmessage=M=>{xr(M.data.key,M.data.fid)}),Bn}();z&&z.postMessage({key:M,fid:N}),function ir(){0===Tt.size&&Bn&&(Bn.close(),Bn=null)}()}(z,N)}function xr(M,N){const z=Tt.get(M);if(z)for(const se of z)se(N)}let Bn=null;const ps="firebase-installations-database",jn=1,Ai="firebase-installations-store";let xi=null;function cs(){return xi||(xi=Ot(ps,jn,{upgrade:(M,N)=>{0===N&&M.createObjectStore(Ai)}})),xi}function Yr(M,N){return $e.apply(this,arguments)}function $e(){return($e=(0,I.Z)(function*(M,N){const z=Vn(M),Re=(yield cs()).transaction(Ai,"readwrite"),qe=Re.objectStore(Ai),Ct=yield qe.get(z);return yield qe.put(N,z),yield Re.done,(!Ct||Ct.fid!==N.fid)&&Bt(M,N.fid),N})).apply(this,arguments)}function Te(M){return Me.apply(this,arguments)}function Me(){return(Me=(0,I.Z)(function*(M){const N=Vn(M),se=(yield cs()).transaction(Ai,"readwrite");yield se.objectStore(Ai).delete(N),yield se.done})).apply(this,arguments)}function _t(M,N){return vt.apply(this,arguments)}function vt(){return(vt=(0,I.Z)(function*(M,N){const z=Vn(M),Re=(yield cs()).transaction(Ai,"readwrite"),qe=Re.objectStore(Ai),Ct=yield qe.get(z),ln=N(Ct);return void 0===ln?yield qe.delete(z):yield qe.put(ln,z),yield Re.done,ln&&(!Ct||Ct.fid!==ln.fid)&&Bt(M,ln.fid),ln})).apply(this,arguments)}function re(M){return oe.apply(this,arguments)}function oe(){return oe=(0,I.Z)(function*(M){let N;const z=yield _t(M.appConfig,se=>{const Re=function ve(M){return we(M||{fid:cr(),registrationStatus:0})}(se),qe=function ze(M,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(Ae.create("app-offline"))};const z={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},se=function ke(M,N){return zt.apply(this,arguments)}(M,z);return{installationEntry:z,registrationPromise:se}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:De(M)}:{installationEntry:N}}(M,Re);return N=qe.registrationPromise,qe.installationEntry});return z.fid===ii?{installationEntry:yield N}:{installationEntry:z,registrationPromise:N}}),oe.apply(this,arguments)}function zt(){return zt=(0,I.Z)(function*(M,N){try{const z=yield function tn(M,N){return Cr.apply(this,arguments)}(M,N);return Yr(M.appConfig,z)}catch(z){throw Xe(z)&&409===z.customData.serverCode?yield Te(M.appConfig):yield Yr(M.appConfig,{fid:N.fid,registrationStatus:0}),z}}),zt.apply(this,arguments)}function De(M){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,I.Z)(function*(M){let N=yield ne(M.appConfig);for(;1===N.registrationStatus;)yield lr(100),N=yield ne(M.appConfig);if(0===N.registrationStatus){const{installationEntry:z,registrationPromise:se}=yield re(M);return se||z}return N})).apply(this,arguments)}function ne(M){return _t(M,N=>{if(!N)throw Ae.create("installation-not-found");return we(N)})}function we(M){return function nt(M){return 1===M.registrationStatus&&M.registrationTime+pt<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function Kt(){return(Kt=(0,I.Z)(function*({appConfig:M,heartbeatServiceProvider:N},z){const se=function nn(M,{fid:N}){return`${wt(M)}/${N}/authTokens:generate`}(M,z),Re=function Dr(M,{refreshToken:N}){const z=ur(M);return z.append("Authorization",function Hi(M){return`${Et} ${M}`}(N)),z}(M,z),qe=N.getImmediate({optional:!0});if(qe){const bn=yield qe.getHeartbeatsHeader();bn&&Re.append("x-firebase-client",bn)}const ln={method:"POST",headers:Re,body:JSON.stringify({installation:{sdkVersion:Ne,appId:M.appId}})},cn=yield ri(()=>fetch(se,ln));if(cn.ok)return kn(yield cn.json());throw yield On("Generate Auth Token",cn)})).apply(this,arguments)}function Ar(M){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,I.Z)(function*(M,N=!1){let z;const se=yield _t(M.appConfig,qe=>{if(!Cn(qe))throw Ae.create("not-registered");const Ct=qe.authToken;if(!N&&function zn(M){return 2===M.requestStatus&&!function Jr(M){const N=Date.now();return N<M.creationTime||M.creationTime+M.expiresIn<N+Be}(M)}(Ct))return qe;if(1===Ct.requestStatus)return z=function rt(M,N){return je.apply(this,arguments)}(M,N),qe;{if(!navigator.onLine)throw Ae.create("app-offline");const ln=function Er(M){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:N})}(qe);return z=function un(M,N){return _n.apply(this,arguments)}(M,ln),ln}});return z?yield z:se.authToken}),Qr.apply(this,arguments)}function je(){return(je=(0,I.Z)(function*(M,N){let z=yield Mt(M.appConfig);for(;1===z.authToken.requestStatus;)yield lr(100),z=yield Mt(M.appConfig);const se=z.authToken;return 0===se.requestStatus?Ar(M,N):se})).apply(this,arguments)}function Mt(M){return _t(M,N=>{if(!Cn(N))throw Ae.create("not-registered");return function ci(M){return 1===M.requestStatus&&M.requestTime+pt<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function _n(){return _n=(0,I.Z)(function*(M,N){try{const z=yield function At(M,N){return Kt.apply(this,arguments)}(M,N),se=Object.assign(Object.assign({},N),{authToken:z});return yield Yr(M.appConfig,se),z}catch(z){if(!Xe(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const se=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Yr(M.appConfig,se)}else yield Te(M.appConfig);throw z}}),_n.apply(this,arguments)}function Cn(M){return void 0!==M&&2===M.registrationStatus}function Ks(){return(Ks=(0,I.Z)(function*(M){const N=M,{installationEntry:z,registrationPromise:se}=yield re(N);return se?se.catch(console.error):Ar(N).catch(console.error),z.fid})).apply(this,arguments)}function oo(){return oo=(0,I.Z)(function*(M,N=!1){const z=M;return yield function tr(M){return Nr.apply(this,arguments)}(z),(yield Ar(z,N)).token}),oo.apply(this,arguments)}function Nr(){return(Nr=(0,I.Z)(function*(M){const{registrationPromise:N}=yield re(M);N&&(yield N)})).apply(this,arguments)}function ye(M){return Ae.create("missing-app-config-values",{valueName:M})}const Ue="installations",kt=M=>{const N=M.getProvider("app").getImmediate(),z=function pe(M){if(!M||!M.options)throw ye("App Configuration");if(!M.name)throw ye("App Name");const N=["projectId","apiKey","appId"];for(const z of N)if(!M.options[z])throw ye(z);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(N);return{app:N,appConfig:z,heartbeatServiceProvider:(0,Pe.qX)(N,"heartbeat"),_delete:()=>Promise.resolve()}},on=M=>{const N=M.getProvider("app").getImmediate(),z=(0,Pe.qX)(N,Ue).getImmediate();return{getId:()=>function bs(M){return Ks.apply(this,arguments)}(z),getToken:Re=>function ks(M){return oo.apply(this,arguments)}(z,Re)}};(function Hn(){(0,Pe.Xd)(new Ve.wA(Ue,kt,"PUBLIC")),(0,Pe.Xd)(new Ve.wA("installations-internal",on,"PRIVATE"))})(),(0,Pe.KN)(We,Se),(0,Pe.KN)(We,Se,"esm2017");const En="@firebase/remote-config",Br=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mi{constructor(N,z,se,Re){this.client=N,this.storage=z,this.storageCache=se,this.logger=Re}isCachedDataFresh(N,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const se=Date.now()-z,Re=se<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${se}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Re}.`),Re}fetch(N){var z=this;return(0,I.Z)(function*(){const[se,Re]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(Re&&z.isCachedDataFresh(N.cacheMaxAgeMillis,se))return Re;N.eTag=Re&&Re.eTag;const qe=yield z.client.fetch(N),Ct=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===qe.status&&Ct.push(z.storage.setLastSuccessfulFetchResponse(qe)),yield Promise.all(Ct),qe})()}}function ki(M=navigator){return M.languages&&M.languages[0]||M.language}class gs{constructor(N,z,se,Re,qe,Ct){this.firebaseInstallations=N,this.sdkVersion=z,this.namespace=se,this.projectId=Re,this.apiKey=qe,this.appId=Ct}fetch(N){var z=this;return(0,I.Z)(function*(){const[se,Re]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),Ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},cn={sdk_version:z.sdkVersion,app_instance_id:se,app_instance_id_token:Re,app_id:z.appId,language_code:ki()},bn={method:"POST",headers:ln,body:JSON.stringify(cn)},Jn=fetch(Ct,bn),Wn=new Promise((ca,nu)=>{N.signal.addEventListener(()=>{const ns=new Error("The operation was aborted.");ns.name="AbortError",nu(ns)})});let wo;try{yield Promise.race([Jn,Wn]),wo=yield Jn}catch(ca){let nu="fetch-client-network";throw"AbortError"===ca?.name&&(nu="fetch-timeout"),Br.create(nu,{originalErrorMessage:ca?.message})}let ts=wo.status;const Oo=wo.headers.get("ETag")||void 0;let Qu,Fu;if(200===wo.status){let ca;try{ca=yield wo.json()}catch(nu){throw Br.create("fetch-client-parse",{originalErrorMessage:nu?.message})}Qu=ca.entries,Fu=ca.state}if("INSTANCE_STATE_UNSPECIFIED"===Fu?ts=500:"NO_CHANGE"===Fu?ts=304:("NO_TEMPLATE"===Fu||"EMPTY_CONFIG"===Fu)&&(Qu={}),304!==ts&&200!==ts)throw Br.create("fetch-status",{httpStatus:ts});return{status:ts,eTag:Oo,config:Qu}})()}}class kr{constructor(N,z){this.client=N,this.storage=z}fetch(N){var z=this;return(0,I.Z)(function*(){const se=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(N,se)})()}attemptFetch(N,{throttleEndTimeMillis:z,backoffCount:se}){var Re=this;return(0,I.Z)(function*(){yield function Ei(M,N){return new Promise((z,se)=>{const Re=Math.max(N-Date.now(),0),qe=setTimeout(z,Re);M.addEventListener(()=>{clearTimeout(qe),se(Br.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,z);try{const qe=yield Re.client.fetch(N);return yield Re.storage.deleteThrottleMetadata(),qe}catch(qe){if(!function Ds(M){if(!(M instanceof de.ZR&&M.customData))return!1;const N=Number(M.customData.httpStatus);return 429===N||500===N||503===N||504===N}(qe))throw qe;const Ct={throttleEndTimeMillis:Date.now()+(0,de.$s)(se),backoffCount:se+1};return yield Re.storage.setThrottleMetadata(Ct),Re.attemptFetch(N,Ct)}})()}}class za{constructor(N,z,se,Re,qe){this.app=N,this._client=z,this._storageCache=se,this._storage=Re,this._logger=qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bs(M,N){const z=M.target.error||void 0;return Br.create(N,{originalErrorMessage:z&&z?.message})}const uo="app_namespace_store";class qa{constructor(N,z,se,Re=function $o(){return new Promise((M,N)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=se=>{N(Bs(se,"storage-open"))},z.onsuccess=se=>{M(se.target.result)},z.onupgradeneeded=se=>{0===se.oldVersion&&se.target.result.createObjectStore(uo,{keyPath:"compositeKey"})}}catch(z){N(Br.create("storage-open",{originalErrorMessage:z?.message}))}})}()){this.appId=N,this.appName=z,this.namespace=se,this.openDbPromise=Re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var z=this;return(0,I.Z)(function*(){const se=yield z.openDbPromise;return new Promise((Re,qe)=>{const ln=se.transaction([uo],"readonly").objectStore(uo),cn=z.createCompositeKey(N);try{const bn=ln.get(cn);bn.onerror=Jn=>{qe(Bs(Jn,"storage-get"))},bn.onsuccess=Jn=>{const Wn=Jn.target.result;Re(Wn?Wn.value:void 0)}}catch(bn){qe(Br.create("storage-get",{originalErrorMessage:bn?.message}))}})})()}set(N,z){var se=this;return(0,I.Z)(function*(){const Re=yield se.openDbPromise;return new Promise((qe,Ct)=>{const cn=Re.transaction([uo],"readwrite").objectStore(uo),bn=se.createCompositeKey(N);try{const Jn=cn.put({compositeKey:bn,value:z});Jn.onerror=Wn=>{Ct(Bs(Wn,"storage-set"))},Jn.onsuccess=()=>{qe()}}catch(Jn){Ct(Br.create("storage-set",{originalErrorMessage:Jn?.message}))}})})()}delete(N){var z=this;return(0,I.Z)(function*(){const se=yield z.openDbPromise;return new Promise((Re,qe)=>{const ln=se.transaction([uo],"readwrite").objectStore(uo),cn=z.createCompositeKey(N);try{const bn=ln.delete(cn);bn.onerror=Jn=>{qe(Bs(Jn,"storage-delete"))},bn.onsuccess=()=>{Re()}}catch(bn){qe(Br.create("storage-delete",{originalErrorMessage:bn?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Ma{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,I.Z)(function*(){const z=N.storage.getLastFetchStatus(),se=N.storage.getLastSuccessfulFetchTimestampMillis(),Re=N.storage.getActiveConfig(),qe=yield z;qe&&(N.lastFetchStatus=qe);const Ct=yield se;Ct&&(N.lastSuccessfulFetchTimestampMillis=Ct);const ln=yield Re;ln&&(N.activeConfig=ln)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function As(){return $s.apply(this,arguments)}function $s(){return($s=(0,I.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Cs(){(0,Pe.Xd)(new Ve.wA("remote-config",function M(N,{instanceIdentifier:z}){const se=N.getProvider("app").getImmediate(),Re=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Br.create("registration-window");if(!(0,de.hl)())throw Br.create("indexed-db-unavailable");const{projectId:qe,apiKey:Ct,appId:ln}=se.options;if(!qe)throw Br.create("registration-project-id");if(!Ct)throw Br.create("registration-api-key");if(!ln)throw Br.create("registration-app-id");const cn=new qa(ln,se.name,z=z||"firebase"),bn=new Ma(cn),Jn=new be.Yd(En);Jn.logLevel=be.in.ERROR;const Wn=new gs(Re,Pe.Jn,z,qe,Ct,ln),wo=new kr(Wn,cn),ts=new Mi(wo,cn,bn,Jn),Oo=new za(se,ts,bn,cn,Jn);return function Lo(M){const N=(0,de.m9)(M);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Oo),Oo},"PUBLIC").setMultipleInstances(!0)),(0,Pe.KN)(En,"0.4.4"),(0,Pe.KN)(En,"0.4.4","esm2017")}();const na="/firebase-messaging-sw.js",Wa="/firebase-cloud-messaging-push-scope",lo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ju="https://fcmregistrations.googleapis.com/v1",ms="google.c.a.c_id",ra="google.c.a.c_l",Do="google.c.a.ts",co="google.c.a.e";var Ji=(()=>{return(M=Ji||(Ji={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",Ji;var M})();function is(M){const N=new Uint8Array(M);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $r(M){const z=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),se=atob(z),Re=new Uint8Array(se.length);for(let qe=0;qe<se.length;++qe)Re[qe]=se.charCodeAt(qe);return Re}const ho="fcm_token_details_db",Js=5,fo="fcm_token_object_Store";function jo(){return jo=(0,I.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(qe=>qe.name).includes(ho))return null;let N=null;return(yield Ot(ho,Js,{upgrade:(se=(0,I.Z)(function*(Re,qe,Ct,ln){var cn;if(qe<2||!Re.objectStoreNames.contains(fo))return;const bn=ln.objectStore(fo),Jn=yield bn.index("fcmSenderId").get(M);if(yield bn.clear(),Jn)if(2===qe){const Wn=Jn;if(!Wn.auth||!Wn.p256dh||!Wn.endpoint)return;N={token:Wn.fcmToken,createTime:null!==(cn=Wn.createTime)&&void 0!==cn?cn:Date.now(),subscriptionOptions:{auth:Wn.auth,p256dh:Wn.p256dh,endpoint:Wn.endpoint,swScope:Wn.swScope,vapidKey:"string"==typeof Wn.vapidKey?Wn.vapidKey:is(Wn.vapidKey)}}}else if(3===qe){const Wn=Jn;N={token:Wn.fcmToken,createTime:Wn.createTime,subscriptionOptions:{auth:is(Wn.auth),p256dh:is(Wn.p256dh),endpoint:Wn.endpoint,swScope:Wn.swScope,vapidKey:is(Wn.vapidKey)}}}else if(4===qe){const Wn=Jn;N={token:Wn.fcmToken,createTime:Wn.createTime,subscriptionOptions:{auth:is(Wn.auth),p256dh:is(Wn.p256dh),endpoint:Wn.endpoint,swScope:Wn.swScope,vapidKey:is(Wn.vapidKey)}}}}),function(qe,Ct,ln,cn){return se.apply(this,arguments)})})).close(),yield st(ho),yield st("fcm_vapid_details_db"),yield st("undefined"),function ia(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:N}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var se}),jo.apply(this,arguments)}const Pi="firebase-messaging-database",sa=1,Ui="firebase-messaging-store";let ss=null;function Sr(){return ss||(ss=Ot(Pi,sa,{upgrade:(M,N)=>{0===N&&M.createObjectStore(Ui)}})),ss}function Vi(M){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,I.Z)(function*(M){const N=Xi(M),se=yield(yield Sr()).transaction(Ui).objectStore(Ui).get(N);if(se)return se;{const Re=yield function Li(M){return jo.apply(this,arguments)}(M.appConfig.senderId);if(Re)return yield wr(M,Re),Re}}),Xs.apply(this,arguments)}function wr(M,N){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,I.Z)(function*(M,N){const z=Xi(M),Re=(yield Sr()).transaction(Ui,"readwrite");return yield Re.objectStore(Ui).put(N,z),yield Re.done,N})).apply(this,arguments)}function aa(){return(aa=(0,I.Z)(function*(M){const N=Xi(M),se=(yield Sr()).transaction(Ui,"readwrite");yield se.objectStore(Ui).delete(N),yield se.done})).apply(this,arguments)}function Xi({appConfig:M}){return M.appId}const gi=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wn(M,N){return V.apply(this,arguments)}function V(){return(V=(0,I.Z)(function*(M,N){const z=yield Mr(M),se=It(N),Re={method:"POST",headers:z,body:JSON.stringify(se)};let qe;try{qe=yield(yield fetch(pn(M.appConfig),Re)).json()}catch(Ct){throw gi.create("token-subscribe-failed",{errorInfo:Ct?.toString()})}if(qe.error)throw gi.create("token-subscribe-failed",{errorInfo:qe.error.message});if(!qe.token)throw gi.create("token-subscribe-no-token");return qe.token})).apply(this,arguments)}function O(){return(O=(0,I.Z)(function*(M,N){const z=yield Mr(M),se=It(N.subscriptionOptions),Re={method:"PATCH",headers:z,body:JSON.stringify(se)};let qe;try{qe=yield(yield fetch(`${pn(M.appConfig)}/${N.token}`,Re)).json()}catch(Ct){throw gi.create("token-update-failed",{errorInfo:Ct?.toString()})}if(qe.error)throw gi.create("token-update-failed",{errorInfo:qe.error.message});if(!qe.token)throw gi.create("token-update-no-token");return qe.token})).apply(this,arguments)}function ee(M,N){return it.apply(this,arguments)}function it(){return(it=(0,I.Z)(function*(M,N){const se={method:"DELETE",headers:yield Mr(M)};try{const qe=yield(yield fetch(`${pn(M.appConfig)}/${N}`,se)).json();if(qe.error)throw gi.create("token-unsubscribe-failed",{errorInfo:qe.error.message})}catch(Re){throw gi.create("token-unsubscribe-failed",{errorInfo:Re?.toString()})}})).apply(this,arguments)}function pn({projectId:M}){return`${ju}/projects/${M}/registrations`}function Mr(M){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,I.Z)(function*({appConfig:M,installations:N}){const z=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function It({p256dh:M,auth:N,endpoint:z,vapidKey:se}){const Re={web:{endpoint:z,auth:N,p256dh:M}};return se!==lo&&(Re.web.applicationPubKey=se),Re}const nr=6048e5;function Ss(){return Ss=(0,I.Z)(function*(M){const N=yield function Za(M,N){return fu.apply(this,arguments)}(M.swRegistration,M.vapidKey),z={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:N.endpoint,auth:is(N.getKey("auth")),p256dh:is(N.getKey("p256dh"))},se=yield Vi(M.firebaseDependencies);if(se){if(function Go(M,N){return N.vapidKey===M.vapidKey&&N.endpoint===M.endpoint&&N.auth===M.auth&&N.p256dh===M.p256dh}(se.subscriptionOptions,z))return Date.now()>=se.createTime+nr?function ys(M,N){return wi.apply(this,arguments)}(M,{token:se.token,createTime:Date.now(),subscriptionOptions:z}):se.token;try{yield ee(M.firebaseDependencies,se.token)}catch(Re){console.warn(Re)}return xa(M.firebaseDependencies,z)}return xa(M.firebaseDependencies,z)}),Ss.apply(this,arguments)}function Ra(){return Ra=(0,I.Z)(function*(M){const N=yield Vi(M.firebaseDependencies);N&&(yield ee(M.firebaseDependencies,N.token),yield function oa(M){return aa.apply(this,arguments)}(M.firebaseDependencies));const z=yield M.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()}),Ra.apply(this,arguments)}function wi(){return wi=(0,I.Z)(function*(M,N){try{const z=yield function L(M,N){return O.apply(this,arguments)}(M.firebaseDependencies,N),se=Object.assign(Object.assign({},N),{token:z,createTime:Date.now()});return yield wr(M.firebaseDependencies,se),z}catch(z){throw yield function mi(M){return Ra.apply(this,arguments)}(M),z}}),wi.apply(this,arguments)}function xa(M,N){return Na.apply(this,arguments)}function Na(){return(Na=(0,I.Z)(function*(M,N){const se={token:yield wn(M,N),createTime:Date.now(),subscriptionOptions:N};return yield wr(M,se),se.token})).apply(this,arguments)}function fu(){return(fu=(0,I.Z)(function*(M,N){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$r(N)})})).apply(this,arguments)}function hs(M){const N={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function po(M,N){if(!N.notification)return;M.notification={};const z=N.notification.title;z&&(M.notification.title=z);const se=N.notification.body;se&&(M.notification.body=se);const Re=N.notification.image;Re&&(M.notification.image=Re);const qe=N.notification.icon;qe&&(M.notification.icon=qe)}(N,M),function ma(M,N){N.data&&(M.data=N.data)}(N,M),function Ya(M,N){var z,se,Re,qe,Ct;if(!(N.fcmOptions||null!==(z=N.notification)&&void 0!==z&&z.click_action))return;M.fcmOptions={};const ln=null!==(Re=null===(se=N.fcmOptions)||void 0===se?void 0:se.link)&&void 0!==Re?Re:null===(qe=N.notification)||void 0===qe?void 0:qe.click_action;ln&&(M.fcmOptions.link=ln);const cn=null===(Ct=N.fcmOptions)||void 0===Ct?void 0:Ct.analytics_label;cn&&(M.fcmOptions.analyticsLabel=cn)}(N,M),N}function Ms(M,N){const z=[];for(let se=0;se<M.length;se++)z.push(M.charAt(se)),se<N.length&&z.push(N.charAt(se));return z.join("")}function Oa(M){return gi.create("missing-app-config-values",{valueName:M})}Ms("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ms("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ka{constructor(N,z,se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Re=function pu(M){if(!M||!M.options)throw Oa("App Configuration Object");if(!M.name)throw Oa("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:z}=M;for(const se of N)if(!z[se])throw Oa(se);return{appName:M.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Re,installations:z,analyticsProvider:se}}_delete(){return Promise.resolve()}}function eo(M){return js.apply(this,arguments)}function js(){return(js=(0,I.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(na,{scope:Wa}),M.swRegistration.update().catch(()=>{})}catch(N){throw gi.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function Fr(){return(Fr=(0,I.Z)(function*(M,N){if(!N&&!M.swRegistration&&(yield eo(M)),N||!M.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw gi.create("invalid-sw-registration");M.swRegistration=N}})).apply(this,arguments)}function Hs(){return(Hs=(0,I.Z)(function*(M,N){N?M.vapidKey=N:M.vapidKey||(M.vapidKey=lo)})).apply(this,arguments)}function Xa(){return Xa=(0,I.Z)(function*(M,N){if(!navigator)throw gi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gi.create("permission-blocked");return yield function Ja(M,N){return Hs.apply(this,arguments)}(M,N?.vapidKey),yield function Qa(M,N){return Fr.apply(this,arguments)}(M,N?.serviceWorkerRegistration),function Co(M){return Ss.apply(this,arguments)}(M)}),Xa.apply(this,arguments)}function go(){return(go=(0,I.Z)(function*(M,N,z){const se=function gu(M){switch(M){case Ji.NOTIFICATION_CLICKED:return"notification_open";case Ji.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(se,{message_id:z[ms],message_name:z[ra],message_time:z[Do],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gs(){return Gs=(0,I.Z)(function*(M,N){const z=N.data;if(!z.isFirebaseMessaging)return;M.onMessageHandler&&z.messageType===Ji.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(hs(z)):M.onMessageHandler.next(hs(z)));const se=z.data;(function Ao(M){return"object"==typeof M&&!!M&&ms in M})(se)&&"1"===se[co]&&(yield function zo(M,N,z){return go.apply(this,arguments)}(M,z.messageType,se))}),Gs.apply(this,arguments)}const Tr="@firebase/messaging",So=M=>{const N=new ka(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function ua(M,N){return Gs.apply(this,arguments)}(N,z)),N},Xr=M=>{const N=M.getProvider("messaging").getImmediate();return{getToken:se=>function zi(M,N){return Xa.apply(this,arguments)}(N,se)}};function P(){return H.apply(this,arguments)}function H(){return(H=(0,I.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ou(){(0,Pe.Xd)(new Ve.wA("messaging",So,"PUBLIC")),(0,Pe.Xd)(new Ve.wA("messaging-internal",Xr,"PRIVATE")),(0,Pe.KN)(Tr,"0.12.4"),(0,Pe.KN)(Tr,"0.12.4","esm2017")}();const dr="analytics",Qn="firebase_id",oi="origin",Xn=6e4,Ri="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zr="https://www.googletagmanager.com/gtag/js",Ir=new be.Yd("@firebase/analytics"),er=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function eu(M){if(!M.startsWith(zr)){const N=er.create("invalid-gtag-resource",{gtagURL:M});return Ir.warn(N.message),""}return M}function Nt(M){return Promise.all(M.map(N=>N.catch(z=>z)))}function mn(){return(mn=(0,I.Z)(function*(M,N,z,se,Re,qe){const Ct=se[Re];try{if(Ct)yield N[Ct];else{const cn=(yield Nt(z)).find(bn=>bn.measurementId===Re);cn&&(yield N[cn.appId])}}catch(ln){Ir.error(ln)}M("config",Re,qe)})).apply(this,arguments)}function qt(){return(qt=(0,I.Z)(function*(M,N,z,se,Re){try{let qe=[];if(Re&&Re.send_to){let Ct=Re.send_to;Array.isArray(Ct)||(Ct=[Ct]);const ln=yield Nt(z);for(const cn of Ct){const bn=ln.find(Wn=>Wn.measurementId===cn),Jn=bn&&N[bn.appId];if(!Jn){qe=[];break}qe.push(Jn)}}0===qe.length&&(qe=Object.values(N)),yield Promise.all(qe),M("event",se,Re||{})}catch(qe){Ir.error(qe)}})).apply(this,arguments)}const Mo=30,mu=new class Cl{constructor(N={},z=1e3){this.throttleMetadata=N,this.intervalMillis=z}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,z){this.throttleMetadata[N]=z}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Hu(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function yi(){return(yi=(0,I.Z)(function*(M){var N;const{appId:z,apiKey:se}=M,Re={method:"GET",headers:Hu(se)},qe=Ri.replace("{app-id}",z),Ct=yield fetch(qe,Re);if(200!==Ct.status&&304!==Ct.status){let ln="";try{const cn=yield Ct.json();null!==(N=cn.error)&&void 0!==N&&N.message&&(ln=cn.error.message)}catch{}throw er.create("config-fetch-failed",{httpStatus:Ct.status,responseMessage:ln})}return Ct.json()})).apply(this,arguments)}function yu(){return(yu=(0,I.Z)(function*(M,N=mu,z){const{appId:se,apiKey:Re,measurementId:qe}=M.options;if(!se)throw er.create("no-app-id");if(!Re){if(qe)return{measurementId:qe,appId:se};throw er.create("no-api-key")}const Ct=N.getThrottleMetadata(se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ln=new to;return setTimeout((0,I.Z)(function*(){ln.abort()}),void 0!==z?z:Xn),Pu({appId:se,apiKey:Re,measurementId:qe},Ct,ln,N)})).apply(this,arguments)}function Pu(M,N,z){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,I.Z)(function*(M,{throttleEndTimeMillis:N,backoffCount:z},se,Re=mu){var qe;const{appId:Ct,measurementId:ln}=M;try{yield function qn(M,N){return new Promise((z,se)=>{const Re=Math.max(N-Date.now(),0),qe=setTimeout(z,Re);M.addEventListener(()=>{clearTimeout(qe),se(er.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(se,N)}catch(cn){if(ln)return Ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${cn?.message}]`),{appId:Ct,measurementId:ln};throw cn}try{const cn=yield function ya(M){return yi.apply(this,arguments)}(M);return Re.deleteThrottleMetadata(Ct),cn}catch(cn){const bn=cn;if(!function _u(M){if(!(M instanceof de.ZR&&M.customData))return!1;const N=Number(M.customData.httpStatus);return 429===N||500===N||503===N||504===N}(bn)){if(Re.deleteThrottleMetadata(Ct),ln)return Ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${bn?.message}]`),{appId:Ct,measurementId:ln};throw cn}const Jn=503===Number(null===(qe=bn?.customData)||void 0===qe?void 0:qe.httpStatus)?(0,de.$s)(z,Re.intervalMillis,Mo):(0,de.$s)(z,Re.intervalMillis),Wn={throttleEndTimeMillis:Date.now()+Jn,backoffCount:z+1};return Re.setThrottleMetadata(Ct,Wn),Ir.debug(`Calling attemptFetch again in ${Jn} millis`),Pu(M,Wn,se,Re)}}),Fa.apply(this,arguments)}class to{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let rr,Po;function mo(){return(mo=(0,I.Z)(function*(M,N,z,se,Re){if(Re&&Re.global)M("event",z,se);else{const qe=yield N;M("event",z,Object.assign(Object.assign({},se),{send_to:qe}))}})).apply(this,arguments)}function Ro(){return(Ro=(0,I.Z)(function*(){if(!(0,de.hl)())return Ir.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(M){return Ir.warn(er.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function zu(){return zu=(0,I.Z)(function*(M,N,z,se,Re,qe,Ct){var ln;const cn=function Mu(M){return yu.apply(this,arguments)}(M);cn.then(ts=>{z[ts.measurementId]=ts.appId,M.options.measurementId&&ts.measurementId!==M.options.measurementId&&Ir.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${ts.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ts=>Ir.error(ts)),N.push(cn);const bn=function ai(){return Ro.apply(this,arguments)}().then(ts=>{if(ts)return se.getId()}),[Jn,Wn]=yield Promise.all([cn,bn]);(function Fi(M){const N=window.document.getElementsByTagName("script");for(const z of Object.values(N))if(z.src&&z.src.includes(zr)&&z.src.includes(M))return z;return null})(qe)||function Ps(M,N){const z=function Lr(M,N){let z;return window.trustedTypes&&(z=window.trustedTypes.createPolicy(M,N)),z}("firebase-js-sdk-policy",{createScriptURL:eu}),se=document.createElement("script"),Re=`${zr}?l=${M}&id=${N}`;se.src=z?z?.createScriptURL(Re):Re,se.async=!0,document.head.appendChild(se)}(qe,Jn.measurementId),Po&&(Re("consent","default",Po),function ul(M){Po=M}(void 0)),Re("js",new Date);const wo=null!==(ln=Ct?.config)&&void 0!==ln?ln:{};return wo[oi]="firebase",wo.update=!0,null!=Wn&&(wo[Qn]=Wn),Re("config",Jn.measurementId,wo),rr&&(Re("set",rr),function es(M){rr=M}(void 0)),Jn.measurementId}),zu.apply(this,arguments)}class va{constructor(N){this.app=N}_delete(){return delete $i[this.app.options.appId],Promise.resolve()}}let $i={},Qe=[];const Ea={};let vu,_s,or="dataLayer",xu="gtag",Wo=!1;function ll(M,N,z){!function qu(){const M=[];if((0,de.ru)()&&M.push("This is a browser extension environment."),(0,de.zI)()||M.push("Cookies are not available."),M.length>0){const N=M.map((se,Re)=>`(${Re+1}) ${se}`).join(" "),z=er.create("invalid-analytics-context",{errorInfo:N});Ir.warn(z.message)}}();const se=M.options.appId;if(!se)throw er.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw er.create("no-api-key");Ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$i[se])throw er.create("already-exists",{id:se});if(!Wo){!function Su(M){let N=[];Array.isArray(window[M])?N=window[M]:window[M]=N}(or);const{wrappedGtag:qe,gtagCore:Ct}=function Pt(M,N,z,se,Re){let qe=function(...Ct){window[se].push(arguments)};return window[Re]&&"function"==typeof window[Re]&&(qe=window[Re]),window[Re]=function at(M,N,z,se){function qe(){return qe=(0,I.Z)(function*(Ct,...ln){try{if("event"===Ct){const[cn,bn]=ln;yield function Dl(M,N,z,se,Re){return qt.apply(this,arguments)}(M,N,z,cn,bn)}else if("config"===Ct){const[cn,bn]=ln;yield function rn(M,N,z,se,Re,qe){return mn.apply(this,arguments)}(M,N,z,se,cn,bn)}else if("consent"===Ct){const[cn]=ln;M("consent","update",cn)}else if("get"===Ct){const[cn,bn,Jn]=ln;M("get",cn,bn,Jn)}else if("set"===Ct){const[cn]=ln;M("set",cn)}else M(Ct,...ln)}catch(cn){Ir.error(cn)}}),qe.apply(this,arguments)}return function Re(Ct){return qe.apply(this,arguments)}}(qe,M,N,z),{gtagCore:qe,wrappedGtag:window[Re]}}($i,Qe,Ea,or,xu);_s=qe,vu=Ct,Wo=!0}return $i[se]=function qo(M,N,z,se,Re,qe,Ct){return zu.apply(this,arguments)}(M,Qe,Ea,N,vu,or,z),new va(M)}function vs(){return ui.apply(this,arguments)}function ui(){return(ui=(0,I.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Nu="@firebase/analytics",E="0.10.0";!function T(){(0,Pe.Xd)(new Ve.wA(dr,(N,{options:z})=>ll(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,Pe.Xd)(new Ve.wA("analytics-internal",function M(N){try{const z=N.getProvider(dr).getImmediate();return{logEvent:(se,Re,qe)=>function No(M,N,z,se){M=(0,de.m9)(M),function Tn(M,N,z,se,Re){return mo.apply(this,arguments)}(_s,$i[M.app.options.appId],N,z,se).catch(Re=>Ir.error(Re))}(z,se,Re,qe)}}catch(z){throw er.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,Pe.KN)(Nu,E),(0,Pe.KN)(Nu,E,"esm2017")}();var y=q(727);class S extends y.w0{constructor(N,z){super()}schedule(N,z=0){return this}}const U={setInterval(M,N,...z){const{delegate:se}=U;return se?.setInterval?se.setInterval(M,N,...z):setInterval(M,N,...z)},clearInterval(M){const{delegate:N}=U;return(N?.clearInterval||clearInterval)(M)},delegate:void 0};var K=q(8737);class X extends S{constructor(N,z){super(N,z),this.scheduler=N,this.work=z,this.pending=!1}schedule(N,z=0){var se;if(this.closed)return this;this.state=N;const Re=this.id,qe=this.scheduler;return null!=Re&&(this.id=this.recycleAsyncId(qe,Re,z)),this.pending=!0,this.delay=z,this.id=null!==(se=this.id)&&void 0!==se?se:this.requestAsyncId(qe,this.id,z),this}requestAsyncId(N,z,se=0){return U.setInterval(N.flush.bind(N,this),se)}recycleAsyncId(N,z,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return z;null!=z&&U.clearInterval(z)}execute(N,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(N,z);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(N,z){let Re,se=!1;try{this.work(N)}catch(qe){se=!0,Re=qe||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),Re}unsubscribe(){if(!this.closed){const{id:N,scheduler:z}=this,{actions:se}=z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,K.P)(se,this),null!=N&&(this.id=this.recycleAsyncId(z,N,null)),this.delay=null,super.unsubscribe()}}}const gt={now:()=>(gt.delegate||Date).now(),delegate:void 0};class Wt{constructor(N,z=Wt.now){this.schedulerActionCtor=N,this.now=z}schedule(N,z=0,se){return new this.schedulerActionCtor(this,N).schedule(se,z)}}Wt.now=gt.now;class Qt extends Wt{constructor(N,z=Wt.now){super(N,z),this.actions=[],this._active=!1}flush(N){const{actions:z}=this;if(this._active)return void z.push(N);let se;this._active=!0;do{if(se=N.execute(N.state,N.delay))break}while(N=z.shift());if(this._active=!1,se){for(;N=z.shift();)N.unsubscribe();throw se}}}const qr=new class hr extends Qt{}(class Le extends X{constructor(N,z){super(N,z),this.scheduler=N,this.work=z}schedule(N,z=0){return z>0?super.schedule(N,z):(this.delay=z,this.state=N,this.scheduler.flush(this),this)}execute(N,z){return z>0||this.closed?super.execute(N,z):this._execute(N,z)}requestAsyncId(N,z,se=0){return null!=se&&se>0||null==se&&this.delay>0?super.requestAsyncId(N,z,se):(N.flush(this),0)}}),zs=new Qt(X);var ws=q(9751),uu=q(8505),no=q(9468),Ou=q(5363);const as=new g.GfV("7.5.0"),wa="__angularfire_symbol__analyticsIsSupportedValue",vo="__angularfire_symbol__analyticsIsSupported",cl="__angularfire_symbol__remoteConfigIsSupportedValue",_i="__angularfire_symbol__remoteConfigIsSupported",lu="__angularfire_symbol__messagingIsSupportedValue",Ti="__angularfire_symbol__messagingIsSupported";function zl(M,N,z){if(N){if(1===N.length)return N[0];const qe=N.filter(Ct=>Ct.app===z);if(1===qe.length)return qe[0]}return z.container.getProvider(M).getImmediate({optional:!0})}globalThis[vo]||(globalThis[vo]=vs().then(M=>globalThis[wa]=M).catch(()=>globalThis[wa]=!1)),globalThis[Ti]||(globalThis[Ti]=P().then(M=>globalThis[lu]=M).catch(()=>globalThis[lu]=!1)),globalThis[_i]||(globalThis[_i]=As().then(M=>globalThis[cl]=M).catch(()=>globalThis[cl]=!1));const ql=(M,N)=>{const z=N?[N]:(0,$.C6)(),se=[];return z.forEach(Re=>{Re.container.getProvider(M).instances.forEach(Ct=>{se.includes(Ct)||se.push(Ct)})}),se};function Wi(){}class Wl{constructor(N,z=qr){this.zone=N,this.delegate=z}now(){return this.delegate.now()}schedule(N,z,se){const Re=this.zone;return this.delegate.schedule(function(Ct){Re.runGuarded(()=>{N.apply(this,[Ct])})},z,se)}}class Ta{constructor(N){this.zone=N,this.task=null}call(N,z){const se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wi,{},Wi,Wi)),z.pipe((0,uu.b)({next:se,complete:se,error:se})).subscribe(N).add(se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ji=(()=>{class M{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new Wl(Zone.current)),this.insideAngular=z.run(()=>new Wl(Zone.current,zs)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(z){return new(z||M)(g.LFG(g.R0b))},M.\u0275prov=g.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Ts(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function Eo(M){return Ts().ngZone.run(()=>M())}function wu(M){return Ts(),function Tu(M){return function(z){return(z=z.lift(new Ta(M.ngZone))).pipe((0,no.R)(M.outsideAngular),(0,Ou.Q)(M.insideAngular))}}(Ts())(M)}const hl=(M,N)=>function(){const se=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Eo(()=>M.apply(void 0,se))},ja=(M,N)=>function(){let z;const se=arguments;for(let qe=0;qe<arguments.length;qe++)"function"==typeof se[qe]&&(N&&(z||(z=Eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wi,{},Wi,Wi)))),se[qe]=hl(se[qe],z));const Re=function Zu(M){return Ts().ngZone.runOutsideAngular(()=>M())}(()=>M.apply(this,se));if(!N){if(Re instanceof ws.y){const qe=Ts();return Re.pipe((0,no.R)(qe.outsideAngular),(0,Ou.Q)(qe.insideAngular))}return Eo(()=>Re)}return Re instanceof ws.y?Re.pipe(wu):Re instanceof Promise?Eo(()=>new Promise((qe,Ct)=>Re.then(ln=>Eo(()=>qe(ln)),ln=>Eo(()=>Ct(ln))))):"function"==typeof Re&&z?function(){return setTimeout(()=>{z&&"scheduled"===z.state&&z.invoke()},10),Re.apply(this,arguments)}:Eo(()=>Re)}},2090:(yn,ct,q)=>{q.d(ct,{$s:()=>Te,BH:()=>ft,L:()=>et,LL:()=>fe,P0:()=>$t,Pz:()=>Oe,Sg:()=>Ft,US:()=>Ve,ZR:()=>Fe,aH:()=>ot,b$:()=>dt,eu:()=>ue,hl:()=>Et,m9:()=>vt,ne:()=>Vn,ru:()=>Yt,tV:()=>he,uI:()=>Ot,vZ:()=>Cr,xO:()=>bi,z$:()=>Ge,zI:()=>Be});const Pe=function(re){const oe=[];let ve=0;for(let ze=0;ze<re.length;ze++){let ke=re.charCodeAt(ze);ke<128?oe[ve++]=ke:ke<2048?(oe[ve++]=ke>>6|192,oe[ve++]=63&ke|128):55296==(64512&ke)&&ze+1<re.length&&56320==(64512&re.charCodeAt(ze+1))?(ke=65536+((1023&ke)<<10)+(1023&re.charCodeAt(++ze)),oe[ve++]=ke>>18|240,oe[ve++]=ke>>12&63|128,oe[ve++]=ke>>6&63|128,oe[ve++]=63&ke|128):(oe[ve++]=ke>>12|224,oe[ve++]=ke>>6&63|128,oe[ve++]=63&ke|128)}return oe},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,oe){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ve=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ze=[];for(let ke=0;ke<re.length;ke+=3){const zt=re[ke],De=ke+1<re.length,Ee=De?re[ke+1]:0,ne=ke+2<re.length,we=ne?re[ke+2]:0;let Kt=(15&Ee)<<2|we>>6,nn=63&we;ne||(nn=64,De||(Kt=64)),ze.push(ve[zt>>2],ve[(3&zt)<<4|Ee>>4],ve[Kt],ve[nn])}return ze.join("")},encodeString(re,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(re):this.encodeByteArray(Pe(re),oe)},decodeString(re,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(re):function(re){const oe=[];let ve=0,ze=0;for(;ve<re.length;){const ke=re[ve++];if(ke<128)oe[ze++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const zt=re[ve++];oe[ze++]=String.fromCharCode((31&ke)<<6|63&zt)}else if(ke>239&&ke<365){const ne=((7&ke)<<18|(63&re[ve++])<<12|(63&re[ve++])<<6|63&re[ve++])-65536;oe[ze++]=String.fromCharCode(55296+(ne>>10)),oe[ze++]=String.fromCharCode(56320+(1023&ne))}else{const zt=re[ve++],De=re[ve++];oe[ze++]=String.fromCharCode((15&ke)<<12|(63&zt)<<6|63&De)}}return oe.join("")}(this.decodeStringToByteArray(re,oe))},decodeStringToByteArray(re,oe){this.init_();const ve=oe?this.charToByteMapWebSafe_:this.charToByteMap_,ze=[];for(let ke=0;ke<re.length;){const zt=ve[re.charAt(ke++)],Ee=ke<re.length?ve[re.charAt(ke)]:0;++ke;const we=ke<re.length?ve[re.charAt(ke)]:64;++ke;const At=ke<re.length?ve[re.charAt(ke)]:64;if(++ke,null==zt||null==Ee||null==we||null==At)throw new be;ze.push(zt<<2|Ee>>4),64!==we&&(ze.push(Ee<<4&240|we>>2),64!==At&&ze.push(we<<6&192|At))}return ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const et=function(re){return function(re){const oe=Pe(re);return Ve.encodeByteArray(oe,!0)}(re).replace(/\./g,"")},he=function(re){try{return Ve.decodeString(re,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null},Xt=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const re=process.env.__FIREBASE_DEFAULTS__;return re?JSON.parse(re):void 0})()||(()=>{if(typeof document>"u")return;let re;try{re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const oe=re&&he(re[1]);return oe&&JSON.parse(oe)})()}catch(re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${re}`)}},$t=re=>{const oe=(re=>{var oe,ve;return null===(ve=null===(oe=Xt())||void 0===oe?void 0:oe.emulatorHosts)||void 0===ve?void 0:ve[re]})(re);if(!oe)return;const ve=oe.lastIndexOf(":");if(ve<=0||ve+1===oe.length)throw new Error(`Invalid host ${oe} with no separate hostname and port!`);const ze=parseInt(oe.substring(ve+1),10);return"["===oe[0]?[oe.substring(1,ve-1),ze]:[oe.substring(0,ve),ze]},ot=()=>{var re;return null===(re=Xt())||void 0===re?void 0:re.config},Oe=re=>{var oe;return null===(oe=Xt())||void 0===oe?void 0:oe[`_${re}`]};class ft{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,ve)=>{this.resolve=oe,this.reject=ve})}wrapCallback(oe){return(ve,ze)=>{ve?this.reject(ve):this.resolve(ze),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(ve):oe(ve,ze))}}}function Ft(re,oe){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ze=oe||"demo-project",ke=re.iat||0,zt=re.sub||re.user_id;if(!zt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const De=Object.assign({iss:`https://securetoken.google.com/${ze}`,aud:ze,iat:ke,exp:ke+3600,auth_time:ke,sub:zt,user_id:zt,firebase:{sign_in_provider:"custom",identities:{}}},re);return[et(JSON.stringify({alg:"none",type:"JWT"})),et(JSON.stringify(De)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Yt(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){try{return"object"==typeof indexedDB}catch{return!1}}function ue(){return new Promise((re,oe)=>{try{let ve=!0;const ze="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(ze);ke.onsuccess=()=>{ke.result.close(),ve||self.indexedDB.deleteDatabase(ze),re(!0)},ke.onupgradeneeded=()=>{ve=!1},ke.onerror=()=>{var zt;oe((null===(zt=ke.error)||void 0===zt?void 0:zt.message)||"")}}catch(ve){oe(ve)}})}function Be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Fe extends Error{constructor(oe,ve,ze){super(ve),this.code=oe,this.customData=ze,this.name="FirebaseError",Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(oe,ve,ze){this.service=oe,this.serviceName=ve,this.errors=ze}create(oe,...ve){const ze=ve[0]||{},ke=`${this.service}/${oe}`,zt=this.errors[oe],De=zt?function Ae(re,oe){return re.replace(Xe,(ve,ze)=>{const ke=oe[ze];return null!=ke?String(ke):`<${ze}?>`})}(zt,ze):"Error";return new Fe(ke,`${this.serviceName}: ${De} (${ke}).`,ze)}}const Xe=/\{\$([^}]+)}/g;function Cr(re,oe){if(re===oe)return!0;const ve=Object.keys(re),ze=Object.keys(oe);for(const ke of ve){if(!ze.includes(ke))return!1;const zt=re[ke],De=oe[ke];if(lr(zt)&&lr(De)){if(!Cr(zt,De))return!1}else if(zt!==De)return!1}for(const ke of ze)if(!ve.includes(ke))return!1;return!0}function lr(re){return null!==re&&"object"==typeof re}function bi(re){const oe=[];for(const[ve,ze]of Object.entries(re))Array.isArray(ze)?ze.forEach(ke=>{oe.push(encodeURIComponent(ve)+"="+encodeURIComponent(ke))}):oe.push(encodeURIComponent(ve)+"="+encodeURIComponent(ze));return oe.length?"&"+oe.join("&"):""}function Vn(re,oe){const ve=new Tt(re,oe);return ve.subscribe.bind(ve)}class Tt{constructor(oe,ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ve,this.task.then(()=>{oe(this)}).catch(ze=>{this.error(ze)})}next(oe){this.forEachObserver(ve=>{ve.next(oe)})}error(oe){this.forEachObserver(ve=>{ve.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,ve,ze){let ke;if(void 0===oe&&void 0===ve&&void 0===ze)throw new Error("Missing Observer.");ke=function Fn(re,oe){if("object"!=typeof re||null===re)return!1;for(const ve of oe)if(ve in re&&"function"==typeof re[ve])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:ve,complete:ze},void 0===ke.next&&(ke.next=Un),void 0===ke.error&&(ke.error=Un),void 0===ke.complete&&(ke.complete=Un);const zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),zt}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let ve=0;ve<this.observers.length;ve++)this.sendOne(ve,oe)}sendOne(oe,ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{ve(this.observers[oe])}catch(ze){typeof console<"u"&&console.error&&console.error(ze)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Un(){}const xi=1e3,cs=2,Yr=144e5,$e=.5;function Te(re,oe=xi,ve=cs){const ze=oe*Math.pow(ve,re),ke=Math.round($e*ze*(Math.random()-.5)*2);return Math.min(Yr,ze+ke)}function vt(re){return re&&re._delegate?re._delegate:re}},9008:(yn,ct,q)=>{q.d(ct,{i:()=>pt});var g=q(5450),$=q(433),I=q(8256),Pe=q(2274),de=q(7185),Ve=q(6895),be=q(9273),lt=q(5227),et=q(529);let he=(()=>{class Ne{constructor(ue){this.http=ue}traerPaises(){return this.http.get("https://restcountries.com/v3.1/all")}obtenerInformacionPais(ue){return this.http.get(`https://restcountries.com/v3.1/name/${ue}`)}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(I.LFG(et.eN))},Ne.\u0275prov=I.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})();function ae(Ne,Et){if(1&Ne){const ue=I.EpF();I.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"button",3),I.NdJ("click",function(){const Fe=I.CHM(ue).$implicit,fe=I.oxw();return I.KtG(fe.emitirPais(Fe.nombre))}),I.TgZ(4,"h5"),I._uU(5),I.qZA(),I._UZ(6,"img",4),I.qZA()()()()}if(2&Ne){const ue=Et.$implicit;I.xp6(5),I.Oqu(ue.nombre),I.xp6(1),I.Q6J("src",ue.bandera,I.LSH)}}let Ye=(()=>{class Ne{constructor(ue){this.paisService=ue,this.paises=[],this.eventoPaisSeleccionado=new I.vpe}ngOnInit(){this.traerPaises()}traerPaises(){this.paises=[],this.paisService.traerPaises().subscribe(ue=>{for(let Be=0;Be<ue.length;Be++){const _e=ue[Be];this.paises.push({nombre:_e.name.common,bandera:_e.flags.png})}this.paises=this.paises.slice(0,5)})}emitirPais(ue){console.log("pais clickeado "+ue),this.eventoPaisSeleccionado.emit(ue)}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(I.Y36(he))},Ne.\u0275cmp=I.Xpm({type:Ne,selectors:[["app-tabla-paises"]],outputs:{eventoPaisSeleccionado:"eventoPaisSeleccionado"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"mb-3","justify-content-between"],[1,"row"],[1,"btn","btn-outline-secondary",3,"click"],[2,"width","10%","position","relative",3,"src"]],template:function(ue,Be){1&ue&&I.YNc(0,ae,7,2,"div",0),2&ue&&I.Q6J("ngForOf",Be.paises)},dependencies:[Ve.sg]}),Ne})();function ht(Ne,Et){1&Ne&&(I.TgZ(0,"span",35),I._uU(1,"El nombre es requerido"),I.qZA())}function me(Ne,Et){1&Ne&&(I.TgZ(0,"span",35),I._uU(1,"El nombre es inv\xe1lido"),I.qZA())}function Rt(Ne,Et){1&Ne&&(I.TgZ(0,"span",35),I._uU(1,"El apellido es requerido"),I.qZA())}function yt(Ne,Et){1&Ne&&(I.TgZ(0,"span",35),I._uU(1,"El apellido es inv\xe1lido"),I.qZA())}function an(Ne,Et){1&Ne&&(I.TgZ(0,"span",35),I._uU(1,"El usurname es requerido"),I.qZA())}function Xt(Ne,Et){1&Ne&&(I.TgZ(0,"span",35),I._uU(1,"El email es requerido"),I.qZA())}function en(Ne,Et){1&Ne&&(I.TgZ(0,"span",35),I._uU(1,"El email es inv\xe1lido"),I.qZA())}function $t(Ne,Et){1&Ne&&(I.TgZ(0,"span",35),I._uU(1,"La direcci\xf3n es requerida"),I.qZA())}function ot(Ne,Et){1&Ne&&(I.TgZ(0,"span",35),I._uU(1,"La nacionalidad es requerida"),I.qZA())}let Oe=(()=>{class Ne{constructor(ue,Be,_e){this.actor=ue,this.toastr=Be,this.router=_e}ngOnInit(){this.formAltaActor=new $.cw({nombre:new $.NI("",[$.kI.pattern("^[a-zA-Z]+$")]),apellido:new $.NI("",[$.kI.pattern("^[a-zA-Z]+$")]),email:new $.NI("",$.kI.email),nacionalidad:new $.NI("",$.kI.required),direccion:new $.NI("",$.kI.required),username:new $.NI("",$.kI.required)})}enviarForm(){console.log(this.formAltaActor.value),console.log(this.pais)}mostrarPais(ue){this.pais=ue,this.formAltaActor.controls.nacionalidad.setValue(this.pais)}registrar(){console.log("Guardando Actor");const ue={nombre:this.formAltaActor.get("nombre")?.value,apellido:this.formAltaActor.get("apellido")?.value,username:this.formAltaActor.get("username")?.value,email:this.formAltaActor.get("email")?.value,direccion:this.formAltaActor.get("direccion")?.value,nacionalidad:this.formAltaActor.get("nacionalidad")?.value};this.actor.crearActor(ue).then(()=>{this.toastr.success("Actor creado correctamente","Guardado",{timeOut:1500})}).catch(Be=>{this.toastr.error("Detalle: "+Be,"Error")}),this.router.navigate(["/actor/actorPelicula"])}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(I.Y36(Pe.c),I.Y36(de._W),I.Y36(g.F0))},Ne.\u0275cmp=I.Xpm({type:Ne,selectors:[["app-alta-actor"]],decls:66,vars:12,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","author","content","Macarena Ferrero"],["role","main"],[1,"container"],[1,"row","mt-10","pt-5"],[1,"col-md-4","order-md-2","mb-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted","mt-5"],[3,"eventoPaisSeleccionado"],[1,"col-md-8","order-md-1"],[1,"display-3","mt-3"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","nombre"],["type","text","id","nombre","placeholder","Nombre","value","","required","","formControlName","nombre",1,"form-control"],["class","text-danger form-floating",4,"ngIf"],["for","apellido"],["type","text","id","apellido","placeholder","Apellido","value","","required","","formControlName","apellido",1,"form-control"],[1,"mb-3"],["for","username"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","id","username","placeholder","Username","required","","formControlName","username",1,"form-control"],["for","email"],["type","email","id","email","placeholder","you@example.com","formControlName","email","required","",1,"form-control"],["for","direccion"],["type","text","id","direccion","placeholder","1234 Main St","required","","formControlName","direccion",1,"form-control"],["for","nacionalidad"],["id","nacionalidad","readonly","","formControlName","nacionalidad",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],[1,"mb-4"],[1,"text-danger","form-floating"]],template:function(ue,Be){if(1&ue&&(I._UZ(0,"router-outlet"),I.TgZ(1,"html",0)(2,"head"),I._UZ(3,"meta",1)(4,"meta",2)(5,"meta",3),I.TgZ(6,"title"),I._uU(7,"Alta Actores"),I.qZA()(),I.TgZ(8,"body")(9,"main",4)(10,"div",5)(11,"div",6)(12,"div",7),I._UZ(13,"app-nav"),I.TgZ(14,"h4",8)(15,"span",9),I._uU(16,"Nacionalidad"),I.qZA()(),I.TgZ(17,"app-tabla-paises",10),I.NdJ("eventoPaisSeleccionado",function(Fe){return Be.mostrarPais(Fe)}),I.qZA()(),I.TgZ(18,"div",11)(19,"h1",12),I._uU(20,"Alta Actor"),I.qZA(),I.TgZ(21,"p"),I._uU(22,"Ingrese la informaci\xf3n solicitada del actor que desea a\xf1adir."),I.qZA(),I.TgZ(23,"form",13),I.NdJ("ngSubmit",function(){return Be.enviarForm()}),I.TgZ(24,"div",14)(25,"div",15)(26,"label",16),I._uU(27,"Nombre"),I.qZA(),I._UZ(28,"input",17),I.YNc(29,ht,2,0,"span",18),I.YNc(30,me,2,0,"span",18),I.qZA(),I.TgZ(31,"div",15)(32,"label",19),I._uU(33,"Apellido"),I.qZA(),I._UZ(34,"input",20),I.YNc(35,Rt,2,0,"span",18),I.YNc(36,yt,2,0,"span",18),I.qZA()(),I.TgZ(37,"div",21)(38,"label",22),I._uU(39,"Twitter"),I.qZA(),I.TgZ(40,"div",23)(41,"div",24)(42,"span",25),I._uU(43,"@"),I.qZA()(),I._UZ(44,"input",26),I.qZA(),I.YNc(45,an,2,0,"span",18),I.qZA(),I.TgZ(46,"div",21)(47,"label",27),I._uU(48,"Email"),I.qZA(),I._UZ(49,"input",28),I.YNc(50,Xt,2,0,"span",18),I.YNc(51,en,2,0,"span",18),I.qZA(),I.TgZ(52,"div",21)(53,"label",29),I._uU(54,"Direcci\xf3n"),I.qZA(),I._UZ(55,"input",30),I.YNc(56,$t,2,0,"span",18),I.qZA(),I.TgZ(57,"div",21)(58,"label",31),I._uU(59,"Nacionalidad"),I.qZA(),I._UZ(60,"input",32),I.YNc(61,ot,2,0,"span",18),I.qZA(),I.TgZ(62,"button",33),I.NdJ("click",function(){return Be.registrar()}),I._uU(63,"Guardar"),I.qZA(),I._UZ(64,"hr",34),I.qZA()()()()(),I._UZ(65,"app-footer"),I.qZA()()),2&ue){let _e,Fe,fe,Ae,Xe,wt,kn,On,dn;I.xp6(23),I.Q6J("formGroup",Be.formAltaActor),I.xp6(6),I.Q6J("ngIf",(null==(_e=Be.formAltaActor.get("nombre"))?null:_e.hasError("required"))&&(null==(_e=Be.formAltaActor.get("nombre"))?null:_e.touched)),I.xp6(1),I.Q6J("ngIf",null==(Fe=Be.formAltaActor.get("nombre"))?null:Fe.hasError("pattern")),I.xp6(5),I.Q6J("ngIf",(null==(fe=Be.formAltaActor.get("apellido"))?null:fe.hasError("required"))&&(null==(fe=Be.formAltaActor.get("apellido"))?null:fe.touched)),I.xp6(1),I.Q6J("ngIf",null==(Ae=Be.formAltaActor.get("apellido"))?null:Ae.hasError("pattern")),I.xp6(9),I.Q6J("ngIf",(null==(Xe=Be.formAltaActor.get("username"))?null:Xe.hasError("required"))&&(null==(Xe=Be.formAltaActor.get("username"))?null:Xe.touched)),I.xp6(5),I.Q6J("ngIf",(null==(wt=Be.formAltaActor.get("email"))?null:wt.hasError("required"))&&(null==(wt=Be.formAltaActor.get("email"))?null:wt.touched)),I.xp6(1),I.Q6J("ngIf",null==(kn=Be.formAltaActor.get("email"))?null:kn.hasError("email")),I.xp6(5),I.Q6J("ngIf",(null==(On=Be.formAltaActor.get("direccion"))?null:On.hasError("required"))&&(null==(On=Be.formAltaActor.get("direccion"))?null:On.touched)),I.xp6(4),I.s9C("value",Be.pais),I.xp6(1),I.Q6J("ngIf",(null==(dn=Be.formAltaActor.get("nacionalidad"))?null:dn.hasError("required"))&&(null==(dn=Be.formAltaActor.get("direccion"))?null:dn.touched)),I.xp6(1),I.Q6J("disabled",Be.formAltaActor.invalid)}},dependencies:[Ve.O5,be.r,lt.c,$._Y,$.Fj,$.JJ,$.JL,$.Q7,$.sg,$.u,g.lC,Ye]}),Ne})();var ft=q(727);class Ft{}var Ge=q(3406),Ot=q(8731),st=q(5379);function Vt(Ne,Et){if(1&Ne&&(I.TgZ(0,"div"),I._UZ(1,"img",1),I.TgZ(2,"div")(3,"h5",2),I._uU(4),I.qZA()()()),2&Ne){const ue=I.oxw();I.xp6(1),I.Q6J("src",ue.pais.bandera,I.LSH),I.xp6(3),I.Oqu(ue.pais.nombre)}}let Yt=(()=>{class Ne{}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275cmp=I.Xpm({type:Ne,selectors:[["app-detalle-nacionalidad"]],inputs:{pais:"pais"},decls:1,vars:1,consts:[[4,"ngIf"],[2,"width","18rem","padding-left","80px",3,"src"],[2,"padding-left","80px"]],template:function(ue,Be){1&ue&&I.YNc(0,Vt,5,2,"div",0),2&ue&&I.Q6J("ngIf",null!=Be.pais)},dependencies:[Ve.O5]}),Ne})();function dt(Ne,Et){if(1&Ne&&(I.TgZ(0,"div")(1,"h5"),I._uU(2),I.qZA(),I.TgZ(3,"h5"),I._uU(4),I.qZA(),I.TgZ(5,"h5"),I._uU(6),I.qZA()()),2&Ne){const ue=I.oxw();I.xp6(2),I.hij("Twitter: @",ue.actorSeleccionado.username," "),I.xp6(2),I.hij("Email: ",ue.actorSeleccionado.email," "),I.xp6(2),I.hij("Direcci\xf3n: ",ue.actorSeleccionado.direccion," ")}}let Lt=(()=>{class Ne{}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275cmp=I.Xpm({type:Ne,selectors:[["app-detalle-actor"]],inputs:{actorSeleccionado:"actorSeleccionado"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(ue,Be){1&ue&&I.YNc(0,dt,7,3,"div",0),2&ue&&I.Q6J("ngIf",null!=Be.actorSeleccionado)},dependencies:[Ve.O5]}),Ne})();const Se=[{path:"",component:Oe},{path:"actor/altaActor",component:Oe},{path:"actor/actorPelicula",component:(()=>{class Ne{constructor(ue,Be,_e,Fe){this.peliculaService=ue,this.toastr=Be,this.paisService=_e,this.http=Fe,this.peliculas=[],this.suscripcion=new ft.w0,this.paisActor=new Ft}ngOnInit(){this.getPeliculas()}getPeliculas(){this.suscripcion=this.peliculaService.getPeliculas().subscribe(ue=>{this.peliculas=[],ue.forEach(Be=>{this.peliculas?.push({...Be})})})}emitirActor(ue){console.log(ue.nacionalidad),this.actorSeleccionado=ue;const Be=ue.nombre;this.peliculasPorActor=this.peliculas?.filter(_e=>_e.actor==Be),console.log(this.peliculasPorActor),this.nacionalidadActor=ue.nacionalidad,this.buscarInformacionPais(this.nacionalidadActor)}buscarInformacionPais(ue){this.paisService.obtenerInformacionPais(ue).subscribe(Be=>{console.log("Informaci\xf3n del pa\xeds:",Be),this.paisActor.nombre=Be[0]?.name.common,this.paisActor.bandera=Be[0]?.flags.png},Be=>{console.error("Error al obtener informaci\xf3n del pa\xeds:",Be)})}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(I.Y36(Ge.S),I.Y36(de._W),I.Y36(he),I.Y36(et.eN))},Ne.\u0275cmp=I.Xpm({type:Ne,selectors:[["app-listado-actores"]],decls:27,vars:3,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],[3,"eventoActorSeleccionado"],[1,"row"],[1,"col-md-5"],[3,"listadoPeliculas"],[1,"col-md-4"],[3,"pais"],[1,"col-md-3"],[3,"actorSeleccionado"]],template:function(ue,Be){1&ue&&(I._UZ(0,"router-outlet"),I.TgZ(1,"html",0)(2,"head"),I._UZ(3,"meta",1)(4,"meta",2),I.TgZ(5,"title"),I._uU(6,"Listado Actores"),I.qZA()(),I.TgZ(7,"body")(8,"main",3),I._UZ(9,"app-nav"),I.TgZ(10,"div",4)(11,"div",5)(12,"h1",6),I._uU(13,"Listado Actores"),I.qZA(),I.TgZ(14,"p"),I._uU(15,"Este es el listado de los actores que protagonizan las pel\xedculas emitidas."),I.qZA(),I.TgZ(16,"app-tabla-actor",7),I.NdJ("eventoActorSeleccionado",function(Fe){return Be.emitirActor(Fe)}),I.qZA()()(),I.TgZ(17,"div",5)(18,"div",8)(19,"div",9),I._UZ(20,"app-tabla-pelicula",10),I.qZA(),I.TgZ(21,"div",11),I._UZ(22,"app-detalle-nacionalidad",12),I.qZA(),I.TgZ(23,"div",13),I._UZ(24,"app-detalle-actor",14),I.qZA()(),I._UZ(25,"hr"),I.qZA()(),I._UZ(26,"app-footer"),I.qZA()()),2&ue&&(I.xp6(20),I.Q6J("listadoPeliculas",Be.peliculasPorActor),I.xp6(2),I.Q6J("pais",Be.paisActor),I.xp6(2),I.Q6J("actorSeleccionado",Be.actorSeleccionado))},dependencies:[be.r,lt.c,g.lC,Ot.k,st.T,Yt,Lt]}),Ne})()}];let pt=(()=>{class Ne{}return Ne.\u0275fac=function(ue){return new(ue||Ne)},Ne.\u0275mod=I.oAB({type:Ne}),Ne.\u0275inj=I.cJS({imports:[g.Bz.forChild(Se),g.Bz]}),Ne})()},6533:(yn,ct,q)=>{q.r(ct),q.d(ct,{ActoresModule:()=>ht});var g=q(6895),$=q(529),I=q(7185),Pe=q(4466),de=q(433),Ve=q(5450),be=q(9008),lt=q(3692),et=q(2340),he=q(4102),ae=q(4192),Ye=q(8256);let ht=(()=>{class me{}return me.\u0275fac=function(yt){return new(yt||me)},me.\u0275mod=Ye.oAB({type:me}),me.\u0275inj=Ye.cJS({imports:[g.ez,$.JF,I.Rh,Pe.m,de.UX,de.u5,Ve.Bz,be.i,(0,lt.hX)(()=>(0,lt.ZF)(et.N.firebase)),(0,he.Cm)(()=>(0,he.ad)()),ae.PeliculasModule]}),me})()},9778:(yn,ct,q)=>{q.d(ct,{R:()=>Et});var g=q(5450),$=q(727),I=q(8256),Pe=q(3406),de=q(7185),Ve=q(6895),be=q(9273),lt=q(5227);let et=(()=>{class ue{constructor(_e){this.peliculaAborrar=_e,this.onPeliculaABorrar=new I.vpe}ngOnInit(){}borrarPelicula(_e){this.peliculaAborrar.deletePelicula(_e.id??""),this.onPeliculaABorrar.emit(_e)}}return ue.\u0275fac=function(_e){return new(_e||ue)(I.Y36(Pe.S))},ue.\u0275cmp=I.Xpm({type:ue,selectors:[["app-borrar-pelicula"]],inputs:{peliculaMostrar:"peliculaMostrar"},outputs:{onPeliculaABorrar:"onPeliculaABorrar"},decls:6,vars:0,consts:[[1,"btn","btn-outline-danger",3,"click"]],template:function(_e,Fe){1&_e&&(I.TgZ(0,"h2"),I._uU(1,"Borrar pelicula"),I.qZA(),I.TgZ(2,"p"),I._uU(3,"Eliminar pelicula seleccionada."),I.qZA(),I.TgZ(4,"button",0),I.NdJ("click",function(){return Fe.borrarPelicula(Fe.peliculaMostrar)}),I._uU(5,"Borrar Pelicula"),I.qZA())}}),ue})(),he=(()=>{class ue{constructor(){this.onPeliculaAMostrar=new I.vpe}ngOnInit(){}}return ue.\u0275fac=function(_e){return new(_e||ue)},ue.\u0275cmp=I.Xpm({type:ue,selectors:[["app-detalle-pelicula"]],inputs:{peliculaMostrar:"peliculaMostrar"},outputs:{onPeliculaAMostrar:"onPeliculaAMostrar"},decls:14,vars:5,consts:[["width","100px",3,"src"]],template:function(_e,Fe){1&_e&&(I.TgZ(0,"strong")(1,"h3"),I._uU(2),I.qZA()(),I._UZ(3,"img",0)(4,"br")(5,"br"),I.TgZ(6,"span"),I._uU(7),I.qZA(),I._UZ(8,"br")(9,"br"),I.TgZ(10,"p"),I._uU(11),I.qZA(),I.TgZ(12,"p"),I._uU(13),I.qZA()),2&_e&&(I.xp6(2),I.hij("",Fe.peliculaMostrar.nombre," "),I.xp6(1),I.Q6J("src",Fe.peliculaMostrar.fotoPelicula,I.LSH),I.xp6(4),I.hij("Genero: ",Fe.peliculaMostrar.tipo," "),I.xp6(4),I.hij("Publico: ",Fe.peliculaMostrar.cantidadPublico," "),I.xp6(2),I.hij("Estreno: ",Fe.peliculaMostrar.fechaEstreno," "))}}),ue})();var ae=q(433),Ye=(()=>{return(ue=Ye||(Ye={})).PelicularTerror="Terror",ue.PelicularComedia="Comedia",ue.PelicularAmor="Amor",ue.PelicularOtros="Otros",Ye;var ue})();function ht(ue,Be){1&ue&&(I.TgZ(0,"span",14),I._uU(1,"El nombre es requerido"),I.qZA())}function me(ue,Be){if(1&ue&&(I.TgZ(0,"option",15),I._uU(1),I.qZA()),2&ue){const _e=Be.$implicit;I.Q6J("value",_e),I.xp6(1),I.Oqu(_e)}}function Rt(ue,Be){1&ue&&(I.TgZ(0,"span",14),I._uU(1,"El tipo es requerido"),I.qZA())}function yt(ue,Be){1&ue&&(I.TgZ(0,"span",14),I._uU(1,"La cantidad de p\xfablico es requerida"),I.qZA())}function an(ue,Be){1&ue&&(I.TgZ(0,"span",14),I._uU(1,"La fecha de estreno es requerida"),I.qZA())}let Xt=(()=>{class ue{constructor(_e,Fe,fe){this.peliculaModificada=_e,this.toastr=Fe,this.router=fe,this.onPeliculaAModificar=new I.vpe,this.opcionestipos=Object.values(Ye)}ngOnInit(){this.formModificarPelicula=new ae.cw({nombre:new ae.NI("",[ae.kI.required]),fechaEstreno:new ae.NI("",[ae.kI.required]),cantidadPublico:new ae.NI("",ae.kI.required),tipo:new ae.NI("",ae.kI.required)})}updatePelicula(){console.log("Actualizando pel\xedcula");const _e={id:this.peliculaMostrar.id,nombre:this.formModificarPelicula.get("nombre")?.value,fechaEstreno:this.formModificarPelicula.get("fechaEstreno")?.value,cantidadPublico:this.formModificarPelicula.get("cantidadPublico")?.value,tipo:this.formModificarPelicula.get("tipo")?.value};this.peliculaModificada.updatePelicula(_e).then(()=>{this.toastr.success("Pelicula guardada correctamente","Guardado",{timeOut:1e3})}).catch(Fe=>{this.toastr.error("Detalle "+Fe,"Error")}),this.router.navigate(["/busqueda"])}}return ue.\u0275fac=function(_e){return new(_e||ue)(I.Y36(Pe.S),I.Y36(de._W),I.Y36(g.F0))},ue.\u0275cmp=I.Xpm({type:ue,selectors:[["app-modificar-pelicula"]],inputs:{peliculaMostrar:"peliculaMostrar"},outputs:{onPeliculaAModificar:"onPeliculaAModificar"},decls:31,vars:11,consts:[[3,"formGroup"],[1,"form-group","row"],["for","nombre",1,"col-sm-2","col-form-label"],[1,"col-sm-6"],["type","text","name","nombre","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger form-floating",4,"ngIf"],["for","tipo",1,"col-sm-2","col-form-label"],["name","tipo","formControlName","tipo",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","cantidadPublico",1,"col-sm-2","col-form-label"],["type","number","name","cantidadPublico","formControlName","cantidadPublico",1,"form-control",3,"ngModel","ngModelChange"],["for","fechaEstreno",1,"col-sm-2","col-form-label"],["type","text","name","fechaEstreno","formControlName","fechaEstreno",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-success",3,"disabled","click"],[1,"text-danger","form-floating"],[3,"value"]],template:function(_e,Fe){if(1&_e&&(I.TgZ(0,"h2"),I._uU(1,"Modificar Pelicula"),I.qZA(),I.TgZ(2,"div")(3,"form",0)(4,"div",1)(5,"label",2),I._uU(6,"Nombre"),I.qZA(),I.TgZ(7,"div",3)(8,"input",4),I.NdJ("ngModelChange",function(Ae){return Fe.peliculaMostrar.nombre=Ae}),I.qZA(),I.YNc(9,ht,2,0,"span",5),I.qZA()(),I.TgZ(10,"div",1)(11,"label",6),I._uU(12,"G\xe9nero"),I.qZA(),I.TgZ(13,"div",3)(14,"select",7),I.NdJ("ngModelChange",function(Ae){return Fe.peliculaMostrar.tipo=Ae}),I.YNc(15,me,2,2,"option",8),I.qZA(),I.YNc(16,Rt,2,0,"span",5),I.qZA()(),I.TgZ(17,"div",1)(18,"label",9),I._uU(19,"Publico"),I.qZA(),I.TgZ(20,"div",3)(21,"input",10),I.NdJ("ngModelChange",function(Ae){return Fe.peliculaMostrar.cantidadPublico=Ae}),I.qZA(),I.YNc(22,yt,2,0,"span",5),I.qZA()(),I.TgZ(23,"div",1)(24,"label",11),I._uU(25,"Estreno"),I.qZA(),I.TgZ(26,"div",3)(27,"input",12),I.NdJ("ngModelChange",function(Ae){return Fe.peliculaMostrar.fechaEstreno=Ae}),I.qZA(),I.YNc(28,an,2,0,"span",5),I.qZA()(),I.TgZ(29,"button",13),I.NdJ("click",function(){return Fe.updatePelicula()}),I._uU(30,"Guardar"),I.qZA()()()),2&_e){let fe,Ae,Xe,wt;I.xp6(3),I.Q6J("formGroup",Fe.formModificarPelicula),I.xp6(5),I.Q6J("ngModel",Fe.peliculaMostrar.nombre),I.xp6(1),I.Q6J("ngIf",(null==(fe=Fe.formModificarPelicula.get("nombre"))?null:fe.hasError("required"))&&(null==(fe=Fe.formModificarPelicula.get("nombre"))?null:fe.touched)),I.xp6(5),I.Q6J("ngModel",Fe.peliculaMostrar.tipo),I.xp6(1),I.Q6J("ngForOf",Fe.opcionestipos),I.xp6(1),I.Q6J("ngIf",(null==(Ae=Fe.formModificarPelicula.get("tipo"))?null:Ae.hasError("required"))&&(null==(Ae=Fe.formModificarPelicula.get("tipo"))?null:Ae.touched)),I.xp6(5),I.Q6J("ngModel",Fe.peliculaMostrar.cantidadPublico),I.xp6(1),I.Q6J("ngIf",(null==(Xe=Fe.formModificarPelicula.get("cantidadPublico"))?null:Xe.hasError("required"))&&(null==(Xe=Fe.formModificarPelicula.get("cantidadPublico"))?null:Xe.touched)),I.xp6(5),I.Q6J("ngModel",Fe.peliculaMostrar.fechaEstreno),I.xp6(1),I.Q6J("ngIf",(null==(wt=Fe.formModificarPelicula.get("fechaEstreno"))?null:wt.hasError("required"))&&(null==(wt=Fe.formModificarPelicula.get("fechaEstreno"))?null:wt.touched)),I.xp6(1),I.Q6J("disabled",Fe.formModificarPelicula.invalid)}},dependencies:[Ve.sg,Ve.O5,ae._Y,ae.YN,ae.Kr,ae.Fj,ae.wV,ae.EJ,ae.JJ,ae.JL,ae.sg,ae.u]}),ue})();var en=q(8731);function $t(ue,Be){if(1&ue&&I._UZ(0,"app-detalle-pelicula",15),2&ue){const _e=I.oxw();I.Q6J("peliculaMostrar",_e.peliculaMostrar)}}function ot(ue,Be){if(1&ue){const _e=I.EpF();I.TgZ(0,"app-modificar-pelicula",16),I.NdJ("onPeliculaAModificar",function(fe){I.CHM(_e);const Ae=I.oxw();return I.KtG(Ae.modificarPelicula(fe))}),I.qZA()}if(2&ue){const _e=I.oxw();I.Q6J("peliculaMostrar",_e.peliculaMostrar)}}function Oe(ue,Be){if(1&ue){const _e=I.EpF();I.TgZ(0,"app-borrar-pelicula",17),I.NdJ("onPeliculaABorrar",function(fe){I.CHM(_e);const Ae=I.oxw();return I.KtG(Ae.borrarPelicula(fe))}),I.qZA()}if(2&ue){const _e=I.oxw();I.Q6J("peliculaMostrar",_e.peliculaMostrar)}}let ft=(()=>{class ue{mostrarPelicula(_e){this.peliculaMostrar=_e,this.hayPeliculaAmostrar=!0}constructor(_e,Fe){this.peliculaService=_e,this.toastr=Fe,this.peliculas=[],this.suscripcion=new $.w0,this.hayPeliculaAmostrar=!1,this.mostrarBoton=!0,this.borrarPelicula=fe=>{const Ae=this.peliculas.filter(Xe=>Xe.id!==fe.id);this.peliculas=Ae,this.hayPeliculaAmostrar=!1},this.modificarPelicula=fe=>{const Ae=this.peliculas.map(Xe=>Xe);this.peliculas=Ae,this.hayPeliculaAmostrar=!1}}getPeliculas(){this.suscripcion=this.peliculaService.getPeliculas().subscribe(_e=>{this.peliculas=[],_e.forEach(Fe=>{this.peliculas.push({...Fe})})}),this.hayPeliculaAmostrar=!1,this.peliculaMostrar=void 0,this.toastr.success("Peliculas cargadas correctamente","Cargado",{timeOut:1e3})}ngOnInit(){this.getPeliculas()}ngOnDestroy(){this.suscripcion.unsubscribe()}}return ue.\u0275fac=function(_e){return new(_e||ue)(I.Y36(Pe.S),I.Y36(de._W))},ue.\u0275cmp=I.Xpm({type:ue,selectors:[["app-busqueda"]],decls:27,vars:5,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],[3,"mostrarBoton","listadoPeliculas","peliculaSeleccionada"],[1,"row"],[1,"col-md-4"],[3,"peliculaMostrar",4,"ngIf"],[1,"col-md-6"],[3,"peliculaMostrar","onPeliculaAModificar",4,"ngIf"],[1,"col-md-2"],[3,"peliculaMostrar","onPeliculaABorrar",4,"ngIf"],[3,"peliculaMostrar"],[3,"peliculaMostrar","onPeliculaAModificar"],[3,"peliculaMostrar","onPeliculaABorrar"]],template:function(_e,Fe){1&_e&&(I._UZ(0,"router-outlet"),I.TgZ(1,"html",0)(2,"head"),I._UZ(3,"meta",1)(4,"meta",2),I.TgZ(5,"title"),I._uU(6,"Tabla Peliculas"),I.qZA()(),I.TgZ(7,"body")(8,"main",3),I._UZ(9,"app-nav"),I.TgZ(10,"div",4)(11,"div",5)(12,"h1",6),I._uU(13,"Listado Peliculas"),I.qZA(),I.TgZ(14,"p"),I._uU(15,"Selecciona la pelicula que quieres ver, editar o borrar"),I.qZA(),I.TgZ(16,"app-tabla-pelicula",7),I.NdJ("peliculaSeleccionada",function(Ae){return Fe.mostrarPelicula(Ae)}),I.qZA()()(),I.TgZ(17,"div",5)(18,"div",8)(19,"div",9),I.YNc(20,$t,1,1,"app-detalle-pelicula",10),I.qZA(),I.TgZ(21,"div",11),I.YNc(22,ot,1,1,"app-modificar-pelicula",12),I.qZA(),I.TgZ(23,"div",13),I.YNc(24,Oe,1,1,"app-borrar-pelicula",14),I.qZA()(),I._UZ(25,"hr"),I.qZA()(),I._UZ(26,"app-footer"),I.qZA()()),2&_e&&(I.xp6(16),I.Q6J("mostrarBoton",!0)("listadoPeliculas",Fe.peliculas),I.xp6(4),I.Q6J("ngIf",Fe.hayPeliculaAmostrar),I.xp6(2),I.Q6J("ngIf",Fe.hayPeliculaAmostrar),I.xp6(2),I.Q6J("ngIf",Fe.hayPeliculaAmostrar))},dependencies:[Ve.O5,be.r,lt.c,g.lC,et,he,Xt,en.k]}),ue})();function Ft(ue,Be){if(1&ue&&(I.TgZ(0,"tr")(1,"td"),I._uU(2),I.qZA(),I.TgZ(3,"td"),I._uU(4),I.qZA(),I.TgZ(5,"td"),I._uU(6),I.qZA(),I.TgZ(7,"td"),I._uU(8),I.qZA()()),2&ue){const _e=I.oxw();I.xp6(2),I.Oqu(_e.peliculaMostrar.nombre),I.xp6(2),I.Oqu(_e.peliculaMostrar.fechaEstreno),I.xp6(2),I.Oqu(_e.peliculaMostrar.cantidadPublico),I.xp6(2),I.Oqu(_e.peliculaMostrar.tipo)}}let Ge=(()=>{class ue{constructor(){this.listadoPeliculas=[]}}return ue.\u0275fac=function(_e){return new(_e||ue)},ue.\u0275cmp=I.Xpm({type:ue,selectors:[["app-listado-peliculas"]],decls:13,vars:1,consts:[[1,"table"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(_e,Fe){1&_e&&(I.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),I._uU(4,"Nombre"),I.qZA(),I.TgZ(5,"th",1),I._uU(6,"Estreno"),I.qZA(),I.TgZ(7,"th",1),I._uU(8,"P\xfablico"),I.qZA(),I.TgZ(9,"th",1),I._uU(10,"Tipo"),I.qZA()(),I.YNc(11,Ft,9,4,"tr",2),I.qZA(),I._UZ(12,"tbody"),I.qZA()),2&_e&&(I.xp6(11),I.Q6J("ngForOf",Fe.listadoPeliculas))},dependencies:[Ve.sg]}),ue})();var Ot=q(4102),st=q(5379);function Vt(ue,Be){1&ue&&(I.TgZ(0,"span",32),I._uU(1,"El nombre es requerido"),I.qZA())}function Yt(ue,Be){if(1&ue&&(I.TgZ(0,"option",33),I._uU(1),I.qZA()),2&ue){const _e=Be.$implicit;I.Q6J("value",_e),I.xp6(1),I.hij("",_e," ")}}function dt(ue,Be){1&ue&&(I.TgZ(0,"span",32),I._uU(1,"El tipo es requerido"),I.qZA())}function Lt(ue,Be){1&ue&&(I.TgZ(0,"span",32),I._uU(1,"La cantidad de p\xfablico es requerida"),I.qZA())}function We(ue,Be){1&ue&&(I.TgZ(0,"span",32),I._uU(1,"La fecha de estreno es requerida"),I.qZA())}function Se(ue,Be){1&ue&&(I.TgZ(0,"span",32),I._uU(1,"Seleccione el actor protagonista."),I.qZA())}const Ne=[{path:"",component:ft},{path:"pelicula/listadoPeliculas",component:Ge},{path:"pelicula/altaPelicula",component:(()=>{class ue{constructor(_e,Fe,fe,Ae){this.pelicula=_e,this.toastr=Fe,this.router=fe,this.firestore=Ae,this.opcionestipos=Object.values(Ye)}ngOnInit(){this.formAltaPelicula=new ae.cw({nombre:new ae.NI("",[ae.kI.required]),fechaEstreno:new ae.NI("",[ae.kI.required]),tipo:new ae.NI("",ae.kI.required),cantidadPublico:new ae.NI("",ae.kI.required),fotoPelicula:new ae.NI(""),actor:new ae.NI("",ae.kI.required)})}registrar(){console.log("Guardando Pelicula");const _e={nombre:this.formAltaPelicula.get("nombre")?.value,fechaEstreno:this.formAltaPelicula.get("fechaEstreno")?.value,tipo:this.formAltaPelicula.get("tipo")?.value,cantidadPublico:this.formAltaPelicula.get("cantidadPublico")?.value,actor:this.formAltaPelicula.get("actor")?.value,fotoPelicula:this.formAltaPelicula.get("fotoPelicula")?.value};this.pelicula.crearPelicula(_e).then(()=>{this.toastr.success("Pelicula creada correctamente","Guardado",{timeOut:1e3})}).catch(Fe=>{this.toastr.error("Detalle: "+Fe,"Error")}),this.router.navigate(["/busqueda"])}mostrarActor(_e){this.actor=_e,this.formAltaPelicula.controls.actor.setValue(this.actor)}}return ue.\u0275fac=function(_e){return new(_e||ue)(I.Y36(Pe.S),I.Y36(de._W),I.Y36(g.F0),I.Y36(Ot.gg))},ue.\u0275cmp=I.Xpm({type:ue,selectors:[["app-alta-pelicula"]],decls:60,vars:9,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","author","content","Macarena Ferrero"],["role","main"],[1,"container"],[1,"row","mt-10","pt-5"],[1,"col-md-4","order-md-2","mb-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted","mt-5"],[3,"eventoActorSeleccionado"],[1,"col-md-8","order-md-1"],[1,"display-3","mt-3"],[3,"formGroup"],[1,"mb-3"],["for","nombre"],["type","text","id","nombre","placeholder","Nombre","value","","required","","formControlName","nombre",1,"form-control"],["class","text-danger form-floating",4,"ngIf"],["for","tipo"],["name","tipo","formControlName","tipo",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","cantidadPublico"],["type","number","name","cantidadPublico","placeholder","0","formControlName","cantidadPublico",1,"form-control"],["for","fechaEstreno"],["type","text","name","fechaEstreno","placeholder","12/11/1992","formControlName","fechaEstreno",1,"form-control"],["for","fotoPelicula"],[1,"text-muted"],["placeholder","Inserte URL","type","text","formControlName","fotoPelicula",1,"form-control"],["for","actor"],["type","text","name","actor","id","actor","readonly","","formControlName","actor",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],[1,"mb-4"],[1,"text-danger","form-floating"],[3,"value"]],template:function(_e,Fe){if(1&_e&&(I._UZ(0,"router-outlet"),I.TgZ(1,"html",0)(2,"head"),I._UZ(3,"meta",1)(4,"meta",2)(5,"meta",3),I.TgZ(6,"title"),I._uU(7,"Alta Pelicula"),I.qZA()(),I.TgZ(8,"body")(9,"main",4)(10,"div",5)(11,"div",6)(12,"div",7),I._UZ(13,"app-nav"),I.TgZ(14,"h4",8)(15,"span",9),I._uU(16,"Actor"),I.qZA()(),I.TgZ(17,"app-tabla-actor",10),I.NdJ("eventoActorSeleccionado",function(Ae){return Fe.mostrarActor(Ae)}),I.qZA()(),I.TgZ(18,"div",11)(19,"h1",12),I._uU(20,"Alta Pelicula"),I.qZA(),I.TgZ(21,"p"),I._uU(22,"Ingrese la informaci\xf3n solicitada de la pel\xedcula que desea agregar."),I.qZA(),I.TgZ(23,"form",13)(24,"div",14)(25,"label",15),I._uU(26,"Nombre"),I.qZA(),I._UZ(27,"input",16),I.YNc(28,Vt,2,0,"span",17),I.qZA(),I.TgZ(29,"div",14)(30,"label",18),I._uU(31,"G\xe9nero"),I.qZA(),I.TgZ(32,"select",19),I.YNc(33,Yt,2,2,"option",20),I.qZA(),I.YNc(34,dt,2,0,"span",17),I.qZA(),I.TgZ(35,"div",14)(36,"label",21),I._uU(37,"Publico"),I.qZA(),I._UZ(38,"input",22),I.YNc(39,Lt,2,0,"span",17),I.qZA(),I.TgZ(40,"div",14)(41,"label",23),I._uU(42,"Estreno"),I.qZA(),I._UZ(43,"input",24),I.YNc(44,We,2,0,"span",17),I.qZA(),I.TgZ(45,"div",14)(46,"label",25),I._uU(47,"Foto Pel\xedcula"),I.TgZ(48,"span",26),I._uU(49," (Opcional)"),I.qZA()(),I._UZ(50,"input",27),I.qZA(),I.TgZ(51,"div",14)(52,"label",28),I._uU(53,"Actor"),I.qZA(),I._UZ(54,"input",29),I.YNc(55,Se,2,0,"span",17),I.qZA(),I.TgZ(56,"button",30),I.NdJ("click",function(){return Fe.registrar()}),I._uU(57,"Guardar"),I.qZA(),I._UZ(58,"hr",31),I.qZA()()()()(),I._UZ(59,"app-footer"),I.qZA()()),2&_e){let fe,Ae,Xe,wt,kn;I.xp6(23),I.Q6J("formGroup",Fe.formAltaPelicula),I.xp6(5),I.Q6J("ngIf",(null==(fe=Fe.formAltaPelicula.get("nombre"))?null:fe.hasError("required"))&&(null==(fe=Fe.formAltaPelicula.get("nombre"))?null:fe.touched)),I.xp6(5),I.Q6J("ngForOf",Fe.opcionestipos),I.xp6(1),I.Q6J("ngIf",(null==(Ae=Fe.formAltaPelicula.get("tipo"))?null:Ae.hasError("required"))&&(null==(Ae=Fe.formAltaPelicula.get("tipo"))?null:Ae.touched)),I.xp6(5),I.Q6J("ngIf",(null==(Xe=Fe.formAltaPelicula.get("cantidadPublico"))?null:Xe.hasError("required"))&&(null==(Xe=Fe.formAltaPelicula.get("cantidadPublico"))?null:Xe.touched)),I.xp6(5),I.Q6J("ngIf",(null==(wt=Fe.formAltaPelicula.get("fechaEstreno"))?null:wt.hasError("required"))&&(null==(wt=Fe.formAltaPelicula.get("fechaEstreno"))?null:wt.touched)),I.xp6(10),I.s9C("value",null==Fe.actor?null:Fe.actor.nombre),I.xp6(1),I.Q6J("ngIf",(null==(kn=Fe.formAltaPelicula.get("actor"))?null:kn.hasError("required"))&&(null==(kn=Fe.formAltaPelicula.get("actor"))?null:kn.touched)),I.xp6(1),I.Q6J("disabled",Fe.formAltaPelicula.invalid)}},dependencies:[Ve.sg,Ve.O5,be.r,lt.c,ae._Y,ae.YN,ae.Kr,ae.Fj,ae.wV,ae.EJ,ae.JJ,ae.JL,ae.Q7,ae.sg,ae.u,g.lC,st.T]}),ue})()}];let Et=(()=>{class ue{}return ue.\u0275fac=function(_e){return new(_e||ue)},ue.\u0275mod=I.oAB({type:ue}),ue.\u0275inj=I.cJS({imports:[g.Bz.forChild(Ne),g.Bz]}),ue})()},4192:(yn,ct,q)=>{q.r(ct),q.d(ct,{PeliculasModule:()=>Ye});var g=q(6895),$=q(529),I=q(7185),Pe=q(4466),de=q(433),Ve=q(5450),be=q(9778),lt=q(3692),et=q(2340),he=q(4102),ae=q(8256);let Ye=(()=>{class ht{}return ht.\u0275fac=function(Rt){return new(Rt||ht)},ht.\u0275mod=ae.oAB({type:ht}),ht.\u0275inj=ae.cJS({imports:[g.ez,$.JF,I.Rh,Pe.m,de.u5,de.UX,Ve.Bz,be.R,(0,lt.hX)(()=>(0,lt.ZF)(et.N.firebase)),(0,he.Cm)(()=>(0,he.ad)())]}),ht})()},5379:(yn,ct,q)=>{q.d(ct,{T:()=>de});var g=q(8256),$=q(2274),I=q(6895);function Pe(Ve,be){if(1&Ve){const lt=g.EpF();g.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"button",3),g.NdJ("click",function(){const ae=g.CHM(lt).$implicit,Ye=g.oxw();return g.KtG(Ye.emitirActor(ae))}),g.TgZ(4,"h6"),g._uU(5),g.qZA()()()()()}if(2&Ve){const lt=be.$implicit;g.xp6(5),g.AsE("",lt.nombre," ",lt.apellido,"")}}let de=(()=>{class Ve{constructor(lt){this.actorService=lt,this.actores=[],this.eventoActorSeleccionado=new g.vpe}ngOnInit(){this.traerActores()}traerActores(){this.actores=[],this.actorService.getListadoActores().subscribe(lt=>{this.actores=[];for(let et=0;et<lt.length;et++){const he=lt[et];this.actores.push({nombre:he.nombre,apellido:he.apellido,nacionalidad:he.nacionalidad,direccion:he.direccion,email:he.email,username:he.username})}})}emitirActor(lt){console.log("Actor clickeado "+lt.nombre),this.eventoActorSeleccionado.emit(lt)}}return Ve.\u0275fac=function(lt){return new(lt||Ve)(g.Y36($.c))},Ve.\u0275cmp=g.Xpm({type:Ve,selectors:[["app-tabla-actor"]],outputs:{eventoActorSeleccionado:"eventoActorSeleccionado"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"mb-3","justify-content-between"],[1,"row"],[1,"btn","btn-outline-secondary","ml-3",2,"width","400px","position","relative",3,"click"]],template:function(lt,et){1&lt&&g.YNc(0,Pe,6,2,"div",0),2&lt&&g.Q6J("ngForOf",et.actores)},dependencies:[I.sg]}),Ve})()},8731:(yn,ct,q)=>{q.d(ct,{k:()=>Ve});var g=q(8256),$=q(6895);function I(be,lt){1&be&&(g.TgZ(0,"button",7),g._uU(1,"Seleccionar"),g.qZA())}function Pe(be,lt){if(1&be){const et=g.EpF();g.TgZ(0,"tr",4),g.NdJ("click",function(){const Ye=g.CHM(et).$implicit,ht=g.oxw(2);return g.KtG(ht.onPeliculaSeleccionada(Ye))}),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._UZ(10,"img",5),g.qZA(),g.TgZ(11,"td"),g.YNc(12,I,2,0,"button",6),g.qZA()()}if(2&be){const et=lt.$implicit,he=g.oxw(2);g.xp6(2),g.Oqu(et.nombre),g.xp6(2),g.Oqu(et.tipo),g.xp6(2),g.Oqu(et.fechaEstreno),g.xp6(2),g.Oqu(et.cantidadPublico),g.xp6(2),g.Q6J("src",et.fotoPelicula,g.LSH),g.xp6(2),g.Q6J("ngIf",he.mostrarBoton)}}function de(be,lt){if(1&be&&(g.TgZ(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),g._uU(4,"Nombre"),g.qZA(),g.TgZ(5,"th",2),g._uU(6,"Tipo"),g.qZA(),g.TgZ(7,"th",2),g._uU(8,"Estreno"),g.qZA(),g.TgZ(9,"th",2),g._uU(10,"Vistas"),g.qZA(),g.TgZ(11,"th",2),g._uU(12,"Foto"),g.qZA()()(),g.TgZ(13,"tbody"),g.YNc(14,Pe,13,6,"tr",3),g.qZA()()),2&be){const et=g.oxw();g.xp6(14),g.Q6J("ngForOf",et.listadoPeliculas)}}let Ve=(()=>{class be{constructor(){this.listadoPeliculas=[],this.peliculaSeleccionada=new g.vpe,this.mostrarBoton=!1}onPeliculaSeleccionada(et){this.peliculaSeleccionada.emit(et),console.log(et.nombre)}ngOnInit(){}}return be.\u0275fac=function(et){return new(et||be)},be.\u0275cmp=g.Xpm({type:be,selectors:[["app-tabla-pelicula"]],inputs:{listadoPeliculas:"listadoPeliculas",mostrarBoton:"mostrarBoton"},outputs:{peliculaSeleccionada:"peliculaSeleccionada"},decls:1,vars:1,consts:[["class","table table-striped",4,"ngIf"],[1,"table","table-striped"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["width","80px",3,"src"],["class","btn btn-dark",4,"ngIf"],[1,"btn","btn-dark"]],template:function(et,he){1&et&&g.YNc(0,de,15,1,"table",0),2&et&&g.Q6J("ngIf",null!=he.listadoPeliculas)},dependencies:[$.sg,$.O5]}),be})()},2274:(yn,ct,q)=>{q.d(ct,{c:()=>I});var g=q(4102),$=q(8256);let I=(()=>{class Pe{constructor(Ve){this.firestore=Ve,this.coleccionActores=(0,g.hJ)(this.firestore,"actores")}crearActor(Ve){return new Promise((be,lt)=>{const et=(0,g.JU)(this.coleccionActores);(0,g.pl)(et,{id:et.id,...Ve}).then(()=>{be()}).catch(he=>{lt(he)})})}getListadoActores(){return(0,g.BS)(this.coleccionActores)}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)($.LFG(g.gg))},Pe.\u0275prov=$.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()},3406:(yn,ct,q)=>{q.d(ct,{S:()=>Pe});var g=q(4102),$=q(727),I=q(8256);let Pe=(()=>{class de{constructor(be){this.firestore=be,this.coleccionPeliculas=(0,g.hJ)(this.firestore,"peliculas"),this.suscripcion=new $.w0,this.peliculas=[]}crearPelicula(be){return new Promise((lt,et)=>{const he=(0,g.JU)(this.coleccionPeliculas);(0,g.pl)(he,{id:he.id,...be}).then(()=>{lt()}).catch(ae=>{et(ae)})})}getPeliculas(){return(0,g.BS)(this.coleccionPeliculas)}deletePelicula(be){const lt=(0,g.JU)(this.coleccionPeliculas,be);(0,g.oe)(lt)}updatePelicula(be){return new Promise((lt,et)=>{const he=(0,g.JU)(this.coleccionPeliculas,be.id);(0,g.r7)(he,{nombre:be.nombre,tipo:be.tipo,fechaEstreno:be.fechaEstreno,cantidadPublico:be.cantidadPublico}).then(()=>{lt()}).catch(ae=>{et(ae)})})}}return de.\u0275fac=function(be){return new(be||de)(I.LFG(g.gg))},de.\u0275prov=I.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})()},5227:(yn,ct,q)=>{q.d(ct,{c:()=>$});var g=q(8256);let $=(()=>{class I{constructor(){}ngOnInit(){}}return I.\u0275fac=function(de){return new(de||I)},I.\u0275cmp=g.Xpm({type:I,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"container"]],template:function(de,Ve){1&de&&(g.TgZ(0,"footer",0)(1,"p"),g._uU(2,"\xa9 Ferrero Macarena 2023"),g.qZA()())}}),I})()},9273:(yn,ct,q)=>{q.d(ct,{r:()=>I});var g=q(8256),$=q(5450);let I=(()=>{class Pe{constructor(){}ngOnInit(){}}return Pe.\u0275fac=function(Ve){return new(Ve||Pe)},Pe.\u0275cmp=g.Xpm({type:Pe,selectors:[["app-nav"]],decls:23,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark","navigate"],["routerLink","/bienvenido",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","/busqueda",1,"nav-link"],[1,"sr-only"],["routerLink","/actor/actorPelicula",1,"nav-link"],[1,"nav-item"],["routerLink","/pelicula/altaPelicula",1,"nav-link"],["routerLink","/actor/altaActor","tabindex","-1",1,"nav-link"]],template:function(Ve,be){1&Ve&&(g.TgZ(0,"nav",0)(1,"a",1),g._uU(2,"Home"),g.qZA(),g.TgZ(3,"button",2),g._UZ(4,"span",3),g.qZA(),g.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),g._uU(9,"Busqueda Pel\xedculas"),g.TgZ(10,"span",8),g._uU(11,"(current)"),g.qZA()()(),g.TgZ(12,"li",6)(13,"a",9),g._uU(14,"Listado Actores"),g.TgZ(15,"span",8),g._uU(16,"(current)"),g.qZA()()(),g.TgZ(17,"li",10)(18,"a",11),g._uU(19,"Alta pelicula"),g.qZA()(),g.TgZ(20,"li",10)(21,"a",12),g._uU(22,"Alta actor"),g.qZA()()()()())},dependencies:[$.rH],styles:[".navigate[_ngcontent-%COMP%]{line-height:1.5}"]}),Pe})()},4466:(yn,ct,q)=>{q.d(ct,{m:()=>Pe});var g=q(6895),$=q(5450),I=q(8256);let Pe=(()=>{class de{}return de.\u0275fac=function(be){return new(be||de)},de.\u0275mod=I.oAB({type:de}),de.\u0275inj=I.cJS({imports:[g.ez,$.Bz]}),de})()},2340:(yn,ct,q)=>{q.d(ct,{N:()=>g});const g={firebase:{projectId:"primerparcialferrero",appId:"1:868285650537:web:9213cf8bad428e1426b4f8",storageBucket:"primerparcialferrero.appspot.com",apiKey:"AIzaSyBRH5eUOfRbraw3CtAOHWOsfPt8DR_yeKk",authDomain:"primerparcialferrero.firebaseapp.com",messagingSenderId:"868285650537"},production:!0,apiKey:"AIzaSyBRH5eUOfRbraw3CtAOHWOsfPt8DR_yeKk",authDomain:"primerparcialferrero.firebaseapp.com",projectId:"primerparcialferrero",storageBucket:"primerparcialferrero.appspot.com",messagingSenderId:"868285650537",appId:"1:868285650537:web:9213cf8bad428e1426b4f8"}},2933:(yn,ct,q)=>{var g=q(1481),$=q(8256),I=q(5450),Pe=q(6533),de=q(4192),Ve=q(9273),be=q(5227);const et=[{path:"bienvenido",component:(()=>{class w{}return w.\u0275fac=function(m){return new(m||w)},w.\u0275cmp=$.Xpm({type:w,selectors:[["app-home"]],decls:19,vars:0,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"]],template:function(m,b){1&m&&($._UZ(0,"router-outlet"),$.TgZ(1,"html",0)(2,"head"),$._UZ(3,"meta",1)(4,"meta",2),$.TgZ(5,"title"),$._uU(6,"Peliculas/actores"),$.qZA()(),$.TgZ(7,"body")(8,"main",3),$._UZ(9,"app-nav"),$.TgZ(10,"div",4)(11,"div",5)(12,"h1",6),$._uU(13,"Bienvenidx"),$.qZA(),$.TgZ(14,"p"),$._uU(15,"Aqu\xed podr\xe1 ver las peliculas m\xe1s taquelleras de los \xfaltimos tiempos junto con sus actores principales."),$._UZ(16,"br"),$._uU(17," Todos los datos son reales y est\xe1n actualizados al d\xeda de la fecha gracias a usuarios como usted. "),$.qZA()()()(),$._UZ(18,"app-footer"),$.qZA()())},dependencies:[I.lC,Ve.r,be.c]}),w})()},{path:"busqueda",loadChildren:()=>Promise.resolve().then(q.bind(q,4192)).then(w=>de.PeliculasModule)},{path:"altaActor",loadChildren:()=>Promise.resolve().then(q.bind(q,6533)).then(w=>Pe.ActoresModule)},{path:"",redirectTo:"/bienvenido",pathMatch:"full"}];let he=(()=>{class w{}return w.\u0275fac=function(m){return new(m||w)},w.\u0275mod=$.oAB({type:w}),w.\u0275inj=$.cJS({imports:[I.Bz.forRoot(et),I.Bz]}),w})();var ae=q(529);let Ye=(()=>{class w{constructor(){this.title="ParcialFerrero"}ngOnInit(){}gnOnDestroy(){}}return w.\u0275fac=function(m){return new(m||w)},w.\u0275cmp=$.Xpm({type:w,selectors:[["app-root"]],decls:1,vars:0,template:function(m,b){1&m&&$._UZ(0,"router-outlet")},dependencies:[I.lC]}),w})();var ht=q(433),me=q(3692),Rt=q(2340),yt=q(4102),an=q(4466),Xt=q(7185),en=q(7340);function ot(w){return new $.vHH(3e3,!1)}function bi(){return typeof window<"u"&&typeof window.document<"u"}function ii(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function cr(w){switch(w.length){case 0:return new en.ZN;case 1:return w[0];default:return new en.ZE(w)}}function Di(w,d,m,b,F=new Map,W=new Map){const ie=[],le=[];let Ce=-1,Ze=null;if(b.forEach(xt=>{const jt=xt.get("offset"),Sn=jt==Ce,xn=Sn&&Ze||new Map;xt.forEach((vn,Pn)=>{let Gn=Pn,fr=vn;if("offset"!==Pn)switch(Gn=d.normalizePropertyName(Gn,ie),fr){case en.k1:fr=F.get(Pn);break;case en.l3:fr=W.get(Pn);break;default:fr=d.normalizeStyleValue(Pn,Gn,fr,ie)}xn.set(Gn,fr)}),Sn||le.push(xn),Ze=xn,Ce=jt}),ie.length)throw function kn(w){return new $.vHH(3502,!1)}();return le}function Vn(w,d,m,b){switch(d){case"start":w.onStart(()=>b(m&&Tt(m,"start",w)));break;case"done":w.onDone(()=>b(m&&Tt(m,"done",w)));break;case"destroy":w.onDestroy(()=>b(m&&Tt(m,"destroy",w)))}}function Tt(w,d,m){const W=Bt(w.element,w.triggerName,w.fromState,w.toState,d||w.phaseName,m.totalTime??w.totalTime,!!m.disabled),ie=w._data;return null!=ie&&(W._data=ie),W}function Bt(w,d,m,b,F="",W=0,ie){return{element:w,triggerName:d,fromState:m,toState:b,phaseName:F,totalTime:W,disabled:!!ie}}function Fn(w,d,m){let b=w.get(d);return b||w.set(d,b=m),b}function Un(w){const d=w.indexOf(":");return[w.substring(1,d),w.slice(d+1)]}let xr=(w,d)=>!1,Ci=(w,d,m)=>[],Bn=null;function fi(w){const d=w.parentNode||w.host;return d===Bn?null:d}(ii()||typeof Element<"u")&&(bi()?(Bn=(()=>document.documentElement)(),xr=(w,d)=>{for(;d;){if(d===w)return!0;d=fi(d)}return!1}):xr=(w,d)=>w.contains(d),Ci=(w,d,m)=>{if(m)return Array.from(w.querySelectorAll(d));const b=w.querySelector(d);return b?[b]:[]});let jn=null,Ai=!1;const $e=xr,Te=Ci;let _t=(()=>{class w{validateStyleProperty(m){return function xi(w){jn||(jn=function Yr(){return typeof document<"u"?document.body:null}()||{},Ai=!!jn.style&&"WebkitAppearance"in jn.style);let d=!0;return jn.style&&!function ps(w){return"ebkit"==w.substring(1,6)}(w)&&(d=w in jn.style,!d&&Ai&&(d="Webkit"+w.charAt(0).toUpperCase()+w.slice(1)in jn.style)),d}(m)}matchesElement(m,b){return!1}containsElement(m,b){return $e(m,b)}getParentElement(m){return fi(m)}query(m,b,F){return Te(m,b,F)}computeStyle(m,b,F){return F||""}animate(m,b,F,W,ie,le=[],Ce){return new en.ZN(F,W)}}return w.\u0275fac=function(m){return new(m||w)},w.\u0275prov=$.Yz7({token:w,factory:w.\u0275fac}),w})(),vt=(()=>{class w{}return w.NOOP=new _t,w})();const re=1e3,ze="ng-enter",ke="ng-leave",zt="ng-trigger",De=".ng-trigger",Ee="ng-animating",ne=".ng-animating";function we(w){if("number"==typeof w)return w;const d=w.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:nt(parseFloat(d[1]),d[2])}function nt(w,d){return"s"===d?w*re:w}function At(w,d,m){return w.hasOwnProperty("duration")?w:function Kt(w,d,m){let F,W=0,ie="";if("string"==typeof w){const le=w.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===le)return d.push(ot()),{duration:0,delay:0,easing:""};F=nt(parseFloat(le[1]),le[2]);const Ce=le[3];null!=Ce&&(W=nt(parseFloat(Ce),le[4]));const Ze=le[5];Ze&&(ie=Ze)}else F=w;if(!m){let le=!1,Ce=d.length;F<0&&(d.push(function Oe(){return new $.vHH(3100,!1)}()),le=!0),W<0&&(d.push(function ft(){return new $.vHH(3101,!1)}()),le=!0),le&&d.splice(Ce,0,ot())}return{duration:F,delay:W,easing:ie}}(w,d,m)}function nn(w,d={}){return Object.keys(w).forEach(m=>{d[m]=w[m]}),d}function Ar(w){const d=new Map;return Object.keys(w).forEach(m=>{d.set(m,w[m])}),d}function je(w,d=new Map,m){if(m)for(let[b,F]of m)d.set(b,F);for(let[b,F]of w)d.set(b,F);return d}function Mt(w,d,m){return m?d+":"+m+";":""}function un(w){let d="";for(let m=0;m<w.style.length;m++){const b=w.style.item(m);d+=Mt(0,b,w.style.getPropertyValue(b))}for(const m in w.style)w.style.hasOwnProperty(m)&&!m.startsWith("_")&&(d+=Mt(0,tr(m),w.style[m]));w.setAttribute("style",d)}function _n(w,d,m){w.style&&(d.forEach((b,F)=>{const W=oo(F);m&&!m.has(F)&&m.set(F,w.style[W]),w.style[W]=b}),ii()&&un(w))}function Cn(w,d){w.style&&(d.forEach((m,b)=>{const F=oo(b);w.style[F]=""}),ii()&&un(w))}function zn(w){return Array.isArray(w)?1==w.length?w[0]:(0,en.vP)(w):w}const Er=new RegExp("{{\\s*(.+?)\\s*}}","g");function ci(w){let d=[];if("string"==typeof w){let m;for(;m=Er.exec(w);)d.push(m[1]);Er.lastIndex=0}return d}function bs(w,d,m){const b=w.toString(),F=b.replace(Er,(W,ie)=>{let le=d[ie];return null==le&&(m.push(function Ge(w){return new $.vHH(3003,!1)}()),le=""),le.toString()});return F==b?w:F}function Ks(w){const d=[];let m=w.next();for(;!m.done;)d.push(m.value),m=w.next();return d}const ks=/-+([a-z0-9])/g;function oo(w){return w.replace(ks,(...d)=>d[1].toUpperCase())}function tr(w){return w.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Gr(w,d,m){switch(d.type){case 7:return w.visitTrigger(d,m);case 0:return w.visitState(d,m);case 1:return w.visitTransition(d,m);case 2:return w.visitSequence(d,m);case 3:return w.visitGroup(d,m);case 4:return w.visitAnimate(d,m);case 5:return w.visitKeyframes(d,m);case 6:return w.visitStyle(d,m);case 8:return w.visitReference(d,m);case 9:return w.visitAnimateChild(d,m);case 10:return w.visitAnimateRef(d,m);case 11:return w.visitQuery(d,m);case 12:return w.visitStagger(d,m);default:throw function Ot(w){return new $.vHH(3004,!1)}()}}function si(w,d){return window.getComputedStyle(w)[d]}const ut="*";function kt(w,d){const m=[];return"string"==typeof w?w.split(/\s*,\s*/).forEach(b=>function on(w,d,m){if(":"==w[0]){const Ce=function Hn(w,d){switch(w){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,b)=>parseFloat(b)>parseFloat(m);case":decrement":return(m,b)=>parseFloat(b)<parseFloat(m);default:return d.push(function fe(w){return new $.vHH(3016,!1)}()),"* => *"}}(w,m);if("function"==typeof Ce)return void d.push(Ce);w=Ce}const b=w.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==b||b.length<4)return m.push(function Fe(w){return new $.vHH(3015,!1)}()),d;const F=b[1],W=b[2],ie=b[3];d.push(Ni(F,ie));"<"==W[0]&&!(F==ut&&ie==ut)&&d.push(Ni(ie,F))}(b,m,d)):m.push(w),m}const En=new Set(["true","1"]),sr=new Set(["false","0"]);function Ni(w,d){const m=En.has(w)||sr.has(w),b=En.has(d)||sr.has(d);return(F,W)=>{let ie=w==ut||w==F,le=d==ut||d==W;return!ie&&m&&"boolean"==typeof F&&(ie=F?En.has(w):sr.has(w)),!le&&b&&"boolean"==typeof W&&(le=W?En.has(d):sr.has(d)),ie&&le}}const Oi=new RegExp("s*:selfs*,?","g");function Br(w,d,m,b){return new pi(w).build(d,m,b)}class pi{constructor(d){this._driver=d}build(d,m,b){const F=new Zs(m);return this._resetContextStyleTimingState(F),Gr(this,zn(d),F)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,m){let b=m.queryCount=0,F=m.depCount=0;const W=[],ie=[];return"@"==d.name.charAt(0)&&m.errors.push(function Vt(){return new $.vHH(3006,!1)}()),d.definitions.forEach(le=>{if(this._resetContextStyleTimingState(m),0==le.type){const Ce=le,Ze=Ce.name;Ze.toString().split(/\s*,\s*/).forEach(xt=>{Ce.name=xt,W.push(this.visitState(Ce,m))}),Ce.name=Ze}else if(1==le.type){const Ce=this.visitTransition(le,m);b+=Ce.queryCount,F+=Ce.depCount,ie.push(Ce)}else m.errors.push(function Yt(){return new $.vHH(3007,!1)}())}),{type:7,name:d.name,states:W,transitions:ie,queryCount:b,depCount:F,options:null}}visitState(d,m){const b=this.visitStyle(d.styles,m),F=d.options&&d.options.params||null;if(b.containsDynamicStyles){const W=new Set,ie=F||{};b.styles.forEach(le=>{le instanceof Map&&le.forEach(Ce=>{ci(Ce).forEach(Ze=>{ie.hasOwnProperty(Ze)||W.add(Ze)})})}),W.size&&(Ks(W.values()),m.errors.push(function dt(w,d){return new $.vHH(3008,!1)}()))}return{type:0,name:d.name,style:b,options:F?{params:F}:null}}visitTransition(d,m){m.queryCount=0,m.depCount=0;const b=Gr(this,zn(d.animation),m);return{type:1,matchers:kt(d.expr,m.errors),animation:b,queryCount:m.queryCount,depCount:m.depCount,options:Ls(d.options)}}visitSequence(d,m){return{type:2,steps:d.steps.map(b=>Gr(this,b,m)),options:Ls(d.options)}}visitGroup(d,m){const b=m.currentTime;let F=0;const W=d.steps.map(ie=>{m.currentTime=b;const le=Gr(this,ie,m);return F=Math.max(F,m.currentTime),le});return m.currentTime=F,{type:3,steps:W,options:Ls(d.options)}}visitAnimate(d,m){const b=function ea(w,d){if(w.hasOwnProperty("duration"))return w;if("number"==typeof w)return ar(At(w,d).duration,0,"");const m=w;if(m.split(/\s+/).some(W=>"{"==W.charAt(0)&&"{"==W.charAt(1))){const W=ar(0,0,"");return W.dynamic=!0,W.strValue=m,W}const F=At(m,d);return ar(F.duration,F.delay,F.easing)}(d.timings,m.errors);m.currentAnimateTimings=b;let F,W=d.styles?d.styles:(0,en.oB)({});if(5==W.type)F=this.visitKeyframes(W,m);else{let ie=d.styles,le=!1;if(!ie){le=!0;const Ze={};b.easing&&(Ze.easing=b.easing),ie=(0,en.oB)(Ze)}m.currentTime+=b.duration+b.delay;const Ce=this.visitStyle(ie,m);Ce.isEmptyStep=le,F=Ce}return m.currentAnimateTimings=null,{type:4,timings:b,style:F,options:null}}visitStyle(d,m){const b=this._makeStyleAst(d,m);return this._validateStyleAst(b,m),b}_makeStyleAst(d,m){const b=[],F=Array.isArray(d.styles)?d.styles:[d.styles];for(let le of F)"string"==typeof le?le===en.l3?b.push(le):m.errors.push(new $.vHH(3002,!1)):b.push(Ar(le));let W=!1,ie=null;return b.forEach(le=>{if(le instanceof Map&&(le.has("easing")&&(ie=le.get("easing"),le.delete("easing")),!W))for(let Ce of le.values())if(Ce.toString().indexOf("{{")>=0){W=!0;break}}),{type:6,styles:b,easing:ie,offset:d.offset,containsDynamicStyles:W,options:null}}_validateStyleAst(d,m){const b=m.currentAnimateTimings;let F=m.currentTime,W=m.currentTime;b&&W>0&&(W-=b.duration+b.delay),d.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((le,Ce)=>{const Ze=m.collectedStyles.get(m.currentQuerySelector),xt=Ze.get(Ce);let jt=!0;xt&&(W!=F&&W>=xt.startTime&&F<=xt.endTime&&(m.errors.push(function Se(w,d,m,b,F){return new $.vHH(3010,!1)}()),jt=!1),W=xt.startTime),jt&&Ze.set(Ce,{startTime:W,endTime:F}),m.options&&function Jr(w,d,m){const b=d.params||{},F=ci(w);F.length&&F.forEach(W=>{b.hasOwnProperty(W)||m.push(function Ft(w){return new $.vHH(3001,!1)}())})}(le,m.options,m.errors)})})}visitKeyframes(d,m){const b={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function pt(){return new $.vHH(3011,!1)}()),b;let W=0;const ie=[];let le=!1,Ce=!1,Ze=0;const xt=d.steps.map(fr=>{const pr=this._makeStyleAst(fr,m);let Hr=null!=pr.offset?pr.offset:function Zi(w){if("string"==typeof w)return null;let d=null;if(Array.isArray(w))w.forEach(m=>{if(m instanceof Map&&m.has("offset")){const b=m;d=parseFloat(b.get("offset")),b.delete("offset")}});else if(w instanceof Map&&w.has("offset")){const m=w;d=parseFloat(m.get("offset")),m.delete("offset")}return d}(pr.styles),Pr=0;return null!=Hr&&(W++,Pr=pr.offset=Hr),Ce=Ce||Pr<0||Pr>1,le=le||Pr<Ze,Ze=Pr,ie.push(Pr),pr});Ce&&m.errors.push(function Ne(){return new $.vHH(3012,!1)}()),le&&m.errors.push(function Et(){return new $.vHH(3200,!1)}());const jt=d.steps.length;let Sn=0;W>0&&W<jt?m.errors.push(function ue(){return new $.vHH(3202,!1)}()):0==W&&(Sn=1/(jt-1));const xn=jt-1,vn=m.currentTime,Pn=m.currentAnimateTimings,Gn=Pn.duration;return xt.forEach((fr,pr)=>{const Hr=Sn>0?pr==xn?1:Sn*pr:ie[pr],Pr=Hr*Gn;m.currentTime=vn+Pn.delay+Pr,Pn.duration=Pr,this._validateStyleAst(fr,m),fr.offset=Hr,b.styles.push(fr)}),b}visitReference(d,m){return{type:8,animation:Gr(this,zn(d.animation),m),options:Ls(d.options)}}visitAnimateChild(d,m){return m.depCount++,{type:9,options:Ls(d.options)}}visitAnimateRef(d,m){return{type:10,animation:this.visitReference(d.animation,m),options:Ls(d.options)}}visitQuery(d,m){const b=m.currentQuerySelector,F=d.options||{};m.queryCount++,m.currentQuery=d;const[W,ie]=function hi(w){const d=!!w.split(/\s*,\s*/).find(m=>":self"==m);return d&&(w=w.replace(Oi,"")),w=w.replace(/@\*/g,De).replace(/@\w+/g,m=>De+"-"+m.slice(1)).replace(/:animating/g,ne),[w,d]}(d.selector);m.currentQuerySelector=b.length?b+" "+W:W,Fn(m.collectedStyles,m.currentQuerySelector,new Map);const le=Gr(this,zn(d.animation),m);return m.currentQuery=null,m.currentQuerySelector=b,{type:11,selector:W,limit:F.limit||0,optional:!!F.optional,includeSelf:ie,animation:le,originalSelector:d.selector,options:Ls(d.options)}}visitStagger(d,m){m.currentQuery||m.errors.push(function Be(){return new $.vHH(3013,!1)}());const b="full"===d.timings?{duration:0,delay:0,easing:"full"}:At(d.timings,m.errors,!0);return{type:12,animation:Gr(this,zn(d.animation),m),timings:b,options:null}}}class Zs{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ls(w){return w?(w=nn(w)).params&&(w.params=function Fs(w){return w?nn(w):null}(w.params)):w={},w}function ar(w,d,m){return{duration:w,delay:d,easing:m}}function Lo(w,d,m,b,F,W,ie=null,le=!1){return{type:1,element:w,keyframes:d,preStyleProps:m,postStyleProps:b,duration:F,delay:W,totalTime:F+W,easing:ie,subTimeline:le}}class Us{constructor(){this._map=new Map}get(d){return this._map.get(d)||[]}append(d,m){let b=this._map.get(d);b||this._map.set(d,b=[]),b.push(...m)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const Uo=new RegExp(":enter","g"),Yi=new RegExp(":leave","g");function Bo(w,d,m,b,F,W=new Map,ie=new Map,le,Ce,Ze=[]){return(new Gi).buildKeyframes(w,d,m,b,F,W,ie,le,Ce,Ze)}class Gi{buildKeyframes(d,m,b,F,W,ie,le,Ce,Ze,xt=[]){Ze=Ze||new Us;const jt=new Mi(d,m,Ze,F,W,xt,[]);jt.options=Ce;const Sn=Ce.delay?we(Ce.delay):0;jt.currentTimeline.delayNextStep(Sn),jt.currentTimeline.setStyles([ie],null,jt.errors,Ce),Gr(this,b,jt);const xn=jt.timelines.filter(vn=>vn.containsAnimation());if(xn.length&&le.size){let vn;for(let Pn=xn.length-1;Pn>=0;Pn--){const Gn=xn[Pn];if(Gn.element===m){vn=Gn;break}}vn&&!vn.allowOnlyTimelineStyles()&&vn.setStyles([le],null,jt.errors,Ce)}return xn.length?xn.map(vn=>vn.buildKeyframes()):[Lo(m,[],[],[],0,Sn,"",!1)]}visitTrigger(d,m){}visitState(d,m){}visitTransition(d,m){}visitAnimateChild(d,m){const b=m.subInstructions.get(m.element);if(b){const F=m.createSubContext(d.options),W=m.currentTimeline.currentTime,ie=this._visitSubInstructions(b,F,F.options);W!=ie&&m.transformIntoNewTimeline(ie)}m.previousNode=d}visitAnimateRef(d,m){const b=m.createSubContext(d.options);b.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],m,b),this.visitReference(d.animation,b),m.transformIntoNewTimeline(b.currentTimeline.currentTime),m.previousNode=d}_applyAnimationRefDelays(d,m,b){for(const F of d){const W=F?.delay;if(W){const ie="number"==typeof W?W:we(bs(W,F?.params??{},m.errors));b.delayNextStep(ie)}}}_visitSubInstructions(d,m,b){let W=m.currentTimeline.currentTime;const ie=null!=b.duration?we(b.duration):null,le=null!=b.delay?we(b.delay):null;return 0!==ie&&d.forEach(Ce=>{const Ze=m.appendInstructionToTimeline(Ce,ie,le);W=Math.max(W,Ze.duration+Ze.delay)}),W}visitReference(d,m){m.updateOptions(d.options,!0),Gr(this,d.animation,m),m.previousNode=d}visitSequence(d,m){const b=m.subContextCount;let F=m;const W=d.options;if(W&&(W.params||W.delay)&&(F=m.createSubContext(W),F.transformIntoNewTimeline(),null!=W.delay)){6==F.previousNode.type&&(F.currentTimeline.snapshotCurrentStyles(),F.previousNode=Qi);const ie=we(W.delay);F.delayNextStep(ie)}d.steps.length&&(d.steps.forEach(ie=>Gr(this,ie,F)),F.currentTimeline.applyStylesToKeyframe(),F.subContextCount>b&&F.transformIntoNewTimeline()),m.previousNode=d}visitGroup(d,m){const b=[];let F=m.currentTimeline.currentTime;const W=d.options&&d.options.delay?we(d.options.delay):0;d.steps.forEach(ie=>{const le=m.createSubContext(d.options);W&&le.delayNextStep(W),Gr(this,ie,le),F=Math.max(F,le.currentTimeline.currentTime),b.push(le.currentTimeline)}),b.forEach(ie=>m.currentTimeline.mergeTimelineCollectedStyles(ie)),m.transformIntoNewTimeline(F),m.previousNode=d}_visitTiming(d,m){if(d.dynamic){const b=d.strValue;return At(m.params?bs(b,m.params,m.errors):b,m.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,m){const b=m.currentAnimateTimings=this._visitTiming(d.timings,m),F=m.currentTimeline;b.delay&&(m.incrementTime(b.delay),F.snapshotCurrentStyles());const W=d.style;5==W.type?this.visitKeyframes(W,m):(m.incrementTime(b.duration),this.visitStyle(W,m),F.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=d}visitStyle(d,m){const b=m.currentTimeline,F=m.currentAnimateTimings;!F&&b.hasCurrentStyleProperties()&&b.forwardFrame();const W=F&&F.easing||d.easing;d.isEmptyStep?b.applyEmptyStep(W):b.setStyles(d.styles,W,m.errors,m.options),m.previousNode=d}visitKeyframes(d,m){const b=m.currentAnimateTimings,F=m.currentTimeline.duration,W=b.duration,le=m.createSubContext().currentTimeline;le.easing=b.easing,d.styles.forEach(Ce=>{le.forwardTime((Ce.offset||0)*W),le.setStyles(Ce.styles,Ce.easing,m.errors,m.options),le.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(le),m.transformIntoNewTimeline(F+W),m.previousNode=d}visitQuery(d,m){const b=m.currentTimeline.currentTime,F=d.options||{},W=F.delay?we(F.delay):0;W&&(6===m.previousNode.type||0==b&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Qi);let ie=b;const le=m.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!F.optional,m.errors);m.currentQueryTotal=le.length;let Ce=null;le.forEach((Ze,xt)=>{m.currentQueryIndex=xt;const jt=m.createSubContext(d.options,Ze);W&&jt.delayNextStep(W),Ze===m.element&&(Ce=jt.currentTimeline),Gr(this,d.animation,jt),jt.currentTimeline.applyStylesToKeyframe(),ie=Math.max(ie,jt.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(ie),Ce&&(m.currentTimeline.mergeTimelineCollectedStyles(Ce),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=d}visitStagger(d,m){const b=m.parentContext,F=m.currentTimeline,W=d.timings,ie=Math.abs(W.duration),le=ie*(m.currentQueryTotal-1);let Ce=ie*m.currentQueryIndex;switch(W.duration<0?"reverse":W.easing){case"reverse":Ce=le-Ce;break;case"full":Ce=b.currentStaggerTime}const xt=m.currentTimeline;Ce&&xt.delayNextStep(Ce);const jt=xt.currentTime;Gr(this,d.animation,m),m.previousNode=d,b.currentStaggerTime=F.currentTime-jt+(F.startTime-b.currentTimeline.startTime)}}const Qi={};class Mi{constructor(d,m,b,F,W,ie,le,Ce){this._driver=d,this.element=m,this.subInstructions=b,this._enterClassName=F,this._leaveClassName=W,this.errors=ie,this.timelines=le,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ce||new ki(this._driver,m,0),le.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,m){if(!d)return;const b=d;let F=this.options;null!=b.duration&&(F.duration=we(b.duration)),null!=b.delay&&(F.delay=we(b.delay));const W=b.params;if(W){let ie=F.params;ie||(ie=this.options.params={}),Object.keys(W).forEach(le=>{(!m||!ie.hasOwnProperty(le))&&(ie[le]=bs(W[le],ie,this.errors))})}}_copyOptions(){const d={};if(this.options){const m=this.options.params;if(m){const b=d.params={};Object.keys(m).forEach(F=>{b[F]=m[F]})}}return d}createSubContext(d=null,m,b){const F=m||this.element,W=new Mi(this._driver,F,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(F,b||0));return W.previousNode=this.previousNode,W.currentAnimateTimings=this.currentAnimateTimings,W.options=this._copyOptions(),W.updateOptions(d),W.currentQueryIndex=this.currentQueryIndex,W.currentQueryTotal=this.currentQueryTotal,W.parentContext=this,this.subContextCount++,W}transformIntoNewTimeline(d){return this.previousNode=Qi,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,m,b){const F={duration:m??d.duration,delay:this.currentTimeline.currentTime+(b??0)+d.delay,easing:""},W=new gs(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,F,d.stretchStartingKeyframe);return this.timelines.push(W),F}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,m,b,F,W,ie){let le=[];if(F&&le.push(this.element),d.length>0){d=(d=d.replace(Uo,"."+this._enterClassName)).replace(Yi,"."+this._leaveClassName);let Ze=this._driver.query(this.element,d,1!=b);0!==b&&(Ze=b<0?Ze.slice(Ze.length+b,Ze.length):Ze.slice(0,b)),le.push(...Ze)}return!W&&0==le.length&&ie.push(function _e(w){return new $.vHH(3014,!1)}()),le}}class ki{constructor(d,m,b,F){this._driver=d,this.element=m,this.startTime=b,this._elementTimelineStylesLookup=F,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+d),m&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,m){return this.applyStylesToKeyframe(),new ki(this._driver,d,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,m){this._localTimelineStyles.set(d,m),this._globalTimelineStyles.set(d,m),this._styleSummary.set(d,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[m,b]of this._globalTimelineStyles)this._backFill.set(m,b||en.l3),this._currentKeyframe.set(m,en.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,m,b,F){m&&this._previousKeyframe.set("easing",m);const W=F&&F.params||{},ie=function Ds(w,d){const m=new Map;let b;return w.forEach(F=>{if("*"===F){b=b||d.keys();for(let W of b)m.set(W,en.l3)}else je(F,m)}),m}(d,this._globalTimelineStyles);for(let[le,Ce]of ie){const Ze=bs(Ce,W,b);this._pendingStyles.set(le,Ze),this._localTimelineStyles.has(le)||this._backFill.set(le,this._globalTimelineStyles.get(le)??en.l3),this._updateStyle(le,Ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,m)=>{this._currentKeyframe.set(m,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,d)}))}snapshotCurrentStyles(){for(let[d,m]of this._localTimelineStyles)this._pendingStyles.set(d,m),this._updateStyle(d,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let m in this._currentKeyframe)d.push(m);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((m,b)=>{const F=this._styleSummary.get(b);(!F||m.time>F.time)&&this._updateStyle(b,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,m=new Set,b=1===this._keyframes.size&&0===this.duration;let F=[];this._keyframes.forEach((le,Ce)=>{const Ze=je(le,new Map,this._backFill);Ze.forEach((xt,jt)=>{xt===en.k1?d.add(jt):xt===en.l3&&m.add(jt)}),b||Ze.set("offset",Ce/this.duration),F.push(Ze)});const W=d.size?Ks(d.values()):[],ie=m.size?Ks(m.values()):[];if(b){const le=F[0],Ce=new Map(le);le.set("offset",0),Ce.set("offset",1),F=[le,Ce]}return Lo(this.element,F,W,ie,this.duration,this.startTime,this.easing,!1)}}class gs extends ki{constructor(d,m,b,F,W,ie,le=!1){super(d,m,ie.delay),this.keyframes=b,this.preStyleProps=F,this.postStyleProps=W,this._stretchStartingKeyframe=le,this.timings={duration:ie.duration,delay:ie.delay,easing:ie.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:m,duration:b,easing:F}=this.timings;if(this._stretchStartingKeyframe&&m){const W=[],ie=b+m,le=m/ie,Ce=je(d[0]);Ce.set("offset",0),W.push(Ce);const Ze=je(d[0]);Ze.set("offset",Ei(le)),W.push(Ze);const xt=d.length-1;for(let jt=1;jt<=xt;jt++){let Sn=je(d[jt]);const xn=Sn.get("offset");Sn.set("offset",Ei((m+xn*b)/ie)),W.push(Sn)}b=ie,m=0,F="",d=W}return Lo(this.element,d,this.preStyleProps,this.postStyleProps,b,m,F,!0)}}function Ei(w,d=3){const m=Math.pow(10,d-1);return Math.round(w*m)/m}class Vs{}const za=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Bs extends Vs{normalizePropertyName(d,m){return oo(d)}normalizeStyleValue(d,m,b,F){let W="";const ie=b.toString().trim();if(za.has(m)&&0!==b&&"0"!==b)if("number"==typeof b)W="px";else{const le=b.match(/^[+-]?[\d\.]+([a-z]*)$/);le&&0==le[1].length&&F.push(function st(w,d){return new $.vHH(3005,!1)}())}return ie+W}}function uo(w,d,m,b,F,W,ie,le,Ce,Ze,xt,jt,Sn){return{type:0,element:w,triggerName:d,isRemovalTransition:F,fromState:m,fromStyles:W,toState:b,toStyles:ie,timelines:le,queriedElements:Ce,preStyleProps:Ze,postStyleProps:xt,totalTime:jt,errors:Sn}}const Sa={};class ta{constructor(d,m,b){this._triggerName=d,this.ast=m,this._stateStyles=b}match(d,m,b,F){return function qa(w,d,m,b,F){return w.some(W=>W(d,m,b,F))}(this.ast.matchers,d,m,b,F)}buildStyles(d,m,b){let F=this._stateStyles.get("*");return void 0!==d&&(F=this._stateStyles.get(d?.toString())||F),F?F.buildStyles(m,b):new Map}build(d,m,b,F,W,ie,le,Ce,Ze,xt){const jt=[],Sn=this.ast.options&&this.ast.options.params||Sa,vn=this.buildStyles(b,le&&le.params||Sa,jt),Pn=Ce&&Ce.params||Sa,Gn=this.buildStyles(F,Pn,jt),fr=new Set,pr=new Map,Hr=new Map,Pr="void"===F,ro={params:Ma(Pn,Sn),delay:this.ast.options?.delay},To=xt?[]:Bo(d,m,this.ast.animation,W,ie,vn,Gn,ro,Ze,jt);let Ns=0;if(To.forEach(ha=>{Ns=Math.max(ha.duration+ha.delay,Ns)}),jt.length)return uo(m,this._triggerName,b,F,Pr,vn,Gn,[],[],pr,Hr,Ns,jt);To.forEach(ha=>{const Zo=ha.element,ed=Fn(pr,Zo,new Set);ha.preStyleProps.forEach(gl=>ed.add(gl));const Ia=Fn(Hr,Zo,new Set);ha.postStyleProps.forEach(gl=>Ia.add(gl)),Zo!==m&&fr.add(Zo)});const qs=Ks(fr.values());return uo(m,this._triggerName,b,F,Pr,vn,Gn,To,qs,pr,Hr,Ns)}}function Ma(w,d){const m=nn(d);for(const b in w)w.hasOwnProperty(b)&&null!=w[b]&&(m[b]=w[b]);return m}class Cs{constructor(d,m,b){this.styles=d,this.defaultParams=m,this.normalizer=b}buildStyles(d,m){const b=new Map,F=nn(this.defaultParams);return Object.keys(d).forEach(W=>{const ie=d[W];null!==ie&&(F[W]=ie)}),this.styles.styles.forEach(W=>{"string"!=typeof W&&W.forEach((ie,le)=>{ie&&(ie=bs(ie,F,m));const Ce=this.normalizer.normalizePropertyName(le,m);ie=this.normalizer.normalizeStyleValue(le,Ce,ie,m),b.set(le,ie)})}),b}}class su{constructor(d,m,b){this.name=d,this.ast=m,this._normalizer=b,this.transitionFactories=[],this.states=new Map,m.states.forEach(F=>{this.states.set(F.name,new Cs(F.style,F.options&&F.options.params||{},b))}),$s(this.states,"true","1"),$s(this.states,"false","0"),m.transitions.forEach(F=>{this.transitionFactories.push(new ta(d,F,this.states))}),this.fallbackTransition=function As(w,d,m){return new ta(w,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ie,le)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,m,b,F){return this.transitionFactories.find(ie=>ie.match(d,m,b,F))||null}matchStyles(d,m,b){return this.fallbackTransition.buildStyles(d,m,b)}}function $s(w,d,m){w.has(d)?w.has(m)||w.set(m,w.get(d)):w.has(m)&&w.set(d,w.get(m))}const na=new Us;class Wa{constructor(d,m,b){this.bodyNode=d,this._driver=m,this._normalizer=b,this._animations=new Map,this._playersById=new Map,this.players=[]}register(d,m){const b=[],F=[],W=Br(this._driver,m,b,F);if(b.length)throw function On(w){return new $.vHH(3503,!1)}();this._animations.set(d,W)}_buildPlayer(d,m,b){const F=d.element,W=Di(0,this._normalizer,0,d.keyframes,m,b);return this._driver.animate(F,W,d.duration,d.delay,d.easing,[],!0)}create(d,m,b={}){const F=[],W=this._animations.get(d);let ie;const le=new Map;if(W?(ie=Bo(this._driver,m,W,ze,ke,new Map,new Map,b,na,F),ie.forEach(xt=>{const jt=Fn(le,xt.element,new Map);xt.postStyleProps.forEach(Sn=>jt.set(Sn,null))})):(F.push(function dn(){return new $.vHH(3300,!1)}()),ie=[]),F.length)throw function ur(w){return new $.vHH(3504,!1)}();le.forEach((xt,jt)=>{xt.forEach((Sn,xn)=>{xt.set(xn,this._driver.computeStyle(jt,xn,en.l3))})});const Ze=cr(ie.map(xt=>{const jt=le.get(xt.element);return this._buildPlayer(xt,new Map,jt)}));return this._playersById.set(d,Ze),Ze.onDestroy(()=>this.destroy(d)),this.players.push(Ze),Ze}destroy(d){const m=this._getPlayer(d);m.destroy(),this._playersById.delete(d);const b=this.players.indexOf(m);b>=0&&this.players.splice(b,1)}_getPlayer(d){const m=this._playersById.get(d);if(!m)throw function Dr(w){return new $.vHH(3301,!1)}();return m}listen(d,m,b,F){const W=Bt(m,"","","");return Vn(this._getPlayer(d),b,W,F),()=>{}}command(d,m,b,F){if("register"==b)return void this.register(d,F[0]);if("create"==b)return void this.create(d,m,F[0]||{});const W=this._getPlayer(d);switch(b){case"play":W.play();break;case"pause":W.pause();break;case"reset":W.reset();break;case"restart":W.restart();break;case"finish":W.finish();break;case"init":W.init();break;case"setPosition":W.setPosition(parseFloat(F[0]));break;case"destroy":this.destroy(d)}}}const lo="ng-animate-queued",ms="ng-animate-disabled",Ka=[],Ji={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},is={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$r="__ng_removed";class ho{get params(){return this.options.params}constructor(d,m=""){this.namespaceId=m;const b=d&&d.hasOwnProperty("value");if(this.value=function sa(w){return w??null}(b?d.value:d),b){const W=nn(d);delete W.value,this.options=W}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const m=d.params;if(m){const b=this.options.params;Object.keys(m).forEach(F=>{null==b[F]&&(b[F]=m[F])})}}}const Js="void",fo=new ho(Js);class Li{constructor(d,m,b){this.id=d,this.hostElement=m,this._engine=b,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,wr(m,this._hostClassName)}listen(d,m,b,F){if(!this._triggers.has(m))throw function ri(w,d){return new $.vHH(3302,!1)}();if(null==b||0==b.length)throw function vr(w){return new $.vHH(3303,!1)}();if(!function ss(w){return"start"==w||"done"==w}(b))throw function Kr(w,d){return new $.vHH(3400,!1)}();const W=Fn(this._elementListeners,d,[]),ie={name:m,phase:b,callback:F};W.push(ie);const le=Fn(this._engine.statesByElement,d,new Map);return le.has(m)||(wr(d,zt),wr(d,zt+"-"+m),le.set(m,fo)),()=>{this._engine.afterFlush(()=>{const Ce=W.indexOf(ie);Ce>=0&&W.splice(Ce,1),this._triggers.has(m)||le.delete(m)})}}register(d,m){return!this._triggers.has(d)&&(this._triggers.set(d,m),!0)}_getTrigger(d){const m=this._triggers.get(d);if(!m)throw function Hi(w){return new $.vHH(3401,!1)}();return m}trigger(d,m,b,F=!0){const W=this._getTrigger(m),ie=new ia(this.id,m,d);let le=this._engine.statesByElement.get(d);le||(wr(d,zt),wr(d,zt+"-"+m),this._engine.statesByElement.set(d,le=new Map));let Ce=le.get(m);const Ze=new ho(b,this.id);if(!(b&&b.hasOwnProperty("value"))&&Ce&&Ze.absorbOptions(Ce.options),le.set(m,Ze),Ce||(Ce=fo),Ze.value!==Js&&Ce.value===Ze.value){if(!function Pa(w,d){const m=Object.keys(w),b=Object.keys(d);if(m.length!=b.length)return!1;for(let F=0;F<m.length;F++){const W=m[F];if(!d.hasOwnProperty(W)||w[W]!==d[W])return!1}return!0}(Ce.params,Ze.params)){const Pn=[],Gn=W.matchStyles(Ce.value,Ce.params,Pn),fr=W.matchStyles(Ze.value,Ze.params,Pn);Pn.length?this._engine.reportError(Pn):this._engine.afterFlush(()=>{Cn(d,Gn),_n(d,fr)})}return}const Sn=Fn(this._engine.playersByElement,d,[]);Sn.forEach(Pn=>{Pn.namespaceId==this.id&&Pn.triggerName==m&&Pn.queued&&Pn.destroy()});let xn=W.matchTransition(Ce.value,Ze.value,d,Ze.params),vn=!1;if(!xn){if(!F)return;xn=W.fallbackTransition,vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:m,transition:xn,fromState:Ce,toState:Ze,player:ie,isFallbackTransition:vn}),vn||(wr(d,lo),ie.onStart(()=>{Ho(d,lo)})),ie.onDone(()=>{let Pn=this.players.indexOf(ie);Pn>=0&&this.players.splice(Pn,1);const Gn=this._engine.playersByElement.get(d);if(Gn){let fr=Gn.indexOf(ie);fr>=0&&Gn.splice(fr,1)}}),this.players.push(ie),Sn.push(ie),ie}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(m=>m.delete(d)),this._elementListeners.forEach((m,b)=>{this._elementListeners.set(b,m.filter(F=>F.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const m=this._engine.playersByElement.get(d);m&&(m.forEach(b=>b.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,m){const b=this._engine.driver.query(d,De,!0);b.forEach(F=>{if(F[$r])return;const W=this._engine.fetchNamespacesByElement(F);W.size?W.forEach(ie=>ie.triggerLeaveAnimation(F,m,!1,!0)):this.clearElementCache(F)}),this._engine.afterFlushAnimationsDone(()=>b.forEach(F=>this.clearElementCache(F)))}triggerLeaveAnimation(d,m,b,F){const W=this._engine.statesByElement.get(d),ie=new Map;if(W){const le=[];if(W.forEach((Ce,Ze)=>{if(ie.set(Ze,Ce.value),this._triggers.has(Ze)){const xt=this.trigger(d,Ze,Js,F);xt&&le.push(xt)}}),le.length)return this._engine.markElementAsRemoved(this.id,d,!0,m,ie),b&&cr(le).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const m=this._elementListeners.get(d),b=this._engine.statesByElement.get(d);if(m&&b){const F=new Set;m.forEach(W=>{const ie=W.name;if(F.has(ie))return;F.add(ie);const Ce=this._triggers.get(ie).fallbackTransition,Ze=b.get(ie)||fo,xt=new ho(Js),jt=new ia(this.id,ie,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:ie,transition:Ce,fromState:Ze,toState:xt,player:jt,isFallbackTransition:!0})})}}removeNode(d,m){const b=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,m),this.triggerLeaveAnimation(d,m,!0))return;let F=!1;if(b.totalAnimations){const W=b.players.length?b.playersByQueriedElement.get(d):[];if(W&&W.length)F=!0;else{let ie=d;for(;ie=ie.parentNode;)if(b.statesByElement.get(ie)){F=!0;break}}}if(this.prepareLeaveAnimationListeners(d),F)b.markElementAsRemoved(this.id,d,!1,m);else{const W=d[$r];(!W||W===Ji)&&(b.afterFlush(()=>this.clearElementCache(d)),b.destroyInnerAnimations(d),b._onRemovalComplete(d,m))}}insertNode(d,m){wr(d,this._hostClassName)}drainQueuedTransitions(d){const m=[];return this._queue.forEach(b=>{const F=b.player;if(F.destroyed)return;const W=b.element,ie=this._elementListeners.get(W);ie&&ie.forEach(le=>{if(le.name==b.triggerName){const Ce=Bt(W,b.triggerName,b.fromState.value,b.toState.value);Ce._data=d,Vn(b.player,le.phase,Ce,le.callback)}}),F.markedForDestroy?this._engine.afterFlush(()=>{F.destroy()}):m.push(b)}),this._queue=[],m.sort((b,F)=>{const W=b.transition.ast.depCount,ie=F.transition.ast.depCount;return 0==W||0==ie?W-ie:this._engine.driver.containsElement(b.element,F.element)?1:-1})}destroy(d){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}elementContainsData(d){let m=!1;return this._elementListeners.has(d)&&(m=!0),m=!!this._queue.find(b=>b.element===d)||m,m}}class jo{_onRemovalComplete(d,m){this.onRemovalComplete(d,m)}constructor(d,m,b){this.bodyNode=d,this.driver=m,this._normalizer=b,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(F,W)=>{}}get queuedPlayers(){const d=[];return this._namespaceList.forEach(m=>{m.players.forEach(b=>{b.queued&&d.push(b)})}),d}createNamespace(d,m){const b=new Li(d,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(b,m):(this.newHostElements.set(m,b),this.collectEnterElement(m)),this._namespaceLookup[d]=b}_balanceNamespaceList(d,m){const b=this._namespaceList,F=this.namespacesByHostElement;if(b.length-1>=0){let ie=!1,le=this.driver.getParentElement(m);for(;le;){const Ce=F.get(le);if(Ce){const Ze=b.indexOf(Ce);b.splice(Ze+1,0,d),ie=!0;break}le=this.driver.getParentElement(le)}ie||b.unshift(d)}else b.push(d);return F.set(m,d),d}register(d,m){let b=this._namespaceLookup[d];return b||(b=this.createNamespace(d,m)),b}registerTrigger(d,m,b){let F=this._namespaceLookup[d];F&&F.register(m,b)&&this.totalAnimations++}destroy(d,m){if(!d)return;const b=this._fetchNamespace(d);this.afterFlush(()=>{this.namespacesByHostElement.delete(b.hostElement),delete this._namespaceLookup[d];const F=this._namespaceList.indexOf(b);F>=0&&this._namespaceList.splice(F,1)}),this.afterFlushAnimationsDone(()=>b.destroy(m))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const m=new Set,b=this.statesByElement.get(d);if(b)for(let F of b.values())if(F.namespaceId){const W=this._fetchNamespace(F.namespaceId);W&&m.add(W)}return m}trigger(d,m,b,F){if(Ui(m)){const W=this._fetchNamespace(d);if(W)return W.trigger(m,b,F),!0}return!1}insertNode(d,m,b,F){if(!Ui(m))return;const W=m[$r];if(W&&W.setForRemoval){W.setForRemoval=!1,W.setForMove=!0;const ie=this.collectedLeaveElements.indexOf(m);ie>=0&&this.collectedLeaveElements.splice(ie,1)}if(d){const ie=this._fetchNamespace(d);ie&&ie.insertNode(m,b)}F&&this.collectEnterElement(m)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,m){m?this.disabledNodes.has(d)||(this.disabledNodes.add(d),wr(d,ms)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),Ho(d,ms))}removeNode(d,m,b,F){if(Ui(m)){const W=d?this._fetchNamespace(d):null;if(W?W.removeNode(m,F):this.markElementAsRemoved(d,m,!1,F),b){const ie=this.namespacesByHostElement.get(m);ie&&ie.id!==d&&ie.removeNode(m,F)}}else this._onRemovalComplete(m,F)}markElementAsRemoved(d,m,b,F,W){this.collectedLeaveElements.push(m),m[$r]={namespaceId:d,setForRemoval:F,hasAnimation:b,removedBeforeQueried:!1,previousTriggersValues:W}}listen(d,m,b,F,W){return Ui(m)?this._fetchNamespace(d).listen(m,b,F,W):()=>{}}_buildInstruction(d,m,b,F,W){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,b,F,d.fromState.options,d.toState.options,m,W)}destroyInnerAnimations(d){let m=this.driver.query(d,De,!0);m.forEach(b=>this.destroyActiveAnimationsForElement(b)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(d,ne,!0),m.forEach(b=>this.finishActiveQueriedAnimationOnElement(b)))}destroyActiveAnimationsForElement(d){const m=this.playersByElement.get(d);m&&m.forEach(b=>{b.queued?b.markedForDestroy=!0:b.destroy()})}finishActiveQueriedAnimationOnElement(d){const m=this.playersByQueriedElement.get(d);m&&m.forEach(b=>b.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return cr(this.players).onDone(()=>d());d()})}processLeaveNode(d){const m=d[$r];if(m&&m.setForRemoval){if(d[$r]=Ji,m.namespaceId){this.destroyInnerAnimations(d);const b=this._fetchNamespace(m.namespaceId);b&&b.clearElementCache(d)}this._onRemovalComplete(d,m.setForRemoval)}d.classList?.contains(ms)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(b=>{this.markElementAsDisabled(b,!1)})}flush(d=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((b,F)=>this._balanceNamespaceList(b,F)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let b=0;b<this.collectedEnterElements.length;b++)wr(this.collectedEnterElements[b],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const b=[];try{m=this._flushAnimations(b,d)}finally{for(let F=0;F<b.length;F++)b[F]()}}else for(let b=0;b<this.collectedLeaveElements.length;b++)this.processLeaveNode(this.collectedLeaveElements[b]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(b=>b()),this._flushFns=[],this._whenQuietFns.length){const b=this._whenQuietFns;this._whenQuietFns=[],m.length?cr(m).onDone(()=>{b.forEach(F=>F())}):b.forEach(F=>F())}}reportError(d){throw function tn(w){return new $.vHH(3402,!1)}()}_flushAnimations(d,m){const b=new Us,F=[],W=new Map,ie=[],le=new Map,Ce=new Map,Ze=new Map,xt=new Set;this.disabledNodes.forEach(Dn=>{xt.add(Dn);const $n=this.driver.query(Dn,".ng-animate-queued",!0);for(let Ln=0;Ln<$n.length;Ln++)xt.add($n[Ln])});const jt=this.bodyNode,Sn=Array.from(this.statesByElement.keys()),xn=Xs(Sn,this.collectedEnterElements),vn=new Map;let Pn=0;xn.forEach((Dn,$n)=>{const Ln=ze+Pn++;vn.set($n,Ln),Dn.forEach(Wr=>wr(Wr,Ln))});const Gn=[],fr=new Set,pr=new Set;for(let Dn=0;Dn<this.collectedLeaveElements.length;Dn++){const $n=this.collectedLeaveElements[Dn],Ln=$n[$r];Ln&&Ln.setForRemoval&&(Gn.push($n),fr.add($n),Ln.hasAnimation?this.driver.query($n,".ng-star-inserted",!0).forEach(Wr=>fr.add(Wr)):pr.add($n))}const Hr=new Map,Pr=Xs(Sn,Array.from(fr));Pr.forEach((Dn,$n)=>{const Ln=ke+Pn++;Hr.set($n,Ln),Dn.forEach(Wr=>wr(Wr,Ln))}),d.push(()=>{xn.forEach((Dn,$n)=>{const Ln=vn.get($n);Dn.forEach(Wr=>Ho(Wr,Ln))}),Pr.forEach((Dn,$n)=>{const Ln=Hr.get($n);Dn.forEach(Wr=>Ho(Wr,Ln))}),Gn.forEach(Dn=>{this.processLeaveNode(Dn)})});const ro=[],To=[];for(let Dn=this._namespaceList.length-1;Dn>=0;Dn--)this._namespaceList[Dn].drainQueuedTransitions(m).forEach(Ln=>{const Wr=Ln.player,us=Ln.element;if(ro.push(Wr),this.collectedEnterElements.length){const io=us[$r];if(io&&io.setForMove){if(io.previousTriggersValues&&io.previousTriggersValues.has(Ln.triggerName)){const ru=io.previousTriggersValues.get(Ln.triggerName),fa=this.statesByElement.get(Ln.element);if(fa&&fa.has(Ln.triggerName)){const Xl=fa.get(Ln.triggerName);Xl.value=ru,fa.set(Ln.triggerName,Xl)}}return void Wr.destroy()}}const cu=!jt||!this.driver.containsElement(jt,us),Yo=Hr.get(us),Kn=vn.get(us),ls=this._buildInstruction(Ln,b,Kn,Yo,cu);if(ls.errors&&ls.errors.length)return void To.push(ls);if(cu)return Wr.onStart(()=>Cn(us,ls.fromStyles)),Wr.onDestroy(()=>_n(us,ls.toStyles)),void F.push(Wr);if(Ln.isFallbackTransition)return Wr.onStart(()=>Cn(us,ls.fromStyles)),Wr.onDestroy(()=>_n(us,ls.toStyles)),void F.push(Wr);const Ml=[];ls.timelines.forEach(io=>{io.stretchStartingKeyframe=!0,this.disabledNodes.has(io.element)||Ml.push(io)}),ls.timelines=Ml,b.append(us,ls.timelines),ie.push({instruction:ls,player:Wr,element:us}),ls.queriedElements.forEach(io=>Fn(le,io,[]).push(Wr)),ls.preStyleProps.forEach((io,ru)=>{if(io.size){let fa=Ce.get(ru);fa||Ce.set(ru,fa=new Set),io.forEach((Xl,td)=>fa.add(td))}}),ls.postStyleProps.forEach((io,ru)=>{let fa=Ze.get(ru);fa||Ze.set(ru,fa=new Set),io.forEach((Xl,td)=>fa.add(td))})});if(To.length){const Dn=[];To.forEach($n=>{Dn.push(function lr(w,d){return new $.vHH(3505,!1)}())}),ro.forEach($n=>$n.destroy()),this.reportError(Dn)}const Ns=new Map,qs=new Map;ie.forEach(Dn=>{const $n=Dn.element;b.has($n)&&(qs.set($n,$n),this._beforeAnimationBuild(Dn.player.namespaceId,Dn.instruction,Ns))}),F.forEach(Dn=>{const $n=Dn.element;this._getPreviousPlayers($n,!1,Dn.namespaceId,Dn.triggerName,null).forEach(Wr=>{Fn(Ns,$n,[]).push(Wr),Wr.destroy()})});const ha=Gn.filter(Dn=>gi(Dn,Ce,Ze)),Zo=new Map;Vi(Zo,this.driver,pr,Ze,en.l3).forEach(Dn=>{gi(Dn,Ce,Ze)&&ha.push(Dn)});const Ia=new Map;xn.forEach((Dn,$n)=>{Vi(Ia,this.driver,new Set(Dn),Ce,en.k1)}),ha.forEach(Dn=>{const $n=Zo.get(Dn),Ln=Ia.get(Dn);Zo.set(Dn,new Map([...Array.from($n?.entries()??[]),...Array.from(Ln?.entries()??[])]))});const gl=[],ba=[],Sl={};ie.forEach(Dn=>{const{element:$n,player:Ln,instruction:Wr}=Dn;if(b.has($n)){if(xt.has($n))return Ln.onDestroy(()=>_n($n,Wr.toStyles)),Ln.disabled=!0,Ln.overrideTotalTime(Wr.totalTime),void F.push(Ln);let us=Sl;if(qs.size>1){let Yo=$n;const Kn=[];for(;Yo=Yo.parentNode;){const ls=qs.get(Yo);if(ls){us=ls;break}Kn.push(Yo)}Kn.forEach(ls=>qs.set(ls,us))}const cu=this._buildAnimation(Ln.namespaceId,Wr,Ns,W,Ia,Zo);if(Ln.setRealPlayer(cu),us===Sl)gl.push(Ln);else{const Yo=this.playersByElement.get(us);Yo&&Yo.length&&(Ln.parentPlayer=cr(Yo)),F.push(Ln)}}else Cn($n,Wr.fromStyles),Ln.onDestroy(()=>_n($n,Wr.toStyles)),ba.push(Ln),xt.has($n)&&F.push(Ln)}),ba.forEach(Dn=>{const $n=W.get(Dn.element);if($n&&$n.length){const Ln=cr($n);Dn.setRealPlayer(Ln)}}),F.forEach(Dn=>{Dn.parentPlayer?Dn.syncPlayerEvents(Dn.parentPlayer):Dn.destroy()});for(let Dn=0;Dn<Gn.length;Dn++){const $n=Gn[Dn],Ln=$n[$r];if(Ho($n,ke),Ln&&Ln.hasAnimation)continue;let Wr=[];if(le.size){let cu=le.get($n);cu&&cu.length&&Wr.push(...cu);let Yo=this.driver.query($n,ne,!0);for(let Kn=0;Kn<Yo.length;Kn++){let ls=le.get(Yo[Kn]);ls&&ls.length&&Wr.push(...ls)}}const us=Wr.filter(cu=>!cu.destroyed);us.length?oa(this,$n,us):this.processLeaveNode($n)}return Gn.length=0,gl.forEach(Dn=>{this.players.push(Dn),Dn.onDone(()=>{Dn.destroy();const $n=this.players.indexOf(Dn);this.players.splice($n,1)}),Dn.play()}),gl}elementContainsData(d,m){let b=!1;const F=m[$r];return F&&F.setForRemoval&&(b=!0),this.playersByElement.has(m)&&(b=!0),this.playersByQueriedElement.has(m)&&(b=!0),this.statesByElement.has(m)&&(b=!0),this._fetchNamespace(d).elementContainsData(m)||b}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,m,b,F,W){let ie=[];if(m){const le=this.playersByQueriedElement.get(d);le&&(ie=le)}else{const le=this.playersByElement.get(d);if(le){const Ce=!W||W==Js;le.forEach(Ze=>{Ze.queued||!Ce&&Ze.triggerName!=F||ie.push(Ze)})}}return(b||F)&&(ie=ie.filter(le=>!(b&&b!=le.namespaceId||F&&F!=le.triggerName))),ie}_beforeAnimationBuild(d,m,b){const W=m.element,ie=m.isRemovalTransition?void 0:d,le=m.isRemovalTransition?void 0:m.triggerName;for(const Ce of m.timelines){const Ze=Ce.element,xt=Ze!==W,jt=Fn(b,Ze,[]);this._getPreviousPlayers(Ze,xt,ie,le,m.toState).forEach(xn=>{const vn=xn.getRealPlayer();vn.beforeDestroy&&vn.beforeDestroy(),xn.destroy(),jt.push(xn)})}Cn(W,m.fromStyles)}_buildAnimation(d,m,b,F,W,ie){const le=m.triggerName,Ce=m.element,Ze=[],xt=new Set,jt=new Set,Sn=m.timelines.map(vn=>{const Pn=vn.element;xt.add(Pn);const Gn=Pn[$r];if(Gn&&Gn.removedBeforeQueried)return new en.ZN(vn.duration,vn.delay);const fr=Pn!==Ce,pr=function aa(w){const d=[];return Xi(w,d),d}((b.get(Pn)||Ka).map(Ns=>Ns.getRealPlayer())).filter(Ns=>!!Ns.element&&Ns.element===Pn),Hr=W.get(Pn),Pr=ie.get(Pn),ro=Di(0,this._normalizer,0,vn.keyframes,Hr,Pr),To=this._buildPlayer(vn,ro,pr);if(vn.subTimeline&&F&&jt.add(Pn),fr){const Ns=new ia(d,le,Pn);Ns.setRealPlayer(To),Ze.push(Ns)}return To});Ze.forEach(vn=>{Fn(this.playersByQueriedElement,vn.element,[]).push(vn),vn.onDone(()=>function Pi(w,d,m){let b=w.get(d);if(b){if(b.length){const F=b.indexOf(m);b.splice(F,1)}0==b.length&&w.delete(d)}return b}(this.playersByQueriedElement,vn.element,vn))}),xt.forEach(vn=>wr(vn,Ee));const xn=cr(Sn);return xn.onDestroy(()=>{xt.forEach(vn=>Ho(vn,Ee)),_n(Ce,m.toStyles)}),jt.forEach(vn=>{Fn(F,vn,[]).push(xn)}),xn}_buildPlayer(d,m,b){return m.length>0?this.driver.animate(d.element,m,d.duration,d.delay,d.easing,b):new en.ZN(d.duration,d.delay)}}class ia{constructor(d,m,b){this.namespaceId=d,this.triggerName=m,this.element=b,this._player=new en.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((m,b)=>{m.forEach(F=>Vn(d,b,void 0,F))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const m=this._player;m.triggerCallback&&d.onStart(()=>m.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,m){Fn(this._queuedCallbacks,d,[]).push(m)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const m=this._player;m.triggerCallback&&m.triggerCallback(d)}}function Ui(w){return w&&1===w.nodeType}function Sr(w,d){const m=w.style.display;return w.style.display=d??"none",m}function Vi(w,d,m,b,F){const W=[];m.forEach(Ce=>W.push(Sr(Ce)));const ie=[];b.forEach((Ce,Ze)=>{const xt=new Map;Ce.forEach(jt=>{const Sn=d.computeStyle(Ze,jt,F);xt.set(jt,Sn),(!Sn||0==Sn.length)&&(Ze[$r]=is,ie.push(Ze))}),w.set(Ze,xt)});let le=0;return m.forEach(Ce=>Sr(Ce,W[le++])),ie}function Xs(w,d){const m=new Map;if(w.forEach(le=>m.set(le,[])),0==d.length)return m;const b=1,F=new Set(d),W=new Map;function ie(le){if(!le)return b;let Ce=W.get(le);if(Ce)return Ce;const Ze=le.parentNode;return Ce=m.has(Ze)?Ze:F.has(Ze)?b:ie(Ze),W.set(le,Ce),Ce}return d.forEach(le=>{const Ce=ie(le);Ce!==b&&m.get(Ce).push(le)}),m}function wr(w,d){w.classList?.add(d)}function Ho(w,d){w.classList?.remove(d)}function oa(w,d,m){cr(m).onDone(()=>w.processLeaveNode(d))}function Xi(w,d){for(let m=0;m<w.length;m++){const b=w[m];b instanceof en.ZE?Xi(b.players,d):d.push(b)}}function gi(w,d,m){const b=m.get(w);if(!b)return!1;let F=d.get(w);return F?b.forEach(W=>F.add(W)):d.set(w,b),m.delete(w),!0}class wn{constructor(d,m,b){this.bodyNode=d,this._driver=m,this._normalizer=b,this._triggerCache={},this.onRemovalComplete=(F,W)=>{},this._transitionEngine=new jo(d,m,b),this._timelineEngine=new Wa(d,m,b),this._transitionEngine.onRemovalComplete=(F,W)=>this.onRemovalComplete(F,W)}registerTrigger(d,m,b,F,W){const ie=d+"-"+F;let le=this._triggerCache[ie];if(!le){const Ce=[],Ze=[],xt=Br(this._driver,W,Ce,Ze);if(Ce.length)throw function wt(w,d){return new $.vHH(3404,!1)}();le=function Au(w,d,m){return new su(w,d,m)}(F,xt,this._normalizer),this._triggerCache[ie]=le}this._transitionEngine.registerTrigger(m,F,le)}register(d,m){this._transitionEngine.register(d,m)}destroy(d,m){this._transitionEngine.destroy(d,m)}onInsert(d,m,b,F){this._transitionEngine.insertNode(d,m,b,F)}onRemove(d,m,b,F){this._transitionEngine.removeNode(d,m,F||!1,b)}disableAnimations(d,m){this._transitionEngine.markElementAsDisabled(d,m)}process(d,m,b,F){if("@"==b.charAt(0)){const[W,ie]=Un(b);this._timelineEngine.command(W,m,ie,F)}else this._transitionEngine.trigger(d,m,b,F)}listen(d,m,b,F,W){if("@"==b.charAt(0)){const[ie,le]=Un(b);return this._timelineEngine.listen(ie,m,le,W)}return this._transitionEngine.listen(d,m,b,F,W)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let L=(()=>{class w{constructor(m,b,F){this._element=m,this._startStyles=b,this._endStyles=F,this._state=0;let W=w.initialStylesByElement.get(m);W||w.initialStylesByElement.set(m,W=new Map),this._initialStyles=W}start(){this._state<1&&(this._startStyles&&_n(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_n(this._element,this._initialStyles),this._endStyles&&(_n(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(w.initialStylesByElement.delete(this._element),this._startStyles&&(Cn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cn(this._element,this._endStyles),this._endStyles=null),_n(this._element,this._initialStyles),this._state=3)}}return w.initialStylesByElement=new WeakMap,w})();function O(w){let d=null;return w.forEach((m,b)=>{(function ee(w){return"display"===w||"position"===w})(b)&&(d=d||new Map,d.set(b,m))}),d}class it{constructor(d,m,b,F){this.element=d,this.keyframes=m,this.options=b,this._specialStyles=F,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=b.duration,this._delay=b.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const m=[];return d.forEach(b=>{m.push(Object.fromEntries(b))}),m}_triggerWebAnimation(d,m,b){return d.animate(this._convertKeyframesToObject(m),b)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((b,F)=>{"offset"!==F&&d.set(F,this._finished?b:si(this.element,F))}),this.currentSnapshot=d}triggerCallback(d){const m="start"===d?this._onStartFns:this._onDoneFns;m.forEach(b=>b()),m.length=0}}class pn{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}matchesElement(d,m){return!1}containsElement(d,m){return $e(d,m)}getParentElement(d){return fi(d)}query(d,m,b){return Te(d,m,b)}computeStyle(d,m,b){return window.getComputedStyle(d)[m]}animate(d,m,b,F,W,ie=[]){const Ce={duration:b,delay:F,fill:0==F?"both":"forwards"};W&&(Ce.easing=W);const Ze=new Map,xt=ie.filter(xn=>xn instanceof it);(function Nr(w,d){return 0===w||0===d})(b,F)&&xt.forEach(xn=>{xn.currentSnapshot.forEach((vn,Pn)=>Ze.set(Pn,vn))});let jt=function Qr(w){return w.length?w[0]instanceof Map?w:w.map(d=>Ar(d)):[]}(m).map(xn=>je(xn));jt=function di(w,d,m){if(m.size&&d.length){let b=d[0],F=[];if(m.forEach((W,ie)=>{b.has(ie)||F.push(ie),b.set(ie,W)}),F.length)for(let W=1;W<d.length;W++){let ie=d[W];F.forEach(le=>ie.set(le,si(w,le)))}}return d}(d,jt,Ze);const Sn=function V(w,d){let m=null,b=null;return Array.isArray(d)&&d.length?(m=O(d[0]),d.length>1&&(b=O(d[d.length-1]))):d instanceof Map&&(m=O(d)),m||b?new L(w,m,b):null}(d,jt);return new it(d,jt,Ce,Sn)}}var Mr=q(6895);let Bi=(()=>{class w extends en._j{constructor(m,b){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(b.body,{id:"0",encapsulation:$.ifc.None,styles:[],data:{animation:[]}})}build(m){const b=this._nextAnimationId.toString();this._nextAnimationId++;const F=Array.isArray(m)?(0,en.vP)(m):m;return Co(this._renderer,null,b,"register",[F]),new It(b,this._renderer)}}return w.\u0275fac=function(m){return new(m||w)($.LFG($.FYo),$.LFG(Mr.K0))},w.\u0275prov=$.Yz7({token:w,factory:w.\u0275fac}),w})();class It extends en.LC{constructor(d,m){super(),this._id=d,this._renderer=m}create(d,m){return new nr(this._id,d,m||{},this._renderer)}}class nr{constructor(d,m,b,F){this.id=d,this.element=m,this._renderer=F,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",b)}_listen(d,m){return this._renderer.listen(this.element,`@@${this.id}:${d}`,m)}_command(d,...m){return Co(this._renderer,this.element,this.id,d,m)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Co(w,d,m,b,F){return w.setProperty(d,`@@${m}:${b}`,F)}const mi="@.disabled";let Ra=(()=>{class w{constructor(m,b,F){this.delegate=m,this.engine=b,this._zone=F,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),b.onRemovalComplete=(W,ie)=>{const le=ie?.parentNode(W);le&&ie.removeChild(le,W)}}createRenderer(m,b){const W=this.delegate.createRenderer(m,b);if(!(m&&b&&b.data&&b.data.animation)){let xt=this._rendererCache.get(W);return xt||(xt=new ys("",W,this.engine,()=>this._rendererCache.delete(W)),this._rendererCache.set(W,xt)),xt}const ie=b.id,le=b.id+"-"+this._currentId;this._currentId++,this.engine.register(le,m);const Ce=xt=>{Array.isArray(xt)?xt.forEach(Ce):this.engine.registerTrigger(ie,le,m,xt.name,xt)};return b.data.animation.forEach(Ce),new wi(this,le,W,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(m,b,F){m>=0&&m<this._microtaskId?this._zone.run(()=>b(F)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(W=>{const[ie,le]=W;ie(le)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([b,F]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return w.\u0275fac=function(m){return new(m||w)($.LFG($.FYo),$.LFG(wn),$.LFG($.R0b))},w.\u0275prov=$.Yz7({token:w,factory:w.\u0275fac}),w})();class ys{constructor(d,m,b,F){this.namespaceId=d,this.delegate=m,this.engine=b,this._onDestroy=F,this.destroyNode=this.delegate.destroyNode?W=>m.destroyNode(W):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(d,m){return this.delegate.createElement(d,m)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,m){this.delegate.appendChild(d,m),this.engine.onInsert(this.namespaceId,m,d,!1)}insertBefore(d,m,b,F=!0){this.delegate.insertBefore(d,m,b),this.engine.onInsert(this.namespaceId,m,d,F)}removeChild(d,m,b){this.engine.onRemove(this.namespaceId,m,this.delegate,b)}selectRootElement(d,m){return this.delegate.selectRootElement(d,m)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,m,b,F){this.delegate.setAttribute(d,m,b,F)}removeAttribute(d,m,b){this.delegate.removeAttribute(d,m,b)}addClass(d,m){this.delegate.addClass(d,m)}removeClass(d,m){this.delegate.removeClass(d,m)}setStyle(d,m,b,F){this.delegate.setStyle(d,m,b,F)}removeStyle(d,m,b){this.delegate.removeStyle(d,m,b)}setProperty(d,m,b){"@"==m.charAt(0)&&m==mi?this.disableAnimations(d,!!b):this.delegate.setProperty(d,m,b)}setValue(d,m){this.delegate.setValue(d,m)}listen(d,m,b){return this.delegate.listen(d,m,b)}disableAnimations(d,m){this.engine.disableAnimations(d,m)}}class wi extends ys{constructor(d,m,b,F,W){super(m,b,F,W),this.factory=d,this.namespaceId=m}setProperty(d,m,b){"@"==m.charAt(0)?"."==m.charAt(1)&&m==mi?this.disableAnimations(d,b=void 0===b||!!b):this.engine.process(this.namespaceId,d,m.slice(1),b):this.delegate.setProperty(d,m,b)}listen(d,m,b){if("@"==m.charAt(0)){const F=function xa(w){switch(w){case"body":return document.body;case"document":return document;case"window":return window;default:return w}}(d);let W=m.slice(1),ie="";return"@"!=W.charAt(0)&&([W,ie]=function Na(w){const d=w.indexOf(".");return[w.substring(0,d),w.slice(d+1)]}(W)),this.engine.listen(this.namespaceId,F,W,ie,le=>{this.factory.scheduleListenerCallback(le._data||-1,b,le)})}return this.delegate.listen(d,m,b)}}const hs=[{provide:en._j,useClass:Bi},{provide:Vs,useFactory:function fu(){return new Bs}},{provide:wn,useClass:(()=>{class w extends wn{constructor(m,b,F,W){super(m.body,b,F)}ngOnDestroy(){this.flush()}}return w.\u0275fac=function(m){return new(m||w)($.LFG(Mr.K0),$.LFG(vt),$.LFG(Vs),$.LFG($.z2F))},w.\u0275prov=$.Yz7({token:w,factory:w.\u0275fac}),w})()},{provide:$.FYo,useFactory:function Go(w,d,m){return new Ra(w,d,m)},deps:[g.se,wn,$.R0b]}],po=[{provide:vt,useFactory:()=>new pn},{provide:$.QbO,useValue:"BrowserAnimations"},...hs],ma=[{provide:vt,useClass:_t},{provide:$.QbO,useValue:"NoopAnimations"},...hs];let Ya=(()=>{class w{static withConfig(m){return{ngModule:w,providers:m.disableAnimations?ma:po}}}return w.\u0275fac=function(m){return new(m||w)},w.\u0275mod=$.oAB({type:w}),w.\u0275inj=$.cJS({providers:po,imports:[g.b2]}),w})();var Oa=q(9008),ka=q(9778),eo=q(414),js=q(8020),Qa=q(259),Fr=q(2313),Ja=q(5861),Hs=q(2951),zi=q(2090),Xa=q(4859);const zo="firebasestorage.googleapis.com",go="storageBucket";class Tr extends zi.ZR{constructor(d,m,b=0){super(So(d),`Firebase Storage: ${m} (${So(d)})`),this.status_=b,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tr.prototype)}get status(){return this.status_}set status(d){this.status_=d}_codeEquals(d){return So(d)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(d){this.customData.serverResponse=d,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var An=(()=>{return(w=An||(An={})).UNKNOWN="unknown",w.OBJECT_NOT_FOUND="object-not-found",w.BUCKET_NOT_FOUND="bucket-not-found",w.PROJECT_NOT_FOUND="project-not-found",w.QUOTA_EXCEEDED="quota-exceeded",w.UNAUTHENTICATED="unauthenticated",w.UNAUTHORIZED="unauthorized",w.UNAUTHORIZED_APP="unauthorized-app",w.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",w.INVALID_CHECKSUM="invalid-checksum",w.CANCELED="canceled",w.INVALID_EVENT_NAME="invalid-event-name",w.INVALID_URL="invalid-url",w.INVALID_DEFAULT_BUCKET="invalid-default-bucket",w.NO_DEFAULT_BUCKET="no-default-bucket",w.CANNOT_SLICE_BLOB="cannot-slice-blob",w.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",w.NO_DOWNLOAD_URL="no-download-url",w.INVALID_ARGUMENT="invalid-argument",w.INVALID_ARGUMENT_COUNT="invalid-argument-count",w.APP_DELETED="app-deleted",w.INVALID_ROOT_OPERATION="invalid-root-operation",w.INVALID_FORMAT="invalid-format",w.INTERNAL_ERROR="internal-error",w.UNSUPPORTED_ENVIRONMENT="unsupported-environment",An;var w})();function So(w){return"storage/"+w}function Xn(w){return new Tr(An.INVALID_ARGUMENT,w)}function Ri(){return new Tr(An.APP_DELETED,"The Firebase app was deleted.")}class er{constructor(d,m){this.bucket=d,this.path_=m}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const d=encodeURIComponent;return"/b/"+d(this.bucket)+"/o/"+d(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(d,m){let b;try{b=er.makeFromUrl(d,m)}catch{return new er(d,"")}if(""===b.path)return b;throw function gn(w){return new Tr(An.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+w+"'.")}(d)}static makeFromUrl(d,m){let b=null;const F="([A-Za-z0-9.\\-_]+)",le=new RegExp("^gs://"+F+"(/(.*))?$","i");function Ze(Pr){Pr.path_=decodeURIComponent(Pr.path)}const jt=m.replace(/[.]/g,"\\."),Hr=[{regex:le,indices:{bucket:1,path:3},postModify:function W(Pr){"/"===Pr.path.charAt(Pr.path.length-1)&&(Pr.path_=Pr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${jt}/v[A-Za-z0-9_]+/b/${F}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ze},{regex:new RegExp(`^https?://${m===zo?"(?:storage.googleapis.com|storage.cloud.google.com)":m}/${F}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ze}];for(let Pr=0;Pr<Hr.length;Pr++){const ro=Hr[Pr],To=ro.regex.exec(d);if(To){let qs=To[ro.indices.path];qs||(qs=""),b=new er(To[ro.indices.bucket],qs),ro.postModify(b);break}}if(null==b)throw function bt(w){return new Tr(An.INVALID_URL,"Invalid URL '"+w+"'.")}(d);return b}}class eu{constructor(d){this.promise_=Promise.reject(d)}getPromise(){return this.promise_}cancel(d=!1){}}function at(w,d,m,b){if(b<d)throw Xn(`Invalid value for '${w}'. Expected ${d} or greater.`);if(b>m)throw Xn(`Invalid value for '${w}'. Expected ${m} or less.`)}var Mo=(()=>{return(w=Mo||(Mo={}))[w.NO_ERROR=0]="NO_ERROR",w[w.NETWORK_ERROR=1]="NETWORK_ERROR",w[w.ABORT=2]="ABORT",Mo;var w})();class Cl{constructor(d,m,b,F,W,ie,le,Ce,Ze,xt,jt,Sn=!0){this.url_=d,this.method_=m,this.headers_=b,this.body_=F,this.successCodes_=W,this.additionalRetryCodes_=ie,this.callback_=le,this.errorCallback_=Ce,this.timeout_=Ze,this.progressCallback_=xt,this.connectionFactory_=jt,this.retry=Sn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((xn,vn)=>{this.resolve_=xn,this.reject_=vn,this.start_()})}start_(){const m=(b,F)=>{const W=this.resolve_,ie=this.reject_,le=F.connection;if(F.wasSuccessCode)try{const Ce=this.callback_(le,le.getResponse());!function Ps(w){return void 0!==w}(Ce)?W():W(Ce)}catch(Ce){ie(Ce)}else if(null!==le){const Ce=function Xr(){return new Tr(An.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();Ce.serverResponse=le.getErrorText(),ie(this.errorCallback_?this.errorCallback_(le,Ce):Ce)}else ie(F.canceled?this.appDelete_?Ri():function tt(){return new Tr(An.CANCELED,"User canceled the upload/download.")}():function ge(){return new Tr(An.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?m(0,new mu(!1,null,!0)):this.backoffId_=function Nt(w,d,m){let b=1,F=null,W=null,ie=!1,le=0;function Ce(){return 2===le}let Ze=!1;function xt(...Gn){Ze||(Ze=!0,d.apply(null,Gn))}function jt(Gn){F=setTimeout(()=>{F=null,w(xn,Ce())},Gn)}function Sn(){W&&clearTimeout(W)}function xn(Gn,...fr){if(Ze)return void Sn();if(Gn)return Sn(),void xt.call(null,Gn,...fr);if(Ce()||ie)return Sn(),void xt.call(null,Gn,...fr);let Hr;b<64&&(b*=2),1===le?(le=2,Hr=0):Hr=1e3*(b+Math.random()),jt(Hr)}let vn=!1;function Pn(Gn){vn||(vn=!0,Sn(),!Ze&&(null!==F?(Gn||(le=2),clearTimeout(F),jt(0)):Gn||(le=1)))}return jt(0),W=setTimeout(()=>{ie=!0,Pn(!0)},m),Pn}((b,F)=>{if(F)return void b(!1,new mu(!1,null,!0));const W=this.connectionFactory_();this.pendingConnection_=W;const ie=le=>{null!==this.progressCallback_&&this.progressCallback_(le.loaded,le.lengthComputable?le.total:-1)};null!==this.progressCallback_&&W.addUploadProgressListener(ie),W.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&W.removeUploadProgressListener(ie),this.pendingConnection_=null;const le=W.getErrorCode()===Mo.NO_ERROR,Ce=W.getStatus();if(!le||function al(w,d){const m=w>=500&&w<600,F=-1!==[408,429].indexOf(w),W=-1!==d.indexOf(w);return m||F||W}(Ce,this.additionalRetryCodes_)&&this.retry){const xt=W.getErrorCode()===Mo.ABORT;return void b(!1,new mu(!1,null,xt))}const Ze=-1!==this.successCodes_.indexOf(Ce);b(!0,new mu(Ze,W))})},m,this.timeout_)}getPromise(){return this.promise_}cancel(d){this.canceled_=!0,this.appDelete_=d||!1,null!==this.backoffId_&&function Lr(w){w(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mu{constructor(d,m,b){this.wasSuccessCode=d,this.connection=m,this.canceled=!!b}}class no{constructor(d,m){this._service=d,this._location=m instanceof er?m:er.makeFromUrl(m,d.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(d,m){return new no(d,m)}get root(){const d=new er(this._location.bucket,"");return this._newRef(this._service,d)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Po(w){const d=w.lastIndexOf("/",w.length-2);return-1===d?w:w.slice(d+1)}(this._location.path)}get storage(){return this._service}get parent(){const d=function Rs(w){if(0===w.length)return null;const d=w.lastIndexOf("/");return-1===d?"":w.slice(0,d)}(this._location.path);if(null===d)return null;const m=new er(this._location.bucket,d);return new no(this._service,m)}_throwIfRoot(d){if(""===this._location.path)throw function zr(w){return new Tr(An.INVALID_ROOT_OPERATION,"The operation '"+w+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(d)}}function Ts(w,d){const m=d?.[go];return null==m?null:er.makeFromBucketSpec(m,w)}class Eo{constructor(d,m,b,F,W){this.app=d,this._authProvider=m,this._appCheckProvider=b,this._url=F,this._firebaseVersion=W,this._bucket=null,this._host=zo,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=F?er.makeFromBucketSpec(F,this._host):Ts(this._host,this.app.options)}get host(){return this._host}set host(d){this._host=d,this._bucket=null!=this._url?er.makeFromBucketSpec(this._url,d):Ts(d,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(d){at("time",0,Number.POSITIVE_INFINITY,d),this._maxUploadRetryTime=d}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(d){at("time",0,Number.POSITIVE_INFINITY,d),this._maxOperationRetryTime=d}_getAuthToken(){var d=this;return(0,Ja.Z)(function*(){if(d._overrideAuthToken)return d._overrideAuthToken;const m=d._authProvider.getImmediate({optional:!0});if(m){const b=yield m.getToken();if(null!==b)return b.accessToken}return null})()}_getAppCheckToken(){var d=this;return(0,Ja.Z)(function*(){const m=d._appCheckProvider.getImmediate({optional:!0});return m?(yield m.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(d=>d.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(d){return new no(this,d)}_makeRequest(d,m,b,F,W=!0){if(this._deleted)return new eu(Ri());{const ie=function yu(w,d,m,b,F,W,ie=!0){const le=function Fi(w){const d=encodeURIComponent;let m="?";for(const b in w)w.hasOwnProperty(b)&&(m=m+(d(b)+"=")+d(w[b])+"&");return m=m.slice(0,-1),m}(w.urlParams),Ce=w.url+le,Ze=Object.assign({},w.headers);return function yi(w,d){d&&(w["X-Firebase-GMPID"]=d)}(Ze,d),function Hu(w,d){null!==d&&d.length>0&&(w.Authorization="Firebase "+d)}(Ze,m),function ya(w,d){w["X-Firebase-Storage-Version"]="webjs/"+(d??"AppManager")}(Ze,W),function Mu(w,d){null!==d&&(w["X-Firebase-AppCheck"]=d)}(Ze,b),new Cl(Ce,w.method,Ze,w.body,w.successCodes,w.additionalRetryCodes,w.handler,w.errorHandler,w.timeout,w.progressCallback,F,ie)}(d,this._appId,b,F,m,this._firebaseVersion,W);return this._requests.add(ie),ie.getPromise().then(()=>this._requests.delete(ie),()=>this._requests.delete(ie)),ie}}makeRequestWithTokens(d,m){var b=this;return(0,Ja.Z)(function*(){const[F,W]=yield Promise.all([b._getAuthToken(),b._getAppCheckToken()]);return b._makeRequest(d,m,F,W).getPromise()})()}}const Yu="@firebase/storage",wu="storage";function bn(w=(0,Hs.Mq)(),d){w=(0,zi.m9)(w);const b=(0,Hs.qX)(w,wu).getImmediate({identifier:d}),F=(0,zi.P0)("storage");return F&&function Jn(w,d,m,b={}){!function Zu(w,d,m,b={}){w.host=`${d}:${m}`,w._protocol="http";const{mockUserToken:F}=b;F&&(w._overrideAuthToken="string"==typeof F?F:(0,zi.Sg)(F,w.app.options.projectId))}(w,d,m,b)}(b,...F),b}function ts(w,{instanceIdentifier:d}){const m=w.getProvider("app").getImmediate(),b=w.getProvider("auth-internal"),F=w.getProvider("app-check-internal");return new Eo(m,b,F,d,Hs.Jn)}!function Oo(){(0,Hs.Xd)(new Xa.wA(wu,ts,"PUBLIC").setMultipleInstances(!0)),(0,Hs.KN)(Yu,"0.11.2",""),(0,Hs.KN)(Yu,"0.11.2","esm2017")}();class Qu{constructor(d){return d}}const Fu="storage",ns=new $.OlP("angularfire2.storage-instances");function Ki(w){return(d,m)=>{const b=d.runOutsideAngular(()=>w(m));return new Qu(b)}}const Lu={provide:class ca{constructor(){return(0,eo.vb)(Fu)}},deps:[[new $.FiY,ns]]},bc={provide:Qu,useFactory:function Kl(w,d){const m=(0,eo.JM)(Fu,w,d);return m&&new Qu(m)},deps:[[new $.FiY,ns],me.Ot]};let Qc=(()=>{class w{constructor(){(0,Qa.KN)("angularfire",eo.q4.full,"gcs")}}return w.\u0275fac=function(m){return new(m||w)},w.\u0275mod=$.oAB({type:w}),w.\u0275inj=$.cJS({providers:[bc,Lu]}),w})();function fl(w,...d){return{ngModule:Qc,providers:[{provide:ns,useFactory:Ki(w),multi:!0,deps:[$.R0b,$.zs3,eo.HU,me.z6,[new $.FiY,js.dh],[new $.FiY,Fr.nm],...d]}]}}const Cc=(0,eo.u3)(bn,!0);let Al=(()=>{class w{}return w.\u0275fac=function(m){return new(m||w)},w.\u0275mod=$.oAB({type:w,bootstrap:[Ye]}),w.\u0275inj=$.cJS({imports:[g.b2,Ya,he,ht.u5,(0,me.hX)(()=>(0,me.ZF)(Rt.N.firebase)),(0,yt.Cm)(()=>(0,yt.ad)()),fl(()=>Cc()),Xt.Rh.forRoot(),ht.UX,an.m,ae.JF,Oa.i,ka.R]}),w})();Rt.N.production&&(0,$.G48)(),g.q6().bootstrapModule(Al).catch(w=>console.error(w))},9751:(yn,ct,q)=>{q.d(ct,{y:()=>lt});var g=q(2961),$=q(727),I=q(8822),Pe=q(9635),de=q(2416),Ve=q(576),be=q(2806);let lt=(()=>{class Ye{constructor(me){me&&(this._subscribe=me)}lift(me){const Rt=new Ye;return Rt.source=this,Rt.operator=me,Rt}subscribe(me,Rt,yt){const an=function ae(Ye){return Ye&&Ye instanceof g.Lv||function he(Ye){return Ye&&(0,Ve.m)(Ye.next)&&(0,Ve.m)(Ye.error)&&(0,Ve.m)(Ye.complete)}(Ye)&&(0,$.Nn)(Ye)}(me)?me:new g.Hp(me,Rt,yt);return(0,be.x)(()=>{const{operator:Xt,source:en}=this;an.add(Xt?Xt.call(an,en):en?this._subscribe(an):this._trySubscribe(an))}),an}_trySubscribe(me){try{return this._subscribe(me)}catch(Rt){me.error(Rt)}}forEach(me,Rt){return new(Rt=et(Rt))((yt,an)=>{const Xt=new g.Hp({next:en=>{try{me(en)}catch($t){an($t),Xt.unsubscribe()}},error:an,complete:yt});this.subscribe(Xt)})}_subscribe(me){var Rt;return null===(Rt=this.source)||void 0===Rt?void 0:Rt.subscribe(me)}[I.L](){return this}pipe(...me){return(0,Pe.U)(me)(this)}toPromise(me){return new(me=et(me))((Rt,yt)=>{let an;this.subscribe(Xt=>an=Xt,Xt=>yt(Xt),()=>Rt(an))})}}return Ye.create=ht=>new Ye(ht),Ye})();function et(Ye){var ht;return null!==(ht=Ye??de.v.Promise)&&void 0!==ht?ht:Promise}},7579:(yn,ct,q)=>{q.d(ct,{x:()=>be});var g=q(9751),$=q(727);const Pe=(0,q(3888).d)(et=>function(){et(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=q(8737),Ve=q(2806);let be=(()=>{class et extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const Ye=new lt(this,this);return Ye.operator=ae,Ye}_throwIfClosed(){if(this.closed)throw new Pe}next(ae){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ye of this.currentObservers)Ye.next(ae)}})}error(ae){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:Ye}=this;for(;Ye.length;)Ye.shift().error(ae)}})}complete(){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:Ye,isStopped:ht,observers:me}=this;return Ye||ht?$.Lc:(this.currentObservers=null,me.push(ae),new $.w0(()=>{this.currentObservers=null,(0,de.P)(me,ae)}))}_checkFinalizedStatuses(ae){const{hasError:Ye,thrownError:ht,isStopped:me}=this;Ye?ae.error(ht):me&&ae.complete()}asObservable(){const ae=new g.y;return ae.source=this,ae}}return et.create=(he,ae)=>new lt(he,ae),et})();class lt extends be{constructor(he,ae){super(),this.destination=he,this.source=ae}next(he){var ae,Ye;null===(Ye=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===Ye||Ye.call(ae,he)}error(he){var ae,Ye;null===(Ye=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===Ye||Ye.call(ae,he)}complete(){var he,ae;null===(ae=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===ae||ae.call(he)}_subscribe(he){var ae,Ye;return null!==(Ye=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(he))&&void 0!==Ye?Ye:$.Lc}}},2961:(yn,ct,q)=>{q.d(ct,{Hp:()=>yt,Lv:()=>Ye});var g=q(576),$=q(727),I=q(2416),Pe=q(7849);function de(){}const Ve=et("C",void 0,void 0);function et(ot,Oe,ft){return{kind:ot,value:Oe,error:ft}}var he=q(3410),ae=q(2806);class Ye extends $.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,$.Nn)(Oe)&&Oe.add(this)):this.destination=$t}static create(Oe,ft,Ft){return new yt(Oe,ft,Ft)}next(Oe){this.isStopped?en(function lt(ot){return et("N",ot,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?en(function be(ot){return et("E",void 0,ot)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?en(Ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function me(ot,Oe){return ht.call(ot,Oe)}class Rt{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:ft}=this;if(ft.next)try{ft.next(Oe)}catch(Ft){an(Ft)}}error(Oe){const{partialObserver:ft}=this;if(ft.error)try{ft.error(Oe)}catch(Ft){an(Ft)}else an(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(ft){an(ft)}}}class yt extends Ye{constructor(Oe,ft,Ft){let Ge;if(super(),(0,g.m)(Oe)||!Oe)Ge={next:Oe??void 0,error:ft??void 0,complete:Ft??void 0};else{let Ot;this&&I.v.useDeprecatedNextContext?(Ot=Object.create(Oe),Ot.unsubscribe=()=>this.unsubscribe(),Ge={next:Oe.next&&me(Oe.next,Ot),error:Oe.error&&me(Oe.error,Ot),complete:Oe.complete&&me(Oe.complete,Ot)}):Ge=Oe}this.destination=new Rt(Ge)}}function an(ot){I.v.useDeprecatedSynchronousErrorHandling?(0,ae.O)(ot):(0,Pe.h)(ot)}function en(ot,Oe){const{onStoppedNotification:ft}=I.v;ft&&he.z.setTimeout(()=>ft(ot,Oe))}const $t={closed:!0,next:de,error:function Xt(ot){throw ot},complete:de}},727:(yn,ct,q)=>{q.d(ct,{Lc:()=>Ve,w0:()=>de,Nn:()=>be});var g=q(576);const I=(0,q(3888).d)(et=>function(ae){et(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Ye,ht)=>`${ht+1}) ${Ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var Pe=q(8737);class de{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const me of ae)me.remove(this);else ae.remove(this);const{initialTeardown:Ye}=this;if((0,g.m)(Ye))try{Ye()}catch(me){he=me instanceof I?me.errors:[me]}const{_finalizers:ht}=this;if(ht){this._finalizers=null;for(const me of ht)try{lt(me)}catch(Rt){he=he??[],Rt instanceof I?he=[...he,...Rt.errors]:he.push(Rt)}}if(he)throw new I(he)}}add(he){var ae;if(he&&he!==this)if(this.closed)lt(he);else{if(he instanceof de){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(he)}}_hasParent(he){const{_parentage:ae}=this;return ae===he||Array.isArray(ae)&&ae.includes(he)}_addParent(he){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(he),ae):ae?[ae,he]:he}_removeParent(he){const{_parentage:ae}=this;ae===he?this._parentage=null:Array.isArray(ae)&&(0,Pe.P)(ae,he)}remove(he){const{_finalizers:ae}=this;ae&&(0,Pe.P)(ae,he),he instanceof de&&he._removeParent(this)}}de.EMPTY=(()=>{const et=new de;return et.closed=!0,et})();const Ve=de.EMPTY;function be(et){return et instanceof de||et&&"closed"in et&&(0,g.m)(et.remove)&&(0,g.m)(et.add)&&(0,g.m)(et.unsubscribe)}function lt(et){(0,g.m)(et)?et():et.unsubscribe()}},2416:(yn,ct,q)=>{q.d(ct,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yn,ct,q)=>{q.d(ct,{E:()=>$});const $=new(q(9751).y)(de=>de.complete())},8996:(yn,ct,q)=>{q.d(ct,{D:()=>Oe});var g=q(8421),$=q(5363),I=q(9468),Ve=q(9751),lt=q(2202),et=q(576),he=q(9672);function Ye(ft,Ft){if(!ft)throw new Error("Iterable cannot be null");return new Ve.y(Ge=>{(0,he.f)(Ge,Ft,()=>{const Ot=ft[Symbol.asyncIterator]();(0,he.f)(Ge,Ft,()=>{Ot.next().then(st=>{st.done?Ge.complete():Ge.next(st.value)})},0,!0)})})}var ht=q(3670),me=q(8239),Rt=q(1144),yt=q(6495),an=q(2206),Xt=q(4532),en=q(3260);function Oe(ft,Ft){return Ft?function ot(ft,Ft){if(null!=ft){if((0,ht.c)(ft))return function Pe(ft,Ft){return(0,g.Xf)(ft).pipe((0,I.R)(Ft),(0,$.Q)(Ft))}(ft,Ft);if((0,Rt.z)(ft))return function be(ft,Ft){return new Ve.y(Ge=>{let Ot=0;return Ft.schedule(function(){Ot===ft.length?Ge.complete():(Ge.next(ft[Ot++]),Ge.closed||this.schedule())})})}(ft,Ft);if((0,me.t)(ft))return function de(ft,Ft){return(0,g.Xf)(ft).pipe((0,I.R)(Ft),(0,$.Q)(Ft))}(ft,Ft);if((0,an.D)(ft))return Ye(ft,Ft);if((0,yt.T)(ft))return function ae(ft,Ft){return new Ve.y(Ge=>{let Ot;return(0,he.f)(Ge,Ft,()=>{Ot=ft[lt.h](),(0,he.f)(Ge,Ft,()=>{let st,Vt;try{({value:st,done:Vt}=Ot.next())}catch(Yt){return void Ge.error(Yt)}Vt?Ge.complete():Ge.next(st)},0,!0)}),()=>(0,et.m)(Ot?.return)&&Ot.return()})}(ft,Ft);if((0,en.L)(ft))return function $t(ft,Ft){return Ye((0,en.Q)(ft),Ft)}(ft,Ft)}throw(0,Xt.z)(ft)}(ft,Ft):(0,g.Xf)(ft)}},8421:(yn,ct,q)=>{q.d(ct,{Xf:()=>ht});var g=q(655),$=q(1144),I=q(8239),Pe=q(9751),de=q(3670),Ve=q(2206),be=q(4532),lt=q(6495),et=q(3260),he=q(576),ae=q(7849),Ye=q(8822);function ht(ot){if(ot instanceof Pe.y)return ot;if(null!=ot){if((0,de.c)(ot))return function me(ot){return new Pe.y(Oe=>{const ft=ot[Ye.L]();if((0,he.m)(ft.subscribe))return ft.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ot);if((0,$.z)(ot))return function Rt(ot){return new Pe.y(Oe=>{for(let ft=0;ft<ot.length&&!Oe.closed;ft++)Oe.next(ot[ft]);Oe.complete()})}(ot);if((0,I.t)(ot))return function yt(ot){return new Pe.y(Oe=>{ot.then(ft=>{Oe.closed||(Oe.next(ft),Oe.complete())},ft=>Oe.error(ft)).then(null,ae.h)})}(ot);if((0,Ve.D)(ot))return Xt(ot);if((0,lt.T)(ot))return function an(ot){return new Pe.y(Oe=>{for(const ft of ot)if(Oe.next(ft),Oe.closed)return;Oe.complete()})}(ot);if((0,et.L)(ot))return function en(ot){return Xt((0,et.Q)(ot))}(ot)}throw(0,be.z)(ot)}function Xt(ot){return new Pe.y(Oe=>{(function $t(ot,Oe){var ft,Ft,Ge,Ot;return(0,g.mG)(this,void 0,void 0,function*(){try{for(ft=(0,g.KL)(ot);!(Ft=yield ft.next()).done;)if(Oe.next(Ft.value),Oe.closed)return}catch(st){Ge={error:st}}finally{try{Ft&&!Ft.done&&(Ot=ft.return)&&(yield Ot.call(ft))}finally{if(Ge)throw Ge.error}}Oe.complete()})})(ot,Oe).catch(ft=>Oe.error(ft))})}},9646:(yn,ct,q)=>{q.d(ct,{of:()=>I});var g=q(7669),$=q(8996);function I(...Pe){const de=(0,g.yG)(Pe);return(0,$.D)(Pe,de)}},5403:(yn,ct,q)=>{q.d(ct,{x:()=>$});var g=q(2961);function $(Pe,de,Ve,be,lt){return new I(Pe,de,Ve,be,lt)}class I extends g.Lv{constructor(de,Ve,be,lt,et,he){super(de),this.onFinalize=et,this.shouldUnsubscribe=he,this._next=Ve?function(ae){try{Ve(ae)}catch(Ye){de.error(Ye)}}:super._next,this._error=lt?function(ae){try{lt(ae)}catch(Ye){de.error(Ye)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(ae){de.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ve}=this;super.unsubscribe(),!Ve&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4351:(yn,ct,q)=>{q.d(ct,{b:()=>I});var g=q(5577),$=q(576);function I(Pe,de){return(0,$.m)(de)?(0,g.z)(Pe,de,1):(0,g.z)(Pe,1)}},9300:(yn,ct,q)=>{q.d(ct,{h:()=>I});var g=q(4482),$=q(5403);function I(Pe,de){return(0,g.e)((Ve,be)=>{let lt=0;Ve.subscribe((0,$.x)(be,et=>Pe.call(de,et,lt++)&&be.next(et)))})}},4004:(yn,ct,q)=>{q.d(ct,{U:()=>I});var g=q(4482),$=q(5403);function I(Pe,de){return(0,g.e)((Ve,be)=>{let lt=0;Ve.subscribe((0,$.x)(be,et=>{be.next(Pe.call(de,et,lt++))}))})}},8189:(yn,ct,q)=>{q.d(ct,{J:()=>I});var g=q(5577),$=q(4671);function I(Pe=1/0){return(0,g.z)($.y,Pe)}},5577:(yn,ct,q)=>{q.d(ct,{z:()=>lt});var g=q(4004),$=q(8421),I=q(4482),Pe=q(9672),de=q(5403),be=q(576);function lt(et,he,ae=1/0){return(0,be.m)(he)?lt((Ye,ht)=>(0,g.U)((me,Rt)=>he(Ye,me,ht,Rt))((0,$.Xf)(et(Ye,ht))),ae):("number"==typeof he&&(ae=he),(0,I.e)((Ye,ht)=>function Ve(et,he,ae,Ye,ht,me,Rt,yt){const an=[];let Xt=0,en=0,$t=!1;const ot=()=>{$t&&!an.length&&!Xt&&he.complete()},Oe=Ft=>Xt<Ye?ft(Ft):an.push(Ft),ft=Ft=>{me&&he.next(Ft),Xt++;let Ge=!1;(0,$.Xf)(ae(Ft,en++)).subscribe((0,de.x)(he,Ot=>{ht?.(Ot),me?Oe(Ot):he.next(Ot)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(Xt--;an.length&&Xt<Ye;){const Ot=an.shift();Rt?(0,Pe.f)(he,Rt,()=>ft(Ot)):ft(Ot)}ot()}catch(Ot){he.error(Ot)}}))};return et.subscribe((0,de.x)(he,Oe,()=>{$t=!0,ot()})),()=>{yt?.()}}(Ye,ht,et,ae)))}},5363:(yn,ct,q)=>{q.d(ct,{Q:()=>Pe});var g=q(9672),$=q(4482),I=q(5403);function Pe(de,Ve=0){return(0,$.e)((be,lt)=>{be.subscribe((0,I.x)(lt,et=>(0,g.f)(lt,de,()=>lt.next(et),Ve),()=>(0,g.f)(lt,de,()=>lt.complete(),Ve),et=>(0,g.f)(lt,de,()=>lt.error(et),Ve)))})}},9468:(yn,ct,q)=>{q.d(ct,{R:()=>$});var g=q(4482);function $(I,Pe=0){return(0,g.e)((de,Ve)=>{Ve.add(I.schedule(()=>de.subscribe(Ve),Pe))})}},8505:(yn,ct,q)=>{q.d(ct,{b:()=>de});var g=q(576),$=q(4482),I=q(5403),Pe=q(4671);function de(Ve,be,lt){const et=(0,g.m)(Ve)||be||lt?{next:Ve,error:be,complete:lt}:Ve;return et?(0,$.e)((he,ae)=>{var Ye;null===(Ye=et.subscribe)||void 0===Ye||Ye.call(et);let ht=!0;he.subscribe((0,I.x)(ae,me=>{var Rt;null===(Rt=et.next)||void 0===Rt||Rt.call(et,me),ae.next(me)},()=>{var me;ht=!1,null===(me=et.complete)||void 0===me||me.call(et),ae.complete()},me=>{var Rt;ht=!1,null===(Rt=et.error)||void 0===Rt||Rt.call(et,me),ae.error(me)},()=>{var me,Rt;ht&&(null===(me=et.unsubscribe)||void 0===me||me.call(et)),null===(Rt=et.finalize)||void 0===Rt||Rt.call(et)}))}):Pe.y}},3410:(yn,ct,q)=>{q.d(ct,{z:()=>g});const g={setTimeout($,I,...Pe){const{delegate:de}=g;return de?.setTimeout?de.setTimeout($,I,...Pe):setTimeout($,I,...Pe)},clearTimeout($){const{delegate:I}=g;return(I?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(yn,ct,q)=>{q.d(ct,{h:()=>$});const $=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yn,ct,q)=>{q.d(ct,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yn,ct,q)=>{q.d(ct,{_6:()=>Ve,jO:()=>Pe,yG:()=>de});var g=q(576);function I(be){return be[be.length-1]}function Pe(be){return(0,g.m)(I(be))?be.pop():void 0}function de(be){return function $(be){return be&&(0,g.m)(be.schedule)}(I(be))?be.pop():void 0}function Ve(be,lt){return"number"==typeof I(be)?be.pop():lt}},4742:(yn,ct,q)=>{q.d(ct,{D:()=>de});const{isArray:g}=Array,{getPrototypeOf:$,prototype:I,keys:Pe}=Object;function de(be){if(1===be.length){const lt=be[0];if(g(lt))return{args:lt,keys:null};if(function Ve(be){return be&&"object"==typeof be&&$(be)===I}(lt)){const et=Pe(lt);return{args:et.map(he=>lt[he]),keys:et}}}return{args:be,keys:null}}},8737:(yn,ct,q)=>{function g($,I){if($){const Pe=$.indexOf(I);0<=Pe&&$.splice(Pe,1)}}q.d(ct,{P:()=>g})},3888:(yn,ct,q)=>{function g($){const Pe=$(de=>{Error.call(de),de.stack=(new Error).stack});return Pe.prototype=Object.create(Error.prototype),Pe.prototype.constructor=Pe,Pe}q.d(ct,{d:()=>g})},1810:(yn,ct,q)=>{function g($,I){return $.reduce((Pe,de,Ve)=>(Pe[de]=I[Ve],Pe),{})}q.d(ct,{n:()=>g})},2806:(yn,ct,q)=>{q.d(ct,{O:()=>Pe,x:()=>I});var g=q(2416);let $=null;function I(de){if(g.v.useDeprecatedSynchronousErrorHandling){const Ve=!$;if(Ve&&($={errorThrown:!1,error:null}),de(),Ve){const{errorThrown:be,error:lt}=$;if($=null,be)throw lt}}else de()}function Pe(de){g.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=de)}},9672:(yn,ct,q)=>{function g($,I,Pe,de=0,Ve=!1){const be=I.schedule(function(){Pe(),Ve?$.add(this.schedule(null,de)):this.unsubscribe()},de);if($.add(be),!Ve)return be}q.d(ct,{f:()=>g})},4671:(yn,ct,q)=>{function g($){return $}q.d(ct,{y:()=>g})},1144:(yn,ct,q)=>{q.d(ct,{z:()=>g});const g=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(yn,ct,q)=>{q.d(ct,{D:()=>$});var g=q(576);function $(I){return Symbol.asyncIterator&&(0,g.m)(I?.[Symbol.asyncIterator])}},576:(yn,ct,q)=>{function g($){return"function"==typeof $}q.d(ct,{m:()=>g})},3670:(yn,ct,q)=>{q.d(ct,{c:()=>I});var g=q(8822),$=q(576);function I(Pe){return(0,$.m)(Pe[g.L])}},6495:(yn,ct,q)=>{q.d(ct,{T:()=>I});var g=q(2202),$=q(576);function I(Pe){return(0,$.m)(Pe?.[g.h])}},8239:(yn,ct,q)=>{q.d(ct,{t:()=>$});var g=q(576);function $(I){return(0,g.m)(I?.then)}},3260:(yn,ct,q)=>{q.d(ct,{L:()=>Pe,Q:()=>I});var g=q(655),$=q(576);function I(de){return(0,g.FC)(this,arguments,function*(){const be=de.getReader();try{for(;;){const{value:lt,done:et}=yield(0,g.qq)(be.read());if(et)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(lt)}}finally{be.releaseLock()}})}function Pe(de){return(0,$.m)(de?.getReader)}},4482:(yn,ct,q)=>{q.d(ct,{A:()=>$,e:()=>I});var g=q(576);function $(Pe){return(0,g.m)(Pe?.lift)}function I(Pe){return de=>{if($(de))return de.lift(function(Ve){try{return Pe(Ve,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(yn,ct,q)=>{q.d(ct,{Z:()=>Pe});var g=q(4004);const{isArray:$}=Array;function Pe(de){return(0,g.U)(Ve=>function I(de,Ve){return $(Ve)?de(...Ve):de(Ve)}(de,Ve))}},9635:(yn,ct,q)=>{q.d(ct,{U:()=>I,z:()=>$});var g=q(4671);function $(...Pe){return I(Pe)}function I(Pe){return 0===Pe.length?g.y:1===Pe.length?Pe[0]:function(Ve){return Pe.reduce((be,lt)=>lt(be),Ve)}}},7849:(yn,ct,q)=>{q.d(ct,{h:()=>I});var g=q(2416),$=q(3410);function I(Pe){$.z.setTimeout(()=>{const{onUnhandledError:de}=g.v;if(!de)throw Pe;de(Pe)})}},4532:(yn,ct,q)=>{function g($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}q.d(ct,{z:()=>g})},655:(yn,ct,q)=>{function Pe(We,Se){var pt={};for(var Ne in We)Object.prototype.hasOwnProperty.call(We,Ne)&&Se.indexOf(Ne)<0&&(pt[Ne]=We[Ne]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Et=0;for(Ne=Object.getOwnPropertySymbols(We);Et<Ne.length;Et++)Se.indexOf(Ne[Et])<0&&Object.prototype.propertyIsEnumerable.call(We,Ne[Et])&&(pt[Ne[Et]]=We[Ne[Et]])}return pt}function Ye(We,Se,pt,Ne){return new(pt||(pt=Promise))(function(ue,Be){function _e(Ae){try{fe(Ne.next(Ae))}catch(Xe){Be(Xe)}}function Fe(Ae){try{fe(Ne.throw(Ae))}catch(Xe){Be(Xe)}}function fe(Ae){Ae.done?ue(Ae.value):function Et(ue){return ue instanceof pt?ue:new pt(function(Be){Be(ue)})}(Ae.value).then(_e,Fe)}fe((Ne=Ne.apply(We,Se||[])).next())})}function ot(We){return this instanceof ot?(this.v=We,this):new ot(We)}function Oe(We,Se,pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,Ne=pt.apply(We,Se||[]),ue=[];return Et={},Be("next"),Be("throw"),Be("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function Be(wt){Ne[wt]&&(Et[wt]=function(kn){return new Promise(function(On,dn){ue.push([wt,kn,On,dn])>1||_e(wt,kn)})})}function _e(wt,kn){try{!function Fe(wt){wt.value instanceof ot?Promise.resolve(wt.value.v).then(fe,Ae):Xe(ue[0][2],wt)}(Ne[wt](kn))}catch(On){Xe(ue[0][3],On)}}function fe(wt){_e("next",wt)}function Ae(wt){_e("throw",wt)}function Xe(wt,kn){wt(kn),ue.shift(),ue.length&&_e(ue[0][0],ue[0][1])}}function Ft(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,Se=We[Symbol.asyncIterator];return Se?Se.call(We):(We=function yt(We){var Se="function"==typeof Symbol&&Symbol.iterator,pt=Se&&We[Se],Ne=0;if(pt)return pt.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&Ne>=We.length&&(We=void 0),{value:We&&We[Ne++],done:!We}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(We),pt={},Ne("next"),Ne("throw"),Ne("return"),pt[Symbol.asyncIterator]=function(){return this},pt);function Ne(ue){pt[ue]=We[ue]&&function(Be){return new Promise(function(_e,Fe){!function Et(ue,Be,_e,Fe){Promise.resolve(Fe).then(function(fe){ue({value:fe,done:_e})},Be)}(_e,Fe,(Be=We[ue](Be)).done,Be.value)})}}}q.d(ct,{FC:()=>Oe,KL:()=>Ft,_T:()=>Pe,mG:()=>Ye,qq:()=>ot})},7340:(yn,ct,q)=>{q.d(ct,{LC:()=>$,SB:()=>et,X$:()=>Pe,ZE:()=>en,ZN:()=>Xt,_j:()=>g,eR:()=>ae,jt:()=>de,k1:()=>$t,l3:()=>I,oB:()=>lt,vP:()=>be});class g{}class ${}const I="*";function Pe(ot,Oe){return{type:7,name:ot,definitions:Oe,options:{}}}function de(ot,Oe=null){return{type:4,styles:Oe,timings:ot}}function be(ot,Oe=null){return{type:2,steps:ot,options:Oe}}function lt(ot){return{type:6,styles:ot,offset:null}}function et(ot,Oe,ft){return{type:0,name:ot,styles:Oe,options:ft}}function ae(ot,Oe,ft=null){return{type:1,expr:ot,animation:Oe,options:ft}}function an(ot){Promise.resolve().then(ot)}class Xt{constructor(Oe=0,ft=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Oe+ft}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}onStart(Oe){this._originalOnStartFns.push(Oe),this._onStartFns.push(Oe)}onDone(Oe){this._originalOnDoneFns.push(Oe),this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){an(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Oe){this._position=this.totalTime?Oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Oe){const ft="start"==Oe?this._onStartFns:this._onDoneFns;ft.forEach(Ft=>Ft()),ft.length=0}}class en{constructor(Oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Oe;let ft=0,Ft=0,Ge=0;const Ot=this.players.length;0==Ot?an(()=>this._onFinish()):this.players.forEach(st=>{st.onDone(()=>{++ft==Ot&&this._onFinish()}),st.onDestroy(()=>{++Ft==Ot&&this._onDestroy()}),st.onStart(()=>{++Ge==Ot&&this._onStart()})}),this.totalTime=this.players.reduce((st,Vt)=>Math.max(st,Vt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}init(){this.players.forEach(Oe=>Oe.init())}onStart(Oe){this._onStartFns.push(Oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[])}onDone(Oe){this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Oe=>Oe.play())}pause(){this.players.forEach(Oe=>Oe.pause())}restart(){this.players.forEach(Oe=>Oe.restart())}finish(){this._onFinish(),this.players.forEach(Oe=>Oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Oe=>Oe.destroy()),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this.players.forEach(Oe=>Oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Oe){const ft=Oe*this.totalTime;this.players.forEach(Ft=>{const Ge=Ft.totalTime?Math.min(1,ft/Ft.totalTime):1;Ft.setPosition(Ge)})}getPosition(){const Oe=this.players.reduce((ft,Ft)=>null===ft||Ft.totalTime>ft.totalTime?Ft:ft,null);return null!=Oe?Oe.getPosition():0}beforeDestroy(){this.players.forEach(Oe=>{Oe.beforeDestroy&&Oe.beforeDestroy()})}triggerCallback(Oe){const ft="start"==Oe?this._onStartFns:this._onDoneFns;ft.forEach(Ft=>Ft()),ft.length=0}}const $t="!"},6895:(yn,ct,q)=>{q.d(ct,{Do:()=>en,EM:()=>$s,HT:()=>Pe,JF:()=>ms,K0:()=>Ve,Mx:()=>oo,O5:()=>ye,S$:()=>yt,V_:()=>et,Ye:()=>$t,b0:()=>Xt,bD:()=>Sa,ez:()=>uo,q:()=>I,sg:()=>Si,w_:()=>de});var g=q(8256);let $=null;function I(){return $}function Pe(P){$||($=P)}class de{}const Ve=new g.OlP("DocumentToken");let be=(()=>{class P{historyGo(k){throw new Error("Not implemented")}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275prov=g.Yz7({token:P,factory:function(){return function lt(){return(0,g.LFG)(he)}()},providedIn:"platform"}),P})();const et=new g.OlP("Location Initialized");let he=(()=>{class P extends be{constructor(k){super(),this._doc=k,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return I().getBaseHref(this._doc)}onPopState(k){const Y=I().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",k,!1),()=>Y.removeEventListener("popstate",k)}onHashChange(k){const Y=I().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",k,!1),()=>Y.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,Y,ge){ae()?this._history.pushState(k,Y,ge):this._location.hash=ge}replaceState(k,Y,ge){ae()?this._history.replaceState(k,Y,ge):this._location.hash=ge}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return P.\u0275fac=function(k){return new(k||P)(g.LFG(Ve))},P.\u0275prov=g.Yz7({token:P,factory:function(){return function Ye(){return new he((0,g.LFG)(Ve))}()},providedIn:"platform"}),P})();function ae(){return!!window.history.pushState}function ht(P,H){if(0==P.length)return H;if(0==H.length)return P;let k=0;return P.endsWith("/")&&k++,H.startsWith("/")&&k++,2==k?P+H.substring(1):1==k?P+H:P+"/"+H}function me(P){const H=P.match(/#|\?|$/),k=H&&H.index||P.length;return P.slice(0,k-("/"===P[k-1]?1:0))+P.slice(k)}function Rt(P){return P&&"?"!==P[0]?"?"+P:P}let yt=(()=>{class P{historyGo(k){throw new Error("Not implemented")}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(Xt)},providedIn:"root"}),P})();const an=new g.OlP("appBaseHref");let Xt=(()=>{class P extends yt{constructor(k,Y){super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return ht(this._baseHref,k)}path(k=!1){const Y=this._platformLocation.pathname+Rt(this._platformLocation.search),ge=this._platformLocation.hash;return ge&&k?`${Y}${ge}`:Y}pushState(k,Y,ge,tt){const bt=this.prepareExternalUrl(ge+Rt(tt));this._platformLocation.pushState(k,Y,bt)}replaceState(k,Y,ge,tt){const bt=this.prepareExternalUrl(ge+Rt(tt));this._platformLocation.replaceState(k,Y,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return P.\u0275fac=function(k){return new(k||P)(g.LFG(be),g.LFG(an,8))},P.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),en=(()=>{class P extends yt{constructor(k,Y){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(k){const Y=ht(this._baseHref,k);return Y.length>0?"#"+Y:Y}pushState(k,Y,ge,tt){let bt=this.prepareExternalUrl(ge+Rt(tt));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(k,Y,bt)}replaceState(k,Y,ge,tt){let bt=this.prepareExternalUrl(ge+Rt(tt));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(k,Y,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return P.\u0275fac=function(k){return new(k||P)(g.LFG(be),g.LFG(an,8))},P.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac}),P})(),$t=(()=>{class P{constructor(k){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const Y=this._locationStrategy.getBaseHref();this._basePath=function Ft(P){if(new RegExp("^(https?:)?//").test(P)){const[,k]=P.split(/\/\/[^\/]+/);return k}return P}(me(ft(Y))),this._locationStrategy.onPopState(ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:ge.state,type:ge.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,Y=""){return this.path()==this.normalize(k+Rt(Y))}normalize(k){return P.stripTrailingSlash(function Oe(P,H){if(!P||!H.startsWith(P))return H;const k=H.substring(P.length);return""===k||["/",";","?","#"].includes(k[0])?k:H}(this._basePath,ft(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,Y="",ge=null){this._locationStrategy.pushState(ge,"",k,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Rt(Y)),ge)}replaceState(k,Y="",ge=null){this._locationStrategy.replaceState(ge,"",k,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Rt(Y)),ge)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",Y){this._urlChangeListeners.forEach(ge=>ge(k,Y))}subscribe(k,Y,ge){return this._subject.subscribe({next:k,error:Y,complete:ge})}}return P.normalizeQueryParams=Rt,P.joinWithSlash=ht,P.stripTrailingSlash=me,P.\u0275fac=function(k){return new(k||P)(g.LFG(yt))},P.\u0275prov=g.Yz7({token:P,factory:function(){return function ot(){return new $t((0,g.LFG)(yt))}()},providedIn:"root"}),P})();function ft(P){return P.replace(/\/index.html$/,"")}function oo(P,H){H=encodeURIComponent(H);for(const k of P.split(";")){const Y=k.indexOf("="),[ge,tt]=-1==Y?[k,""]:[k.slice(0,Y),k.slice(Y+1)];if(ge.trim()===H)return decodeURIComponent(tt)}return null}class ds{constructor(H,k,Y,ge){this.$implicit=H,this.ngForOf=k,this.index=Y,this.count=ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Si=(()=>{class P{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,Y,ge){this._viewContainer=k,this._template=Y,this._differs=ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const Y=this._viewContainer;k.forEachOperation((ge,tt,bt)=>{if(null==ge.previousIndex)Y.createEmbeddedView(this._template,new ds(ge.item,this._ngForOf,-1,-1),null===bt?void 0:bt);else if(null==bt)Y.remove(null===tt?void 0:tt);else if(null!==tt){const gn=Y.get(tt);Y.move(gn,bt),Or(gn,ge)}});for(let ge=0,tt=Y.length;ge<tt;ge++){const gn=Y.get(ge).context;gn.index=ge,gn.count=tt,gn.ngForOf=this._ngForOf}k.forEachIdentityChange(ge=>{Or(Y.get(ge.currentIndex),ge)})}static ngTemplateContextGuard(k,Y){return!0}}return P.\u0275fac=function(k){return new(k||P)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},P.\u0275dir=g.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),P})();function Or(P,H){P.context.$implicit=H.item}let ye=(()=>{class P{constructor(k,Y){this._viewContainer=k,this._context=new Ue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){ut("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){ut("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,Y){return!0}}return P.\u0275fac=function(k){return new(k||P)(g.Y36(g.s_b),g.Y36(g.Rgc))},P.\u0275dir=g.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class Ue{constructor(){this.$implicit=null,this.ngIf=null}}function ut(P,H){if(H&&!H.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,g.AaK)(H)}'.`)}let uo=(()=>{class P{}return P.\u0275fac=function(k){return new(k||P)},P.\u0275mod=g.oAB({type:P}),P.\u0275inj=g.cJS({}),P})();const Sa="browser";let $s=(()=>{class P{}return P.\u0275prov=(0,g.Yz7)({token:P,providedIn:"root",factory:()=>new na((0,g.LFG)(Ve),window)}),P})();class na{constructor(H,k){this.document=H,this.window=k,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const k=function lo(P,H){const k=P.getElementById(H)||P.getElementsByName(H)[0];if(k)return k;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const Y=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let ge=Y.currentNode;for(;ge;){const tt=ge.shadowRoot;if(tt){const bt=tt.getElementById(H)||tt.querySelector(`[name="${H}"]`);if(bt)return bt}ge=Y.nextNode()}}return null}(this.document,H);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=H)}}scrollToElement(H){const k=H.getBoundingClientRect(),Y=k.left+this.window.pageXOffset,ge=k.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(Y-tt[0],ge-tt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=Wa(this.window.history)||Wa(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Wa(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class ms{}},529:(yn,ct,q)=>{q.d(ct,{JF:()=>xi,eN:()=>Se});var g=q(6895),$=q(8256),I=q(9646),Pe=q(9751),de=q(4351),Ve=q(9300),be=q(4004);class lt{}class et{}class he{constructor(Te){this.normalizedNames=new Map,this.lazyUpdate=null,Te?this.lazyInit="string"==typeof Te?()=>{this.headers=new Map,Te.split("\n").forEach(Me=>{const _t=Me.indexOf(":");if(_t>0){const vt=Me.slice(0,_t),re=vt.toLowerCase(),oe=Me.slice(_t+1).trim();this.maybeSetNormalizedName(vt,re),this.headers.has(re)?this.headers.get(re).push(oe):this.headers.set(re,[oe])}})}:()=>{this.headers=new Map,Object.entries(Te).forEach(([Me,_t])=>{let vt;if(vt="string"==typeof _t?[_t]:"number"==typeof _t?[_t.toString()]:_t.map(re=>re.toString()),vt.length>0){const re=Me.toLowerCase();this.headers.set(re,vt),this.maybeSetNormalizedName(Me,re)}})}:this.headers=new Map}has(Te){return this.init(),this.headers.has(Te.toLowerCase())}get(Te){this.init();const Me=this.headers.get(Te.toLowerCase());return Me&&Me.length>0?Me[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Te){return this.init(),this.headers.get(Te.toLowerCase())||null}append(Te,Me){return this.clone({name:Te,value:Me,op:"a"})}set(Te,Me){return this.clone({name:Te,value:Me,op:"s"})}delete(Te,Me){return this.clone({name:Te,value:Me,op:"d"})}maybeSetNormalizedName(Te,Me){this.normalizedNames.has(Me)||this.normalizedNames.set(Me,Te)}init(){this.lazyInit&&(this.lazyInit instanceof he?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Te=>this.applyUpdate(Te)),this.lazyUpdate=null))}copyFrom(Te){Te.init(),Array.from(Te.headers.keys()).forEach(Me=>{this.headers.set(Me,Te.headers.get(Me)),this.normalizedNames.set(Me,Te.normalizedNames.get(Me))})}clone(Te){const Me=new he;return Me.lazyInit=this.lazyInit&&this.lazyInit instanceof he?this.lazyInit:this,Me.lazyUpdate=(this.lazyUpdate||[]).concat([Te]),Me}applyUpdate(Te){const Me=Te.name.toLowerCase();switch(Te.op){case"a":case"s":let _t=Te.value;if("string"==typeof _t&&(_t=[_t]),0===_t.length)return;this.maybeSetNormalizedName(Te.name,Me);const vt=("a"===Te.op?this.headers.get(Me):void 0)||[];vt.push(..._t),this.headers.set(Me,vt);break;case"d":const re=Te.value;if(re){let oe=this.headers.get(Me);if(!oe)return;oe=oe.filter(ve=>-1===re.indexOf(ve)),0===oe.length?(this.headers.delete(Me),this.normalizedNames.delete(Me)):this.headers.set(Me,oe)}else this.headers.delete(Me),this.normalizedNames.delete(Me)}}forEach(Te){this.init(),Array.from(this.normalizedNames.keys()).forEach(Me=>Te(this.normalizedNames.get(Me),this.headers.get(Me)))}}class Ye{encodeKey(Te){return yt(Te)}encodeValue(Te){return yt(Te)}decodeKey(Te){return decodeURIComponent(Te)}decodeValue(Te){return decodeURIComponent(Te)}}const me=/%(\d[a-f0-9])/gi,Rt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yt($e){return encodeURIComponent($e).replace(me,(Te,Me)=>Rt[Me]??Te)}function an($e){return`${$e}`}class Xt{constructor(Te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Te.encoder||new Ye,Te.fromString){if(Te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ht($e,Te){const Me=new Map;return $e.length>0&&$e.replace(/^\?/,"").split("&").forEach(vt=>{const re=vt.indexOf("="),[oe,ve]=-1==re?[Te.decodeKey(vt),""]:[Te.decodeKey(vt.slice(0,re)),Te.decodeValue(vt.slice(re+1))],ze=Me.get(oe)||[];ze.push(ve),Me.set(oe,ze)}),Me}(Te.fromString,this.encoder)}else Te.fromObject?(this.map=new Map,Object.keys(Te.fromObject).forEach(Me=>{const _t=Te.fromObject[Me],vt=Array.isArray(_t)?_t.map(an):[an(_t)];this.map.set(Me,vt)})):this.map=null}has(Te){return this.init(),this.map.has(Te)}get(Te){this.init();const Me=this.map.get(Te);return Me?Me[0]:null}getAll(Te){return this.init(),this.map.get(Te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Te,Me){return this.clone({param:Te,value:Me,op:"a"})}appendAll(Te){const Me=[];return Object.keys(Te).forEach(_t=>{const vt=Te[_t];Array.isArray(vt)?vt.forEach(re=>{Me.push({param:_t,value:re,op:"a"})}):Me.push({param:_t,value:vt,op:"a"})}),this.clone(Me)}set(Te,Me){return this.clone({param:Te,value:Me,op:"s"})}delete(Te,Me){return this.clone({param:Te,value:Me,op:"d"})}toString(){return this.init(),this.keys().map(Te=>{const Me=this.encoder.encodeKey(Te);return this.map.get(Te).map(_t=>Me+"="+this.encoder.encodeValue(_t)).join("&")}).filter(Te=>""!==Te).join("&")}clone(Te){const Me=new Xt({encoder:this.encoder});return Me.cloneFrom=this.cloneFrom||this,Me.updates=(this.updates||[]).concat(Te),Me}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Te=>this.map.set(Te,this.cloneFrom.map.get(Te))),this.updates.forEach(Te=>{switch(Te.op){case"a":case"s":const Me=("a"===Te.op?this.map.get(Te.param):void 0)||[];Me.push(an(Te.value)),this.map.set(Te.param,Me);break;case"d":if(void 0===Te.value){this.map.delete(Te.param);break}{let _t=this.map.get(Te.param)||[];const vt=_t.indexOf(an(Te.value));-1!==vt&&_t.splice(vt,1),_t.length>0?this.map.set(Te.param,_t):this.map.delete(Te.param)}}}),this.cloneFrom=this.updates=null)}}class $t{constructor(){this.map=new Map}set(Te,Me){return this.map.set(Te,Me),this}get(Te){return this.map.has(Te)||this.map.set(Te,Te.defaultValue()),this.map.get(Te)}delete(Te){return this.map.delete(Te),this}has(Te){return this.map.has(Te)}keys(){return this.map.keys()}}function Oe($e){return typeof ArrayBuffer<"u"&&$e instanceof ArrayBuffer}function ft($e){return typeof Blob<"u"&&$e instanceof Blob}function Ft($e){return typeof FormData<"u"&&$e instanceof FormData}class Ot{constructor(Te,Me,_t,vt){let re;if(this.url=Me,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Te.toUpperCase(),function ot($e){switch($e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vt?(this.body=void 0!==_t?_t:null,re=vt):re=_t,re&&(this.reportProgress=!!re.reportProgress,this.withCredentials=!!re.withCredentials,re.responseType&&(this.responseType=re.responseType),re.headers&&(this.headers=re.headers),re.context&&(this.context=re.context),re.params&&(this.params=re.params)),this.headers||(this.headers=new he),this.context||(this.context=new $t),this.params){const oe=this.params.toString();if(0===oe.length)this.urlWithParams=Me;else{const ve=Me.indexOf("?");this.urlWithParams=Me+(-1===ve?"?":ve<Me.length-1?"&":"")+oe}}else this.params=new Xt,this.urlWithParams=Me}serializeBody(){return null===this.body?null:Oe(this.body)||ft(this.body)||Ft(this.body)||function Ge($e){return typeof URLSearchParams<"u"&&$e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ft(this.body)?null:ft(this.body)?this.body.type||null:Oe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Te={}){const Me=Te.method||this.method,_t=Te.url||this.url,vt=Te.responseType||this.responseType,re=void 0!==Te.body?Te.body:this.body,oe=void 0!==Te.withCredentials?Te.withCredentials:this.withCredentials,ve=void 0!==Te.reportProgress?Te.reportProgress:this.reportProgress;let ze=Te.headers||this.headers,ke=Te.params||this.params;const zt=Te.context??this.context;return void 0!==Te.setHeaders&&(ze=Object.keys(Te.setHeaders).reduce((De,Ee)=>De.set(Ee,Te.setHeaders[Ee]),ze)),Te.setParams&&(ke=Object.keys(Te.setParams).reduce((De,Ee)=>De.set(Ee,Te.setParams[Ee]),ke)),new Ot(Me,_t,re,{params:ke,headers:ze,context:zt,reportProgress:ve,responseType:vt,withCredentials:oe})}}var st=(()=>((st=st||{})[st.Sent=0]="Sent",st[st.UploadProgress=1]="UploadProgress",st[st.ResponseHeader=2]="ResponseHeader",st[st.DownloadProgress=3]="DownloadProgress",st[st.Response=4]="Response",st[st.User=5]="User",st))();class Vt{constructor(Te,Me=200,_t="OK"){this.headers=Te.headers||new he,this.status=void 0!==Te.status?Te.status:Me,this.statusText=Te.statusText||_t,this.url=Te.url||null,this.ok=this.status>=200&&this.status<300}}class Yt extends Vt{constructor(Te={}){super(Te),this.type=st.ResponseHeader}clone(Te={}){return new Yt({headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class dt extends Vt{constructor(Te={}){super(Te),this.type=st.Response,this.body=void 0!==Te.body?Te.body:null}clone(Te={}){return new dt({body:void 0!==Te.body?Te.body:this.body,headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class Lt extends Vt{constructor(Te){super(Te,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Te.url||"(unknown url)"}`:`Http failure response for ${Te.url||"(unknown url)"}: ${Te.status} ${Te.statusText}`,this.error=Te.error||null}}function We($e,Te){return{body:Te,headers:$e.headers,context:$e.context,observe:$e.observe,params:$e.params,reportProgress:$e.reportProgress,responseType:$e.responseType,withCredentials:$e.withCredentials}}let Se=(()=>{class $e{constructor(Me){this.handler=Me}request(Me,_t,vt={}){let re;if(Me instanceof Ot)re=Me;else{let ze,ke;ze=vt.headers instanceof he?vt.headers:new he(vt.headers),vt.params&&(ke=vt.params instanceof Xt?vt.params:new Xt({fromObject:vt.params})),re=new Ot(Me,_t,void 0!==vt.body?vt.body:null,{headers:ze,context:vt.context,params:ke,reportProgress:vt.reportProgress,responseType:vt.responseType||"json",withCredentials:vt.withCredentials})}const oe=(0,I.of)(re).pipe((0,de.b)(ze=>this.handler.handle(ze)));if(Me instanceof Ot||"events"===vt.observe)return oe;const ve=oe.pipe((0,Ve.h)(ze=>ze instanceof dt));switch(vt.observe||"body"){case"body":switch(re.responseType){case"arraybuffer":return ve.pipe((0,be.U)(ze=>{if(null!==ze.body&&!(ze.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ze.body}));case"blob":return ve.pipe((0,be.U)(ze=>{if(null!==ze.body&&!(ze.body instanceof Blob))throw new Error("Response is not a Blob.");return ze.body}));case"text":return ve.pipe((0,be.U)(ze=>{if(null!==ze.body&&"string"!=typeof ze.body)throw new Error("Response is not a string.");return ze.body}));default:return ve.pipe((0,be.U)(ze=>ze.body))}case"response":return ve;default:throw new Error(`Unreachable: unhandled observe type ${vt.observe}}`)}}delete(Me,_t={}){return this.request("DELETE",Me,_t)}get(Me,_t={}){return this.request("GET",Me,_t)}head(Me,_t={}){return this.request("HEAD",Me,_t)}jsonp(Me,_t){return this.request("JSONP",Me,{params:(new Xt).append(_t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Me,_t={}){return this.request("OPTIONS",Me,_t)}patch(Me,_t,vt={}){return this.request("PATCH",Me,We(vt,_t))}post(Me,_t,vt={}){return this.request("POST",Me,We(vt,_t))}put(Me,_t,vt={}){return this.request("PUT",Me,We(vt,_t))}}return $e.\u0275fac=function(Me){return new(Me||$e)($.LFG(lt))},$e.\u0275prov=$.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function pt($e,Te){return Te($e)}function Ne($e,Te){return(Me,_t)=>Te.intercept(Me,{handle:vt=>$e(vt,_t)})}const ue=new $.OlP("HTTP_INTERCEPTORS"),Be=new $.OlP("HTTP_INTERCEPTOR_FNS");function _e(){let $e=null;return(Te,Me)=>(null===$e&&($e=((0,$.f3M)(ue,{optional:!0})??[]).reduceRight(Ne,pt)),$e(Te,Me))}let Fe=(()=>{class $e extends lt{constructor(Me,_t){super(),this.backend=Me,this.injector=_t,this.chain=null}handle(Me){if(null===this.chain){const _t=Array.from(new Set(this.injector.get(Be)));this.chain=_t.reduceRight((vt,re)=>function Et($e,Te,Me){return(_t,vt)=>Me.runInContext(()=>Te(_t,re=>$e(re,vt)))}(vt,re,this.injector),pt)}return this.chain(Me,_t=>this.backend.handle(_t))}}return $e.\u0275fac=function(Me){return new(Me||$e)($.LFG(et),$.LFG($.lqb))},$e.\u0275prov=$.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Kr=/^\)\]\}',?\n/;let tn=(()=>{class $e{constructor(Me){this.xhrFactory=Me}handle(Me){if("JSONP"===Me.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pe.y(_t=>{const vt=this.xhrFactory.build();if(vt.open(Me.method,Me.urlWithParams),Me.withCredentials&&(vt.withCredentials=!0),Me.headers.forEach((ne,we)=>vt.setRequestHeader(ne,we.join(","))),Me.headers.has("Accept")||vt.setRequestHeader("Accept","application/json, text/plain, */*"),!Me.headers.has("Content-Type")){const ne=Me.detectContentTypeHeader();null!==ne&&vt.setRequestHeader("Content-Type",ne)}if(Me.responseType){const ne=Me.responseType.toLowerCase();vt.responseType="json"!==ne?ne:"text"}const re=Me.serializeBody();let oe=null;const ve=()=>{if(null!==oe)return oe;const ne=vt.statusText||"OK",we=new he(vt.getAllResponseHeaders()),nt=function Hi($e){return"responseURL"in $e&&$e.responseURL?$e.responseURL:/^X-Request-URL:/m.test($e.getAllResponseHeaders())?$e.getResponseHeader("X-Request-URL"):null}(vt)||Me.url;return oe=new Yt({headers:we,status:vt.status,statusText:ne,url:nt}),oe},ze=()=>{let{headers:ne,status:we,statusText:nt,url:At}=ve(),Kt=null;204!==we&&(Kt=typeof vt.response>"u"?vt.responseText:vt.response),0===we&&(we=Kt?200:0);let nn=we>=200&&we<300;if("json"===Me.responseType&&"string"==typeof Kt){const Ar=Kt;Kt=Kt.replace(Kr,"");try{Kt=""!==Kt?JSON.parse(Kt):null}catch(Qr){Kt=Ar,nn&&(nn=!1,Kt={error:Qr,text:Kt})}}nn?(_t.next(new dt({body:Kt,headers:ne,status:we,statusText:nt,url:At||void 0})),_t.complete()):_t.error(new Lt({error:Kt,headers:ne,status:we,statusText:nt,url:At||void 0}))},ke=ne=>{const{url:we}=ve(),nt=new Lt({error:ne,status:vt.status||0,statusText:vt.statusText||"Unknown Error",url:we||void 0});_t.error(nt)};let zt=!1;const De=ne=>{zt||(_t.next(ve()),zt=!0);let we={type:st.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(we.total=ne.total),"text"===Me.responseType&&vt.responseText&&(we.partialText=vt.responseText),_t.next(we)},Ee=ne=>{let we={type:st.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(we.total=ne.total),_t.next(we)};return vt.addEventListener("load",ze),vt.addEventListener("error",ke),vt.addEventListener("timeout",ke),vt.addEventListener("abort",ke),Me.reportProgress&&(vt.addEventListener("progress",De),null!==re&&vt.upload&&vt.upload.addEventListener("progress",Ee)),vt.send(re),_t.next({type:st.Sent}),()=>{vt.removeEventListener("error",ke),vt.removeEventListener("abort",ke),vt.removeEventListener("load",ze),vt.removeEventListener("timeout",ke),Me.reportProgress&&(vt.removeEventListener("progress",De),null!==re&&vt.upload&&vt.upload.removeEventListener("progress",Ee)),vt.readyState!==vt.DONE&&vt.abort()}})}}return $e.\u0275fac=function(Me){return new(Me||$e)($.LFG(g.JF))},$e.\u0275prov=$.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Cr=new $.OlP("XSRF_ENABLED"),Zr=new $.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ii=new $.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cr{}let Di=(()=>{class $e{constructor(Me,_t,vt){this.doc=Me,this.platform=_t,this.cookieName=vt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Me=this.doc.cookie||"";return Me!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.Mx)(Me,this.cookieName),this.lastCookieString=Me),this.lastToken}}return $e.\u0275fac=function(Me){return new(Me||$e)($.LFG(g.K0),$.LFG($.Lbi),$.LFG(Zr))},$e.\u0275prov=$.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function Vn($e,Te){const Me=$e.url.toLowerCase();if(!(0,$.f3M)(Cr)||"GET"===$e.method||"HEAD"===$e.method||Me.startsWith("http://")||Me.startsWith("https://"))return Te($e);const _t=(0,$.f3M)(cr).getToken(),vt=(0,$.f3M)(ii);return null!=_t&&!$e.headers.has(vt)&&($e=$e.clone({headers:$e.headers.set(vt,_t)})),Te($e)}var Bt=(()=>((Bt=Bt||{})[Bt.Interceptors=0]="Interceptors",Bt[Bt.LegacyInterceptors=1]="LegacyInterceptors",Bt[Bt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Bt[Bt.NoXsrfProtection=3]="NoXsrfProtection",Bt[Bt.JsonpSupport=4]="JsonpSupport",Bt[Bt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Bt))();function Fn($e,Te){return{\u0275kind:$e,\u0275providers:Te}}function Un(...$e){const Te=[Se,tn,Fe,{provide:lt,useExisting:Fe},{provide:et,useExisting:tn},{provide:Be,useValue:Vn,multi:!0},{provide:Cr,useValue:!0},{provide:cr,useClass:Di}];for(const Me of $e)Te.push(...Me.\u0275providers);return(0,$.MR2)(Te)}const Ci=new $.OlP("LEGACY_INTERCEPTOR_FN");let xi=(()=>{class $e{}return $e.\u0275fac=function(Me){return new(Me||$e)},$e.\u0275mod=$.oAB({type:$e}),$e.\u0275inj=$.cJS({providers:[Un(Fn(Bt.LegacyInterceptors,[{provide:Ci,useFactory:_e},{provide:Be,useExisting:Ci,multi:!0}]))]}),$e})()},8256:(yn,ct,q)=>{q.d(ct,{QbO:()=>Jw,tb:()=>tw,AFp:()=>G0,ip1:()=>H0,CZH:()=>Py,hGG:()=>UT,z2F:()=>xy,sBO:()=>TT,Sil:()=>rT,_Vd:()=>$d,EJc:()=>tT,Xts:()=>kc,SBq:()=>el,lqb:()=>Iu,qLn:()=>uc,vpe:()=>e,XFs:()=>Tt,OlP:()=>or,zs3:()=>Bc,ZZ4:()=>uE,aQg:()=>lE,soG:()=>Ry,YKP:()=>Mv,h0i:()=>Nd,PXZ:()=>mT,R0b:()=>bl,FiY:()=>ws,Lbi:()=>Qw,g9A:()=>q0,Qsj:()=>Hy,FYo:()=>wp,JOm:()=>Oo,q3G:()=>Ur,tp0:()=>no,Rgc:()=>a,dDg:()=>hT,eoX:()=>X0,q4F:()=>qh,GfV:()=>zh,s_b:()=>G,ifc:()=>At,MMx:()=>by,Lck:()=>WE,eFA:()=>rw,G48:()=>wT,Gpc:()=>en,f3M:()=>ve,$WT:()=>Gr,MR2:()=>gp,_c5:()=>LT,c2e:()=>Xw,zSh:()=>Bh,wAp:()=>Zn,vHH:()=>Ge,lri:()=>Q0,rWj:()=>J0,JZr:()=>Ft,EiD:()=>Nc,mCW:()=>Nn,qzn:()=>xl,JVY:()=>D,pB0:()=>Z,eBb:()=>_,L6k:()=>h,LAX:()=>R,D6c:()=>VT,cg1:()=>wh,kL8:()=>Th,dqk:()=>Bn,Z0I:()=>Cr,eJc:()=>qv,CqO:()=>lh,QGY:()=>uh,F4k:()=>Um,RDi:()=>Is,AaK:()=>yt,z3N:()=>iu,qOj:()=>eg,TTD:()=>Do,_Bn:()=>Sv,jDz:()=>Dy,xp6:()=>lm,uIk:()=>ig,Tol:()=>wg,ekj:()=>Wm,Suo:()=>w0,Xpm:()=>Cn,lG2:()=>ks,Yz7:()=>vr,cJS:()=>Hi,oAB:()=>ci,Yjl:()=>oo,Y36:()=>ld,_UZ:()=>ug,BQk:()=>Df,ynx:()=>Cd,qZA:()=>ah,TgZ:()=>Dd,EpF:()=>Af,n5z:()=>Rs,LFG:()=>re,$8M:()=>es,$Z:()=>tf,NdJ:()=>lg,CRH:()=>T0,oxw:()=>Bm,Q6J:()=>ag,s9C:()=>Ad,iGM:()=>E0,KtG:()=>Ss,CHM:()=>Co,oJD:()=>Uh,LSH:()=>Oc,P3R:()=>fp,Udp:()=>Eg,d8E:()=>uy,YNc:()=>bf,_uU:()=>Sd,Oqu:()=>bg,hij:()=>Il,AsE:()=>wc});var g=q(7579),$=q(727),I=q(9751),Pe=q(8189),de=q(8421),Ve=q(515),be=q(7669),lt=q(8996),he=q(2961),ae=q(4482);function ht(n,i,...o){if(!0===i)return void n();if(!1===i)return;const u=new he.Hp({next:()=>{u.unsubscribe(),n()}});return i(...o).subscribe(u)}function me(n){for(let i in n)if(n[i]===me)return i;throw Error("Could not find renamed property on target object.")}function Rt(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function yt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(yt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function an(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Xt=me({__forward_ref__:me});function en(n){return n.__forward_ref__=en,n.toString=function(){return yt(this())},n}function $t(n){return ot(n)?n():n}function ot(n){return"function"==typeof n&&n.hasOwnProperty(Xt)&&n.__forward_ref__===en}function Oe(n){return n&&!!n.\u0275providers}const Ft="https://g.co/ng/security#xss";class Ge extends Error{constructor(i,o){super(Ot(i,o)),this.code=i}}function Ot(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function st(n){return"string"==typeof n?n:null==n?"":String(n)}function We(n,i){throw new Ge(-201,!1)}function On(n,i){null==n&&function dn(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function vr(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Hi(n){return{providers:n.providers||[],imports:n.imports||[]}}function tn(n){return lr(n,ii)||lr(n,Di)}function Cr(n){return null!==tn(n)}function lr(n,i){return n.hasOwnProperty(i)?n[i]:null}function bi(n){return n&&(n.hasOwnProperty(cr)||n.hasOwnProperty(Vn))?n[cr]:null}const ii=me({\u0275prov:me}),cr=me({\u0275inj:me}),Di=me({ngInjectableDef:me}),Vn=me({ngInjectorDef:me});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let Bt;function Un(n){const i=Bt;return Bt=n,i}function xr(n,i,o){const u=tn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Tt.Optional?null:void 0!==i?i:void We(yt(n))}const Bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jn={},Ai="__NG_DI_FLAG__",xi="ngTempTokenPath",cs="ngTokenPath",Yr=/\n/gm,$e="\u0275",Te="__source";let Me;function _t(n){const i=Me;return Me=n,i}function vt(n,i=Tt.Default){if(void 0===Me)throw new Ge(-203,!1);return null===Me?xr(n,void 0,i):Me.get(n,i&Tt.Optional?null:void 0,i)}function re(n,i=Tt.Default){return(function Fn(){return Bt}()||vt)($t(n),i)}function ve(n,i=Tt.Default){return re(n,ze(i))}function ze(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ke(n){const i=[];for(let o=0;o<n.length;o++){const u=$t(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Ge(900,!1);let l,f=Tt.Default;for(let v=0;v<u.length;v++){const A=u[v],x=De(A);"number"==typeof x?-1===x?l=A.token:f|=x:l=A}i.push(re(l,f))}else i.push(re(u))}return i}function zt(n,i){return n[Ai]=i,n.prototype[Ai]=i,n}function De(n){return n[Ai]}function we(n){return{toString:n}.toString()}var nt=(()=>((nt=nt||{})[nt.OnPush=0]="OnPush",nt[nt.Default=1]="Default",nt))(),At=(()=>{return(n=At||(At={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",At;var n})();const Kt={},nn=[],Ar=me({\u0275cmp:me}),Qr=me({\u0275dir:me}),rt=me({\u0275pipe:me}),je=me({\u0275mod:me}),Mt=me({\u0275fac:me}),un=me({__NG_ELEMENT_ID__:me});let _n=0;function Cn(n){return we(()=>{const i=rs(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||At.Emulated,id:"c"+_n++,styles:n.styles||nn,_:null,schemas:n.schemas||null,tView:null};ds(o);const u=n.dependencies;return o.directiveDefs=Si(u,!1),o.pipeDefs=Si(u,!0),o})}function Jr(n){return tr(n)||Nr(n)}function Er(n){return null!==n}function ci(n){return we(()=>({type:n.type,bootstrap:n.bootstrap||nn,declarations:n.declarations||nn,imports:n.imports||nn,exports:n.exports||nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ks(n,i){if(null==n)return Kt;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),o[l]=u,i&&(i[l]=f)}return o}function ks(n){return we(()=>{const i=rs(n);return ds(i),i})}function oo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function tr(n){return n[Ar]||null}function Nr(n){return n[Qr]||null}function di(n){return n[rt]||null}function Gr(n){const i=tr(n)||Nr(n)||di(n);return null!==i&&i.standalone}function si(n,i){const o=n[je]||null;if(!o&&!0===i)throw new Error(`Type ${yt(n)} does not have '\u0275mod' property.`);return o}function rs(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ks(n.inputs,i),outputs:Ks(n.outputs)}}function ds(n){n.features?.forEach(i=>i(n))}function Si(n,i){if(!n)return null;const o=i?di:Jr;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(Er)}const Or=0,pe=1,ye=2,Ue=3,ut=4,kt=5,on=6,Hn=7,En=8,sr=9,Ni=10,In=11,Oi=12,Br=13,Aa=14,pi=15,hi=16,Fs=17,Zs=18,Zi=19,ea=20,Ls=21,ar=22,Us=1,ao=2,Ys=7,Uo=8,Vo=9,Yi=10;function Gi(n){return Array.isArray(n)&&"object"==typeof n[Us]}function Qi(n){return Array.isArray(n)&&!0===n[Us]}function Mi(n){return 0!=(4&n.flags)}function ki(n){return n.componentOffset>-1}function gs(n){return 1==(1&n.flags)}function Ei(n){return!!n.template}function Ds(n){return 0!=(256&n[ye])}function ms(n,i){return n.hasOwnProperty(Mt)?n[Mt]:null}class ra{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Do(){return co}function co(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ji),Ka}function Ka(){const n=$r(this),i=n?.current;if(i){const o=n.previous;if(o===Kt)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Ji(n,i,o,u){const l=this.declaredInputs[o],f=$r(n)||function ho(n,i){return n[is]=i}(n,{previous:Kt,current:null}),v=f.current||(f.current={}),A=f.previous,x=A[l];v[l]=new ra(x&&x.currentValue,i,A===Kt),n[u]=i}Do.ngInherit=!0;const is="__ngSimpleChanges__";function $r(n){return n[is]||null}const Li=function(n,i,o){};function Pi(n){for(;Array.isArray(n);)n=n[Or];return n}function Ui(n,i){return Pi(i[n])}function ss(n,i){return Pi(i[n.index])}function Vi(n,i){return n.data[i]}function wr(n,i){const o=i[n];return Gi(o)?o:o[Or]}function oa(n){return 64==(64&n[ye])}function Xi(n,i){return null==i?null:n[i]}function Pa(n){n[Zs]=0}function gi(n,i){n[kt]+=i;let o=n,u=n[Ue];for(;null!==u&&(1===i&&1===o[kt]||-1===i&&0===o[kt]);)u[kt]+=i,o=u,u=u[Ue]}const wn={lFrame:zo(null),bindingsEnabled:!0};function pn(){return wn.bindingsEnabled}function It(){return wn.lFrame.lView}function nr(){return wn.lFrame.tView}function Co(n){return wn.lFrame.contextLView=n,n[En]}function Ss(n){return wn.lFrame.contextLView=null,n}function mi(){let n=Ra();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ra(){return wn.lFrame.currentTNode}function wi(n,i){const o=wn.lFrame;o.currentTNode=n,o.isParent=i}function xa(){return wn.lFrame.isParent}function Na(){wn.lFrame.isParent=!1}function Ya(){return wn.lFrame.bindingIndex++}function Ao(n){const i=wn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Oa(n,i){const o=wn.lFrame;o.bindingIndex=o.bindingRootIndex=n,eo(i)}function eo(n){wn.lFrame.currentDirectiveIndex=n}function js(n){const i=wn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Qa(){return wn.lFrame.currentQueryIndex}function Fr(n){wn.lFrame.currentQueryIndex=n}function Ja(n){const i=n[pe];return 2===i.type?i.declTNode:1===i.type?n[on]:null}function Hs(n,i,o){if(o&Tt.SkipSelf){let l=i,f=n;for(;!(l=l.parent,null!==l||o&Tt.Host||(l=Ja(f),null===l||(f=f[pi],10&l.type))););if(null===l)return!1;i=l,n=f}const u=wn.lFrame=Xa();return u.currentTNode=i,u.lView=n,!0}function zi(n){const i=Xa(),o=n[pe];wn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Xa(){const n=wn.lFrame,i=null===n?null:n.child;return null===i?zo(n):i}function zo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function go(){const n=wn.lFrame;return wn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const gu=go;function ua(){const n=go();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function An(){return wn.lFrame.selectedIndex}function So(n){wn.lFrame.selectedIndex=n}function Xr(){const n=wn.lFrame;return Vi(n.tView,n.selectedIndex)}function tt(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const f=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:A,ngAfterViewInit:x,ngAfterViewChecked:j,ngOnDestroy:Q}=f;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),A&&((n.contentHooks??(n.contentHooks=[])).push(o,A),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,A)),x&&(n.viewHooks??(n.viewHooks=[])).push(-o,x),j&&((n.viewHooks??(n.viewHooks=[])).push(o,j),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,j)),null!=Q&&(n.destroyHooks??(n.destroyHooks=[])).push(o,Q)}}function bt(n,i,o){ei(n,i,3,o)}function gn(n,i,o,u){(3&n[ye])===o&&ei(n,i,o,u)}function jr(n,i){let o=n[ye];(3&o)===i&&(o&=2047,o+=1,n[ye]=o)}function ei(n,i,o,u){const f=u??-1,v=i.length-1;let A=0;for(let x=void 0!==u?65535&n[Zs]:0;x<v;x++)if("number"==typeof i[x+1]){if(A=i[x],null!=u&&A>=u)break}else i[x]<0&&(n[Zs]+=65536),(A<f||-1==f)&&(dr(n,o,i,x),n[Zs]=(4294901760&n[Zs])+x+2),x++}function dr(n,i,o,u){const l=o[u]<0,f=o[u+1],A=n[l?-o[u]:o[u]];if(l){if(n[ye]>>11<n[Zs]>>16&&(3&n[ye])===i){n[ye]+=2048,Li(4,A,f);try{f.call(A)}finally{Li(5,A,f)}}}else{Li(4,A,f);try{f.call(A)}finally{Li(5,A,f)}}}const Qn=-1;class oi{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Lr(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const f=o[u++],v=o[u++],A=o[u++];n.setAttribute(i,v,A,f)}else{const f=l,v=o[++u];Su(f)?n.setProperty(i,f,v):n.setAttribute(i,f,v),u++}}return u}function Ps(n){return 3===n||4===n||6===n}function Su(n){return 64===n.charCodeAt(0)}function rn(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||mn(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function mn(n,i,o,u,l){let f=0,v=n.length;if(-1===i)v=-1;else for(;f<n.length;){const A=n[f++];if("number"==typeof A){if(A===i){v=-1;break}if(A>i){v=f-1;break}}}for(;f<n.length;){const A=n[f];if("number"==typeof A)break;if(A===o){if(null===u)return void(null!==l&&(n[f+1]=l));if(u===n[f+1])return void(n[f+2]=l)}f++,null!==u&&f++,null!==l&&f++}-1!==v&&(n.splice(v,0,i),f=v+1),n.splice(f++,0,o),null!==u&&n.splice(f++,0,u),null!==l&&n.splice(f++,0,l)}function Dl(n){return n!==Qn}function qt(n){return 32767&n}function Pt(n,i){let o=function at(n){return n>>16}(n),u=i;for(;o>0;)u=u[pi],o--;return u}let Fi=!0;function Mo(n){const i=Fi;return Fi=n,i}const Cl=255,mu=5;let Hu=0;const ya={};function Mu(n,i){const o=Pu(n,i);if(-1!==o)return o;const u=i[pe];u.firstCreatePass&&(n.injectorIndex=i.length,yu(u.data,n),yu(i,null),yu(u.blueprint,null));const l=Fa(n,i),f=n.injectorIndex;if(Dl(l)){const v=qt(l),A=Pt(l,i),x=A[pe].data;for(let j=0;j<8;j++)i[f+j]=A[v+j]|x[v+j]}return i[f+8]=l,f}function yu(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Pu(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Fa(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=ul(l),null===u)return Qn;if(o++,l=l[pi],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Qn}function qn(n,i,o){!function yi(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(un)&&(u=o[un]),null==u&&(u=o[un]=Hu++);const l=u&Cl;i.data[n+(l>>mu)]|=1<<l}(n,i,o)}function to(n,i,o){if(o&Tt.Optional||void 0!==n)return n;We()}function rr(n,i,o,u){if(o&Tt.Optional&&void 0===u&&(u=null),!(o&(Tt.Self|Tt.Host))){const l=n[sr],f=Un(void 0);try{return l?l.get(i,u,o&Tt.Optional):xr(i,u,o&Tt.Optional)}finally{Un(f)}}return to(u,0,o)}function Tn(n,i,o,u=Tt.Default,l){if(null!==n){if(1024&i[ye]){const v=function Po(n,i,o,u,l){let f=n,v=i;for(;null!==f&&null!==v&&1024&v[ye]&&!(256&v[ye]);){const A=mo(f,v,o,u|Tt.Self,ya);if(A!==ya)return A;let x=f.parent;if(!x){const j=v[Ls];if(j){const Q=j.get(o,ya,u);if(Q!==ya)return Q}x=ul(v),v=v[pi]}f=x}return l}(n,i,o,u,ya);if(v!==ya)return v}const f=mo(n,i,o,u,ya);if(f!==ya)return f}return rr(i,o,u,l)}function mo(n,i,o,u,l){const f=function Jt(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(un)?n[un]:void 0;return"number"==typeof i?i>=0?i&Cl:Ua:i}(o);if("function"==typeof f){if(!Hs(i,n,u))return u&Tt.Host?to(l,0,u):rr(i,o,u,l);try{const v=f(u);if(null!=v||u&Tt.Optional)return v;We()}finally{gu()}}else if("number"==typeof f){let v=null,A=Pu(n,i),x=Qn,j=u&Tt.Host?i[hi][on]:null;for((-1===A||u&Tt.SkipSelf)&&(x=-1===A?Fa(n,i):i[A+8],x!==Qn&&La(u,!1)?(v=i[pe],A=qt(x),i=Pt(x,i)):A=-1);-1!==A;){const Q=i[pe];if(Gu(f,A,Q.data)){const ce=mr(A,i,o,v,u,j);if(ce!==ya)return ce}x=i[A+8],x!==Qn&&La(u,i[pe].data[A+8]===j)&&Gu(f,A,i)?(v=Q,A=qt(x),i=Pt(x,i)):A=-1}}return l}function mr(n,i,o,u,l,f){const v=i[pe],A=v.data[n+8],Q=_a(A,v,o,null==u?ki(A)&&Fi:u!=v&&0!=(3&A.type),l&Tt.Host&&f===A);return null!==Q?ti(i,v,Q,A):ya}function _a(n,i,o,u,l){const f=n.providerIndexes,v=i.data,A=1048575&f,x=n.directiveStart,Q=f>>20,xe=l?A+Q:n.directiveEnd;for(let Je=u?A:A+Q;Je<xe;Je++){const St=v[Je];if(Je<x&&o===St||Je>=x&&St.type===o)return Je}if(l){const Je=v[x];if(Je&&Ei(Je)&&Je.type===o)return x}return null}function ti(n,i,o,u){let l=n[o];const f=i.data;if(function Xn(n){return n instanceof oi}(l)){const v=l;v.resolving&&function Yt(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Vt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():st(n)}(f[o]));const A=Mo(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?Un(v.injectImpl):null;Hs(n,u,Tt.Default);try{l=n[o]=v.factory(void 0,f,n,u),i.firstCreatePass&&o>=u.directiveStart&&function ge(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:f}=i.type.prototype;if(u){const v=co(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),f&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,f),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,f))}(o,f[o],i)}finally{null!==x&&Un(x),Mo(A),v.resolving=!1,gu()}}return l}function Gu(n,i,o){return!!(o[i+(n>>mu)]&1<<n)}function La(n,i){return!(n&Tt.Self||n&Tt.Host&&i)}class qi{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Tn(this._tNode,this._lView,i,ze(u),o)}}function Ua(){return new qi(mi(),It())}function Rs(n){return we(()=>{const i=n.prototype.constructor,o=i[Mt]||Ru(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const f=l[Mt]||Ru(l);if(f&&f!==o)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function Ru(n){return ot(n)?()=>{const i=Ru($t(n));return i&&i()}:ms(n)}function ul(n){const i=n[pe],o=i.type;return 2===o?i.declTNode:1===o?n[on]:null}function es(n){return function _u(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const f=o[l];if(Ps(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(f===i)return o[l+1];l+=2}}}return null}(mi(),n)}const Ro="__parameters__";function $i(n,i,o){return we(()=>{const u=function va(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...f){if(this instanceof l)return u.apply(this,f),this;const v=new l(...f);return A.annotation=v,A;function A(x,j,Q){const ce=x.hasOwnProperty(Ro)?x[Ro]:Object.defineProperty(x,Ro,{value:[]})[Ro];for(;ce.length<=Q;)ce.push(null);return(ce[Q]=ce[Q]||[]).push(v),x}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class or{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=vr({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function au(n,i){n.forEach(o=>Array.isArray(o)?au(o,i):i(o))}function xo(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function tu(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function y(n,i,o){let u=U(n,i);return u>=0?n[1|u]=o:(u=~u,function E(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function S(n,i){const o=U(n,i);if(o>=0)return n[1|o]}function U(n,i){return function X(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const f=u+(l-u>>1),v=n[f<<o];if(i===v)return f<<o;v>i?l=f:u=f+1}return~(l<<o)}(n,i,1)}const ws=zt($i("Optional"),8),no=zt($i("SkipSelf"),4);var Oo=(()=>((Oo=Oo||{})[Oo.Important=1]="Important",Oo[Oo.DashCase=2]="DashCase",Oo))();const ns=new Map;let Kl=0;const vi="__ngContext__";function xs(n,i){Gi(i)?(n[vi]=i[ea],function Lu(n){ns.set(n[ea],n)}(i)):n[vi]=i}let Jl;function Al(n,i){return Jl(n,i)}function d(n){const i=n[Ue];return Qi(i)?i[Ue]:i}function F(n){return ie(n[Br])}function W(n){return ie(n[ut])}function ie(n){for(;null!==n&&!Qi(n);)n=n[ut];return n}function le(n,i,o,u,l){if(null!=u){let f,v=!1;Qi(u)?f=u:Gi(u)&&(v=!0,u=u[Or]);const A=Pi(u);0===n&&null!==o?null==l?ed(i,o,A):Zo(i,o,A,l||null,!0):1===n&&null!==o?Zo(i,o,A,l||null,!0):2===n?function Ac(n,i,o){const u=Sl(n,i);u&&function gl(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,A,v):3===n&&i.destroyNode(A),null!=f&&function td(n,i,o,u,l){const f=o[Ys];f!==Pi(o)&&le(i,n,u,f,l);for(let A=Yi;A<o.length;A++){const x=o[A];ru(x[pe],x,n,i,u,f)}}(i,n,f,o,l)}}function jt(n,i,o){return n.createElement(i,o)}function pr(n,i){const o=n[Vo],u=o.indexOf(i),l=i[Ue];512&i[ye]&&(i[ye]&=-513,gi(l,-1)),o.splice(u,1)}function Hr(n,i){if(n.length<=Yi)return;const o=Yi+i,u=n[o];if(u){const l=u[Fs];null!==l&&l!==n&&pr(l,u),i>0&&(n[o-1][ut]=u[ut]);const f=tu(n,Yi+i);!function Sn(n,i){ru(n,i,i[In],2,null,null),i[Or]=null,i[on]=null}(u[pe],u);const v=f[Zi];null!==v&&v.detachView(f[pe]),u[Ue]=null,u[ut]=null,u[ye]&=-65}return u}function Pr(n,i){if(!(128&i[ye])){const o=i[In];o.destroyNode&&ru(n,i,o,3,null,null),function Pn(n){let i=n[Br];if(!i)return ro(n[pe],n);for(;i;){let o=null;if(Gi(i))o=i[Br];else{const u=i[Yi];u&&(o=u)}if(!o){for(;i&&!i[ut]&&i!==n;)Gi(i)&&ro(i[pe],i),i=i[Ue];null===i&&(i=n),Gi(i)&&ro(i[pe],i),o=i&&i[ut]}i=o}}(i)}}function ro(n,i){if(!(128&i[ye])){i[ye]&=-65,i[ye]|=128,function Ns(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof oi)){const f=o[u+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const A=l[f[v]],x=f[v+1];Li(4,A,x);try{x.call(A)}finally{Li(5,A,x)}}else{Li(4,l,f);try{f.call(l)}finally{Li(5,l,f)}}}}}(n,i),function To(n,i){const o=n.cleanup,u=i[Hn];let l=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const v=o[f+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),f+=2}else{const v=u[l=o[f+1]];o[f].call(v)}if(null!==u){for(let f=l+1;f<u.length;f++)(0,u[f])();i[Hn]=null}}(n,i),1===i[pe].type&&i[In].destroy();const o=i[Fs];if(null!==o&&Qi(i[Ue])){o!==i[Ue]&&pr(o,i);const u=i[Zi];null!==u&&u.detachView(n)}!function Qc(n){ns.delete(n[ea])}(i)}}function qs(n,i,o){return function ha(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Or];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:f}=n.data[u.directiveStart+l];if(f===At.None||f===At.Emulated)return null}return ss(u,o)}}(n,i.parent,o)}function Zo(n,i,o,u,l){n.insertBefore(i,o,u,l)}function ed(n,i,o){n.appendChild(i,o)}function Ia(n,i,o,u,l){null!==u?Zo(n,i,o,u,l):ed(n,i,o)}function Sl(n,i){return n.parentNode(i)}let us,Ju,xh,ec,Wr=function Ln(n,i,o){return 40&n.type?ss(n,o):null};function Yo(n,i,o,u){const l=qs(n,u,i),f=i[In],A=function $n(n,i,o){return Wr(n,i,o)}(u.parent||i[on],u,i);if(null!=l)if(Array.isArray(o))for(let x=0;x<o.length;x++)Ia(f,l,o[x],A,!1);else Ia(f,l,o,A,!1);void 0!==us&&us(f,u,i,o,l)}function Kn(n,i){if(null!==i){const o=i.type;if(3&o)return ss(i,n);if(4&o)return Ml(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Kn(n,u);{const l=n[i.index];return Qi(l)?Ml(-1,l):Pi(l)}}if(32&o)return Al(i,n)()||Pi(n[i.index]);{const u=ls(n,i);return null!==u?Array.isArray(u)?u[0]:Kn(d(n[hi]),u):Kn(n,i.next)}}return null}function ls(n,i){return null!==i?n[hi][on].projection[i.projection]:null}function Ml(n,i){const o=Yi+n+1;if(o<i.length){const u=i[o],l=u[pe].firstChild;if(null!==l)return Kn(u,l)}return i[Ys]}function io(n,i,o,u,l,f,v){for(;null!=o;){const A=u[o.index],x=o.type;if(v&&0===i&&(A&&xs(Pi(A),u),o.flags|=2),32!=(32&o.flags))if(8&x)io(n,i,o.child,u,l,f,!1),le(i,n,l,A,f);else if(32&x){const j=Al(o,u);let Q;for(;Q=j();)le(i,n,l,Q,f);le(i,n,l,A,f)}else 16&x?Xl(n,i,u,o,l,f):le(i,n,l,A,f);o=v?o.projectionNext:o.next}}function ru(n,i,o,u,l,f){io(o,u,n.firstChild,i,l,f,!1)}function Xl(n,i,o,u,l,f){const v=o[hi],x=v[on].projection[u.projection];if(Array.isArray(x))for(let j=0;j<x.length;j++)le(i,n,l,x[j],f);else io(n,i,x,v[Ue],l,f,!0)}function Pl(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Rh(n,i,o){const{mergedAttrs:u,classes:l,styles:f}=o;null!==u&&Lr(n,i,u),null!==l&&Pl(n,i,l),null!==f&&function Sc(n,i,o){n.setAttribute(i,"style",o)}(n,i,f)}function Uu(n){return function kd(){if(void 0===Ju&&(Ju=null,Bn.trustedTypes))try{Ju=Bn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ju}()?.createHTML(n)||n}function Is(n){xh=n}function Ld(){if(void 0===ec&&(ec=null,Bn.trustedTypes))try{ec=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ec}function op(n){return Ld()?.createHTML(n)||n}function ap(n){return Ld()?.createScriptURL(n)||n}class Rl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ft})`}}class Pc extends Rl{getTypeName(){return"HTML"}}class ml extends Rl{getTypeName(){return"Style"}}class up extends Rl{getTypeName(){return"Script"}}class lp extends Rl{getTypeName(){return"URL"}}class cp extends Rl{getTypeName(){return"ResourceURL"}}function iu(n){return n instanceof Rl?n.changingThisBreaksApplicationSecurity:n}function xl(n,i){const o=function Nh(n){return n instanceof Rl&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Ft})`)}return o===i}function D(n){return new Pc(n)}function h(n){return new ml(n)}function _(n){return new up(n)}function R(n){return new lp(n)}function Z(n){return new cp(n)}class He{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Uu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class mt{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=Uu(i),o}}const hn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nn(n){return(n=String(n)).match(hn)?n:"unsafe:"+n}function gr(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function ko(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Vu=gr("area,br,col,hr,img,wbr"),Nl=gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ol=gr("rp,rt"),nc=ko(Vu,ko(Nl,gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ko(Ol,gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ko(Ol,Nl)),xc=gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),id=ko(xc,gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fh=gr("script,style,template");class Ud{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!nc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Fh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const f=u.item(l),v=f.name,A=v.toLowerCase();if(!id.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let x=f.value;xc[A]&&(x=Nn(x)),this.buf.push(" ",v,'="',Hg(x),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();nc.hasOwnProperty(o)&&!Vu.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Hg(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const dp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fy=/([^\#-~ |!])/g;function Hg(n){return n.replace(/&/g,"&amp;").replace(dp,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Fy,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sd;function Nc(n,i){let o=null;try{sd=sd||function te(n){const i=new mt(n);return function Zt(){try{return!!(new window.DOMParser).parseFromString(Uu(""),"text/html")}catch{return!1}}()?new He(i):i}(n);let u=i?String(i):"";o=sd.getInertBodyElement(u);let l=5,f=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=f,f=o.innerHTML,o=sd.getInertBodyElement(u)}while(u!==f);return Uu((new Ud).sanitizeChildren(Lh(o)||o))}finally{if(o){const u=Lh(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Lh(n){return"content"in n&&function Ly(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ur=(()=>((Ur=Ur||{})[Ur.NONE=0]="NONE",Ur[Ur.HTML=1]="HTML",Ur[Ur.STYLE=2]="STYLE",Ur[Ur.SCRIPT=3]="SCRIPT",Ur[Ur.URL=4]="URL",Ur[Ur.RESOURCE_URL=5]="RESOURCE_URL",Ur))();function Uh(n){const i=Bd();return i?op(i.sanitize(Ur.HTML,n)||""):xl(n,"HTML")?op(iu(n)):Nc(function nd(){return void 0!==xh?xh:typeof document<"u"?document:void 0}(),st(n))}function Oc(n){const i=Bd();return i?i.sanitize(Ur.URL,n)||"":xl(n,"URL")?iu(n):Nn(st(n))}function Xu(n){const i=Bd();if(i)return ap(i.sanitize(Ur.RESOURCE_URL,n)||"");if(xl(n,"ResourceURL"))return ap(iu(n));throw new Ge(904,!1)}function fp(n,i,o){return function qg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Xu:Oc}(i,o)(n)}function Bd(){const n=It();return n&&n[Oi]}const kc=new or("ENVIRONMENT_INITIALIZER"),Vh=new or("INJECTOR",-1),Wg=new or("INJECTOR_DEF_TYPES");class pp{get(i,o=jn){if(o===jn){const u=new Error(`NullInjectorError: No provider for ${yt(i)}!`);throw u.name="NullInjectorError",u}return o}}function gp(n){return{\u0275providers:n}}function Kg(...n){return{\u0275providers:Zg(0,n),\u0275fromNgModule:!0}}function Zg(n,...i){const o=[],u=new Set;let l;return au(i,f=>{const v=f;yp(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&mp(l,o),o}function mp(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];_p(l,f=>{i.push(f)})}}function yp(n,i,o,u){if(!(n=$t(n)))return!1;let l=null,f=bi(n);const v=!f&&tr(n);if(f||v){if(v&&!v.standalone)return!1;l=n}else{const x=n.ngModule;if(f=bi(x),!f)return!1;l=x}const A=u.has(l);if(v){if(A)return!1;if(u.add(l),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const j of x)yp(j,i,o,u)}}else{if(!f)return!1;{if(null!=f.imports&&!A){let j;u.add(l);try{au(f.imports,Q=>{yp(Q,i,o,u)&&(j||(j=[]),j.push(Q))})}finally{}void 0!==j&&mp(j,i)}if(!A){const j=ms(l)||(()=>new l);i.push({provide:l,useFactory:j,deps:nn},{provide:Wg,useValue:l,multi:!0},{provide:kc,useValue:()=>re(l),multi:!0})}const x=f.providers;null==x||A||_p(x,Q=>{i.push(Q)})}}return l!==n&&void 0!==n.providers}function _p(n,i){for(let o of n)Oe(o)&&(o=o.\u0275providers),Array.isArray(o)?_p(o,i):i(o)}const rc=me({provide:String,useValue:me});function ic(n){return null!==n&&"object"==typeof n&&rc in n}function sc(n){return"function"==typeof n}const Bh=new or("Set Injector scope."),$h={},Qg={};let od;function yl(){return void 0===od&&(od=new pp),od}class Iu{}class oc extends Iu{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hh(i,v=>this.processProvider(v)),this.records.set(Vh,Lc(void 0,this)),l.has("environment")&&this.records.set(Iu,Lc(void 0,this));const f=this.records.get(Bh);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Wg.multi,nn,Tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=_t(this),u=Un(void 0);try{return i()}finally{_t(o),Un(u)}}get(i,o=jn,u=Tt.Default){this.assertNotDestroyed(),u=ze(u);const l=_t(this),f=Un(void 0);try{if(!(u&Tt.SkipSelf)){let A=this.records.get(i);if(void 0===A){const x=function em(n){return"function"==typeof n||"object"==typeof n&&n instanceof or}(i)&&tn(i);A=x&&this.injectableDefInScope(x)?Lc(Fc(i),$h):null,this.records.set(i,A)}if(null!=A)return this.hydrate(i,A)}return(u&Tt.Self?yl():this.parent).get(i,o=u&Tt.Optional&&o===jn?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[xi]=v[xi]||[]).unshift(yt(i)),l)throw v;return function Ee(n,i,o,u){const l=n[xi];throw i[Te]&&l.unshift(i[Te]),n.message=function ne(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==$e?n.slice(2):n;let l=yt(i);if(Array.isArray(i))l=i.map(yt).join(" -> ");else if("object"==typeof i){let f=[];for(let v in i)if(i.hasOwnProperty(v)){let A=i[v];f.push(v+":"+("string"==typeof A?JSON.stringify(A):yt(A)))}l=`{${f.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Yr,"\n  ")}`}("\n"+n.message,l,o,u),n[cs]=l,n[xi]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{Un(f),_t(l)}}resolveInjectorInitializers(){const i=_t(this),o=Un(void 0);try{const u=this.get(kc.multi,nn,Tt.Self);for(const l of u)l()}finally{_t(i),Un(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(yt(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(i){let o=sc(i=$t(i))?i:$t(i&&i.provide);const u=function Ep(n){return ic(n)?Lc(void 0,n.useValue):Lc(jh(n),$h)}(i);if(sc(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Lc(void 0,$h,!0),l.factory=()=>ke(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===$h&&(o.value=Qg,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Vy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=$t(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Fc(n){const i=tn(n),o=null!==i?i.factory:ms(n);if(null!==o)return o;if(n instanceof or)throw new Ge(204,!1);if(n instanceof Function)return function Jg(n){const i=n.length;if(i>0)throw function No(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Ge(204,!1);const o=function Zr(n){return n&&(n[ii]||n[Di])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ge(204,!1)}function jh(n,i,o){let u;if(sc(n)){const l=$t(n);return ms(l)||Fc(l)}if(ic(n))u=()=>$t(n.useValue);else if(function Yg(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...ke(n.deps||[]));else if(function vp(n){return!(!n||!n.useExisting)}(n))u=()=>re($t(n.useExisting));else{const l=$t(n&&(n.useClass||n.provide));if(!function Xg(n){return!!n.deps}(n))return ms(l)||Fc(l);u=()=>new l(...ke(n.deps))}return u}function Lc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Hh(n,i){for(const o of n)Array.isArray(o)?Hh(o,i):o&&Oe(o)?Hh(o.\u0275providers,i):i(o)}class Gh{}class ad{}class $y{resolveComponentFactory(i){throw function Uc(n){const i=Error(`No component factory found for ${yt(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let $d=(()=>{class n{}return n.NULL=new $y,n})();function jy(){return _l(mi(),It())}function _l(n,i){return new el(ss(n,i))}let el=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=jy,n})();function ac(n){return n instanceof el?n.nativeElement:n}class wp{}let Hy=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function nm(){const n=It(),o=wr(mi().index,n);return(Gi(o)?o:n)[In]}(),n})(),Gy=(()=>{class n{}return n.\u0275prov=vr({token:n,providedIn:"root",factory:()=>null}),n})();class zh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const qh=new zh("15.2.9"),Wh={},jd="ngOriginalError";function Kh(n){return n[jd]}class uc{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Kh(i);for(;o&&Kh(o);)o=Kh(o);return o||null}}function El(n){return n instanceof Function?n():n}function Fl(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const f=i.length;if(l+f===u||n.charCodeAt(l+f)<=32)return l}o=l+1}}const Vc="ng-template";function sm(n,i,o){let u=0,l=!0;for(;u<n.length;){let f=n[u++];if("string"==typeof f&&l){const v=n[u++];if(o&&"class"===f&&-1!==Fl(v.toLowerCase(),i,0))return!0}else{if(1===f){for(;u<n.length&&"string"==typeof(f=n[u++]);)if(f.toLowerCase()===i)return!0;return!1}"number"==typeof f&&(l=!1)}}return!1}function lc(n){return 4===n.type&&n.value!==Vc}function Zy(n,i,o){return i===(4!==n.type||o?n.value:Vc)}function ud(n,i,o){let u=4;const l=n.attrs||[],f=function om(n){for(let i=0;i<n.length;i++)if(Ps(n[i]))return i;return n.length}(l);let v=!1;for(let A=0;A<i.length;A++){const x=i[A];if("number"!=typeof x){if(!v)if(4&u){if(u=2|1&u,""!==x&&!Zy(n,x,o)||""===x&&1===i.length){if(Bu(u))return!1;v=!0}}else{const j=8&u?x:i[++A];if(8&u&&null!==n.attrs){if(!sm(n.attrs,j,o)){if(Bu(u))return!1;v=!0}continue}const ce=cc(8&u?"class":x,l,lc(n),o);if(-1===ce){if(Bu(u))return!1;v=!0;continue}if(""!==j){let xe;xe=ce>f?"":l[ce+1].toLowerCase();const Je=8&u?xe:null;if(Je&&-1!==Fl(Je,j,0)||2&u&&j!==xe){if(Bu(u))return!1;v=!0}}}}else{if(!v&&!Bu(u)&&!Bu(x))return!1;if(v&&Bu(x))continue;v=!1,u=x|1&u}}return Bu(u)||v}function Bu(n){return 0==(1&n)}function cc(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let f=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)f=!0;else{if(1===v||2===v){let A=i[++l];for(;"string"==typeof A;)A=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=f?1:2}return-1}return function Qy(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Dp(n,i,o=!1){for(let u=0;u<i.length;u++)if(ud(n,i[u],o))return!0;return!1}function um(n,i){return n?":not("+i.trim()+")":i}function Qh(n){let i=n[0],o=1,u=2,l="",f=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const A=n[++o];l+="["+v+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!Bu(v)&&(i+=um(f,l),l=""),u=v,f=f||!Bu(u);o++}return""!==l&&(i+=um(f,l)),i}const yr={};function lm(n){Cp(nr(),It(),An()+n,!1)}function Cp(n,i,o,u){if(!u)if(3==(3&i[ye])){const f=n.preOrderCheckHooks;null!==f&&bt(i,f,o)}else{const f=n.preOrderHooks;null!==f&&gn(i,f,0,o)}So(o)}function Qo(n,i=null,o=null,u){const l=hm(n,i,o,u);return l.resolveInjectorInitializers(),l}function hm(n,i=null,o=null,u,l=new Set){const f=[o||nn,Kg(n)];return u=u||("object"==typeof n?void 0:yt(n)),new oc(f,i||yl(),u||null,l)}let Bc=(()=>{class n{static create(o,u){if(Array.isArray(o))return Qo({name:""},u,o,"");{const l=o.name??"";return Qo({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=jn,n.NULL=new pp,n.\u0275prov=vr({token:n,providedIn:"any",factory:()=>re(Vh)}),n.__NG_ELEMENT_ID__=-1,n})();function ld(n,i=Tt.Default){const o=It();return null===o?re(n,i):Tn(mi(),o,$t(n),i)}function tf(){throw new Error("invalid")}function nf(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const f=o[u+1];if(-1!==f){const v=n.data[f];Fr(o[u]),v.contentQueries(2,i[f],f)}}}function cd(n,i,o,u,l,f,v,A,x,j,Q){const ce=i.blueprint.slice();return ce[Or]=l,ce[ye]=76|u,(null!==Q||n&&1024&n[ye])&&(ce[ye]|=1024),Pa(ce),ce[Ue]=ce[pi]=n,ce[En]=o,ce[Ni]=v||n&&n[Ni],ce[In]=A||n&&n[In],ce[Oi]=x||n&&n[Oi]||null,ce[sr]=j||n&&n[sr]||null,ce[on]=f,ce[ea]=function Ki(){return Kl++}(),ce[Ls]=Q,ce[hi]=2==i.type?n[hi]:ce,ce}function Ul(n,i,o,u,l){let f=n.data[i];if(null===f)f=function Hc(n,i,o,u,l){const f=Ra(),v=xa(),x=n.data[i]=function f_(n,i,o,u,l,f){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=x),null!==f&&(v?null==f.child&&null!==x.parent&&(f.child=x):null===f.next&&(f.next=x,x.prev=f)),x}(n,i,o,u,l),function Ms(){return wn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=u,f.attrs=l;const v=function ys(){const n=wn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return wi(f,!0),f}function hc(n,i,o,u){if(0===o)return-1;const l=i.length;for(let f=0;f<o;f++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Yd(n,i,o){zi(i);try{const u=n.viewQuery;null!==u&&hf(1,u,o);const l=n.template;null!==l&&rf(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&nf(n,i),n.staticViewQueries&&hf(2,n.viewQuery,o);const f=n.components;null!==f&&function vm(n,i){for(let o=0;o<i.length;o++)Kp(n,i[o])}(i,f)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[ye]&=-5,ua()}}function dd(n,i,o,u){const l=i[ye];if(128!=(128&l)){zi(i);try{Pa(i),function ma(n){return wn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&rf(n,i,o,2,u);const v=3==(3&l);if(v){const j=n.preOrderCheckHooks;null!==j&&bt(i,j,null)}else{const j=n.preOrderHooks;null!==j&&gn(i,j,0,null),jr(i,0)}if(function v_(n){for(let i=F(n);null!==i;i=W(i)){if(!i[ao])continue;const o=i[Vo];for(let u=0;u<o.length;u++){const l=o[u];512&l[ye]||gi(l[Ue],1),l[ye]|=512}}}(i),function qp(n){for(let i=F(n);null!==i;i=W(i))for(let o=Yi;o<i.length;o++){const u=i[o],l=u[pe];oa(u)&&dd(l,u,l.template,u[En])}}(i),null!==n.contentQueries&&nf(n,i),v){const j=n.contentCheckHooks;null!==j&&bt(i,j)}else{const j=n.contentHooks;null!==j&&gn(i,j,1),jr(i,1)}!function c_(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)So(~l);else{const f=l,v=o[++u],A=o[++u];Oa(v,f),A(2,i[f])}}}finally{So(-1)}}(n,i);const A=n.components;null!==A&&function _m(n,i){for(let o=0;o<i.length;o++)Wp(n,i[o])}(i,A);const x=n.viewQuery;if(null!==x&&hf(2,x,u),v){const j=n.viewCheckHooks;null!==j&&bt(i,j)}else{const j=n.viewHooks;null!==j&&gn(i,j,2),jr(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[ye]&=-41,512&i[ye]&&(i[ye]&=-513,gi(i[Ue],-1))}finally{ua()}}}function rf(n,i,o,u,l){const f=An(),v=2&u;try{So(-1),v&&i.length>ar&&Cp(n,i,ar,!1),Li(v?2:0,l),o(u,l)}finally{So(f),Li(v?3:1,l)}}function sf(n,i,o){if(Mi(i)){const l=i.directiveEnd;for(let f=i.directiveStart;f<l;f++){const v=n.data[f];v.contentQueries&&v.contentQueries(1,o[f],f)}}}function Lp(n,i,o){pn()&&(function th(n,i,o,u){const l=o.directiveStart,f=o.directiveEnd;ki(o)&&function Gp(n,i,o){const u=ss(i,n),l=Qd(o),f=n[Ni],v=Vl(n,cd(n,l,null,o.onPush?32:16,u,i,f,f.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||Mu(o,i),xs(u,i);const v=o.initialInputs;for(let A=l;A<f;A++){const x=n.data[A],j=ti(i,n,A,o);xs(j,i),null!==v&&__(0,A-l,j,x,0,v),Ei(x)&&(wr(o.index,i)[En]=ti(i,n,A,o))}}(n,i,o,ss(o,i)),64==(64&o.flags)&&lf(n,i,o))}function af(n,i,o=ss){const u=i.localNames;if(null!==u){let l=i.index+1;for(let f=0;f<u.length;f+=2){const v=u[f+1],A=-1===v?o(i,n):n[v];n[l++]=A}}}function Qd(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Jd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Jd(n,i,o,u,l,f,v,A,x,j){const Q=ar+u,ce=Q+l,xe=function d_(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:yr);return o}(Q,ce),Je="function"==typeof j?j():j;return xe[pe]={type:n,blueprint:xe,template:o,queries:null,viewQuery:A,declTNode:i,data:xe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:Je,incompleteFirstPass:!1}}function Da(n,i,o,u){const l=Im(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&ff(n).push(u,l.length-1))}function Up(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const f=n[l];null===u?Xd(o,i,l,f):u.hasOwnProperty(l)&&Xd(o,i,u[l],f)}return o}function Xd(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function du(n,i,o,u,l,f,v,A){const x=ss(i,o);let Q,j=i.inputs;!A&&null!=j&&(Q=j[u])?(Zp(n,o,Q,u,l),ki(i)&&function p_(n,i){const o=wr(i,n);16&o[ye]||(o[ye]|=32)}(o,i.index)):3&i.type&&(u=function Vp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,f.setProperty(x,u,l))}function Bp(n,i,o,u){if(pn()){const l=null===u?null:{"":-1},f=function $p(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let f=0;f<o.length;f++){const v=o[f];if(Dp(i,v.selectors,!1))if(u||(u=[]),Ei(v))if(null!==v.findHostDirectiveDefs){const A=[];l=l||new Map,v.findHostDirectiveDefs(v,A,l),u.unshift(...A,v),fd(n,i,A.length)}else u.unshift(v),fd(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,A;null===f?v=A=null:[v,A]=f,null!==v&&uf(n,i,o,v,l,A),l&&function nh(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const f=o[i[l+1]];if(null==f)throw new Ge(-301,!1);u.push(i[l],f)}}}(o,u,l)}o.mergedAttrs=rn(o.mergedAttrs,o.attrs)}function uf(n,i,o,u,l,f){for(let j=0;j<u.length;j++)qn(Mu(o,i),n,u[j].type);!function Em(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let j=0;j<u.length;j++){const Q=u[j];Q.providersResolver&&Q.providersResolver(Q)}let v=!1,A=!1,x=hc(n,i,u.length,null);for(let j=0;j<u.length;j++){const Q=u[j];o.mergedAttrs=rn(o.mergedAttrs,Q.hostAttrs),Hp(n,o,i,x,Q),jp(x,Q,l),null!==Q.contentQueries&&(o.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(o.flags|=64);const ce=Q.type.prototype;!v&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!A&&(ce.ngOnChanges||ce.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),A=!0),x++}!function eh(n,i,o){const l=i.directiveEnd,f=n.data,v=i.attrs,A=[];let x=null,j=null;for(let Q=i.directiveStart;Q<l;Q++){const ce=f[Q],xe=o?o.get(ce):null,St=xe?xe.outputs:null;x=Up(ce.inputs,Q,x,xe?xe.inputs:null),j=Up(ce.outputs,Q,j,St);const Gt=null===x||null===v||lc(i)?null:zp(x,Q,v);A.push(Gt)}null!==x&&(x.hasOwnProperty("class")&&(i.flags|=8),x.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=A,i.inputs=x,i.outputs=j}(n,o,f)}function lf(n,i,o){const u=o.directiveStart,l=o.directiveEnd,f=o.index,v=function ka(){return wn.lFrame.currentDirectiveIndex}();try{So(f);for(let A=u;A<l;A++){const x=n.data[A],j=i[A];eo(A),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&hd(x,j)}}finally{So(-1),eo(v)}}function hd(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function fd(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function jp(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Ei(i)&&(o[""]=n)}}function Hp(n,i,o,u,l){n.data[u]=l;const f=l.factory||(l.factory=ms(l.type)),v=new oi(f,Ei(l),ld);n.blueprint[u]=v,o[u]=v,function m_(n,i,o,u,l){const f=l.hostBindings;if(f){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const A=~i.index;(function y_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=A&&v.push(A),v.push(o,u,f)}}(n,i,u,hc(n,o,l.hostVars,yr),l)}function Ca(n,i,o,u,l,f){const v=ss(n,i);!function cf(n,i,o,u,l,f,v){if(null==f)n.removeAttribute(i,l,o);else{const A=null==v?st(f):v(f,u||"",l);n.setAttribute(i,l,A,o)}}(i[In],v,f,n.value,o,u,l)}function __(n,i,o,u,l,f){const v=f[i];if(null!==v){const A=u.setInput;for(let x=0;x<v.length;){const j=v[x++],Q=v[x++],ce=v[x++];null!==A?u.setInput(o,ce,j,Q):o[Q]=ce}}}function zp(n,i,o){let u=null,l=0;for(;l<o.length;){const f=o[l];if(0!==f)if(5!==f){if("number"==typeof f)break;if(n.hasOwnProperty(f)){null===u&&(u=[]);const v=n[f];for(let A=0;A<v.length;A+=2)if(v[A]===i){u.push(f,v[A+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function wm(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Wp(n,i){const o=wr(i,n);if(oa(o)){const u=o[pe];48&o[ye]?dd(u,o,u.template,o[En]):o[kt]>0&&pd(o)}}function pd(n){for(let u=F(n);null!==u;u=W(u))for(let l=Yi;l<u.length;l++){const f=u[l];if(oa(f))if(512&f[ye]){const v=f[pe];dd(v,f,v.template,f[En])}else f[kt]>0&&pd(f)}const o=n[pe].components;if(null!==o)for(let u=0;u<o.length;u++){const l=wr(o[u],n);oa(l)&&l[kt]>0&&pd(l)}}function Kp(n,i){const o=wr(i,n),u=o[pe];(function Tm(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Yd(u,o,o[En])}function Vl(n,i){return n[Br]?n[Aa][ut]=i:n[Br]=i,n[Aa]=i,i}function gd(n){for(;n;){n[ye]|=32;const i=d(n);if(Ds(n)&&!i)return n;n=i}return null}function df(n,i,o,u=!0){const l=i[Ni];l.begin&&l.begin();try{dd(n,i,n.template,o)}catch(v){throw u&&pf(i,v),v}finally{l.end&&l.end()}}function hf(n,i,o){Fr(0),i(n,o)}function Im(n){return n[Hn]||(n[Hn]=[])}function ff(n){return n.cleanup||(n.cleanup=[])}function pf(n,i){const o=n[sr],u=o?o.get(uc,null):null;u&&u.handleError(i)}function Zp(n,i,o,u,l){for(let f=0;f<o.length;){const v=o[f++],A=o[f++],x=i[v],j=n.data[v];null!==j.setInput?j.setInput(x,l,u,A):x[A]=l}}function tl(n,i,o){const u=Ui(i,n);!function Ze(n,i,o){n.setValue(i,o)}(n[In],u,o)}function gf(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,f=0;if(null!==i)for(let v=0;v<i.length;v++){const A=i[v];"number"==typeof A?f=A:1==f?l=an(l,A):2==f&&(u=an(u,A+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function md(n,i,o,u,l=!1){for(;null!==o;){const f=i[o.index];if(null!==f&&u.push(Pi(f)),Qi(f))for(let A=Yi;A<f.length;A++){const x=f[A],j=x[pe].firstChild;null!==j&&md(x[pe],x,j,u)}const v=o.type;if(8&v)md(n,i,o.child,u);else if(32&v){const A=Al(o,i);let x;for(;x=A();)u.push(x)}else if(16&v){const A=ls(i,o);if(Array.isArray(A))u.push(...A);else{const x=d(i[hi]);md(x[pe],x,A,u,!0)}}o=l?o.projectionNext:o.next}return u}class yd{get rootNodes(){const i=this._lView,o=i[pe];return md(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(i){this._lView[En]=i}get destroyed(){return 128==(128&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Ue];if(Qi(i)){const o=i[Uo],u=o?o.indexOf(this):-1;u>-1&&(Hr(i,u),tu(o,u))}this._attachedToViewContainer=!1}Pr(this._lView[pe],this._lView)}onDestroy(i){Da(this._lView[pe],this._lView,null,i)}markForCheck(){gd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-65}reattach(){this._lView[ye]|=64}detectChanges(){df(this._lView[pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vn(n,i){ru(n,i,i[In],2,null,null)}(this._lView[pe],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=i}}class Yp extends yd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;df(i[pe],i,i[En],!1)}checkNoChanges(){}get context(){return null}}class mf extends $d{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=tr(i);return new Gc(o,this.ngModule)}}function yf(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class fc{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=ze(u);const l=this.injector.get(i,Wh,u);return l!==Wh||o===Wh?l:this.parentInjector.get(i,o,u)}}class Gc extends ad{get inputs(){return yf(this.componentDef.inputs)}get outputs(){return yf(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Jy(n){return n.map(Qh).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let f=(l=l||this.ngModule)instanceof Iu?l:l?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const v=f?new fc(i,f):i,A=v.get(wp,null);if(null===A)throw new Ge(407,!1);const x=v.get(Gy,null),j=A.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ce=u?function h_(n,i,o){return n.selectRootElement(i,o===At.ShadowDom)}(j,u,this.componentDef.encapsulation):jt(j,Q,function _d(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Q)),xe=this.componentDef.onPush?288:272,Je=Jd(0,null,null,1,0,null,null,null,null,null),St=cd(null,Je,null,xe,null,null,A,j,x,v,null);let Gt,fn;zi(St);try{const Mn=this.componentDef;let Yn,Ut=null;Mn.findHostDirectiveDefs?(Yn=[],Ut=new Map,Mn.findHostDirectiveDefs(Mn,Yn,Ut),Yn.push(Mn)):Yn=[Mn];const Rr=function Dm(n,i){const o=n[pe],u=ar;return n[u]=i,Ul(o,u,2,"#host",null)}(St,ce),so=function Ed(n,i,o,u,l,f,v,A){const x=l[pe];!function w_(n,i,o,u){for(const l of n)i.mergedAttrs=rn(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(gf(i,i.mergedAttrs,!0),null!==o&&Rh(u,o,i))}(u,n,i,v);const j=f.createRenderer(i,o),Q=cd(l,Qd(o),null,o.onPush?32:16,l[n.index],n,f,j,A||null,null,null);return x.firstCreatePass&&fd(x,n,u.length-1),Vl(l,Q),l[n.index]=Q}(Rr,ce,Mn,Yn,St,A,j);fn=Vi(Je,ar),ce&&function Qp(n,i,o,u){if(u)Lr(n,o,["ng-version",qh.full]);else{const{attrs:l,classes:f}=function Xy(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let f=n[u];if("string"==typeof f)2===l?""!==f&&i.push(f,n[++u]):8===l&&o.push(f);else{if(!Bu(l))break;l=f}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&Lr(n,o,l),f&&f.length>0&&Pl(n,o,f.join(" "))}}(j,Mn,ce,u),void 0!==o&&function Jp(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const f=o[l];u.push(null!=f?Array.from(f):null)}}(fn,this.ngContentSelectors,o),Gt=function T_(n,i,o,u,l,f){const v=mi(),A=l[pe],x=ss(v,l);uf(A,l,v,o,null,u);for(let Q=0;Q<o.length;Q++)xs(ti(l,A,v.directiveStart+Q,v),l);lf(A,l,v),x&&xs(x,l);const j=ti(l,A,v.directiveStart+v.componentOffset,v);if(n[En]=l[En]=j,null!==f)for(const Q of f)Q(j,i);return sf(A,v,n),j}(so,Mn,Yn,Ut,St,[Xp]),Yd(Je,St,null)}finally{ua()}return new vd(this.componentType,Gt,_l(fn,St),St,fn)}}class vd extends Gh{constructor(i,o,u,l,f){super(),this.location=u,this._rootLView=l,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new Yp(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const f=this._rootLView;Zp(f[pe],f,l,i,o),gd(wr(this._tNode.index,f))}}get injector(){return new qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Xp(){const n=mi();tt(It()[pe],n)}function eg(n){let i=function _f(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Ei(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ge(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=ih(n.inputs),v.declaredInputs=ih(n.declaredInputs),v.outputs=ih(n.outputs);const A=l.hostBindings;A&&Cm(n,A);const x=l.viewQuery,j=l.contentQueries;if(x&&tg(n,x),j&&b_(n,j),Rt(n.inputs,l.inputs),Rt(n.declaredInputs,l.declaredInputs),Rt(n.outputs,l.outputs),Ei(l)&&l.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let v=0;v<f.length;v++){const A=f[v];A&&A.ngInherit&&A(n),A===eg&&(o=!1)}}i=Object.getPrototypeOf(i)}!function I_(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=rn(l.hostAttrs,o=rn(o,l.hostAttrs))}}(u)}function ih(n){return n===Kt?{}:n===nn?[]:n}function tg(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function b_(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,f)=>{i(u,l,f),o(u,l,f)}:i}function Cm(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function wd(n){return!!sh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function sh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function pa(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function ig(n,i,o,u){const l=It();return pa(l,Ya(),i)&&(nr(),Ca(Xr(),l,n,i,o,u)),ig}function Id(n,i,o,u){return pa(n,Ya(),o)?i+st(o)+u:yr}function mc(n,i,o,u,l,f){const A=function pc(n,i,o,u){const l=pa(n,i,o);return pa(n,i+1,u)||l}(n,function po(){return wn.lFrame.bindingIndex}(),o,l);return Ao(2),A?i+st(o)+u+st(l)+f:yr}function bf(n,i,o,u,l,f,v,A){const x=It(),j=nr(),Q=n+ar,ce=j.firstCreatePass?function M_(n,i,o,u,l,f,v,A,x){const j=i.consts,Q=Ul(i,n,4,v||null,Xi(j,A));Bp(i,o,Q,Xi(j,x)),tt(i,Q);const ce=Q.tView=Jd(2,Q,u,l,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,j);return null!==i.queries&&(i.queries.template(i,Q),ce.queries=i.queries.embeddedTView(Q)),Q}(Q,j,x,i,o,u,l,f,v):j.data[Q];wi(ce,!1);const xe=x[In].createComment("");Yo(j,x,xe,ce),xs(xe,x),Vl(x,x[Q]=wm(xe,x,xe,ce)),gs(ce)&&Lp(j,x,ce),null!=v&&af(x,ce,A)}function ag(n,i,o){const u=It();return pa(u,Ya(),i)&&du(nr(),Xr(),u,n,i,u[In],o,!1),ag}function oh(n,i,o,u,l){const v=l?"class":"style";Zp(n,o,i.inputs[v],v,u)}function Dd(n,i,o,u){const l=It(),f=nr(),v=ar+n,A=l[In],x=f.firstCreatePass?function Lm(n,i,o,u,l,f){const v=i.consts,x=Ul(i,n,2,u,Xi(v,l));return Bp(i,o,x,Xi(v,f)),null!==x.attrs&&gf(x,x.attrs,!1),null!==x.mergedAttrs&&gf(x,x.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,x),x}(v,f,l,i,o,u):f.data[v],j=l[v]=jt(A,i,function Y(){return wn.lFrame.currentNamespace}()),Q=gs(x);return wi(x,!0),Rh(A,j,x),32!=(32&x.flags)&&Yo(f,l,j,x),0===function O(){return wn.lFrame.elementDepthCount}()&&xs(j,l),function ee(){wn.lFrame.elementDepthCount++}(),Q&&(Lp(f,l,x),sf(f,x,l)),null!==u&&af(l,x),Dd}function ah(){let n=mi();xa()?Na():(n=n.parent,wi(n,!1));const i=n;!function it(){wn.lFrame.elementDepthCount--}();const o=nr();return o.firstCreatePass&&(tt(o,n),Mi(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function os(n){return 0!=(8&n.flags)}(i)&&oh(o,i,It(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function er(n){return 0!=(16&n.flags)}(i)&&oh(o,i,It(),i.stylesWithoutHost,!1),ah}function ug(n,i,o,u){return Dd(n,i,o,u),ah(),ug}function Cd(n,i,o){const u=It(),l=nr(),f=n+ar,v=l.firstCreatePass?function R_(n,i,o,u,l){const f=i.consts,v=Xi(f,u),A=Ul(i,n,8,"ng-container",v);return null!==v&&gf(A,v,!0),Bp(i,o,A,Xi(f,l)),null!==i.queries&&i.queries.elementStart(i,A),A}(f,l,u,i,o):l.data[f];wi(v,!0);const A=u[f]=u[In].createComment("");return Yo(l,u,A,v),xs(A,u),gs(v)&&(Lp(l,u,v),sf(l,v,u)),null!=o&&af(u,v),Cd}function Df(){let n=mi();const i=nr();return xa()?Na():(n=n.parent,wi(n,!1)),i.firstCreatePass&&(tt(i,n),Mi(n)&&i.queries.elementEnd(n)),Df}function Af(){return It()}function uh(n){return!!n&&"function"==typeof n.then}function Um(n){return!!n&&"function"==typeof n.subscribe}const lh=Um;function lg(n,i,o,u){const l=It(),f=nr(),v=mi();return function qc(n,i,o,u,l,f,v){const A=gs(u),j=n.firstCreatePass&&ff(n),Q=i[En],ce=Im(i);let xe=!0;if(3&u.type||v){const Gt=ss(u,i),fn=v?v(Gt):Gt,Mn=ce.length,Yn=v?Rr=>v(Pi(Rr[u.index])):u.index;let Ut=null;if(!v&&A&&(Ut=function Vm(n,i,o,u){const l=n.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const v=l[f];if(v===o&&l[f+1]===u){const A=i[Hn],x=l[f+2];return A.length>x?A[x]:null}"string"==typeof v&&(f+=2)}return null}(n,i,l,u.index)),null!==Ut)(Ut.__ngLastListenerFn__||Ut).__ngNextListenerFn__=f,Ut.__ngLastListenerFn__=f,xe=!1;else{f=ch(u,i,Q,f,!1);const Rr=o.listen(fn,l,f);ce.push(f,Rr),j&&j.push(l,Yn,Mn,Mn+1)}}else f=ch(u,i,Q,f,!1);const Je=u.outputs;let St;if(xe&&null!==Je&&(St=Je[l])){const Gt=St.length;if(Gt)for(let fn=0;fn<Gt;fn+=2){const so=i[St[fn]][St[fn+1]].subscribe(f),Xo=ce.length;ce.push(f,so),j&&j.push(l,u.index,Xo,-(Xo+1))}}}(f,l,l[In],v,n,i,u),lg}function dg(n,i,o,u){try{return Li(6,i,o),!1!==o(u)}catch(l){return pf(n,l),!1}finally{Li(7,i,o)}}function ch(n,i,o,u,l){return function f(v){if(v===Function)return u;gd(n.componentOffset>-1?wr(n.index,i):i);let x=dg(i,o,u,v),j=f.__ngNextListenerFn__;for(;j;)x=dg(i,o,j,v)&&x,j=j.__ngNextListenerFn__;return l&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function Bm(n=1){return function Gs(n){return(wn.lFrame.contextLView=function Tr(n,i){for(;n>0;)i=i[pi],n--;return i}(n,wn.lFrame.contextLView))[En]}(n)}function Ad(n,i,o){return dh(n,"",i,"",o),Ad}function dh(n,i,o,u,l){const f=It(),v=Id(f,i,o,u);return v!==yr&&du(nr(),Xr(),f,n,v,f[In],l,!1),dh}function Wc(n,i){return n<<17|i<<2}function Bl(n){return n>>17&32767}function Ec(n){return 2|n}function $l(n){return(131068&n)>>2}function gg(n,i){return-131069&n|i<<2}function mg(n){return 1|n}function Hm(n,i,o,u,l){const f=n[o+1],v=null===i;let A=u?Bl(f):$l(f),x=!1;for(;0!==A&&(!1===x||v);){const Q=n[A+1];U_(n[A],i)&&(x=!0,n[A+1]=u?mg(Q):Ec(Q)),A=u?Bl(Q):$l(Q)}x&&(n[o+1]=u?Ec(f):mg(f))}function U_(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&U(n,i)>=0}const Jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yg(n){return n.substring(Jo.key,Jo.keyEnd)}function vg(n,i){const o=Jo.textEnd;return o===i?-1:(i=Jo.keyEnd=function zm(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Jo.key=i,o),Kc(n,i,o))}function Kc(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Eg(n,i,o){return bu(n,i,o,!1),Eg}function Wm(n,i){return bu(n,i,null,!0),Wm}function wg(n){!function il(n,i,o,u){const l=nr(),f=Ao(2);l.firstUpdatePass&&fs(l,null,f,u);const v=It();if(o!==yr&&pa(v,f,o)){const A=l.data[An()];if(Ig(A,u)&&!B_(l,f)){let x=u?A.classesWithoutHost:A.stylesWithoutHost;null!==x&&(o=an(x,o||"")),oh(l,A,v,o,u)}else!function EE(n,i,o,u,l,f,v,A){l===yr&&(l=nn);let x=0,j=0,Q=0<l.length?l[0]:null,ce=0<f.length?f[0]:null;for(;null!==Q||null!==ce;){const xe=x<l.length?l[x+1]:void 0,Je=j<f.length?f[j+1]:void 0;let Gt,St=null;Q===ce?(x+=2,j+=2,xe!==Je&&(St=ce,Gt=Je)):null===ce||null!==Q&&Q<ce?(x+=2,St=Q):(j+=2,St=ce,Gt=Je),null!==St&&H_(n,i,o,u,St,Gt,v,A),Q=x<l.length?l[x]:null,ce=j<f.length?f[j]:null}}(l,A,v,v[In],v[f+1],v[f+1]=function Ym(n,i,o){if(null==o||""===o)return nn;const u=[],l=iu(o);if(Array.isArray(l))for(let f=0;f<l.length;f++)n(u,l[f],!0);else if("object"==typeof l)for(const f in l)l.hasOwnProperty(f)&&n(u,f,l[f]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,f)}}(vE,Tl,n,!0)}function Tl(n,i){for(let o=function V_(n){return function li(n){Jo.key=0,Jo.keyEnd=0,Jo.value=0,Jo.valueEnd=0,Jo.textEnd=n.length}(n),vg(n,Kc(n,0,Jo.textEnd))}(i);o>=0;o=vg(i,o))y(n,yg(i),!0)}function bu(n,i,o,u){const l=It(),f=nr(),v=Ao(2);f.firstUpdatePass&&fs(f,n,v,u),i!==yr&&pa(l,v,i)&&H_(f,f.data[An()],l,l[In],n,l[v+1]=function wE(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=yt(iu(n)))),n}(i,o),u,v)}function B_(n,i){return i>=n.expandoStartIndex}function fs(n,i,o,u){const l=n.data;if(null===l[o+1]){const f=l[An()],v=B_(n,o);Ig(f,u)&&null===i&&!v&&(i=!1),i=function _E(n,i,o,u){const l=js(n);let f=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=Nf(o=Zm(null,n,i,o,u),i.attrs,u),f=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=Zm(l,n,i,o,u),null===f){let x=function $_(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==$l(u))return n[Bl(u)]}(n,i,u);void 0!==x&&Array.isArray(x)&&(x=Zm(null,n,i,x[1],u),x=Nf(x,i.attrs,u),function Fo(n,i,o,u){n[Bl(o?i.classBindings:i.styleBindings)]=u}(n,i,u,x))}else f=function Km(n,i,o){let u;const l=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<l;f++)u=Nf(u,n[f].hostAttrs,o);return Nf(u,i.attrs,o)}(n,i,u)}return void 0!==f&&(u?i.residualClasses=f:i.residualStyles=f),o}(l,f,i,u),function jm(n,i,o,u,l,f){let v=f?i.classBindings:i.styleBindings,A=Bl(v),x=$l(v);n[u]=o;let Q,j=!1;if(Array.isArray(o)?(Q=o[1],(null===Q||U(o,Q)>0)&&(j=!0)):Q=o,l)if(0!==x){const xe=Bl(n[A+1]);n[u+1]=Wc(xe,A),0!==xe&&(n[xe+1]=gg(n[xe+1],u)),n[A+1]=function $m(n,i){return 131071&n|i<<17}(n[A+1],u)}else n[u+1]=Wc(A,0),0!==A&&(n[A+1]=gg(n[A+1],u)),A=u;else n[u+1]=Wc(x,0),0===A?A=u:n[x+1]=gg(n[x+1],u),x=u;j&&(n[u+1]=Ec(n[u+1])),Hm(n,Q,u,!0),Hm(n,Q,u,!1),function L_(n,i,o,u,l){const f=l?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof i&&U(f,i)>=0&&(o[u+1]=mg(o[u+1]))}(i,Q,n,u,f),v=Wc(A,x),f?i.classBindings=v:i.styleBindings=v}(l,f,i,o,v,u)}}function Zm(n,i,o,u,l){let f=null;const v=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<v&&(f=i[A],u=Nf(u,f.hostAttrs,l),f!==n);)A++;return null!==n&&(o.directiveStylingLast=A),u}function Nf(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let f=0;f<i.length;f++){const v=i[f];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),y(n,v,!!o||i[++f]))}return void 0===n?null:n}function vE(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&y(n,u,o)}function H_(n,i,o,u,l,f,v,A){if(!(3&i.type))return;const x=n.data,j=x[A+1],Q=function k_(n){return 1==(1&n)}(j)?G_(x,i,o,l,$l(j),v):void 0;Tg(Q)||(Tg(f)||function pg(n){return 2==(2&n)}(j)&&(f=G_(x,null,o,l,A,v)),function rp(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let f=-1===u.indexOf("-")?void 0:Oo.DashCase;null==l?n.removeStyle(o,u,f):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),f|=Oo.Important),n.setStyle(o,u,l,f))}}(u,v,Ui(An(),o),l,f))}function G_(n,i,o,u,l,f){const v=null===i;let A;for(;l>0;){const x=n[l],j=Array.isArray(x),Q=j?x[1]:x,ce=null===Q;let xe=o[l+1];xe===yr&&(xe=ce?nn:void 0);let Je=ce?S(xe,u):Q===u?xe:void 0;if(j&&!Tg(Je)&&(Je=S(x,u)),Tg(Je)&&(A=Je,v))return A;const St=n[l+1];l=v?Bl(St):$l(St)}if(null!==i){let x=f?i.residualClasses:i.residualStyles;null!=x&&(A=S(x,u))}return A}function Tg(n){return void 0!==n}function Ig(n,i){return 0!=(n.flags&(i?8:16))}function Sd(n,i=""){const o=It(),u=nr(),l=n+ar,f=u.firstCreatePass?Ul(u,l,1,i,null):u.data[l],v=o[l]=function Ce(n,i){return n.createText(i)}(o[In],i);Yo(u,o,v,f),wi(f,!1)}function bg(n){return Il("",n,""),bg}function Il(n,i,o){const u=It(),l=Id(u,n,i,o);return l!==yr&&tl(u,An(),l),Il}function wc(n,i,o,u,l){const f=It(),v=mc(f,n,i,o,u,l);return v!==yr&&tl(f,An(),v),wc}function uy(n,i,o){const u=It();if(pa(u,Ya(),i)){const f=nr(),v=Xr();du(f,v,u,n,i,function bm(n,i,o){return(null===n||Ei(n))&&(o=function sa(n){for(;Array.isArray(n);){if("object"==typeof n[Us])return n;n=n[Or]}return null}(o[i.index])),o[In]}(js(f.data),v,u),o,!0)}return uy}const sl=void 0;var Pd=["en",[["a","p"],["AM","PM"],sl],[["AM","PM"],sl,sl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sl,"{1} 'at' {0}",sl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TE(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Eh={};function wh(n){const i=function IE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Q_(i);if(o)return o;const u=i.split("-")[0];if(o=Q_(u),o)return o;if("en"===u)return Pd;throw new Ge(701,!1)}function Th(n){return wh(n)[Zn.PluralCase]}function Q_(n){return n in Eh||(Eh[n]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[n]),Eh[n]}var Zn=(()=>((Zn=Zn||{})[Zn.LocaleId=0]="LocaleId",Zn[Zn.DayPeriodsFormat=1]="DayPeriodsFormat",Zn[Zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Zn[Zn.DaysFormat=3]="DaysFormat",Zn[Zn.DaysStandalone=4]="DaysStandalone",Zn[Zn.MonthsFormat=5]="MonthsFormat",Zn[Zn.MonthsStandalone=6]="MonthsStandalone",Zn[Zn.Eras=7]="Eras",Zn[Zn.FirstDayOfWeek=8]="FirstDayOfWeek",Zn[Zn.WeekendRange=9]="WeekendRange",Zn[Zn.DateFormat=10]="DateFormat",Zn[Zn.TimeFormat=11]="TimeFormat",Zn[Zn.DateTimeFormat=12]="DateTimeFormat",Zn[Zn.NumberSymbols=13]="NumberSymbols",Zn[Zn.NumberFormats=14]="NumberFormats",Zn[Zn.CurrencyCode=15]="CurrencyCode",Zn[Zn.CurrencySymbol=16]="CurrencySymbol",Zn[Zn.CurrencyName=17]="CurrencyName",Zn[Zn.Currencies=18]="Currencies",Zn[Zn.Directionality=19]="Directionality",Zn[Zn.PluralCase=20]="PluralCase",Zn[Zn.ExtraData=21]="ExtraData",Zn))();const Ih="en-US";let xg=Ih;function Ug(n,i,o,u,l){if(n=$t(n),Array.isArray(n))for(let f=0;f<n.length;f++)Ug(n[f],i,o,u,l);else{const f=nr(),v=It();let A=sc(n)?n:$t(n.provide),x=jh(n);const j=mi(),Q=1048575&j.providerIndexes,ce=j.directiveStart,xe=j.providerIndexes>>20;if(sc(n)||!n.multi){const Je=new oi(x,l,ld),St=Bg(A,i,l?Q:Q+xe,ce);-1===St?(qn(Mu(j,v),f,A),Vg(f,n,i.length),i.push(A),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Je),v.push(Je)):(o[St]=Je,v[St]=Je)}else{const Je=Bg(A,i,Q+xe,ce),St=Bg(A,i,Q,Q+xe),fn=St>=0&&o[St];if(l&&!fn||!l&&!(Je>=0&&o[Je])){qn(Mu(j,v),f,A);const Mn=function qE(n,i,o,u,l){const f=new oi(n,o,ld);return f.multi=[],f.index=i,f.componentProviders=0,wy(f,l,u&&!o),f}(l?zE:Av,o.length,l,u,x);!l&&fn&&(o[St].providerFactory=Mn),Vg(f,n,i.length,0),i.push(A),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Mn),v.push(Mn)}else Vg(f,n,Je>-1?Je:St,wy(o[l?St:Je],x,!l&&u));!l&&u&&fn&&o[St].componentProviders++}}}function Vg(n,i,o,u){const l=sc(i),f=function kl(n){return!!n.useClass}(i);if(l||f){const x=(f?$t(i.useClass):i).prototype.ngOnDestroy;if(x){const j=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const Q=j.indexOf(o);-1===Q?j.push(o,[u,x]):j[Q+1].push(u,x)}else j.push(o,x)}}}function wy(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Bg(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function Av(n,i,o,u){return Ty(this.multi,[])}function zE(n,i,o,u){const l=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,A=ti(o,o[pe],this.providerFactory.index,u);f=A.slice(0,v),Ty(l,f);for(let x=v;x<A.length;x++)f.push(A[x])}else f=[],Ty(l,f);return f}function Ty(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Sv(n,i=[]){return o=>{o.providersResolver=(u,l)=>function Cv(n,i,o){const u=nr();if(u.firstCreatePass){const l=Ei(n);Ug(o,u.data,u.blueprint,l,!0),Ug(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class Nd{}class Mv{}function WE(n,i){return new Pv(n,i??null)}class Pv extends Nd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mf(this);const u=si(i);this._bootstrapComponents=El(u.bootstrap),this._r3Injector=hm(i,o,[{provide:Nd,useValue:this},{provide:$d,useValue:this.componentFactoryResolver}],yt(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Iy extends Mv{constructor(i){super(),this.moduleType=i}create(i){return new Pv(this.moduleType,i)}}class KE extends Nd{constructor(i,o,u){super(),this.componentFactoryResolver=new mf(this),this.instance=null;const l=new oc([...i,{provide:Nd,useValue:this},{provide:$d,useValue:this.componentFactoryResolver}],o||yl(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function by(n,i,o=null){return new KE(n,i,o).injector}let ZE=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Zg(0,o.type),l=u.length>0?by([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=vr({token:n,providedIn:"environment",factory:()=>new n(re(Iu))}),n})();function Dy(n){n.getStandaloneInjector=i=>i.get(ZE).getOrCreateStandaloneInjector(n)}function r(n){return i=>{setTimeout(n,void 0,i)}}const e=class _0 extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,f=o||(()=>null),v=u;if(i&&"object"==typeof i){const x=i;l=x.next?.bind(x),f=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(f=r(f),l&&(l=r(l)),v&&(v=r(v)));const A=super.subscribe({next:l,error:f,complete:v});return i instanceof $.w0&&i.add(A),A}};function t(){return this._results[Symbol.iterator]()}class s{get changes(){return this._changes||(this._changes=new e)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=s.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=t)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function _o(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Es(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],f=i[u];if(o&&(l=o(l),f=o(f)),f!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let a=(()=>{class n{}return n.__NG_ELEMENT_ID__=C,n})();const c=a,p=class extends c{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=cd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[Fs]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Zi];return null!==v&&(l[Zi]=v.createEmbeddedView(u)),Yd(u,l,i),new yd(l)}};function C(){return B(mi(),It())}function B(n,i){return 4&n.type?new p(i,n,_l(n,i)):null}let G=(()=>{class n{}return n.__NG_ELEMENT_ID__=J,n})();function J(){return sn(mi(),It())}const Ie=G,Ke=class extends Ie{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return _l(this._hostTNode,this._hostLView)}get injector(){return new qi(this._hostTNode,this._hostLView)}get parentInjector(){const i=Fa(this._hostTNode,this._hostLView);if(Dl(i)){const o=Pt(i,this._hostLView),u=qt(i);return new qi(o[pe].data[u+8],o)}return new qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Dt(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Yi}createEmbeddedView(i,o,u){let l,f;"number"==typeof u?l=u:null!=u&&(l=u.index,f=u.injector);const v=i.createEmbeddedView(o||{},f);return this.insert(v,l),v}createComponent(i,o,u,l,f){const v=i&&!function Ba(n){return"function"==typeof n}(i);let A;if(v)A=o;else{const ce=o||{};A=ce.index,u=ce.injector,l=ce.projectableNodes,f=ce.environmentInjector||ce.ngModuleRef}const x=v?i:new Gc(tr(i)),j=u||this.parentInjector;if(!f&&null==x.ngModule){const xe=(v?j:this.parentInjector).get(Iu,null);xe&&(f=xe)}const Q=x.create(j,l,void 0,f);return this.insert(Q.hostView,A),Q}insert(i,o){const u=i._lView,l=u[pe];if(function aa(n){return Qi(n[Ue])}(u)){const Q=this.indexOf(i);if(-1!==Q)this.detach(Q);else{const ce=u[Ue],xe=new Ke(ce,ce[on],ce[Ue]);xe.detach(xe.indexOf(i))}}const f=this._adjustIndex(o),v=this._lContainer;!function Gn(n,i,o,u){const l=Yi+u,f=o.length;u>0&&(o[l-1][ut]=i),u<f-Yi?(i[ut]=o[l],xo(o,Yi+u,i)):(o.push(i),i[ut]=null),i[Ue]=o;const v=i[Fs];null!==v&&o!==v&&function fr(n,i){const o=n[Vo];i[hi]!==i[Ue][Ue][hi]&&(n[ao]=!0),null===o?n[Vo]=[i]:o.push(i)}(v,i);const A=i[Zi];null!==A&&A.insertView(n),i[ye]|=64}(l,u,v,f);const A=Ml(f,v),x=u[In],j=Sl(x,v[Ys]);return null!==j&&function xn(n,i,o,u,l,f){u[Or]=l,u[on]=i,ru(n,u,o,1,l,f)}(l,v[on],x,u,j,A),i.attachToViewContainerRef(),xo(Ht(v),f,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Dt(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Hr(this._lContainer,o);u&&(tu(Ht(this._lContainer),o),Pr(u[pe],u))}detach(i){const o=this._adjustIndex(i,-1),u=Hr(this._lContainer,o);return u&&null!=tu(Ht(this._lContainer),o)?new yd(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function Dt(n){return n[Uo]}function Ht(n){return n[Uo]||(n[Uo]=[])}function sn(n,i){let o;const u=i[n.index];if(Qi(u))o=u;else{let l;if(8&n.type)l=Pi(u);else{const f=i[In];l=f.createComment("");const v=ss(n,i);Zo(f,Sl(f,v),l,function Dn(n,i){return n.nextSibling(i)}(f,v),!1)}i[n.index]=o=wm(u,i,l,n),Vl(i,o)}return new Ke(o,n,i)}class Rn{constructor(i){this.queryList=i,this.matches=null}clone(){return new Rn(this.queryList)}setDirty(){this.queryList.setDirty()}}class _r{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let f=0;f<u;f++){const v=o.getByIndex(f);l.push(this.queries[v.indexInDeclarationView].clone())}return new _r(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==D0(i,o).matches&&this.queries[o].setDirty()}}class Ii{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class br{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,f=this.getByIndex(u).embeddedTView(i,l);f&&(f.indexInDeclarationView=u,null!==o?o.push(f):o=[f])}return null!==o?new br(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Ga{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Ga(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const f=u[l];this.matchTNodeWithReadOption(i,o,bo(o,f)),this.matchTNodeWithReadOption(i,o,_a(o,i,f,!1,!1))}else u===a?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,_a(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===el||l===G||l===a&&4&o.type)this.addMatch(o.index,-2);else{const f=_a(o,i,l,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function bo(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function Du(n,i,o,u){return-1===o?function Os(n,i){return 11&n.type?_l(n,i):4&n.type?B(n,i):null}(i,n):-2===o?function Tc(n,i,o){return o===el?_l(i,n):o===a?B(i,n):o===G?sn(i,n):void 0}(n,i,u):ti(n,n[pe],o,i)}function v0(n,i,o,u){const l=i[Zi].queries[u];if(null===l.matches){const f=n.data,v=o.matches,A=[];for(let x=0;x<v.length;x+=2){const j=v[x];A.push(j<0?null:Du(i,f[j],v[x+1],o.metadata.read))}l.matches=A}return l.matches}function zv(n,i,o,u){const l=n.queries.getByIndex(o),f=l.matches;if(null!==f){const v=v0(n,i,l,o);for(let A=0;A<f.length;A+=2){const x=f[A];if(x>0)u.push(v[A/2]);else{const j=f[A+1],Q=i[-x];for(let ce=Yi;ce<Q.length;ce++){const xe=Q[ce];xe[Fs]===xe[Ue]&&zv(xe[pe],xe,j,u)}if(null!==Q[Vo]){const ce=Q[Vo];for(let xe=0;xe<ce.length;xe++){const Je=ce[xe];zv(Je[pe],Je,j,u)}}}}}return u}function E0(n){const i=It(),o=nr(),u=Qa();Fr(u+1);const l=D0(o,u);if(n.dirty&&function Ho(n){return 4==(4&n[ye])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const f=l.crossesNgTemplate?zv(o,i,u,[]):v0(o,i,l,u);n.reset(f,ac),n.notifyOnChanges()}return!0}return!1}function w0(n,i,o,u){const l=nr();if(l.firstCreatePass){const f=mi();(function b0(n,i,o){null===n.queries&&(n.queries=new br),n.queries.track(new Ga(i,o))})(l,new Ii(i,o,u),f.index),function Pw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function I0(n,i,o){const u=new s(4==(4&o));Da(n,i,u,u.destroy),null===i[Zi]&&(i[Zi]=new _r),i[Zi].queries.push(new Rn(u))}(l,It(),o)}function T0(){return function Mw(n,i){return n[Zi].queries[i].queryList}(It(),Qa())}function D0(n,i){return n.queries.getByIndex(i)}function qv(n){return!!si(n)}function My(...n){}const H0=new or("Application Initializer");let Py=(()=>{class n{constructor(o){this.appInits=o,this.resolve=My,this.reject=My,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(uh(f))o.push(f);else if(lh(f)){const v=new Promise((A,x)=>{f.subscribe({complete:A,error:x})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(re(H0,8))},n.\u0275prov=vr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const G0=new or("AppId",{providedIn:"root",factory:function z0(){return`${Qv()}${Qv()}${Qv()}`}});function Qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const q0=new or("Platform Initializer"),Qw=new or("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jw=new or("AnimationModuleType");let Xw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=vr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ry=new or("LocaleId",{providedIn:"root",factory:()=>ve(Ry,Tt.Optional|Tt.SkipSelf)||function eT(){return typeof $localize<"u"&&$localize.locale||Ih}()}),tT=new or("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nT{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let rT=(()=>{class n{compileModuleSync(o){return new Iy(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),f=El(si(o).declarations).reduce((v,A)=>{const x=tr(A);return x&&v.push(new Gc(x)),v},[]);return new nT(u,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=vr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oT=(()=>Promise.resolve(0))();function Jv(n){typeof Zone>"u"?oT.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class bl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new e(!1),this.onMicrotaskEmpty=new e(!1),this.onStable=new e(!1),this.onError=new e(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function aT(){let n=Bn.requestAnimationFrame,i=Bn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function cT(n){const i=()=>{!function lT(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Bn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,eE(n),n.isCheckStableRunning=!0,Xv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),eE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,f,v,A)=>{try{return Z0(n),o.invokeTask(l,f,v,A)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&i(),Y0(n)}},onInvoke:(o,u,l,f,v,A,x)=>{try{return Z0(n),o.invoke(l,f,v,A,x)}finally{n.shouldCoalesceRunChangeDetection&&i(),Y0(n)}},onHasTask:(o,u,l,f)=>{o.hasTask(l,f),u===l&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,eE(n),Xv(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,u,l,f)=>(o.handleError(l,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bl.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(bl.isInAngularZone())throw new Ge(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+l,i,uT,My,My);try{return f.runTask(v,o,u)}finally{f.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const uT={};function Xv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function eE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Z0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Y0(n){n._nesting--,Xv(n)}class dT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new e,this.onMicrotaskEmpty=new e,this.onStable=new e,this.onError=new e}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Q0=new or(""),J0=new or("");let tE,hT=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tE||(function fT(n){tE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bl.assertNotInAngularZone(),Jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(re(bl),re(X0),re(J0))},n.\u0275prov=vr({token:n,factory:n.\u0275fac}),n})(),X0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return tE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=vr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Yc=!1;let Od=null;const ew=new or("AllowMultipleToken"),nE=new or("PlatformDestroyListeners"),tw=new or("appBootstrapListener");class mT{constructor(i,o){this.name=i,this.token=o}}function rw(n,i,o=[]){const u=`Platform: ${i}`,l=new or(u);return(f=[])=>{let v=rE();if(!v||v.injector.get(ew,!1)){const A=[...o,...f,{provide:l,useValue:!0}];n?n(A):function yT(n){if(Od&&!Od.get(ew,!1))throw new Ge(400,!1);Od=n;const i=n.get(sw);(function nw(n){const i=n.get(q0,null);i&&i.forEach(o=>o())})(n)}(function iw(n=[],i){return Bc.create({name:i,providers:[{provide:Bh,useValue:"platform"},{provide:nE,useValue:new Set([()=>Od=null])},...n]})}(A,u))}return function vT(n){const i=rE();if(!i)throw new Ge(401,!1);return i}()}}function rE(){return Od?.get(sw)??null}let sw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function aw(n,i){let o;return o="noop"===n?new dT:("zone.js"===n?void 0:n)||new bl(i),o}(u?.ngZone,function ow(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),f=[{provide:bl,useValue:l}];return l.run(()=>{const v=Bc.create({providers:f,parent:this.injector,name:o.moduleType.name}),A=o.create(v),x=A.injector.get(uc,null);if(!x)throw new Ge(402,!1);return l.runOutsideAngular(()=>{const j=l.onError.subscribe({next:Q=>{x.handleError(Q)}});A.onDestroy(()=>{Ny(this._modules,A),j.unsubscribe()})}),function uw(n,i,o){try{const u=o();return uh(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(x,l,()=>{const j=A.injector.get(Py);return j.runInitializers(),j.donePromise.then(()=>(function Ng(n){On(n,"Expected localeId to be defined"),"string"==typeof n&&(xg=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Ry,Ih)||Ih),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const l=lw({},u);return function pT(n,i,o){const u=new Iy(o);return Promise.resolve(u)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(o){const u=o.injector.get(xy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Ge(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(nE,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(re(Bc))},n.\u0275prov=vr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function lw(n,i){return Array.isArray(i)?i.reduce(lw,n):{...n,...i}}let xy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new I.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),v=new I.y(A=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{bl.assertNotInAngularZone(),Jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{bl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{x.unsubscribe(),j.unsubscribe()}});this.isStable=function et(...n){const i=(0,be.yG)(n),o=(0,be._6)(n,1/0),u=n;return u.length?1===u.length?(0,de.Xf)(u[0]):(0,Pe.J)(o)((0,lt.D)(u,i)):Ve.E}(f,v.pipe(function Ye(n={}){const{connector:i=(()=>new g.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:l=!0}=n;return f=>{let v,A,x,j=0,Q=!1,ce=!1;const xe=()=>{A?.unsubscribe(),A=void 0},Je=()=>{xe(),v=x=void 0,Q=ce=!1},St=()=>{const Gt=v;Je(),Gt?.unsubscribe()};return(0,ae.e)((Gt,fn)=>{j++,!ce&&!Q&&xe();const Mn=x=x??i();fn.add(()=>{j--,0===j&&!ce&&!Q&&(A=ht(St,l))}),Mn.subscribe(fn),!v&&j>0&&(v=new he.Hp({next:Yn=>Mn.next(Yn),error:Yn=>{ce=!0,xe(),A=ht(Je,o,Yn),Mn.error(Yn)},complete:()=>{Q=!0,xe(),A=ht(Je,u),Mn.complete()}}),(0,de.Xf)(Gt).subscribe(v))})(f)}}()))}bootstrap(o,u){const l=o instanceof ad;if(!this._injector.get(Py).done){!l&&Gr(o);throw new Ge(405,Yc)}let v;v=l?o:this._injector.get($d).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const A=function gT(n){return n.isBoundToModule}(v)?void 0:this._injector.get(Nd),j=v.create(Bc.NULL,[],u||v.selector,A),Q=j.location.nativeElement,ce=j.injector.get(Q0,null);return ce?.registerApplication(Q),j.onDestroy(()=>{this.detachView(j.hostView),Ny(this.components,j),ce?.unregisterApplication(Q)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ny(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(tw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ny(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ge(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(re(bl),re(Iu),re(uc))},n.\u0275prov=vr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ny(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function wT(){}let TT=(()=>{class n{}return n.__NG_ELEMENT_ID__=IT,n})();function IT(n){return function bT(n,i,o){if(ki(n)&&!o){const u=wr(n.index,i);return new yd(u,u)}return 47&n.type?new yd(i[hi],i):null}(mi(),It(),16==(16&n))}class pw{constructor(){}supports(i){return wd(i)}create(i){return new PT(i)}}const MT=(n,i)=>i;class PT{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||MT}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,f=null;for(;o||u;){const v=!u||o&&o.currentIndex<mw(u,l,f)?o:u,A=mw(v,l,f),x=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{f||(f=[]);const j=A-l,Q=x-l;if(j!=Q){for(let xe=0;xe<j;xe++){const Je=xe<f.length?f[xe]:f[xe]=0,St=Je+xe;Q<=St&&St<j&&(f[xe]=Je+1)}f[v.previousIndex]=Q-j}}A!==x&&i(v,A,x)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!wd(i))throw new Ge(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,f,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let A=0;A<this.length;A++)f=i[A],v=this._trackByFn(A,f),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,f,v,A)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,v,A),u=!0),o=o._next}else l=0,function A_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,A=>{v=this._trackByFn(l,A),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,A,v,l)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,f,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,f,l)):i=this._addAfter(new RT(o,u),f,l),i}_verifyReinsertion(i,o,u,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?i=this._reinsertAfter(f,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,f=i._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new gw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class RT{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class gw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new xT,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mw(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class yw{constructor(){}supports(i){return i instanceof Map||sh(i)}create(){return new NT}}class NT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||sh(i)))throw new Ge(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const f=l._prev,v=l._next;return f&&(f._next=v),v&&(v._prev=f),l._next=null,l._prev=null,l}const u=new OT(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class OT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _w(){return new uE([new pw])}let uE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||_w()),deps:[[n,new no,new ws]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Ge(901,!1)}}return n.\u0275prov=vr({token:n,providedIn:"root",factory:_w}),n})();function vw(){return new lE([new yw])}let lE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||vw()),deps:[[n,new no,new ws]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Ge(901,!1)}}return n.\u0275prov=vr({token:n,providedIn:"root",factory:vw}),n})();const LT=rw(null,"core",[]);let UT=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(re(xy))},n.\u0275mod=ci({type:n}),n.\u0275inj=Hi({}),n})();function VT(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(yn,ct,q)=>{q.d(ct,{Fj:()=>ot,NI:()=>En,u:()=>Bs,cw:()=>nt,sg:()=>gs,u5:()=>gi,JJ:()=>Di,JL:()=>Vn,YN:()=>qa,wV:()=>Lo,UX:()=>wn,Q7:()=>Ji,EJ:()=>$o,kI:()=>Vt,_Y:()=>Ls,Kr:()=>$s});var g=q(8256),$=q(6895),I=q(8996),Pe=q(9751),de=q(4742),Ve=q(8421),be=q(7669),lt=q(5403),et=q(3268),he=q(1810),Ye=q(4004);let ht=(()=>{class V{constructor(O,ee){this._renderer=O,this._elementRef=ee,this.onChange=it=>{},this.onTouched=()=>{}}setProperty(O,ee){this._renderer.setProperty(this._elementRef.nativeElement,O,ee)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return V.\u0275fac=function(O){return new(O||V)(g.Y36(g.Qsj),g.Y36(g.SBq))},V.\u0275dir=g.lG2({type:V}),V})(),me=(()=>{class V extends ht{}return V.\u0275fac=function(){let L;return function(ee){return(L||(L=g.n5z(V)))(ee||V)}}(),V.\u0275dir=g.lG2({type:V,features:[g.qOj]}),V})();const Rt=new g.OlP("NgValueAccessor"),Xt={provide:Rt,useExisting:(0,g.Gpc)(()=>ot),multi:!0},$t=new g.OlP("CompositionEventMode");let ot=(()=>{class V extends ht{constructor(O,ee,it){super(O,ee),this._compositionMode=it,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function en(){const V=(0,$.q)()?(0,$.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return V.\u0275fac=function(O){return new(O||V)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36($t,8))},V.\u0275dir=g.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,ee){1&O&&g.NdJ("input",function(pn){return ee._handleInput(pn.target.value)})("blur",function(){return ee.onTouched()})("compositionstart",function(){return ee._compositionStart()})("compositionend",function(pn){return ee._compositionEnd(pn.target.value)})},features:[g._Bn([Xt]),g.qOj]}),V})();const Oe=!1;function ft(V){return null==V||("string"==typeof V||Array.isArray(V))&&0===V.length}function Ft(V){return null!=V&&"number"==typeof V.length}const Ge=new g.OlP("NgValidators"),Ot=new g.OlP("NgAsyncValidators"),st=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vt{static min(L){return function Yt(V){return L=>{if(ft(L.value)||ft(V))return null;const O=parseFloat(L.value);return!isNaN(O)&&O<V?{min:{min:V,actual:L.value}}:null}}(L)}static max(L){return function dt(V){return L=>{if(ft(L.value)||ft(V))return null;const O=parseFloat(L.value);return!isNaN(O)&&O>V?{max:{max:V,actual:L.value}}:null}}(L)}static required(L){return Lt(L)}static requiredTrue(L){return function We(V){return!0===V.value?null:{required:!0}}(L)}static email(L){return function Se(V){return ft(V.value)||st.test(V.value)?null:{email:!0}}(L)}static minLength(L){return function pt(V){return L=>ft(L.value)||!Ft(L.value)?null:L.value.length<V?{minlength:{requiredLength:V,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function Ne(V){return L=>Ft(L.value)&&L.value.length>V?{maxlength:{requiredLength:V,actualLength:L.value.length}}:null}(L)}static pattern(L){return function Et(V){if(!V)return ue;let L,O;return"string"==typeof V?(O="","^"!==V.charAt(0)&&(O+="^"),O+=V,"$"!==V.charAt(V.length-1)&&(O+="$"),L=new RegExp(O)):(O=V.toString(),L=V),ee=>{if(ft(ee.value))return null;const it=ee.value;return L.test(it)?null:{pattern:{requiredPattern:O,actualValue:it}}}}(L)}static nullValidator(L){return null}static compose(L){return wt(L)}static composeAsync(L){return On(L)}}function Lt(V){return ft(V.value)?{required:!0}:null}function ue(V){return null}function Be(V){return null!=V}function _e(V){const L=(0,g.QGY)(V)?(0,I.D)(V):V;if(Oe&&!(0,g.CqO)(L)){let O="Expected async validator to return Promise or Observable.";throw"object"==typeof V&&(O+=" Are you using a synchronous validator where an async validator is expected?"),new g.vHH(-1101,O)}return L}function Fe(V){let L={};return V.forEach(O=>{L=null!=O?{...L,...O}:L}),0===Object.keys(L).length?null:L}function fe(V,L){return L.map(O=>O(V))}function Xe(V){return V.map(L=>function Ae(V){return!V.validate}(L)?L:O=>L.validate(O))}function wt(V){if(!V)return null;const L=V.filter(Be);return 0==L.length?null:function(O){return Fe(fe(O,L))}}function kn(V){return null!=V?wt(Xe(V)):null}function On(V){if(!V)return null;const L=V.filter(Be);return 0==L.length?null:function(O){return function ae(...V){const L=(0,be.jO)(V),{args:O,keys:ee}=(0,de.D)(V),it=new Pe.y(pn=>{const{length:Mr}=O;if(!Mr)return void pn.complete();const Bi=new Array(Mr);let It=Mr,nr=Mr;for(let Co=0;Co<Mr;Co++){let Ss=!1;(0,Ve.Xf)(O[Co]).subscribe((0,lt.x)(pn,mi=>{Ss||(Ss=!0,nr--),Bi[Co]=mi},()=>It--,void 0,()=>{(!It||!Ss)&&(nr||pn.next(ee?(0,he.n)(ee,Bi):Bi),pn.complete())}))}});return L?it.pipe((0,et.Z)(L)):it}(fe(O,L).map(_e)).pipe((0,Ye.U)(Fe))}}function dn(V){return null!=V?On(Xe(V)):null}function ur(V,L){return null===V?[L]:Array.isArray(V)?[...V,L]:[V,L]}function Dr(V){return V._rawValidators}function ri(V){return V._rawAsyncValidators}function vr(V){return V?Array.isArray(V)?V:[V]:[]}function Kr(V,L){return Array.isArray(V)?V.includes(L):V===L}function Hi(V,L){const O=vr(L);return vr(V).forEach(it=>{Kr(O,it)||O.push(it)}),O}function tn(V,L){return vr(L).filter(O=>!Kr(V,O))}class Cr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=kn(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,O){return!!this.control&&this.control.hasError(L,O)}getError(L,O){return this.control?this.control.getError(L,O):null}}class lr extends Cr{get formDirective(){return null}get path(){return null}}class Zr extends Cr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bi{constructor(L){this._cd=L}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Di=(()=>{class V extends bi{constructor(O){super(O)}}return V.\u0275fac=function(O){return new(O||V)(g.Y36(Zr,2))},V.\u0275dir=g.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,ee){2&O&&g.ekj("ng-untouched",ee.isUntouched)("ng-touched",ee.isTouched)("ng-pristine",ee.isPristine)("ng-dirty",ee.isDirty)("ng-valid",ee.isValid)("ng-invalid",ee.isInvalid)("ng-pending",ee.isPending)},features:[g.qOj]}),V})(),Vn=(()=>{class V extends bi{constructor(O){super(O)}}return V.\u0275fac=function(O){return new(O||V)(g.Y36(lr,10))},V.\u0275dir=g.lG2({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,ee){2&O&&g.ekj("ng-untouched",ee.isUntouched)("ng-touched",ee.isTouched)("ng-pristine",ee.isPristine)("ng-dirty",ee.isDirty)("ng-valid",ee.isValid)("ng-invalid",ee.isInvalid)("ng-pending",ee.isPending)("ng-submitted",ee.isSubmitted)},features:[g.qOj]}),V})();function cs(V,L){return V?`with name: '${L}'`:`at index: ${L}`}const Me=!1,_t="VALID",vt="INVALID",re="PENDING",oe="DISABLED";function ve(V){return(De(V)?V.validators:V)||null}function ke(V,L){return(De(L)?L.asyncValidators:V)||null}function De(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}class we{constructor(L,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===_t}get invalid(){return this.status===vt}get pending(){return this.status==re}get disabled(){return this.status===oe}get enabled(){return this.status!==oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(Hi(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(Hi(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(tn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(tn(L,this._rawAsyncValidators))}hasValidator(L){return Kr(this._rawValidators,L)}hasAsyncValidator(L){return Kr(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=re,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const O=this._parentMarkedDirty(L.onlySelf);this.status=oe,this.errors=null,this._forEachChild(ee=>{ee.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:O}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(L={}){const O=this._parentMarkedDirty(L.onlySelf);this.status=_t,this._forEachChild(ee=>{ee.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:O}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_t||this.status===re)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oe:_t}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=re,this._hasOwnPendingAsyncValidator=!0;const O=_e(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,O={}){this.errors=L,this._updateControlsErrors(!1!==O.emitEvent)}get(L){let O=L;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((ee,it)=>ee&&ee._find(it),this)}getError(L,O){const ee=O?this.get(O):this;return ee&&ee.errors?ee.errors[L]:null}hasError(L,O){return!!this.getError(L,O)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?oe:this.errors?vt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(re)?re:this._anyControlsHaveStatus(vt)?vt:_t}_anyControlsHaveStatus(L){return this._anyControls(O=>O.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){De(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function ze(V){return Array.isArray(V)?kn(V):V||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function zt(V){return Array.isArray(V)?dn(V):V||null}(this._rawAsyncValidators)}}class nt extends we{constructor(L,O,ee){super(ve(O),ke(ee,O)),this.controls=L,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,O){return this.controls[L]?this.controls[L]:(this.controls[L]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(L,O,ee={}){this.registerControl(L,O),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(L,O={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(L,O,ee={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],O&&this.registerControl(L,O),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,O={}){(function ne(V,L,O){V._forEachChild((ee,it)=>{if(void 0===O[it])throw new g.vHH(1002,Me?function Te(V,L){return`Must supply a value for form control ${cs(V,L)}`}(L,it):"")})})(this,!0,L),Object.keys(L).forEach(ee=>{(function Ee(V,L,O){const ee=V.controls;if(!(L?Object.keys(ee):ee).length)throw new g.vHH(1e3,Me?function Yr(V){return`\n    There are no form controls registered with this ${V?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(L):"");if(!ee[O])throw new g.vHH(1001,Me?function $e(V,L){return`Cannot find form control ${cs(V,L)}`}(L,O):"")})(this,!0,ee),this.controls[ee].setValue(L[ee],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(L,O={}){null!=L&&(Object.keys(L).forEach(ee=>{const it=this.controls[ee];it&&it.patchValue(L[ee],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(L={},O={}){this._forEachChild((ee,it)=>{ee.reset(L[it],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(L,O,ee)=>(L[ee]=O.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(O,ee)=>!!ee._syncPendingControls()||O);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(O=>{const ee=this.controls[O];ee&&L(ee,O)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[O,ee]of Object.entries(this.controls))if(this.contains(O)&&L(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,ee,it)=>((ee.enabled||this.disabled)&&(O[it]=ee.value),O))}_reduceChildren(L,O){let ee=L;return this._forEachChild((it,pn)=>{ee=O(ee,it,pn)}),ee}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}const Qr=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>rt}),rt="always";function Mt(V,L,O=rt){zn(V,L),L.valueAccessor.writeValue(V.value),(V.disabled||"always"===O)&&L.valueAccessor.setDisabledState?.(V.disabled),function Er(V,L){L.valueAccessor.registerOnChange(O=>{V._pendingValue=O,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&bs(V,L)})}(V,L),function Ks(V,L){const O=(ee,it)=>{L.valueAccessor.writeValue(ee),it&&L.viewToModelUpdate(ee)};V.registerOnChange(O),L._registerOnDestroy(()=>{V._unregisterOnChange(O)})}(V,L),function ci(V,L){L.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&bs(V,L),"submit"!==V.updateOn&&V.markAsTouched()})}(V,L),function Cn(V,L){if(L.valueAccessor.setDisabledState){const O=ee=>{L.valueAccessor.setDisabledState(ee)};V.registerOnDisabledChange(O),L._registerOnDestroy(()=>{V._unregisterOnDisabledChange(O)})}}(V,L)}function un(V,L,O=!0){const ee=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(ee),L.valueAccessor.registerOnTouched(ee)),Jr(V,L),V&&(L._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function _n(V,L){V.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(L)})}function zn(V,L){const O=Dr(V);null!==L.validator?V.setValidators(ur(O,L.validator)):"function"==typeof O&&V.setValidators([O]);const ee=ri(V);null!==L.asyncValidator?V.setAsyncValidators(ur(ee,L.asyncValidator)):"function"==typeof ee&&V.setAsyncValidators([ee]);const it=()=>V.updateValueAndValidity();_n(L._rawValidators,it),_n(L._rawAsyncValidators,it)}function Jr(V,L){let O=!1;if(null!==V){if(null!==L.validator){const it=Dr(V);if(Array.isArray(it)&&it.length>0){const pn=it.filter(Mr=>Mr!==L.validator);pn.length!==it.length&&(O=!0,V.setValidators(pn))}}if(null!==L.asyncValidator){const it=ri(V);if(Array.isArray(it)&&it.length>0){const pn=it.filter(Mr=>Mr!==L.asyncValidator);pn.length!==it.length&&(O=!0,V.setAsyncValidators(pn))}}}const ee=()=>{};return _n(L._rawValidators,ee),_n(L._rawAsyncValidators,ee),O}function bs(V,L){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function on(V,L){const O=V.indexOf(L);O>-1&&V.splice(O,1)}function Hn(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}const En=class extends we{constructor(L=null,O,ee){super(ve(O),ke(ee,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),De(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Hn(L)?L.value:L)}setValue(L,O={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(L,O={}){this.setValue(L,O)}reset(L=this.defaultValue,O={}){this._applyFormState(L),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){on(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){on(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){Hn(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}};let Ls=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275dir=g.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})();const ar={provide:Rt,useExisting:(0,g.Gpc)(()=>Lo),multi:!0};let Lo=(()=>{class V extends me{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=ee=>{O(""==ee?null:parseFloat(ee))}}}return V.\u0275fac=function(){let L;return function(ee){return(L||(L=g.n5z(V)))(ee||V)}}(),V.\u0275dir=g.lG2({type:V,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(O,ee){1&O&&g.NdJ("input",function(pn){return ee.onChange(pn.target.value)})("blur",function(){return ee.onTouched()})},features:[g._Bn([ar]),g.qOj]}),V})(),Ys=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({}),V})();const Gi=new g.OlP("NgModelWithFormControlWarning"),ki={provide:lr,useExisting:(0,g.Gpc)(()=>gs)};let gs=(()=>{class V extends lr{constructor(O,ee,it){super(),this.callSetDisabledState=it,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(O),this._setAsyncValidators(ee)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const ee=this.form.get(O.path);return Mt(ee,O,this.callSetDisabledState),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),ee}getControl(O){return this.form.get(O.path)}removeControl(O){un(O.control||null,O,!1),function pe(V,L){const O=V.indexOf(L);O>-1&&V.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,ee){this.form.get(O.path).setValue(ee)}onSubmit(O){return this.submitted=!0,function Si(V,L){V._syncPendingControls(),L.forEach(O=>{const ee=O.control;"submit"===ee.updateOn&&ee._pendingChange&&(O.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const ee=O.control,it=this.form.get(O.path);ee!==it&&(un(ee||null,O),(V=>V instanceof En)(it)&&(Mt(it,O,this.callSetDisabledState),O.control=it))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const ee=this.form.get(O.path);(function ks(V,L){zn(V,L)})(ee,O),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const ee=this.form.get(O.path);ee&&function oo(V,L){return Jr(V,L)}(ee,O)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zn(this.form,this),this._oldForm&&Jr(this._oldForm,this)}_checkFormPresent(){}}return V.\u0275fac=function(O){return new(O||V)(g.Y36(Ge,10),g.Y36(Ot,10),g.Y36(Qr,8))},V.\u0275dir=g.lG2({type:V,selectors:[["","formGroup",""]],hostBindings:function(O,ee){1&O&&g.NdJ("submit",function(pn){return ee.onSubmit(pn)})("reset",function(){return ee.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([ki]),g.qOj,g.TTD]}),V})();const za={provide:Zr,useExisting:(0,g.Gpc)(()=>Bs)};let Bs=(()=>{class V extends Zr{set isDisabled(O){}constructor(O,ee,it,pn,Mr){super(),this._ngModelWarningConfig=Mr,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(ee),this._setAsyncValidators(it),this.valueAccessor=function Or(V,L){if(!L)return null;let O,ee,it;return Array.isArray(L),L.forEach(pn=>{pn.constructor===ot?O=pn:function ds(V){return Object.getPrototypeOf(V.constructor)===me}(pn)?ee=pn:it=pn}),it||ee||O||null}(0,pn)}ngOnChanges(O){this._added||this._setUpControl(),function rs(V,L){if(!V.hasOwnProperty("model"))return!1;const O=V.model;return!!O.isFirstChange()||!Object.is(L,O.currentValue)}(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return function je(V,L){return[...L.path,V]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return V._ngModelWarningSentOnce=!1,V.\u0275fac=function(O){return new(O||V)(g.Y36(lr,13),g.Y36(Ge,10),g.Y36(Ot,10),g.Y36(Rt,10),g.Y36(Gi,8))},V.\u0275dir=g.lG2({type:V,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([za]),g.qOj,g.TTD]}),V})();const uo={provide:Rt,useExisting:(0,g.Gpc)(()=>$o),multi:!0};function Sa(V,L){return null==V?`${L}`:(L&&"object"==typeof L&&(L="Object"),`${V}: ${L}`.slice(0,50))}let $o=(()=>{class V extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const it=Sa(this._getOptionId(O),O);this.setProperty("value",it)}registerOnChange(O){this.onChange=ee=>{this.value=this._getOptionValue(ee),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const ee of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ee),O))return ee;return null}_getOptionValue(O){const ee=function ta(V){return V.split(":")[0]}(O);return this._optionMap.has(ee)?this._optionMap.get(ee):O}}return V.\u0275fac=function(){let L;return function(ee){return(L||(L=g.n5z(V)))(ee||V)}}(),V.\u0275dir=g.lG2({type:V,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(O,ee){1&O&&g.NdJ("change",function(pn){return ee.onChange(pn.target.value)})("blur",function(){return ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([uo]),g.qOj]}),V})(),qa=(()=>{class V{constructor(O,ee,it){this._element=O,this._renderer=ee,this._select=it,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(Sa(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return V.\u0275fac=function(O){return new(O||V)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36($o,9))},V.\u0275dir=g.lG2({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),V})();const Ma={provide:Rt,useExisting:(0,g.Gpc)(()=>As),multi:!0};function Cs(V,L){return null==V?`${L}`:("string"==typeof L&&(L=`'${L}'`),L&&"object"==typeof L&&(L="Object"),`${V}: ${L}`.slice(0,50))}let As=(()=>{class V extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let ee;if(this.value=O,Array.isArray(O)){const it=O.map(pn=>this._getOptionId(pn));ee=(pn,Mr)=>{pn._setSelected(it.indexOf(Mr.toString())>-1)}}else ee=(it,pn)=>{it._setSelected(!1)};this._optionMap.forEach(ee)}registerOnChange(O){this.onChange=ee=>{const it=[],pn=ee.selectedOptions;if(void 0!==pn){const Mr=pn;for(let Bi=0;Bi<Mr.length;Bi++){const nr=this._getOptionValue(Mr[Bi].value);it.push(nr)}}else{const Mr=ee.options;for(let Bi=0;Bi<Mr.length;Bi++){const It=Mr[Bi];if(It.selected){const nr=this._getOptionValue(It.value);it.push(nr)}}}this.value=it,O(it)}}_registerOption(O){const ee=(this._idCounter++).toString();return this._optionMap.set(ee,O),ee}_getOptionId(O){for(const ee of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ee)._value,O))return ee;return null}_getOptionValue(O){const ee=function Au(V){return V.split(":")[0]}(O);return this._optionMap.has(ee)?this._optionMap.get(ee)._value:O}}return V.\u0275fac=function(){let L;return function(ee){return(L||(L=g.n5z(V)))(ee||V)}}(),V.\u0275dir=g.lG2({type:V,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(O,ee){1&O&&g.NdJ("change",function(pn){return ee.onChange(pn.target)})("blur",function(){return ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Ma]),g.qOj]}),V})(),$s=(()=>{class V{constructor(O,ee,it){this._element=O,this._renderer=ee,this._select=it,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(Cs(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(Cs(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return V.\u0275fac=function(O){return new(O||V)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(As,9))},V.\u0275dir=g.lG2({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),V})(),lo=(()=>{class V{constructor(){this._validator=ue}ngOnChanges(O){if(this.inputName in O){const ee=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(ee),this._validator=this._enabled?this.createValidator(ee):ue,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275dir=g.lG2({type:V,features:[g.TTD]}),V})();const co={provide:Ge,useExisting:(0,g.Gpc)(()=>Ji),multi:!0};let Ji=(()=>{class V extends lo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.D6c,this.createValidator=O=>Lt}enabled(O){return O}}return V.\u0275fac=function(){let L;return function(ee){return(L||(L=g.n5z(V)))(ee||V)}}(),V.\u0275dir=g.lG2({type:V,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(O,ee){2&O&&g.uIk("required",ee._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([co]),g.qOj]}),V})(),Sr=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({imports:[Ys]}),V})(),gi=(()=>{class V{static withConfig(O){return{ngModule:V,providers:[{provide:Qr,useValue:O.callSetDisabledState??rt}]}}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({imports:[Sr]}),V})(),wn=(()=>{class V{static withConfig(O){return{ngModule:V,providers:[{provide:Gi,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:Qr,useValue:O.callSetDisabledState??rt}]}}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({imports:[Sr]}),V})()},1481:(yn,ct,q)=>{q.d(ct,{Dx:()=>Vn,H7:()=>ve,b2:()=>Zr,q6:()=>Hi,se:()=>Lt});var g=q(6895),$=q(8256);class I extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pe extends I{static makeCurrent(){(0,g.HT)(new Pe)}onAndCancel(Ee,ne,we){return Ee.addEventListener(ne,we,!1),()=>{Ee.removeEventListener(ne,we,!1)}}dispatchEvent(Ee,ne){Ee.dispatchEvent(ne)}remove(Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)}createElement(Ee,ne){return(ne=ne||this.getDefaultDocument()).createElement(Ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ee){return Ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ee){return Ee instanceof DocumentFragment}getGlobalEventTarget(Ee,ne){return"window"===ne?window:"document"===ne?Ee:"body"===ne?Ee.body:null}getBaseHref(Ee){const ne=function Ve(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==ne?null:function lt(De){be=be||document.createElement("a"),be.setAttribute("href",De);const Ee=be.pathname;return"/"===Ee.charAt(0)?Ee:`/${Ee}`}(ne)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ee){return(0,g.Mx)(document.cookie,Ee)}}let be,de=null;const et=new $.OlP("TRANSITION_ID"),ae=[{provide:$.ip1,useFactory:function he(De,Ee,ne){return()=>{ne.get($.CZH).donePromise.then(()=>{const we=(0,g.q)(),nt=Ee.querySelectorAll(`style[ng-transition="${De}"]`);for(let At=0;At<nt.length;At++)we.remove(nt[At])})}},deps:[et,g.K0,$.zs3],multi:!0}];let ht=(()=>{class De{build(){return new XMLHttpRequest}}return De.\u0275fac=function(ne){return new(ne||De)},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac}),De})();const me=new $.OlP("EventManagerPlugins");let Rt=(()=>{class De{constructor(ne,we){this._zone=we,this._eventNameToPlugin=new Map,ne.forEach(nt=>{nt.manager=this}),this._plugins=ne.slice().reverse()}addEventListener(ne,we,nt){return this._findPluginFor(we).addEventListener(ne,we,nt)}addGlobalEventListener(ne,we,nt){return this._findPluginFor(we).addGlobalEventListener(ne,we,nt)}getZone(){return this._zone}_findPluginFor(ne){const we=this._eventNameToPlugin.get(ne);if(we)return we;const nt=this._plugins;for(let At=0;At<nt.length;At++){const Kt=nt[At];if(Kt.supports(ne))return this._eventNameToPlugin.set(ne,Kt),Kt}throw new Error(`No event manager plugin found for event ${ne}`)}}return De.\u0275fac=function(ne){return new(ne||De)($.LFG(me),$.LFG($.R0b))},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac}),De})();class yt{constructor(Ee){this._doc=Ee}addGlobalEventListener(Ee,ne,we){const nt=(0,g.q)().getGlobalEventTarget(this._doc,Ee);if(!nt)throw new Error(`Unsupported event target ${nt} for event ${ne}`);return this.addEventListener(nt,ne,we)}}let an=(()=>{class De{constructor(){this.usageCount=new Map}addStyles(ne){for(const we of ne)1===this.changeUsageCount(we,1)&&this.onStyleAdded(we)}removeStyles(ne){for(const we of ne)0===this.changeUsageCount(we,-1)&&this.onStyleRemoved(we)}onStyleRemoved(ne){}onStyleAdded(ne){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ne,we){const nt=this.usageCount;let At=nt.get(ne)??0;return At+=we,At>0?nt.set(ne,At):nt.delete(ne),At}ngOnDestroy(){for(const ne of this.getAllStyles())this.onStyleRemoved(ne);this.usageCount.clear()}}return De.\u0275fac=function(ne){return new(ne||De)},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac}),De})(),Xt=(()=>{class De extends an{constructor(ne){super(),this.doc=ne,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ne){for(const we of this.hostNodes)this.addStyleToHost(we,ne)}onStyleRemoved(ne){const we=this.styleRef;we.get(ne)?.forEach(At=>At.remove()),we.delete(ne)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ne){this.hostNodes.add(ne);for(const we of this.getAllStyles())this.addStyleToHost(ne,we)}removeHost(ne){this.hostNodes.delete(ne)}addStyleToHost(ne,we){const nt=this.doc.createElement("style");nt.textContent=we,ne.appendChild(nt);const At=this.styleRef.get(we);At?At.push(nt):this.styleRef.set(we,[nt])}resetHostNodes(){const ne=this.hostNodes;ne.clear(),ne.add(this.doc.head)}}return De.\u0275fac=function(ne){return new(ne||De)($.LFG(g.K0))},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac}),De})();const en={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$t=/%COMP%/g,Ot=new $.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Yt(De,Ee){return Ee.flat(100).map(ne=>ne.replace($t,De))}function dt(De){return Ee=>{if("__ngUnwrap__"===Ee)return De;!1===De(Ee)&&(Ee.preventDefault(),Ee.returnValue=!1)}}let Lt=(()=>{class De{constructor(ne,we,nt,At){this.eventManager=ne,this.sharedStylesHost=we,this.appId=nt,this.removeStylesOnCompDestory=At,this.rendererByCompId=new Map,this.defaultRenderer=new We(ne)}createRenderer(ne,we){if(!ne||!we)return this.defaultRenderer;const nt=this.getOrCreateRenderer(ne,we);return nt instanceof Be?nt.applyToHost(ne):nt instanceof ue&&nt.applyStyles(),nt}getOrCreateRenderer(ne,we){const nt=this.rendererByCompId;let At=nt.get(we.id);if(!At){const Kt=this.eventManager,nn=this.sharedStylesHost,Ar=this.removeStylesOnCompDestory;switch(we.encapsulation){case $.ifc.Emulated:At=new Be(Kt,nn,we,this.appId,Ar);break;case $.ifc.ShadowDom:return new Et(Kt,nn,ne,we);default:At=new ue(Kt,nn,we,Ar)}At.onDestroy=()=>nt.delete(we.id),nt.set(we.id,At)}return At}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return De.\u0275fac=function(ne){return new(ne||De)($.LFG(Rt),$.LFG(Xt),$.LFG($.AFp),$.LFG(Ot))},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac}),De})();class We{constructor(Ee){this.eventManager=Ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ee,ne){return ne?document.createElementNS(en[ne]||ne,Ee):document.createElement(Ee)}createComment(Ee){return document.createComment(Ee)}createText(Ee){return document.createTextNode(Ee)}appendChild(Ee,ne){(Ne(Ee)?Ee.content:Ee).appendChild(ne)}insertBefore(Ee,ne,we){Ee&&(Ne(Ee)?Ee.content:Ee).insertBefore(ne,we)}removeChild(Ee,ne){Ee&&Ee.removeChild(ne)}selectRootElement(Ee,ne){let we="string"==typeof Ee?document.querySelector(Ee):Ee;if(!we)throw new Error(`The selector "${Ee}" did not match any elements`);return ne||(we.textContent=""),we}parentNode(Ee){return Ee.parentNode}nextSibling(Ee){return Ee.nextSibling}setAttribute(Ee,ne,we,nt){if(nt){ne=nt+":"+ne;const At=en[nt];At?Ee.setAttributeNS(At,ne,we):Ee.setAttribute(ne,we)}else Ee.setAttribute(ne,we)}removeAttribute(Ee,ne,we){if(we){const nt=en[we];nt?Ee.removeAttributeNS(nt,ne):Ee.removeAttribute(`${we}:${ne}`)}else Ee.removeAttribute(ne)}addClass(Ee,ne){Ee.classList.add(ne)}removeClass(Ee,ne){Ee.classList.remove(ne)}setStyle(Ee,ne,we,nt){nt&($.JOm.DashCase|$.JOm.Important)?Ee.style.setProperty(ne,we,nt&$.JOm.Important?"important":""):Ee.style[ne]=we}removeStyle(Ee,ne,we){we&$.JOm.DashCase?Ee.style.removeProperty(ne):Ee.style[ne]=""}setProperty(Ee,ne,we){Ee[ne]=we}setValue(Ee,ne){Ee.nodeValue=ne}listen(Ee,ne,we){return"string"==typeof Ee?this.eventManager.addGlobalEventListener(Ee,ne,dt(we)):this.eventManager.addEventListener(Ee,ne,dt(we))}}function Ne(De){return"TEMPLATE"===De.tagName&&void 0!==De.content}class Et extends We{constructor(Ee,ne,we,nt){super(Ee),this.sharedStylesHost=ne,this.hostEl=we,this.shadowRoot=we.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const At=Yt(nt.id,nt.styles);for(const Kt of At){const nn=document.createElement("style");nn.textContent=Kt,this.shadowRoot.appendChild(nn)}}nodeOrShadowRoot(Ee){return Ee===this.hostEl?this.shadowRoot:Ee}appendChild(Ee,ne){return super.appendChild(this.nodeOrShadowRoot(Ee),ne)}insertBefore(Ee,ne,we){return super.insertBefore(this.nodeOrShadowRoot(Ee),ne,we)}removeChild(Ee,ne){return super.removeChild(this.nodeOrShadowRoot(Ee),ne)}parentNode(Ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ee)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ue extends We{constructor(Ee,ne,we,nt,At=we.id){super(Ee),this.sharedStylesHost=ne,this.removeStylesOnCompDestory=nt,this.rendererUsageCount=0,this.styles=Yt(At,we.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Be extends ue{constructor(Ee,ne,we,nt,At){const Kt=nt+"-"+we.id;super(Ee,ne,we,At,Kt),this.contentAttr=function st(De){return"_ngcontent-%COMP%".replace($t,De)}(Kt),this.hostAttr=function Vt(De){return"_nghost-%COMP%".replace($t,De)}(Kt)}applyToHost(Ee){this.applyStyles(),this.setAttribute(Ee,this.hostAttr,"")}createElement(Ee,ne){const we=super.createElement(Ee,ne);return super.setAttribute(we,this.contentAttr,""),we}}let _e=(()=>{class De extends yt{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,we,nt){return ne.addEventListener(we,nt,!1),()=>this.removeEventListener(ne,we,nt)}removeEventListener(ne,we,nt){return ne.removeEventListener(we,nt)}}return De.\u0275fac=function(ne){return new(ne||De)($.LFG(g.K0))},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac}),De})();const Fe=["alt","control","meta","shift"],fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ae={alt:De=>De.altKey,control:De=>De.ctrlKey,meta:De=>De.metaKey,shift:De=>De.shiftKey};let Xe=(()=>{class De extends yt{constructor(ne){super(ne)}supports(ne){return null!=De.parseEventName(ne)}addEventListener(ne,we,nt){const At=De.parseEventName(we),Kt=De.eventCallback(At.fullKey,nt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(ne,At.domEventName,Kt))}static parseEventName(ne){const we=ne.toLowerCase().split("."),nt=we.shift();if(0===we.length||"keydown"!==nt&&"keyup"!==nt)return null;const At=De._normalizeKey(we.pop());let Kt="",nn=we.indexOf("code");if(nn>-1&&(we.splice(nn,1),Kt="code."),Fe.forEach(Qr=>{const rt=we.indexOf(Qr);rt>-1&&(we.splice(rt,1),Kt+=Qr+".")}),Kt+=At,0!=we.length||0===At.length)return null;const Ar={};return Ar.domEventName=nt,Ar.fullKey=Kt,Ar}static matchEventFullKeyCode(ne,we){let nt=fe[ne.key]||ne.key,At="";return we.indexOf("code.")>-1&&(nt=ne.code,At="code."),!(null==nt||!nt)&&(nt=nt.toLowerCase()," "===nt?nt="space":"."===nt&&(nt="dot"),Fe.forEach(Kt=>{Kt!==nt&&(0,Ae[Kt])(ne)&&(At+=Kt+".")}),At+=nt,At===we)}static eventCallback(ne,we,nt){return At=>{De.matchEventFullKeyCode(At,ne)&&nt.runGuarded(()=>we(At))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return De.\u0275fac=function(ne){return new(ne||De)($.LFG(g.K0))},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac}),De})();const Hi=(0,$.eFA)($._c5,"browser",[{provide:$.Lbi,useValue:g.bD},{provide:$.g9A,useValue:function Dr(){Pe.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function vr(){return(0,$.RDi)(document),document},deps:[]}]),tn=new $.OlP(""),Cr=[{provide:$.rWj,useClass:class Ye{addToWindow(Ee){$.dqk.getAngularTestability=(we,nt=!0)=>{const At=Ee.findTestabilityInTree(we,nt);if(null==At)throw new Error("Could not find testability for element.");return At},$.dqk.getAllAngularTestabilities=()=>Ee.getAllTestabilities(),$.dqk.getAllAngularRootElements=()=>Ee.getAllRootElements(),$.dqk.frameworkStabilizers||($.dqk.frameworkStabilizers=[]),$.dqk.frameworkStabilizers.push(we=>{const nt=$.dqk.getAllAngularTestabilities();let At=nt.length,Kt=!1;const nn=function(Ar){Kt=Kt||Ar,At--,0==At&&we(Kt)};nt.forEach(function(Ar){Ar.whenStable(nn)})})}findTestabilityInTree(Ee,ne,we){return null==ne?null:Ee.getTestability(ne)??(we?(0,g.q)().isShadowRoot(ne)?this.findTestabilityInTree(Ee,ne.host,!0):this.findTestabilityInTree(Ee,ne.parentElement,!0):null)}},deps:[]},{provide:$.lri,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]},{provide:$.dDg,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]}],lr=[{provide:$.zSh,useValue:"root"},{provide:$.qLn,useFactory:function ri(){return new $.qLn},deps:[]},{provide:me,useClass:_e,multi:!0,deps:[g.K0,$.R0b,$.Lbi]},{provide:me,useClass:Xe,multi:!0,deps:[g.K0]},{provide:Lt,useClass:Lt,deps:[Rt,Xt,$.AFp,Ot]},{provide:$.FYo,useExisting:Lt},{provide:an,useExisting:Xt},{provide:Xt,useClass:Xt,deps:[g.K0]},{provide:Rt,useClass:Rt,deps:[me,$.R0b]},{provide:g.JF,useClass:ht,deps:[]},[]];let Zr=(()=>{class De{constructor(ne){}static withServerTransition(ne){return{ngModule:De,providers:[{provide:$.AFp,useValue:ne.appId},{provide:et,useExisting:$.AFp},ae]}}}return De.\u0275fac=function(ne){return new(ne||De)($.LFG(tn,12))},De.\u0275mod=$.oAB({type:De}),De.\u0275inj=$.cJS({providers:[...lr,...Cr],imports:[g.ez,$.hGG]}),De})(),Vn=(()=>{class De{constructor(ne){this._doc=ne}getTitle(){return this._doc.title}setTitle(ne){this._doc.title=ne||""}}return De.\u0275fac=function(ne){return new(ne||De)($.LFG(g.K0))},De.\u0275prov=$.Yz7({token:De,factory:function(ne){let we=null;return we=ne?new ne:function Di(){return new Vn((0,$.LFG)(g.K0))}(),we},providedIn:"root"}),De})();typeof window<"u"&&window;let ve=(()=>{class De{}return De.\u0275fac=function(ne){return new(ne||De)},De.\u0275prov=$.Yz7({token:De,factory:function(ne){let we=null;return we=ne?new(ne||De):$.LFG(ke),we},providedIn:"root"}),De})(),ke=(()=>{class De extends ve{constructor(ne){super(),this._doc=ne}sanitize(ne,we){if(null==we)return null;switch(ne){case $.q3G.NONE:return we;case $.q3G.HTML:return(0,$.qzn)(we,"HTML")?(0,$.z3N)(we):(0,$.EiD)(this._doc,String(we)).toString();case $.q3G.STYLE:return(0,$.qzn)(we,"Style")?(0,$.z3N)(we):we;case $.q3G.SCRIPT:if((0,$.qzn)(we,"Script"))return(0,$.z3N)(we);throw new Error("unsafe value used in a script context");case $.q3G.URL:return(0,$.qzn)(we,"URL")?(0,$.z3N)(we):(0,$.mCW)(String(we));case $.q3G.RESOURCE_URL:if((0,$.qzn)(we,"ResourceURL"))return(0,$.z3N)(we);throw new Error(`unsafe value used in a resource URL context (see ${$.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ne} (see ${$.JZr})`)}}bypassSecurityTrustHtml(ne){return(0,$.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,$.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,$.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,$.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,$.pB0)(ne)}}return De.\u0275fac=function(ne){return new(ne||De)($.LFG(g.K0))},De.\u0275prov=$.Yz7({token:De,factory:function(ne){let we=null;return we=ne?new ne:function ze(De){return new ke(De.get(g.K0))}($.LFG($.zs3)),we},providedIn:"root"}),De})()},5450:(yn,ct,q)=>{q.d(ct,{F0:()=>rr,rH:()=>mo,Bz:()=>Ba,lC:()=>Ji});var g=q(8256),$=q(8996),I=q(9646),Pe=q(7579);class de extends Pe.x{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const y=super._subscribe(T);return!y.closed&&T.next(this._value),y}getValue(){const{hasError:T,thrownError:y,_value:S}=this;if(T)throw y;return this._throwIfClosed(),S}next(T){super.next(this._value=T)}}const be=(0,q(3888).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"});var lt=q(9751),et=q(4742),he=q(4671),ae=q(3268),Ye=q(7669),ht=q(1810),me=q(5403),Rt=q(9672);function yt(...E){const T=(0,Ye.yG)(E),y=(0,Ye.jO)(E),{args:S,keys:U}=(0,et.D)(E);if(0===S.length)return(0,$.D)([],T);const K=new lt.y(function an(E,T,y=he.y){return S=>{Xt(T,()=>{const{length:U}=E,K=new Array(U);let X=U,Le=U;for(let gt=0;gt<U;gt++)Xt(T,()=>{const Wt=(0,$.D)(E[gt],T);let Qt=!1;Wt.subscribe((0,me.x)(S,hr=>{K[gt]=hr,Qt||(Qt=!0,Le--),Le||S.next(y(K.slice()))},()=>{--X||S.complete()}))},S)},S)}}(S,T,U?X=>(0,ht.n)(U,X):he.y));return y?K.pipe((0,ae.Z)(y)):K}function Xt(E,T,y){E?(0,Rt.f)(y,E,T):T()}var en=q(8189);function ot(...E){return function $t(){return(0,en.J)(1)}()((0,$.D)(E,(0,Ye.yG)(E)))}var Oe=q(8421);function ft(E){return new lt.y(T=>{(0,Oe.Xf)(E()).subscribe(T)})}var Ft=q(9635),Ge=q(576);function Ot(E,T){const y=(0,Ge.m)(E)?E:()=>E,S=U=>U.error(y());return new lt.y(T?U=>T.schedule(S,0,U):S)}var st=q(515),Vt=q(727),Yt=q(4482);function dt(){return(0,Yt.e)((E,T)=>{let y=null;E._refCount++;const S=(0,me.x)(T,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(y=null);const U=E._connection,K=y;y=null,U&&(!K||U===K)&&U.unsubscribe(),T.unsubscribe()});E.subscribe(S),S.closed||(y=E.connect())})}class Lt extends lt.y{constructor(T,y){super(),this.source=T,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Yt.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Vt.w0;const y=this.getSubject();T.add(this.source.subscribe((0,me.x)(y,void 0,()=>{this._teardown(),y.complete()},S=>{this._teardown(),y.error(S)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Vt.w0.EMPTY)}return T}refCount(){return dt()(this)}}var We=q(6895),Se=q(4004);function pt(E,T){return(0,Yt.e)((y,S)=>{let U=null,K=0,X=!1;const Le=()=>X&&!U&&S.complete();y.subscribe((0,me.x)(S,gt=>{U?.unsubscribe();let Wt=0;const Qt=K++;(0,Oe.Xf)(E(gt,Qt)).subscribe(U=(0,me.x)(S,hr=>S.next(T?T(gt,hr,Qt,Wt++):hr),()=>{U=null,Le()}))},()=>{X=!0,Le()}))})}function Ne(E){return E<=0?()=>st.E:(0,Yt.e)((T,y)=>{let S=0;T.subscribe((0,me.x)(y,U=>{++S<=E&&(y.next(U),E<=S&&y.complete())}))})}var ue=q(9300),Be=q(5577);function _e(E){return(0,Yt.e)((T,y)=>{let S=!1;T.subscribe((0,me.x)(y,U=>{S=!0,y.next(U)},()=>{S||y.next(E),y.complete()}))})}function Fe(E=fe){return(0,Yt.e)((T,y)=>{let S=!1;T.subscribe((0,me.x)(y,U=>{S=!0,y.next(U)},()=>S?y.complete():y.error(E())))})}function fe(){return new be}function Ae(E,T){const y=arguments.length>=2;return S=>S.pipe(E?(0,ue.h)((U,K)=>E(U,K,S)):he.y,Ne(1),y?_e(T):Fe(()=>new be))}var Xe=q(4351),wt=q(8505);function kn(E){return(0,Yt.e)((T,y)=>{let K,S=null,U=!1;S=T.subscribe((0,me.x)(y,void 0,void 0,X=>{K=(0,Oe.Xf)(E(X,kn(E)(T))),S?(S.unsubscribe(),S=null,K.subscribe(y)):U=!0})),U&&(S.unsubscribe(),S=null,K.subscribe(y))})}function dn(E,T){return(0,Yt.e)(function On(E,T,y,S,U){return(K,X)=>{let Le=y,gt=T,Wt=0;K.subscribe((0,me.x)(X,Qt=>{const hr=Wt++;gt=Le?E(gt,Qt,hr):(Le=!0,Qt),S&&X.next(gt)},U&&(()=>{Le&&X.next(gt),X.complete()})))}}(E,T,arguments.length>=2,!0))}function ur(E){return E<=0?()=>st.E:(0,Yt.e)((T,y)=>{let S=[];T.subscribe((0,me.x)(y,U=>{S.push(U),E<S.length&&S.shift()},()=>{for(const U of S)y.next(U);y.complete()},void 0,()=>{S=null}))})}function Dr(E,T){const y=arguments.length>=2;return S=>S.pipe(E?(0,ue.h)((U,K)=>E(U,K,S)):he.y,ur(1),y?_e(T):Fe(()=>new be))}function Kr(E){return(0,Yt.e)((T,y)=>{try{T.subscribe(y)}finally{y.add(E)}})}var Hi=q(1481);const tn="primary",Cr=Symbol("RouteTitle");class lr{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const y=this.params[T];return Array.isArray(y)?y[0]:y}return null}getAll(T){if(this.has(T)){const y=this.params[T];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Zr(E){return new lr(E)}function bi(E,T,y){const S=y.path.split("/");if(S.length>E.length||"full"===y.pathMatch&&(T.hasChildren()||S.length<E.length))return null;const U={};for(let K=0;K<S.length;K++){const X=S[K],Le=E[K];if(X.startsWith(":"))U[X.substring(1)]=Le;else if(X!==Le.path)return null}return{consumed:E.slice(0,S.length),posParams:U}}function cr(E,T){const y=E?Object.keys(E):void 0,S=T?Object.keys(T):void 0;if(!y||!S||y.length!=S.length)return!1;let U;for(let K=0;K<y.length;K++)if(U=y[K],!Di(E[U],T[U]))return!1;return!0}function Di(E,T){if(Array.isArray(E)&&Array.isArray(T)){if(E.length!==T.length)return!1;const y=[...E].sort(),S=[...T].sort();return y.every((U,K)=>S[K]===U)}return E===T}function Vn(E){return Array.prototype.concat.apply([],E)}function Tt(E){return E.length>0?E[E.length-1]:null}function Fn(E,T){for(const y in E)E.hasOwnProperty(y)&&T(E[y],y)}function Un(E){return(0,g.CqO)(E)?E:(0,g.QGY)(E)?(0,$.D)(Promise.resolve(E)):(0,I.of)(E)}const xr=!1,Ci={exact:function ps(E,T,y){if(!_t(E.segments,T.segments)||!cs(E.segments,T.segments,y)||E.numberOfChildren!==T.numberOfChildren)return!1;for(const S in T.children)if(!E.children[S]||!ps(E.children[S],T.children[S],y))return!1;return!0},subset:Ai},Bn={exact:function ir(E,T){return cr(E,T)},subset:function jn(E,T){return Object.keys(T).length<=Object.keys(E).length&&Object.keys(T).every(y=>Di(E[y],T[y]))},ignored:()=>!0};function fi(E,T,y){return Ci[y.paths](E.root,T.root,y.matrixParams)&&Bn[y.queryParams](E.queryParams,T.queryParams)&&!("exact"===y.fragment&&E.fragment!==T.fragment)}function Ai(E,T,y){return xi(E,T,T.segments,y)}function xi(E,T,y,S){if(E.segments.length>y.length){const U=E.segments.slice(0,y.length);return!(!_t(U,y)||T.hasChildren()||!cs(U,y,S))}if(E.segments.length===y.length){if(!_t(E.segments,y)||!cs(E.segments,y,S))return!1;for(const U in T.children)if(!E.children[U]||!Ai(E.children[U],T.children[U],S))return!1;return!0}{const U=y.slice(0,E.segments.length),K=y.slice(E.segments.length);return!!(_t(E.segments,U)&&cs(E.segments,U,S)&&E.children[tn])&&xi(E.children[tn],T,K,S)}}function cs(E,T,y){return T.every((S,U)=>Bn[y](E[U].parameters,S.parameters))}class Yr{constructor(T=new $e([],{}),y={},S=null){this.root=T,this.queryParams=y,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zr(this.queryParams)),this._queryParamMap}toString(){return ve.serialize(this)}}class $e{constructor(T,y){this.segments=T,this.children=y,this.parent=null,Fn(y,(S,U)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ze(this)}}class Te{constructor(T,y){this.path=T,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Zr(this.parameters)),this._parameterMap}toString(){return At(this)}}function _t(E,T){return E.length===T.length&&E.every((y,S)=>y.path===T[S].path)}let re=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return new oe},providedIn:"root"}),E})();class oe{parse(T){const y=new _n(T);return new Yr(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(T){const y=`/${ke(T.root,!0)}`,S=function nn(E){const T=Object.keys(E).map(y=>{const S=E[y];return Array.isArray(S)?S.map(U=>`${De(y)}=${De(U)}`).join("&"):`${De(y)}=${De(S)}`}).filter(y=>!!y);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${y}${S}${"string"==typeof T.fragment?`#${function Ee(E){return encodeURI(E)}(T.fragment)}`:""}`}}const ve=new oe;function ze(E){return E.segments.map(T=>At(T)).join("/")}function ke(E,T){if(!E.hasChildren())return ze(E);if(T){const y=E.children[tn]?ke(E.children[tn],!1):"",S=[];return Fn(E.children,(U,K)=>{K!==tn&&S.push(`${K}:${ke(U,!1)}`)}),S.length>0?`${y}(${S.join("//")})`:y}{const y=function vt(E,T){let y=[];return Fn(E.children,(S,U)=>{U===tn&&(y=y.concat(T(S,U)))}),Fn(E.children,(S,U)=>{U!==tn&&(y=y.concat(T(S,U)))}),y}(E,(S,U)=>U===tn?[ke(E.children[tn],!1)]:[`${U}:${ke(S,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[tn]?`${ze(E)}/${y[0]}`:`${ze(E)}/(${y.join("//")})`}}function zt(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function De(E){return zt(E).replace(/%3B/gi,";")}function ne(E){return zt(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function we(E){return decodeURIComponent(E)}function nt(E){return we(E.replace(/\+/g,"%20"))}function At(E){return`${ne(E.path)}${function Kt(E){return Object.keys(E).map(T=>`;${ne(T)}=${ne(E[T])}`).join("")}(E.parameters)}`}const Ar=/^[^\/()?;=#]+/;function Qr(E){const T=E.match(Ar);return T?T[0]:""}const rt=/^[^=?&#]+/,Mt=/^[^&#]+/;class _n{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(T.length>0||Object.keys(y).length>0)&&(S[tn]=new $e(T,y)),S}parseSegment(){const T=Qr(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new g.vHH(4009,xr);return this.capture(T),new Te(we(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const y=Qr(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const U=Qr(this.remaining);U&&(S=U,this.capture(S))}T[we(y)]=we(S)}parseQueryParam(T){const y=function je(E){const T=E.match(rt);return T?T[0]:""}(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const X=function un(E){const T=E.match(Mt);return T?T[0]:""}(this.remaining);X&&(S=X,this.capture(S))}const U=nt(y),K=nt(S);if(T.hasOwnProperty(U)){let X=T[U];Array.isArray(X)||(X=[X],T[U]=X),X.push(K)}else T[U]=K}parseParens(T){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Qr(this.remaining),U=this.remaining[S.length];if("/"!==U&&")"!==U&&";"!==U)throw new g.vHH(4010,xr);let K;S.indexOf(":")>-1?(K=S.slice(0,S.indexOf(":")),this.capture(K),this.capture(":")):T&&(K=tn);const X=this.parseChildren();y[K]=1===Object.keys(X).length?X[tn]:new $e([],X),this.consumeOptional("//")}return y}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new g.vHH(4011,xr)}}function Cn(E){return E.segments.length>0?new $e([],{[tn]:E}):E}function zn(E){const T={};for(const S of Object.keys(E.children)){const K=zn(E.children[S]);(K.segments.length>0||K.hasChildren())&&(T[S]=K)}return function Jr(E){if(1===E.numberOfChildren&&E.children[tn]){const T=E.children[tn];return new $e(E.segments.concat(T.segments),T.children)}return E}(new $e(E.segments,T))}function Er(E){return E instanceof Yr}const ci=!1;function oo(E,T,y,S,U){if(0===y.length)return di(T.root,T.root,T.root,S,U);const K=function rs(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new si(!0,0,E);let T=0,y=!1;const S=E.reduce((U,K,X)=>{if("object"==typeof K&&null!=K){if(K.outlets){const Le={};return Fn(K.outlets,(gt,Wt)=>{Le[Wt]="string"==typeof gt?gt.split("/"):gt}),[...U,{outlets:Le}]}if(K.segmentPath)return[...U,K.segmentPath]}return"string"!=typeof K?[...U,K]:0===X?(K.split("/").forEach((Le,gt)=>{0==gt&&"."===Le||(0==gt&&""===Le?y=!0:".."===Le?T++:""!=Le&&U.push(Le))}),U):[...U,K]},[]);return new si(y,T,S)}(y);return K.toRoot()?di(T.root,T.root,new $e([],{}),S,U):function X(gt){const Wt=function Or(E,T,y,S){if(E.isAbsolute)return new ds(T.root,!0,0);if(-1===S)return new ds(y,y===T.root,0);return function pe(E,T,y){let S=E,U=T,K=y;for(;K>U;){if(K-=U,S=S.parent,!S)throw new g.vHH(4005,ci&&"Invalid number of '../'");U=S.segments.length}return new ds(S,!1,U-K)}(y,S+(tr(E.commands[0])?0:1),E.numberOfDoubleDots)}(K,T,E.snapshot?._urlSegment,gt),Qt=Wt.processChildren?ut(Wt.segmentGroup,Wt.index,K.commands):Ue(Wt.segmentGroup,Wt.index,K.commands);return di(T.root,Wt.segmentGroup,Qt,S,U)}(E.snapshot?._lastPathIndex)}function tr(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Nr(E){return"object"==typeof E&&null!=E&&E.outlets}function di(E,T,y,S,U){let X,K={};S&&Fn(S,(gt,Wt)=>{K[Wt]=Array.isArray(gt)?gt.map(Qt=>`${Qt}`):`${gt}`}),X=E===T?y:Gr(E,T,y);const Le=Cn(zn(X));return new Yr(Le,K,U)}function Gr(E,T,y){const S={};return Fn(E.children,(U,K)=>{S[K]=U===T?y:Gr(U,T,y)}),new $e(E.segments,S)}class si{constructor(T,y,S){if(this.isAbsolute=T,this.numberOfDoubleDots=y,this.commands=S,T&&S.length>0&&tr(S[0]))throw new g.vHH(4003,ci&&"Root segment cannot have matrix parameters");const U=S.find(Nr);if(U&&U!==Tt(S))throw new g.vHH(4004,ci&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ds{constructor(T,y,S){this.segmentGroup=T,this.processChildren=y,this.index=S}}function Ue(E,T,y){if(E||(E=new $e([],{})),0===E.segments.length&&E.hasChildren())return ut(E,T,y);const S=function kt(E,T,y){let S=0,U=T;const K={match:!1,pathIndex:0,commandIndex:0};for(;U<E.segments.length;){if(S>=y.length)return K;const X=E.segments[U],Le=y[S];if(Nr(Le))break;const gt=`${Le}`,Wt=S<y.length-1?y[S+1]:null;if(U>0&&void 0===gt)break;if(gt&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!sr(gt,Wt,X))return K;S+=2}else{if(!sr(gt,{},X))return K;S++}U++}return{match:!0,pathIndex:U,commandIndex:S}}(E,T,y),U=y.slice(S.commandIndex);if(S.match&&S.pathIndex<E.segments.length){const K=new $e(E.segments.slice(0,S.pathIndex),{});return K.children[tn]=new $e(E.segments.slice(S.pathIndex),E.children),ut(K,0,U)}return S.match&&0===U.length?new $e(E.segments,{}):S.match&&!E.hasChildren()?on(E,T,y):S.match?ut(E,0,U):on(E,T,y)}function ut(E,T,y){if(0===y.length)return new $e(E.segments,{});{const S=function ye(E){return Nr(E[0])?E[0].outlets:{[tn]:E}}(y),U={};if(!S[tn]&&E.children[tn]&&1===E.numberOfChildren&&0===E.children[tn].segments.length){const K=ut(E.children[tn],T,y);return new $e(E.segments,K.children)}return Fn(S,(K,X)=>{"string"==typeof K&&(K=[K]),null!==K&&(U[X]=Ue(E.children[X],T,K))}),Fn(E.children,(K,X)=>{void 0===S[X]&&(U[X]=K)}),new $e(E.segments,U)}}function on(E,T,y){const S=E.segments.slice(0,T);let U=0;for(;U<y.length;){const K=y[U];if(Nr(K)){const gt=Hn(K.outlets);return new $e(S,gt)}if(0===U&&tr(y[0])){S.push(new Te(E.segments[T].path,En(y[0]))),U++;continue}const X=Nr(K)?K.outlets[tn]:`${K}`,Le=U<y.length-1?y[U+1]:null;X&&Le&&tr(Le)?(S.push(new Te(X,En(Le))),U+=2):(S.push(new Te(X,{})),U++)}return new $e(S,{})}function Hn(E){const T={};return Fn(E,(y,S)=>{"string"==typeof y&&(y=[y]),null!==y&&(T[S]=on(new $e([],{}),0,y))}),T}function En(E){const T={};return Fn(E,(y,S)=>T[S]=`${y}`),T}function sr(E,T,y){return E==y.path&&cr(T,y.parameters)}const Ni="imperative";class In{constructor(T,y){this.id=T,this.url=y}}class Oi extends In{constructor(T,y,S="imperative",U=null){super(T,y),this.type=0,this.navigationTrigger=S,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Br extends In{constructor(T,y,S){super(T,y),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Aa extends In{constructor(T,y,S,U){super(T,y),this.reason=S,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pi extends In{constructor(T,y,S,U){super(T,y),this.reason=S,this.code=U,this.type=16}}class hi extends In{constructor(T,y,S,U){super(T,y),this.error=S,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fs extends In{constructor(T,y,S,U){super(T,y),this.urlAfterRedirects=S,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zs extends In{constructor(T,y,S,U){super(T,y),this.urlAfterRedirects=S,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zi extends In{constructor(T,y,S,U,K){super(T,y),this.urlAfterRedirects=S,this.state=U,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ea extends In{constructor(T,y,S,U){super(T,y),this.urlAfterRedirects=S,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ls extends In{constructor(T,y,S,U){super(T,y),this.urlAfterRedirects=S,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lo{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Us{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ys{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uo{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vo{constructor(T,y,S){this.routerEvent=T,this.position=y,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Gi=(()=>{class E{createUrlTree(y,S,U,K,X,Le){return oo(y||S.root,U,K,X,Le)}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac}),E})(),Mi=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:function(T){return Gi.\u0275fac(T)},providedIn:"root"}),E})();class ki{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const y=this.pathFromRoot(T);return y.length>1?y[y.length-2]:null}children(T){const y=gs(T,this._root);return y?y.children.map(S=>S.value):[]}firstChild(T){const y=gs(T,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(T){const y=Ei(T,this._root);return y.length<2?[]:y[y.length-2].children.map(U=>U.value).filter(U=>U!==T)}pathFromRoot(T){return Ei(T,this._root).map(y=>y.value)}}function gs(E,T){if(E===T.value)return T;for(const y of T.children){const S=gs(E,y);if(S)return S}return null}function Ei(E,T){if(E===T.value)return[T];for(const y of T.children){const S=Ei(E,y);if(S.length)return S.unshift(T),S}return[]}class Ds{constructor(T,y){this.value=T,this.children=y}toString(){return`TreeNode(${this.value})`}}function kr(E){const T={};return E&&E.children.forEach(y=>T[y.value.outlet]=y),T}class Vs extends ki{constructor(T,y){super(T),this.snapshot=y,qa(this,T)}toString(){return this.snapshot.toString()}}function Qs(E,T){const y=function za(E,T){const X=new ta([],{},{},"",{},tn,T,null,E.root,-1,{});return new $o("",new Ds(X,[]))}(E,T),S=new de([new Te("",{})]),U=new de({}),K=new de({}),X=new de({}),Le=new de(""),gt=new Bs(S,U,X,Le,K,tn,T,y.root);return gt.snapshot=y.root,new Vs(new Ds(gt,[]),y)}class Bs{constructor(T,y,S,U,K,X,Le,gt){this.url=T,this.params=y,this.queryParams=S,this.fragment=U,this.data=K,this.outlet=X,this.component=Le,this.title=this.data?.pipe((0,Se.U)(Wt=>Wt[Cr]))??(0,I.of)(void 0),this._futureSnapshot=gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(T=>Zr(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(T=>Zr(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uo(E,T="emptyOnly"){const y=E.pathFromRoot;let S=0;if("always"!==T)for(S=y.length-1;S>=1;){const U=y[S],K=y[S-1];if(U.routeConfig&&""===U.routeConfig.path)S--;else{if(K.component)break;S--}}return function Sa(E){return E.reduce((T,y)=>({params:{...T.params,...y.params},data:{...T.data,...y.data},resolve:{...y.data,...T.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(S))}class ta{get title(){return this.data?.[Cr]}constructor(T,y,S,U,K,X,Le,gt,Wt,Qt,hr){this.url=T,this.params=y,this.queryParams=S,this.fragment=U,this.data=K,this.outlet=X,this.component=Le,this.routeConfig=gt,this._urlSegment=Wt,this._lastPathIndex=Qt,this._resolve=hr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $o extends ki{constructor(T,y){super(y),this.url=T,qa(this,y)}toString(){return Ma(this._root)}}function qa(E,T){T.value._routerState=E,T.children.forEach(y=>qa(E,y))}function Ma(E){const T=E.children.length>0?` { ${E.children.map(Ma).join(", ")} } `:"";return`${E.value}${T}`}function Cs(E){if(E.snapshot){const T=E.snapshot,y=E._futureSnapshot;E.snapshot=y,cr(T.queryParams,y.queryParams)||E.queryParams.next(y.queryParams),T.fragment!==y.fragment&&E.fragment.next(y.fragment),cr(T.params,y.params)||E.params.next(y.params),function ii(E,T){if(E.length!==T.length)return!1;for(let y=0;y<E.length;++y)if(!cr(E[y],T[y]))return!1;return!0}(T.url,y.url)||E.url.next(y.url),cr(T.data,y.data)||E.data.next(y.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function Au(E,T){const y=cr(E.params,T.params)&&function Me(E,T){return _t(E,T)&&E.every((y,S)=>cr(y.parameters,T[S].parameters))}(E.url,T.url);return y&&!(!E.parent!=!T.parent)&&(!E.parent||Au(E.parent,T.parent))}function As(E,T,y){if(y&&E.shouldReuseRoute(T.value,y.value.snapshot)){const S=y.value;S._futureSnapshot=T.value;const U=function $s(E,T,y){return T.children.map(S=>{for(const U of y.children)if(E.shouldReuseRoute(S.value,U.value.snapshot))return As(E,S,U);return As(E,S)})}(E,T,y);return new Ds(S,U)}{if(E.shouldAttach(T.value)){const K=E.retrieve(T.value);if(null!==K){const X=K.route;return X.value._futureSnapshot=T.value,X.children=T.children.map(Le=>As(E,Le)),X}}const S=function na(E){return new Bs(new de(E.url),new de(E.params),new de(E.queryParams),new de(E.fragment),new de(E.data),E.outlet,E.component,E)}(T.value),U=T.children.map(K=>As(E,K));return new Ds(S,U)}}const Wa="ngNavigationCancelingError";function lo(E,T){const{redirectTo:y,navigationBehaviorOptions:S}=Er(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,U=ju(!1,0,T);return U.url=y,U.navigationBehaviorOptions=S,U}function ju(E,T,y){const S=new Error("NavigationCancelingError: "+(E||""));return S[Wa]=!0,S.cancellationCode=T,y&&(S.url=y),S}function ms(E){return ra(E)&&Er(E.url)}function ra(E){return E&&E[Wa]}class Do{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new co,this.attachRef=null}}let co=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(y,S){const U=this.getOrCreateContext(y);U.outlet=S,this.contexts.set(y,U)}onChildOutletDestroyed(y){const S=this.getContext(y);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let S=this.getContext(y);return S||(S=new Do,this.contexts.set(y,S)),S}getContext(y){return this.contexts.get(y)||null}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ka=!1;let Ji=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=tn,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(co),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb)}ngOnChanges(y){if(y.name){const{firstChange:S,previousValue:U}=y.name;if(S)return;this.isTrackedInParentContexts(U)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(U)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,Ka);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,Ka);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,Ka);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,S){this.activated=y,this._activatedRoute=S,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,S){if(this.isActivated)throw new g.vHH(4013,Ka);this._activatedRoute=y;const U=this.location,X=y.snapshot.component,Le=this.parentContexts.getOrCreateContext(this.name).children,gt=new is(y,Le,U.injector);if(S&&function $r(E){return!!E.resolveComponentFactory}(S)){const Wt=S.resolveComponentFactory(X);this.activated=U.createComponent(Wt,U.length,gt)}else this.activated=U.createComponent(X,{index:U.length,injector:gt,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275dir=g.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),E})();class is{constructor(T,y,S){this.route=T,this.childContexts=y,this.parent=S}get(T,y){return T===Bs?this.route:T===co?this.childContexts:this.parent.get(T,y)}}let ho=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275cmp=g.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(y,S){1&y&&g._UZ(0,"router-outlet")},dependencies:[Ji],encapsulation:2}),E})();function Js(E,T){return E.providers&&!E._injector&&(E._injector=(0,g.MMx)(E.providers,T,`Route: ${E.path}`)),E._injector??T}function Sr(E){const T=E.children&&E.children.map(Sr),y=T?{...E,children:T}:{...E};return!y.component&&!y.loadComponent&&(T||y.loadChildren)&&y.outlet&&y.outlet!==tn&&(y.component=ho),y}function Vi(E){return E.outlet||tn}function Xs(E,T){const y=E.filter(S=>Vi(S)===T);return y.push(...E.filter(S=>Vi(S)!==T)),y}function wr(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let T=E.parent;T;T=T.parent){const y=T.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class oa{constructor(T,y,S,U){this.routeReuseStrategy=T,this.futureState=y,this.currState=S,this.forwardEvent=U}activate(T){const y=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,S,T),Cs(this.futureState.root),this.activateChildRoutes(y,S,T)}deactivateChildRoutes(T,y,S){const U=kr(y);T.children.forEach(K=>{const X=K.value.outlet;this.deactivateRoutes(K,U[X],S),delete U[X]}),Fn(U,(K,X)=>{this.deactivateRouteAndItsChildren(K,S)})}deactivateRoutes(T,y,S){const U=T.value,K=y?y.value:null;if(U===K)if(U.component){const X=S.getContext(U.outlet);X&&this.deactivateChildRoutes(T,y,X.children)}else this.deactivateChildRoutes(T,y,S);else K&&this.deactivateRouteAndItsChildren(y,S)}deactivateRouteAndItsChildren(T,y){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,y):this.deactivateRouteAndOutlet(T,y)}detachAndStoreRouteSubtree(T,y){const S=y.getContext(T.value.outlet),U=S&&T.value.component?S.children:y,K=kr(T);for(const X of Object.keys(K))this.deactivateRouteAndItsChildren(K[X],U);if(S&&S.outlet){const X=S.outlet.detach(),Le=S.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:X,route:T,contexts:Le})}}deactivateRouteAndOutlet(T,y){const S=y.getContext(T.value.outlet),U=S&&T.value.component?S.children:y,K=kr(T);for(const X of Object.keys(K))this.deactivateRouteAndItsChildren(K[X],U);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(T,y,S){const U=kr(y);T.children.forEach(K=>{this.activateRoutes(K,U[K.value.outlet],S),this.forwardEvent(new Uo(K.value.snapshot))}),T.children.length&&this.forwardEvent(new ao(T.value.snapshot))}activateRoutes(T,y,S){const U=T.value,K=y?y.value:null;if(Cs(U),U===K)if(U.component){const X=S.getOrCreateContext(U.outlet);this.activateChildRoutes(T,y,X.children)}else this.activateChildRoutes(T,y,S);else if(U.component){const X=S.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Le=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),X.children.onOutletReAttached(Le.contexts),X.attachRef=Le.componentRef,X.route=Le.route.value,X.outlet&&X.outlet.attach(Le.componentRef,Le.route.value),Cs(Le.route.value),this.activateChildRoutes(T,null,X.children)}else{const Le=wr(U.snapshot),gt=Le?.get(g._Vd)??null;X.attachRef=null,X.route=U,X.resolver=gt,X.injector=Le,X.outlet&&X.outlet.activateWith(U,X.injector),this.activateChildRoutes(T,null,X.children)}}else this.activateChildRoutes(T,null,S)}}class aa{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Xi{constructor(T,y){this.component=T,this.route=y}}function Pa(E,T,y){const S=E._root;return V(S,T?T._root:null,y,[S.value])}function wn(E,T){const y=Symbol(),S=T.get(E,y);return S===y?"function"!=typeof E||(0,g.Z0I)(E)?T.get(E):E:S}function V(E,T,y,S,U={canDeactivateChecks:[],canActivateChecks:[]}){const K=kr(T);return E.children.forEach(X=>{(function L(E,T,y,S,U={canDeactivateChecks:[],canActivateChecks:[]}){const K=E.value,X=T?T.value:null,Le=y?y.getContext(E.value.outlet):null;if(X&&K.routeConfig===X.routeConfig){const gt=function O(E,T,y){if("function"==typeof y)return y(E,T);switch(y){case"pathParamsChange":return!_t(E.url,T.url);case"pathParamsOrQueryParamsChange":return!_t(E.url,T.url)||!cr(E.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Au(E,T)||!cr(E.queryParams,T.queryParams);default:return!Au(E,T)}}(X,K,K.routeConfig.runGuardsAndResolvers);gt?U.canActivateChecks.push(new aa(S)):(K.data=X.data,K._resolvedData=X._resolvedData),V(E,T,K.component?Le?Le.children:null:y,S,U),gt&&Le&&Le.outlet&&Le.outlet.isActivated&&U.canDeactivateChecks.push(new Xi(Le.outlet.component,X))}else X&&ee(T,Le,U),U.canActivateChecks.push(new aa(S)),V(E,null,K.component?Le?Le.children:null:y,S,U)})(X,K[X.value.outlet],y,S.concat([X.value]),U),delete K[X.value.outlet]}),Fn(K,(X,Le)=>ee(X,y.getContext(Le),U)),U}function ee(E,T,y){const S=kr(E),U=E.value;Fn(S,(K,X)=>{ee(K,U.component?T?T.children.getContext(X):null:T,y)}),y.canDeactivateChecks.push(new Xi(U.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,U))}function it(E){return"function"==typeof E}function Ra(E){return E instanceof be||"EmptyError"===E?.name}const ys=Symbol("INITIAL_VALUE");function wi(){return pt(E=>yt(E.map(T=>T.pipe(Ne(1),function Et(...E){const T=(0,Ye.yG)(E);return(0,Yt.e)((y,S)=>{(T?ot(E,y,T):ot(E,y)).subscribe(S)})}(ys)))).pipe((0,Se.U)(T=>{for(const y of T)if(!0!==y){if(y===ys)return ys;if(!1===y||y instanceof Yr)return y}return!0}),(0,ue.h)(T=>T!==ys),Ne(1)))}function Ao(E){return(0,Ft.z)((0,wt.b)(T=>{if(Er(T))throw lo(0,T)}),(0,Se.U)(T=>!0===T))}const pu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oa(E,T,y,S,U){const K=ka(E,T,y);return K.matched?function Ms(E,T,y,S){const U=T.canMatch;if(!U||0===U.length)return(0,I.of)(!0);const K=U.map(X=>{const Le=wn(X,E);return Un(function Co(E){return E&&it(E.canMatch)}(Le)?Le.canMatch(T,y):E.runInContext(()=>Le(T,y)))});return(0,I.of)(K).pipe(wi(),Ao())}(S=Js(T,S),T,y).pipe((0,Se.U)(X=>!0===X?K:{...pu})):(0,I.of)(K)}function ka(E,T,y){if(""===T.path)return"full"===T.pathMatch&&(E.hasChildren()||y.length>0)?{...pu}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const U=(T.matcher||bi)(y,E,T);if(!U)return{...pu};const K={};Fn(U.posParams,(Le,gt)=>{K[gt]=Le.path});const X=U.consumed.length>0?{...K,...U.consumed[U.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:U.consumed,remainingSegments:y.slice(U.consumed.length),parameters:X,positionalParamSegments:U.posParams??{}}}function eo(E,T,y,S){if(y.length>0&&function Fr(E,T,y){return y.some(S=>Hs(E,T,S)&&Vi(S)!==tn)}(E,y,S)){const K=new $e(T,function Qa(E,T,y,S){const U={};U[tn]=S,S._sourceSegment=E,S._segmentIndexShift=T.length;for(const K of y)if(""===K.path&&Vi(K)!==tn){const X=new $e([],{});X._sourceSegment=E,X._segmentIndexShift=T.length,U[Vi(K)]=X}return U}(E,T,S,new $e(y,E.children)));return K._sourceSegment=E,K._segmentIndexShift=T.length,{segmentGroup:K,slicedSegments:[]}}if(0===y.length&&function Ja(E,T,y){return y.some(S=>Hs(E,T,S))}(E,y,S)){const K=new $e(E.segments,function js(E,T,y,S,U){const K={};for(const X of S)if(Hs(E,y,X)&&!U[Vi(X)]){const Le=new $e([],{});Le._sourceSegment=E,Le._segmentIndexShift=T.length,K[Vi(X)]=Le}return{...U,...K}}(E,T,y,S,E.children));return K._sourceSegment=E,K._segmentIndexShift=T.length,{segmentGroup:K,slicedSegments:y}}const U=new $e(E.segments,E.children);return U._sourceSegment=E,U._segmentIndexShift=T.length,{segmentGroup:U,slicedSegments:y}}function Hs(E,T,y){return(!(E.hasChildren()||T.length>0)||"full"!==y.pathMatch)&&""===y.path}function zi(E,T,y,S){return!!(Vi(E)===S||S!==tn&&Hs(T,y,E))&&("**"===E.path||ka(T,E,y).matched)}function Xa(E,T,y){return 0===T.length&&!E.children[y]}const zo=!1;class go{constructor(T){this.segmentGroup=T||null}}class gu{constructor(T){this.urlTree=T}}function ua(E){return Ot(new go(E))}function Gs(E){return Ot(new gu(E))}class Xr{constructor(T,y,S,U,K){this.injector=T,this.configLoader=y,this.urlSerializer=S,this.urlTree=U,this.config=K,this.allowRedirects=!0}apply(){const T=eo(this.urlTree.root,[],[],this.config).segmentGroup,y=new $e(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,y,tn).pipe((0,Se.U)(K=>this.createUrlTree(zn(K),this.urlTree.queryParams,this.urlTree.fragment))).pipe(kn(K=>{if(K instanceof gu)return this.allowRedirects=!1,this.match(K.urlTree);throw K instanceof go?this.noMatchError(K):K}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,tn).pipe((0,Se.U)(U=>this.createUrlTree(zn(U),T.queryParams,T.fragment))).pipe(kn(U=>{throw U instanceof go?this.noMatchError(U):U}))}noMatchError(T){return new g.vHH(4002,zo)}createUrlTree(T,y,S){const U=Cn(T);return new Yr(U,y,S)}expandSegmentGroup(T,y,S,U){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(T,y,S).pipe((0,Se.U)(K=>new $e([],K))):this.expandSegment(T,S,y,S.segments,U,!0)}expandChildren(T,y,S){const U=[];for(const K of Object.keys(S.children))"primary"===K?U.unshift(K):U.push(K);return(0,$.D)(U).pipe((0,Xe.b)(K=>{const X=S.children[K],Le=Xs(y,K);return this.expandSegmentGroup(T,Le,X,K).pipe((0,Se.U)(gt=>({segment:gt,outlet:K})))}),dn((K,X)=>(K[X.outlet]=X.segment,K),{}),Dr())}expandSegment(T,y,S,U,K,X){return(0,$.D)(S).pipe((0,Xe.b)(Le=>this.expandSegmentAgainstRoute(T,y,S,Le,U,K,X).pipe(kn(Wt=>{if(Wt instanceof go)return(0,I.of)(null);throw Wt}))),Ae(Le=>!!Le),kn((Le,gt)=>{if(Ra(Le))return Xa(y,U,K)?(0,I.of)(new $e([],{})):ua(y);throw Le}))}expandSegmentAgainstRoute(T,y,S,U,K,X,Le){return zi(U,y,K,X)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(T,y,U,K,X):Le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,y,S,U,K,X):ua(y):ua(y)}expandSegmentAgainstRouteUsingRedirect(T,y,S,U,K,X){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,S,U,X):this.expandRegularSegmentAgainstRouteUsingRedirect(T,y,S,U,K,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,y,S,U){const K=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Gs(K):this.lineralizeSegments(S,K).pipe((0,Be.z)(X=>{const Le=new $e(X,{});return this.expandSegment(T,Le,y,X,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,y,S,U,K,X){const{matched:Le,consumedSegments:gt,remainingSegments:Wt,positionalParamSegments:Qt}=ka(y,U,K);if(!Le)return ua(y);const hr=this.applyRedirectCommands(gt,U.redirectTo,Qt);return U.redirectTo.startsWith("/")?Gs(hr):this.lineralizeSegments(U,hr).pipe((0,Be.z)(qr=>this.expandSegment(T,y,S,qr.concat(Wt),X,!1)))}matchSegmentAgainstRoute(T,y,S,U,K){return"**"===S.path?(T=Js(S,T),S.loadChildren?(S._loadedRoutes?(0,I.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(T,S)).pipe((0,Se.U)(Le=>(S._loadedRoutes=Le.routes,S._loadedInjector=Le.injector,new $e(U,{})))):(0,I.of)(new $e(U,{}))):Oa(y,S,U,T).pipe(pt(({matched:X,consumedSegments:Le,remainingSegments:gt})=>X?this.getChildConfig(T=S._injector??T,S,U).pipe((0,Be.z)(Qt=>{const hr=Qt.injector??T,qr=Qt.routes,{segmentGroup:$a,slicedSegments:zs}=eo(y,Le,gt,qr),la=new $e($a.segments,$a.children);if(0===zs.length&&la.hasChildren())return this.expandChildren(hr,qr,la).pipe((0,Se.U)(Ou=>new $e(Le,Ou)));if(0===qr.length&&0===zs.length)return(0,I.of)(new $e(Le,{}));const ws=Vi(S)===K;return this.expandSegment(hr,la,qr,zs,ws?tn:K,!0).pipe((0,Se.U)(no=>new $e(Le.concat(no.segments),no.children)))})):ua(y)))}getChildConfig(T,y,S){return y.children?(0,I.of)({routes:y.children,injector:T}):y.loadChildren?void 0!==y._loadedRoutes?(0,I.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Ya(E,T,y,S){const U=T.canLoad;if(void 0===U||0===U.length)return(0,I.of)(!0);const K=U.map(X=>{const Le=wn(X,E);return Un(function Mr(E){return E&&it(E.canLoad)}(Le)?Le.canLoad(T,y):E.runInContext(()=>Le(T,y)))});return(0,I.of)(K).pipe(wi(),Ao())}(T,y,S).pipe((0,Be.z)(U=>U?this.configLoader.loadChildren(T,y).pipe((0,wt.b)(K=>{y._loadedRoutes=K.routes,y._loadedInjector=K.injector})):function An(E){return Ot(ju(zo,3))}())):(0,I.of)({routes:[],injector:T})}lineralizeSegments(T,y){let S=[],U=y.root;for(;;){if(S=S.concat(U.segments),0===U.numberOfChildren)return(0,I.of)(S);if(U.numberOfChildren>1||!U.children[tn])return T.redirectTo,Ot(new g.vHH(4e3,zo));U=U.children[tn]}}applyRedirectCommands(T,y,S){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),T,S)}applyRedirectCreateUrlTree(T,y,S,U){const K=this.createSegmentGroup(T,y.root,S,U);return new Yr(K,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(T,y){const S={};return Fn(T,(U,K)=>{if("string"==typeof U&&U.startsWith(":")){const Le=U.substring(1);S[K]=y[Le]}else S[K]=U}),S}createSegmentGroup(T,y,S,U){const K=this.createSegments(T,y.segments,S,U);let X={};return Fn(y.children,(Le,gt)=>{X[gt]=this.createSegmentGroup(T,Le,S,U)}),new $e(K,X)}createSegments(T,y,S,U){return y.map(K=>K.path.startsWith(":")?this.findPosParam(T,K,U):this.findOrReturn(K,S))}findPosParam(T,y,S){const U=S[y.path.substring(1)];if(!U)throw new g.vHH(4001,zo);return U}findOrReturn(T,y){let S=0;for(const U of y){if(U.path===T.path)return y.splice(S),U;S++}return T}}class H{}class ge{constructor(T,y,S,U,K,X,Le){this.injector=T,this.rootComponentType=y,this.config=S,this.urlTree=U,this.url=K,this.paramsInheritanceStrategy=X,this.urlSerializer=Le}recognize(){const T=eo(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,tn).pipe((0,Se.U)(y=>{if(null===y)return null;const S=new ta([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tn,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Ds(S,y),K=new $o(this.url,U);return this.inheritParamsAndData(K._root),K}))}inheritParamsAndData(T){const y=T.value,S=uo(y,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),T.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(T,y,S,U){return 0===S.segments.length&&S.hasChildren()?this.processChildren(T,y,S):this.processSegment(T,y,S,S.segments,U)}processChildren(T,y,S){return(0,$.D)(Object.keys(S.children)).pipe((0,Xe.b)(U=>{const K=S.children[U],X=Xs(y,U);return this.processSegmentGroup(T,X,K,U)}),dn((U,K)=>U&&K?(U.push(...K),U):null),function ri(E,T=!1){return(0,Yt.e)((y,S)=>{let U=0;y.subscribe((0,me.x)(S,K=>{const X=E(K,U++);(X||T)&&S.next(K),!X&&S.complete()}))})}(U=>null!==U),_e(null),Dr(),(0,Se.U)(U=>{if(null===U)return null;const K=jr(U);return function tt(E){E.sort((T,y)=>T.value.outlet===tn?-1:y.value.outlet===tn?1:T.value.outlet.localeCompare(y.value.outlet))}(K),K}))}processSegment(T,y,S,U,K){return(0,$.D)(y).pipe((0,Xe.b)(X=>this.processSegmentAgainstRoute(X._injector??T,X,S,U,K)),Ae(X=>!!X),kn(X=>{if(Ra(X))return Xa(S,U,K)?(0,I.of)([]):(0,I.of)(null);throw X}))}processSegmentAgainstRoute(T,y,S,U,K){if(y.redirectTo||!zi(y,S,U,K))return(0,I.of)(null);let X;if("**"===y.path){const Le=U.length>0?Tt(U).parameters:{},gt=Qn(S)+U.length,Wt=new ta(U,Le,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xn(y),Vi(y),y.component??y._loadedComponent??null,y,dr(S),gt,Ri(y));X=(0,I.of)({snapshot:Wt,consumedSegments:[],remainingSegments:[]})}else X=Oa(S,y,U,T).pipe((0,Se.U)(({matched:Le,consumedSegments:gt,remainingSegments:Wt,parameters:Qt})=>{if(!Le)return null;const hr=Qn(S)+gt.length;return{snapshot:new ta(gt,Qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xn(y),Vi(y),y.component??y._loadedComponent??null,y,dr(S),hr,Ri(y)),consumedSegments:gt,remainingSegments:Wt}}));return X.pipe(pt(Le=>{if(null===Le)return(0,I.of)(null);const{snapshot:gt,consumedSegments:Wt,remainingSegments:Qt}=Le;T=y._injector??T;const hr=y._loadedInjector??T,qr=function bt(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(y),{segmentGroup:$a,slicedSegments:zs}=eo(S,Wt,Qt,qr.filter(ws=>void 0===ws.redirectTo));if(0===zs.length&&$a.hasChildren())return this.processChildren(hr,qr,$a).pipe((0,Se.U)(ws=>null===ws?null:[new Ds(gt,ws)]));if(0===qr.length&&0===zs.length)return(0,I.of)([new Ds(gt,[])]);const la=Vi(y)===K;return this.processSegment(hr,qr,$a,zs,la?tn:K).pipe((0,Se.U)(ws=>null===ws?null:[new Ds(gt,ws)]))}))}}function gn(E){const T=E.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function jr(E){const T=[],y=new Set;for(const S of E){if(!gn(S)){T.push(S);continue}const U=T.find(K=>S.value.routeConfig===K.value.routeConfig);void 0!==U?(U.children.push(...S.children),y.add(U)):T.push(S)}for(const S of y){const U=jr(S.children);T.push(new Ds(S.value,U))}return T.filter(S=>!y.has(S))}function dr(E){let T=E;for(;T._sourceSegment;)T=T._sourceSegment;return T}function Qn(E){let T=E,y=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,y+=T._segmentIndexShift??0;return y-1}function Xn(E){return E.data||{}}function Ri(E){return E.resolve||{}}function Lr(E){return"string"==typeof E.title||null===E.title}function Ps(E){return pt(T=>{const y=E(T);return y?(0,$.D)(y).pipe((0,Se.U)(()=>T)):(0,I.of)(T)})}const rn=new g.OlP("ROUTES");let mn=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,I.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const S=Un(y.loadComponent()).pipe((0,Se.U)(qt),(0,wt.b)(K=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=K}),Kr(()=>{this.componentLoaders.delete(y)})),U=new Lt(S,()=>new Pe.x).pipe(dt());return this.componentLoaders.set(y,U),U}loadChildren(y,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,I.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const K=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,Se.U)(Le=>{this.onLoadEndListener&&this.onLoadEndListener(S);let gt,Wt,Qt=!1;Array.isArray(Le)?Wt=Le:(gt=Le.create(y).injector,Wt=Vn(gt.get(rn,[],g.XFs.Self|g.XFs.Optional)));return{routes:Wt.map(Sr),injector:gt}}),Kr(()=>{this.childrenLoaders.delete(S)})),X=new Lt(K,()=>new Pe.x).pipe(dt());return this.childrenLoaders.set(S,X),X}loadModuleFactoryOrRoutes(y){return Un(y()).pipe((0,Se.U)(qt),(0,Be.z)(S=>S instanceof g.YKP||Array.isArray(S)?(0,I.of)(S):(0,$.D)(this.compiler.compileModuleAsync(S))))}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function qt(E){return function Dl(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Pt=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Pe.x,this.configLoader=(0,g.f3M)(mn),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(re),this.rootContexts=(0,g.f3M)(co),this.navigationId=0,this.afterPreactivation=()=>(0,I.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=U=>this.events.next(new Lo(U)),this.configLoader.onLoadStartListener=U=>this.events.next(new ar(U))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:S})}setupNavigations(y){return this.transitions=new de({id:0,targetPageId:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ni,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ue.h)(S=>0!==S.id),(0,Se.U)(S=>({...S,extractedUrl:y.urlHandlingStrategy.extract(S.rawUrl)})),pt(S=>{let U=!1,K=!1;return(0,I.of)(S).pipe((0,wt.b)(X=>{this.currentNavigation={id:X.id,initialUrl:X.rawUrl,extractedUrl:X.extractedUrl,trigger:X.source,extras:X.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pt(X=>{const Le=y.browserUrlTree.toString(),gt=!y.navigated||X.extractedUrl.toString()!==Le||Le!==y.currentUrlTree.toString();if(!gt&&"reload"!==(X.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Qt="";return this.events.next(new pi(X.id,y.serializeUrl(S.rawUrl),Qt,0)),y.rawUrlTree=X.rawUrl,X.resolve(null),st.E}if(y.urlHandlingStrategy.shouldProcessUrl(X.rawUrl))return Fi(X.source)&&(y.browserUrlTree=X.extractedUrl),(0,I.of)(X).pipe(pt(Qt=>{const hr=this.transitions?.getValue();return this.events.next(new Oi(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),Qt.source,Qt.restoredState)),hr!==this.transitions?.getValue()?st.E:Promise.resolve(Qt)}),function ou(E,T,y,S){return pt(U=>function So(E,T,y,S,U){return new Xr(E,T,y,S,U).apply()}(E,T,y,U.extractedUrl,S).pipe((0,Se.U)(K=>({...U,urlAfterRedirects:K}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,y.config),(0,wt.b)(Qt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Qt.urlAfterRedirects},S.urlAfterRedirects=Qt.urlAfterRedirects}),function zr(E,T,y,S,U){return(0,Be.z)(K=>function Y(E,T,y,S,U,K,X="emptyOnly"){return new ge(E,T,y,S,U,X,K).recognize().pipe(pt(Le=>null===Le?function k(E){return new lt.y(T=>T.error(E))}(new H):(0,I.of)(Le)))}(E,T,y,K.urlAfterRedirects,S.serialize(K.urlAfterRedirects),S,U).pipe((0,Se.U)(X=>({...K,targetSnapshot:X}))))}(this.environmentInjector,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,wt.b)(Qt=>{if(S.targetSnapshot=Qt.targetSnapshot,"eager"===y.urlUpdateStrategy){if(!Qt.extras.skipLocationChange){const qr=y.urlHandlingStrategy.merge(Qt.urlAfterRedirects,Qt.rawUrl);y.setBrowserUrl(qr,Qt)}y.browserUrlTree=Qt.urlAfterRedirects}const hr=new Fs(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot);this.events.next(hr)}));if(gt&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:Qt,extractedUrl:hr,source:qr,restoredState:$a,extras:zs}=X,la=new Oi(Qt,this.urlSerializer.serialize(hr),qr,$a);this.events.next(la);const ws=Qs(hr,this.rootComponentType).snapshot;return S={...X,targetSnapshot:ws,urlAfterRedirects:hr,extras:{...zs,skipLocationChange:!1,replaceUrl:!1}},(0,I.of)(S)}{const Qt="";return this.events.next(new pi(X.id,y.serializeUrl(S.extractedUrl),Qt,1)),y.rawUrlTree=X.rawUrl,X.resolve(null),st.E}}),(0,wt.b)(X=>{const Le=new Zs(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot);this.events.next(Le)}),(0,Se.U)(X=>S={...X,guards:Pa(X.targetSnapshot,X.currentSnapshot,this.rootContexts)}),function xa(E,T){return(0,Be.z)(y=>{const{targetSnapshot:S,currentSnapshot:U,guards:{canActivateChecks:K,canDeactivateChecks:X}}=y;return 0===X.length&&0===K.length?(0,I.of)({...y,guardsResult:!0}):function Na(E,T,y,S){return(0,$.D)(E).pipe((0,Be.z)(U=>function ma(E,T,y,S,U){const K=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,I.of)(!0);const X=K.map(Le=>{const gt=wr(T)??U,Wt=wn(Le,gt);return Un(function nr(E){return E&&it(E.canDeactivate)}(Wt)?Wt.canDeactivate(E,T,y,S):gt.runInContext(()=>Wt(E,T,y,S))).pipe(Ae())});return(0,I.of)(X).pipe(wi())}(U.component,U.route,y,T,S)),Ae(U=>!0!==U,!0))}(X,S,U,E).pipe((0,Be.z)(Le=>Le&&function pn(E){return"boolean"==typeof E}(Le)?function Za(E,T,y,S){return(0,$.D)(T).pipe((0,Xe.b)(U=>ot(function Go(E,T){return null!==E&&T&&T(new Us(E)),(0,I.of)(!0)}(U.route.parent,S),function fu(E,T){return null!==E&&T&&T(new Ys(E)),(0,I.of)(!0)}(U.route,S),function po(E,T,y){const S=T[T.length-1],K=T.slice(0,T.length-1).reverse().map(X=>function gi(E){const T=E.routeConfig?E.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:E,guards:T}:null}(X)).filter(X=>null!==X).map(X=>ft(()=>{const Le=X.guards.map(gt=>{const Wt=wr(X.node)??y,Qt=wn(gt,Wt);return Un(function It(E){return E&&it(E.canActivateChild)}(Qt)?Qt.canActivateChild(S,E):Wt.runInContext(()=>Qt(S,E))).pipe(Ae())});return(0,I.of)(Le).pipe(wi())}));return(0,I.of)(K).pipe(wi())}(E,U.path,y),function hs(E,T,y){const S=T.routeConfig?T.routeConfig.canActivate:null;if(!S||0===S.length)return(0,I.of)(!0);const U=S.map(K=>ft(()=>{const X=wr(T)??y,Le=wn(K,X);return Un(function Bi(E){return E&&it(E.canActivate)}(Le)?Le.canActivate(T,E):X.runInContext(()=>Le(T,E))).pipe(Ae())}));return(0,I.of)(U).pipe(wi())}(E,U.route,y))),Ae(U=>!0!==U,!0))}(S,K,E,T):(0,I.of)(Le)),(0,Se.U)(Le=>({...y,guardsResult:Le})))})}(this.environmentInjector,X=>this.events.next(X)),(0,wt.b)(X=>{if(S.guardsResult=X.guardsResult,Er(X.guardsResult))throw lo(0,X.guardsResult);const Le=new Zi(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot,!!X.guardsResult);this.events.next(Le)}),(0,ue.h)(X=>!!X.guardsResult||(y.restoreHistory(X),this.cancelNavigationTransition(X,"",3),!1)),Ps(X=>{if(X.guards.canActivateChecks.length)return(0,I.of)(X).pipe((0,wt.b)(Le=>{const gt=new ea(Le.id,this.urlSerializer.serialize(Le.extractedUrl),this.urlSerializer.serialize(Le.urlAfterRedirects),Le.targetSnapshot);this.events.next(gt)}),pt(Le=>{let gt=!1;return(0,I.of)(Le).pipe(function Ir(E,T){return(0,Be.z)(y=>{const{targetSnapshot:S,guards:{canActivateChecks:U}}=y;if(!U.length)return(0,I.of)(y);let K=0;return(0,$.D)(U).pipe((0,Xe.b)(X=>function os(E,T,y,S){const U=E.routeConfig,K=E._resolve;return void 0!==U?.title&&!Lr(U)&&(K[Cr]=U.title),function er(E,T,y,S){const U=function eu(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===U.length)return(0,I.of)({});const K={};return(0,$.D)(U).pipe((0,Be.z)(X=>function Nt(E,T,y,S){const U=wr(T)??S,K=wn(E,U);return Un(K.resolve?K.resolve(T,y):U.runInContext(()=>K(T,y)))}(E[X],T,y,S).pipe(Ae(),(0,wt.b)(Le=>{K[X]=Le}))),ur(1),function vr(E){return(0,Se.U)(()=>E)}(K),kn(X=>Ra(X)?st.E:Ot(X)))}(K,E,T,S).pipe((0,Se.U)(X=>(E._resolvedData=X,E.data=uo(E,y).resolve,U&&Lr(U)&&(E.data[Cr]=U.title),null)))}(X.route,S,E,T)),(0,wt.b)(()=>K++),ur(1),(0,Be.z)(X=>K===U.length?(0,I.of)(y):st.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,wt.b)({next:()=>gt=!0,complete:()=>{gt||(y.restoreHistory(Le),this.cancelNavigationTransition(Le,"",2))}}))}),(0,wt.b)(Le=>{const gt=new Ls(Le.id,this.urlSerializer.serialize(Le.extractedUrl),this.urlSerializer.serialize(Le.urlAfterRedirects),Le.targetSnapshot);this.events.next(gt)}))}),Ps(X=>{const Le=gt=>{const Wt=[];gt.routeConfig?.loadComponent&&!gt.routeConfig._loadedComponent&&Wt.push(this.configLoader.loadComponent(gt.routeConfig).pipe((0,wt.b)(Qt=>{gt.component=Qt}),(0,Se.U)(()=>{})));for(const Qt of gt.children)Wt.push(...Le(Qt));return Wt};return yt(Le(X.targetSnapshot.root)).pipe(_e(),Ne(1))}),Ps(()=>this.afterPreactivation()),(0,Se.U)(X=>{const Le=function su(E,T,y){const S=As(E,T._root,y?y._root:void 0);return new Vs(S,T)}(y.routeReuseStrategy,X.targetSnapshot,X.currentRouterState);return S={...X,targetRouterState:Le}}),(0,wt.b)(X=>{y.currentUrlTree=X.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),y.routerState=X.targetRouterState,"deferred"===y.urlUpdateStrategy&&(X.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,X),y.browserUrlTree=X.urlAfterRedirects)}),((E,T,y)=>(0,Se.U)(S=>(new oa(T,S.targetRouterState,S.currentRouterState,y).activate(E),S)))(this.rootContexts,y.routeReuseStrategy,X=>this.events.next(X)),Ne(1),(0,wt.b)({next:X=>{U=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new Br(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(X.targetRouterState.snapshot),X.resolve(!0)},complete:()=>{U=!0}}),Kr(()=>{U||K||this.cancelNavigationTransition(S,"",1),this.currentNavigation?.id===S.id&&(this.currentNavigation=null)}),kn(X=>{if(K=!0,ra(X)){ms(X)||(y.navigated=!0,y.restoreHistory(S,!0));const Le=new Aa(S.id,this.urlSerializer.serialize(S.extractedUrl),X.message,X.cancellationCode);if(this.events.next(Le),ms(X)){const gt=y.urlHandlingStrategy.merge(X.url,y.rawUrlTree),Wt={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||Fi(S.source)};y.scheduleNavigation(gt,Ni,null,Wt,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{y.restoreHistory(S,!0);const Le=new hi(S.id,this.urlSerializer.serialize(S.extractedUrl),X,S.targetSnapshot??void 0);this.events.next(Le);try{S.resolve(y.errorHandler(X))}catch(gt){S.reject(gt)}}return st.E}))}))}cancelNavigationTransition(y,S,U){const K=new Aa(y.id,this.urlSerializer.serialize(y.extractedUrl),S,U);this.events.next(K),y.resolve(!1)}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Fi(E){return E!==Ni}let Mo=(()=>{class E{buildTitle(y){let S,U=y.root;for(;void 0!==U;)S=this.getResolvedTitleForRoute(U)??S,U=U.children.find(K=>K.outlet===tn);return S}getResolvedTitleForRoute(y){return y.data[Cr]}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(al)},providedIn:"root"}),E})(),al=(()=>{class E extends Mo{constructor(y){super(),this.title=y}updateTitle(y){const S=this.buildTitle(y);void 0!==S&&this.title.setTitle(S)}}return E.\u0275fac=function(y){return new(y||E)(g.LFG(Hi.Dx))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Cl=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(Hu)},providedIn:"root"}),E})();class mu{shouldDetach(T){return!1}store(T,y){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,y){return T.routeConfig===y.routeConfig}}let Hu=(()=>{class E extends mu{}return E.\u0275fac=function(){let T;return function(S){return(T||(T=g.n5z(E)))(S||E)}}(),E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const yi=new g.OlP("",{providedIn:"root",factory:()=>({})});let Mu=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(yu)},providedIn:"root"}),E})(),yu=(()=>{class E{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,S){return y}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Fa(E){throw E}function qn(E,T,y){return T.parse("/")}const _u={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},to={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rr=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this.options=(0,g.f3M)(yi,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Fa,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Mu),this.routeReuseStrategy=(0,g.f3M)(Cl),this.urlCreationStrategy=(0,g.f3M)(Mi),this.titleStrategy=(0,g.f3M)(Mo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Vn((0,g.f3M)(rn,{optional:!0})??[]),this.navigationTransitions=(0,g.f3M)(Pt),this.urlSerializer=(0,g.f3M)(re),this.location=(0,g.f3M)(We.Ye),this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId??0},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ni,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const S="popstate"===y.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,S,y.state)},0)}))}navigateToSyncWithBrowser(y,S,U){const K={replaceUrl:!0},X=U?.navigationId?U:null;if(U){const gt={...U};delete gt.navigationId,delete gt.\u0275routerPageId,0!==Object.keys(gt).length&&(K.state=gt)}const Le=this.parseUrl(y);this.scheduleNavigation(Le,S,X,K)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(y){this.config=y.map(Sr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,S={}){const{relativeTo:U,queryParams:K,fragment:X,queryParamsHandling:Le,preserveFragment:gt}=S,Wt=gt?this.currentUrlTree.fragment:X;let Qt=null;switch(Le){case"merge":Qt={...this.currentUrlTree.queryParams,...K};break;case"preserve":Qt=this.currentUrlTree.queryParams;break;default:Qt=K||null}return null!==Qt&&(Qt=this.removeEmptyProps(Qt)),this.urlCreationStrategy.createUrlTree(U,this.routerState,this.currentUrlTree,y,Qt,Wt??null)}navigateByUrl(y,S={skipLocationChange:!1}){const U=Er(y)?y:this.parseUrl(y),K=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(K,Ni,null,S)}navigate(y,S={skipLocationChange:!1}){return function Tn(E){for(let T=0;T<E.length;T++){const y=E[T];if(null==y)throw new g.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,S),S)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let S;try{S=this.urlSerializer.parse(y)}catch(U){S=this.malformedUriErrorHandler(U,this.urlSerializer,y)}return S}isActive(y,S){let U;if(U=!0===S?{..._u}:!1===S?{...to}:S,Er(y))return fi(this.currentUrlTree,y,U);const K=this.parseUrl(y);return fi(this.currentUrlTree,K,U)}removeEmptyProps(y){return Object.keys(y).reduce((S,U)=>{const K=y[U];return null!=K&&(S[U]=K),S},{})}scheduleNavigation(y,S,U,K,X){if(this.disposed)return Promise.resolve(!1);let Le,gt,Wt,Qt;return X?(Le=X.resolve,gt=X.reject,Wt=X.promise):Wt=new Promise((hr,qr)=>{Le=hr,gt=qr}),Qt="computed"===this.canceledNavigationResolution?U&&U.\u0275routerPageId?U.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Qt,source:S,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:K,resolve:Le,reject:gt,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(hr=>Promise.reject(hr))}setBrowserUrl(y,S){const U=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(U)||S.extras.replaceUrl){const X={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(U,"",X)}else{const K={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.go(U,"",K)}}restoreHistory(y,S=!1){if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-(this.browserPageId??this.currentPageId);0!==K?this.location.historyGo(K):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===K&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,S){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:S}:{navigationId:y}}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),mo=(()=>{class E{constructor(y,S,U,K,X,Le){this.router=y,this.route=S,this.tabIndexAttribute=U,this.renderer=K,this.el=X,this.locationStrategy=Le,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Pe.x;const gt=X.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===gt||"area"===gt,this.isAnchorElement?this.subscription=y.events.subscribe(Wt=>{Wt instanceof Br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,g.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,g.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,g.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,S,U,K,X){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||S||U||K||X||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,S){const U=this.renderer,K=this.el.nativeElement;null!==S?U.setAttribute(K,y,S):U.removeAttribute(K,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(y){return new(y||E)(g.Y36(rr),g.Y36(Bs),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(We.S$))},E.\u0275dir=g.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,S){1&y&&g.NdJ("click",function(K){return S.onClick(K.button,K.ctrlKey,K.shiftKey,K.altKey,K.metaKey)}),2&y&&g.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[g.TTD]}),E})();class ti{}let La=(()=>{class E{constructor(y,S,U,K,X){this.router=y,this.injector=U,this.preloadingStrategy=K,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,ue.h)(y=>y instanceof Br),(0,Xe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,S){const U=[];for(const K of S){K.providers&&!K._injector&&(K._injector=(0,g.MMx)(K.providers,y,`Route: ${K.path}`));const X=K._injector??y,Le=K._loadedInjector??X;(K.loadChildren&&!K._loadedRoutes&&void 0===K.canLoad||K.loadComponent&&!K._loadedComponent)&&U.push(this.preloadConfig(X,K)),(K.children||K._loadedRoutes)&&U.push(this.processRoutes(Le,K.children??K._loadedRoutes))}return(0,$.D)(U).pipe((0,en.J)())}preloadConfig(y,S){return this.preloadingStrategy.preload(S,()=>{let U;U=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(y,S):(0,I.of)(null);const K=U.pipe((0,Be.z)(X=>null===X?(0,I.of)(void 0):(S._loadedRoutes=X.routes,S._loadedInjector=X.injector,this.processRoutes(X.injector??y,X.routes))));if(S.loadComponent&&!S._loadedComponent){const X=this.loader.loadComponent(S);return(0,$.D)([K,X]).pipe((0,en.J)())}return K})}}return E.\u0275fac=function(y){return new(y||E)(g.LFG(rr),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(ti),g.LFG(mn))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const qi=new g.OlP("");let Ua=(()=>{class E{constructor(y,S,U,K,X={}){this.urlSerializer=y,this.transitions=S,this.viewportScroller=U,this.zone=K,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Oi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Br&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Vo&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vo(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return E.\u0275fac=function(y){g.$Z()},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac}),E})();var Rs=(()=>((Rs=Rs||{})[Rs.COMPLETE=0]="COMPLETE",Rs[Rs.FAILED=1]="FAILED",Rs[Rs.REDIRECTING=2]="REDIRECTING",Rs))();const Po=!1;function ai(E,T){return{\u0275kind:E,\u0275providers:T}}const Ro=new g.OlP("",{providedIn:"root",factory:()=>!1});function $i(){const E=(0,g.f3M)(g.zs3);return T=>{const y=E.get(g.z2F);if(T!==y.components[0])return;const S=E.get(rr),U=E.get(Qe);1===E.get(Ea)&&S.initialNavigation(),E.get(_s,null,g.XFs.Optional)?.setUpPreloading(),E.get(qi,null,g.XFs.Optional)?.init(),S.resetRootComponentType(y.componentTypes[0]),U.closed||(U.next(),U.complete(),U.unsubscribe())}}const Qe=new g.OlP(Po?"bootstrap done indicator":"",{factory:()=>new Pe.x}),Ea=new g.OlP(Po?"initial navigation":"",{providedIn:"root",factory:()=>1});function vu(){let E=[];return E=Po?[{provide:g.Xts,multi:!0,useFactory:()=>{const T=(0,g.f3M)(rr);return()=>T.events.subscribe(y=>{console.group?.(`Router Event: ${y.constructor.name}`),console.log(function Yi(E){if(!("type"in E))return`Unknown Router Event: ${E.constructor.name}`;switch(E.type){case 14:return`ActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state}, shouldActivate: ${E.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 2:return`NavigationCancel(id: ${E.id}, url: '${E.url}')`;case 16:return`NavigationSkipped(id: ${E.id}, url: '${E.url}')`;case 1:return`NavigationEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${E.id}, url: '${E.url}', error: ${E.error})`;case 0:return`NavigationStart(id: ${E.id}, url: '${E.url}')`;case 6:return`ResolveEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 5:return`ResolveStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 10:return`RouteConfigLoadEnd(path: ${E.route.path})`;case 9:return`RouteConfigLoadStart(path: ${E.route.path})`;case 4:return`RoutesRecognized(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 15:return`Scroll(anchor: '${E.anchor}', position: '${E.position?`${E.position[0]}, ${E.position[1]}`:null}')`}}(y)),console.log(y),console.groupEnd?.()})}}]:[],ai(1,E)}const _s=new g.OlP(Po?"router preloader":"");function Wo(E){return ai(0,[{provide:_s,useExisting:La},{provide:ti,useExisting:E}])}const Va=!1,vs=new g.OlP(Va?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ui=[We.Ye,{provide:re,useClass:oe},rr,co,{provide:Bs,useFactory:function es(E){return E.routerState.root},deps:[rr]},mn,Va?{provide:Ro,useValue:!0}:[]];function Eu(){return new g.PXZ("Router",rr)}let Ba=(()=>{class E{constructor(y){}static forRoot(y,S){return{ngModule:E,providers:[ui,Va&&S?.enableTracing?vu().\u0275providers:[],{provide:rn,multi:!0,useValue:y},{provide:vs,useFactory:xo,deps:[[rr,new g.FiY,new g.tp0]]},{provide:yi,useValue:S||{}},S?.useHash?{provide:We.S$,useClass:We.Do}:{provide:We.S$,useClass:We.b0},{provide:qi,useFactory:()=>{const E=(0,g.f3M)(We.EM),T=(0,g.f3M)(g.R0b),y=(0,g.f3M)(yi),S=(0,g.f3M)(Pt),U=(0,g.f3M)(re);return y.scrollOffset&&E.setOffset(y.scrollOffset),new Ua(U,S,E,T,y)}},S?.preloadingStrategy?Wo(S.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Eu},S?.initialNavigation?tu(S):[],[{provide:No,useFactory:$i},{provide:g.tb,multi:!0,useExisting:No}]]}}static forChild(y){return{ngModule:E,providers:[{provide:rn,multi:!0,useValue:y}]}}}return E.\u0275fac=function(y){return new(y||E)(g.LFG(vs,8))},E.\u0275mod=g.oAB({type:E}),E.\u0275inj=g.cJS({imports:[ho]}),E})();function xo(E){if(Va&&E)throw new g.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function tu(E){return["disabled"===E.initialNavigation?ai(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const T=(0,g.f3M)(rr);return()=>{T.setUpLocationChangeListener()}}},{provide:Ea,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?ai(2,[{provide:Ea,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:T=>{const y=T.get(We.V_,Promise.resolve());return()=>y.then(()=>new Promise(S=>{const U=T.get(rr),K=T.get(Qe);(function Ru(E,T){E.events.pipe((0,ue.h)(y=>y instanceof Br||y instanceof Aa||y instanceof hi||y instanceof pi),(0,Se.U)(y=>y instanceof Br||y instanceof pi?Rs.COMPLETE:y instanceof Aa&&(0===y.code||1===y.code)?Rs.REDIRECTING:Rs.FAILED),(0,ue.h)(y=>y!==Rs.REDIRECTING),Ne(1)).subscribe(()=>{T()})})(U,()=>{S(!0)}),T.get(Pt).afterPreactivation=()=>(S(!0),K.closed?(0,I.of)(void 0):K),U.initialNavigation()}))}}]).\u0275providers:[]]}const No=new g.OlP(Va?"Router Initializer":"")},2951:(yn,ct,q)=>{q.d(ct,{Jn:()=>ps,qX:()=>Un,Xd:()=>Fn,Mq:()=>Ai,C6:()=>xi,ZF:()=>jn,KN:()=>$e});var g=q(5861),$=q(4859),I=q(1877),Pe=q(2090);const de=(rt,je)=>je.some(Mt=>rt instanceof Mt);let Ve,be;const he=new WeakMap,ae=new WeakMap,Ye=new WeakMap,ht=new WeakMap,me=new WeakMap;let an={get(rt,je,Mt){if(rt instanceof IDBTransaction){if("done"===je)return ae.get(rt);if("objectStoreNames"===je)return rt.objectStoreNames||Ye.get(rt);if("store"===je)return Mt.objectStoreNames[1]?void 0:Mt.objectStore(Mt.objectStoreNames[0])}return ot(rt[je])},set:(rt,je,Mt)=>(rt[je]=Mt,!0),has:(rt,je)=>rt instanceof IDBTransaction&&("done"===je||"store"===je)||je in rt};function $t(rt){return"function"==typeof rt?function en(rt){return rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function et(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(rt)?function(...je){return rt.apply(Oe(this),je),ot(he.get(this))}:function(...je){return ot(rt.apply(Oe(this),je))}:function(je,...Mt){const un=rt.call(Oe(this),je,...Mt);return Ye.set(un,je.sort?je.sort():[je]),ot(un)}}(rt):(rt instanceof IDBTransaction&&function yt(rt){if(ae.has(rt))return;const je=new Promise((Mt,un)=>{const _n=()=>{rt.removeEventListener("complete",Cn),rt.removeEventListener("error",zn),rt.removeEventListener("abort",zn)},Cn=()=>{Mt(),_n()},zn=()=>{un(rt.error||new DOMException("AbortError","AbortError")),_n()};rt.addEventListener("complete",Cn),rt.addEventListener("error",zn),rt.addEventListener("abort",zn)});ae.set(rt,je)}(rt),de(rt,function lt(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(rt,an):rt)}function ot(rt){if(rt instanceof IDBRequest)return function Rt(rt){const je=new Promise((Mt,un)=>{const _n=()=>{rt.removeEventListener("success",Cn),rt.removeEventListener("error",zn)},Cn=()=>{Mt(ot(rt.result)),_n()},zn=()=>{un(rt.error),_n()};rt.addEventListener("success",Cn),rt.addEventListener("error",zn)});return je.then(Mt=>{Mt instanceof IDBCursor&&he.set(Mt,rt)}).catch(()=>{}),me.set(je,rt),je}(rt);if(ht.has(rt))return ht.get(rt);const je=$t(rt);return je!==rt&&(ht.set(rt,je),me.set(je,rt)),je}const Oe=rt=>me.get(rt),Ge=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],st=new Map;function Vt(rt,je){if(!(rt instanceof IDBDatabase)||je in rt||"string"!=typeof je)return;if(st.get(je))return st.get(je);const Mt=je.replace(/FromIndex$/,""),un=je!==Mt,_n=Ot.includes(Mt);if(!(Mt in(un?IDBIndex:IDBObjectStore).prototype)||!_n&&!Ge.includes(Mt))return;const Cn=function(){var zn=(0,g.Z)(function*(Jr,...Er){const ci=this.transaction(Jr,_n?"readwrite":"readonly");let bs=ci.store;return un&&(bs=bs.index(Er.shift())),(yield Promise.all([bs[Mt](...Er),_n&&ci.done]))[0]});return function(Er){return zn.apply(this,arguments)}}();return st.set(je,Cn),Cn}!function Xt(rt){an=rt(an)}(rt=>({...rt,get:(je,Mt,un)=>Vt(je,Mt)||rt.get(je,Mt,un),has:(je,Mt)=>!!Vt(je,Mt)||rt.has(je,Mt)}));class Yt{constructor(je){this.container=je}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function dt(rt){return"VERSION"===rt.getComponent()?.type}(Mt)){const un=Mt.getImmediate();return`${un.library}/${un.version}`}return null}).filter(Mt=>Mt).join(" ")}}const Lt="@firebase/app",Se=new I.Yd("@firebase/app"),ii="[DEFAULT]",cr={[Lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Di=new Map,Vn=new Map;function Tt(rt,je){try{rt.container.addComponent(je)}catch(Mt){Se.debug(`Component ${je.name} failed to register with FirebaseApp ${rt.name}`,Mt)}}function Fn(rt){const je=rt.name;if(Vn.has(je))return Se.debug(`There were multiple attempts to register component ${je}.`),!1;Vn.set(je,rt);for(const Mt of Di.values())Tt(Mt,rt);return!0}function Un(rt,je){const Mt=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return Mt&&Mt.triggerHeartbeat(),rt.container.getProvider(je)}const fi=new Pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ir{constructor(je,Mt,un){this._isDeleted=!1,this._options=Object.assign({},je),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=un,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this.checkDestroyed(),this._automaticDataCollectionEnabled=je}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(je){this._isDeleted=je}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}const ps="9.21.0";function jn(rt,je={}){let Mt=rt;"object"!=typeof je&&(je={name:je});const un=Object.assign({name:ii,automaticDataCollectionEnabled:!1},je),_n=un.name;if("string"!=typeof _n||!_n)throw fi.create("bad-app-name",{appName:String(_n)});if(Mt||(Mt=(0,Pe.aH)()),!Mt)throw fi.create("no-options");const Cn=Di.get(_n);if(Cn){if((0,Pe.vZ)(Mt,Cn.options)&&(0,Pe.vZ)(un,Cn.config))return Cn;throw fi.create("duplicate-app",{appName:_n})}const zn=new $.H0(_n);for(const Er of Vn.values())zn.addComponent(Er);const Jr=new ir(Mt,un,zn);return Di.set(_n,Jr),Jr}function Ai(rt=ii){const je=Di.get(rt);if(!je&&rt===ii)return jn();if(!je)throw fi.create("no-app",{appName:rt});return je}function xi(){return Array.from(Di.values())}function $e(rt,je,Mt){var un;let _n=null!==(un=cr[rt])&&void 0!==un?un:rt;Mt&&(_n+=`-${Mt}`);const Cn=_n.match(/\s|\//),zn=je.match(/\s|\//);if(Cn||zn){const Jr=[`Unable to register library "${_n}" with version "${je}":`];return Cn&&Jr.push(`library name "${_n}" contains illegal characters (whitespace or "/")`),Cn&&zn&&Jr.push("and"),zn&&Jr.push(`version name "${je}" contains illegal characters (whitespace or "/")`),void Se.warn(Jr.join(" "))}Fn(new $.wA(`${_n}-version`,()=>({library:_n,version:je}),"VERSION"))}const _t="firebase-heartbeat-database",vt=1,re="firebase-heartbeat-store";let oe=null;function ve(){return oe||(oe=function ft(rt,je,{blocked:Mt,upgrade:un,blocking:_n,terminated:Cn}={}){const zn=indexedDB.open(rt,je),Jr=ot(zn);return un&&zn.addEventListener("upgradeneeded",Er=>{un(ot(zn.result),Er.oldVersion,Er.newVersion,ot(zn.transaction),Er)}),Mt&&zn.addEventListener("blocked",Er=>Mt(Er.oldVersion,Er.newVersion,Er)),Jr.then(Er=>{Cn&&Er.addEventListener("close",()=>Cn()),_n&&Er.addEventListener("versionchange",ci=>_n(ci.oldVersion,ci.newVersion,ci))}).catch(()=>{}),Jr}(_t,vt,{upgrade:(rt,je)=>{0===je&&rt.createObjectStore(re)}}).catch(rt=>{throw fi.create("idb-open",{originalErrorMessage:rt.message})})),oe}function ke(){return(ke=(0,g.Z)(function*(rt){try{return(yield ve()).transaction(re).objectStore(re).get(Ee(rt))}catch(je){if(je instanceof Pe.ZR)Se.warn(je.message);else{const Mt=fi.create("idb-get",{originalErrorMessage:je?.message});Se.warn(Mt.message)}}})).apply(this,arguments)}function zt(rt,je){return De.apply(this,arguments)}function De(){return(De=(0,g.Z)(function*(rt,je){try{const un=(yield ve()).transaction(re,"readwrite");return yield un.objectStore(re).put(je,Ee(rt)),un.done}catch(Mt){if(Mt instanceof Pe.ZR)Se.warn(Mt.message);else{const un=fi.create("idb-set",{originalErrorMessage:Mt?.message});Se.warn(un.message)}}})).apply(this,arguments)}function Ee(rt){return`${rt.name}!${rt.options.appId}`}class nt{constructor(je){this.container=je,this._heartbeatsCache=null;const Mt=this.container.getProvider("app").getImmediate();this._storage=new nn(Mt),this._heartbeatsCachePromise=this._storage.read().then(un=>(this._heartbeatsCache=un,un))}triggerHeartbeat(){var je=this;return(0,g.Z)(function*(){const un=je.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_n=At();if(null===je._heartbeatsCache&&(je._heartbeatsCache=yield je._heartbeatsCachePromise),je._heartbeatsCache.lastSentHeartbeatDate!==_n&&!je._heartbeatsCache.heartbeats.some(Cn=>Cn.date===_n))return je._heartbeatsCache.heartbeats.push({date:_n,agent:un}),je._heartbeatsCache.heartbeats=je._heartbeatsCache.heartbeats.filter(Cn=>{const zn=new Date(Cn.date).valueOf();return Date.now()-zn<=2592e6}),je._storage.overwrite(je._heartbeatsCache)})()}getHeartbeatsHeader(){var je=this;return(0,g.Z)(function*(){if(null===je._heartbeatsCache&&(yield je._heartbeatsCachePromise),null===je._heartbeatsCache||0===je._heartbeatsCache.heartbeats.length)return"";const Mt=At(),{heartbeatsToSend:un,unsentEntries:_n}=function Kt(rt,je=1024){const Mt=[];let un=rt.slice();for(const _n of rt){const Cn=Mt.find(zn=>zn.agent===_n.agent);if(Cn){if(Cn.dates.push(_n.date),Ar(Mt)>je){Cn.dates.pop();break}}else if(Mt.push({agent:_n.agent,dates:[_n.date]}),Ar(Mt)>je){Mt.pop();break}un=un.slice(1)}return{heartbeatsToSend:Mt,unsentEntries:un}}(je._heartbeatsCache.heartbeats),Cn=(0,Pe.L)(JSON.stringify({version:2,heartbeats:un}));return je._heartbeatsCache.lastSentHeartbeatDate=Mt,_n.length>0?(je._heartbeatsCache.heartbeats=_n,yield je._storage.overwrite(je._heartbeatsCache)):(je._heartbeatsCache.heartbeats=[],je._storage.overwrite(je._heartbeatsCache)),Cn})()}}function At(){return(new Date).toISOString().substring(0,10)}class nn{constructor(je){this.app=je,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,Pe.hl)()&&(0,Pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var je=this;return(0,g.Z)(function*(){return(yield je._canUseIndexedDBPromise)&&(yield function ze(rt){return ke.apply(this,arguments)}(je.app))||{heartbeats:[]}})()}overwrite(je){var Mt=this;return(0,g.Z)(function*(){var un;if(yield Mt._canUseIndexedDBPromise){const Cn=yield Mt.read();return zt(Mt.app,{lastSentHeartbeatDate:null!==(un=je.lastSentHeartbeatDate)&&void 0!==un?un:Cn.lastSentHeartbeatDate,heartbeats:je.heartbeats})}})()}add(je){var Mt=this;return(0,g.Z)(function*(){var un;if(yield Mt._canUseIndexedDBPromise){const Cn=yield Mt.read();return zt(Mt.app,{lastSentHeartbeatDate:null!==(un=je.lastSentHeartbeatDate)&&void 0!==un?un:Cn.lastSentHeartbeatDate,heartbeats:[...Cn.heartbeats,...je.heartbeats]})}})()}}function Ar(rt){return(0,Pe.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function Qr(rt){Fn(new $.wA("platform-logger",je=>new Yt(je),"PRIVATE")),Fn(new $.wA("heartbeat",je=>new nt(je),"PRIVATE")),$e(Lt,"0.9.9",rt),$e(Lt,"0.9.9","esm2017"),$e("fire-js","")}("")},4859:(yn,ct,q)=>{q.d(ct,{H0:()=>lt,wA:()=>I});var g=q(5861),$=q(2090);class I{constructor(he,ae,Ye){this.name=he,this.instanceFactory=ae,this.type=Ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Pe="[DEFAULT]";class de{constructor(he,ae){this.name=he,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const ae=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(ae)){const Ye=new $.BH;if(this.instancesDeferred.set(ae,Ye),this.isInitialized(ae)||this.shouldAutoInitialize())try{const ht=this.getOrInitializeService({instanceIdentifier:ae});ht&&Ye.resolve(ht)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(he){var ae;const Ye=this.normalizeInstanceIdentifier(he?.identifier),ht=null!==(ae=he?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Ye)&&!this.shouldAutoInitialize()){if(ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ye})}catch(me){if(ht)return null;throw me}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function be(et){return"EAGER"===et.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Pe})}catch{}for(const[ae,Ye]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(ae);try{const me=this.getOrInitializeService({instanceIdentifier:ht});Ye.resolve(me)}catch{}}}}clearInstance(he=Pe){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,g.Z)(function*(){const ae=Array.from(he.instances.values());yield Promise.all([...ae.filter(Ye=>"INTERNAL"in Ye).map(Ye=>Ye.INTERNAL.delete()),...ae.filter(Ye=>"_delete"in Ye).map(Ye=>Ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Pe){return this.instances.has(he)}getOptions(he=Pe){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:ae={}}=he,Ye=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(Ye))throw Error(`${this.name}(${Ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ht=this.getOrInitializeService({instanceIdentifier:Ye,options:ae});for(const[me,Rt]of this.instancesDeferred.entries())Ye===this.normalizeInstanceIdentifier(me)&&Rt.resolve(ht);return ht}onInit(he,ae){var Ye;const ht=this.normalizeInstanceIdentifier(ae),me=null!==(Ye=this.onInitCallbacks.get(ht))&&void 0!==Ye?Ye:new Set;me.add(he),this.onInitCallbacks.set(ht,me);const Rt=this.instances.get(ht);return Rt&&he(Rt,ht),()=>{me.delete(he)}}invokeOnInitCallbacks(he,ae){const Ye=this.onInitCallbacks.get(ae);if(Ye)for(const ht of Ye)try{ht(he,ae)}catch{}}getOrInitializeService({instanceIdentifier:he,options:ae={}}){let Ye=this.instances.get(he);if(!Ye&&this.component&&(Ye=this.component.instanceFactory(this.container,{instanceIdentifier:(et=he,et===Pe?void 0:et),options:ae}),this.instances.set(he,Ye),this.instancesOptions.set(he,ae),this.invokeOnInitCallbacks(Ye,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,Ye)}catch{}var et;return Ye||null}normalizeInstanceIdentifier(he=Pe){return this.component?this.component.multipleInstances?he:Pe:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lt{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const ae=this.getProvider(he.name);if(ae.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);ae.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const ae=new de(he,this);return this.providers.set(he,ae),ae}getProviders(){return Array.from(this.providers.values())}}},1877:(yn,ct,q)=>{q.d(ct,{Yd:()=>be,in:()=>$});const g=[];var $=(()=>{return(he=$||($={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",$;var he})();const I={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},Pe=$.INFO,de={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Ve=(he,ae,...Ye)=>{if(ae<he.logLevel)return;const ht=(new Date).toISOString(),me=de[ae];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[me](`[${ht}]  ${he.name}:`,...Ye)};class be{constructor(ae){this.name=ae,this._logLevel=Pe,this._logHandler=Ve,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in $))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?I[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...ae),this._logHandler(this,$.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...ae),this._logHandler(this,$.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,$.INFO,...ae),this._logHandler(this,$.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,$.WARN,...ae),this._logHandler(this,$.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...ae),this._logHandler(this,$.ERROR,...ae)}}},259:(yn,ct,q)=>{q.d(ct,{C6:()=>g.C6,KN:()=>g.KN,Mq:()=>g.Mq,ZF:()=>g.ZF});var g=q(2951);(0,g.KN)("firebase","9.21.0","app")},7185:(yn,ct,q)=>{q.d(ct,{Rh:()=>pt,_W:()=>dt});var g=q(8256),$=q(7340),I=q(6895),Pe=q(7579),de=q(1481);const Ve=["toast-component",""];function be(_e,Fe){if(1&_e){const fe=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){g.CHM(fe);const Xe=g.oxw();return g.KtG(Xe.remove())}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA()()}}function lt(_e,Fe){if(1&_e&&(g.ynx(0),g._uU(1),g.BQk()),2&_e){const fe=g.oxw(2);g.xp6(1),g.hij("[",fe.duplicatesCount+1,"]")}}function et(_e,Fe){if(1&_e&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,lt,2,1,"ng-container",4),g.qZA()),2&_e){const fe=g.oxw();g.Tol(fe.options.titleClass),g.uIk("aria-label",fe.title),g.xp6(1),g.hij(" ",fe.title," "),g.xp6(1),g.Q6J("ngIf",fe.duplicatesCount)}}function he(_e,Fe){if(1&_e&&g._UZ(0,"div",7),2&_e){const fe=g.oxw();g.Tol(fe.options.messageClass),g.Q6J("innerHTML",fe.message,g.oJD)}}function ae(_e,Fe){if(1&_e&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&_e){const fe=g.oxw();g.Tol(fe.options.messageClass),g.uIk("aria-label",fe.message),g.xp6(1),g.hij(" ",fe.message," ")}}function Ye(_e,Fe){if(1&_e&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&_e){const fe=g.oxw();g.xp6(1),g.Udp("width",fe.width+"%")}}class $t{constructor(Fe,fe){this.component=Fe,this.injector=fe}attach(Fe,fe){return this._attachedHost=Fe,Fe.attach(this,fe)}detach(){const Fe=this._attachedHost;if(Fe)return this._attachedHost=void 0,Fe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Fe){this._attachedHost=Fe}}class ot{attach(Fe,fe){return this._attachedPortal=Fe,this.attachComponentPortal(Fe,fe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Fe){this._disposeFn=Fe}}class Oe{constructor(Fe){this._overlayRef=Fe,this.duplicatesCount=0,this._afterClosed=new Pe.x,this._activate=new Pe.x,this._manualClose=new Pe.x,this._resetTimeout=new Pe.x,this._countDuplicate=new Pe.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Fe,fe){Fe&&this._resetTimeout.next(),fe&&this._countDuplicate.next(++this.duplicatesCount)}}class ft{constructor(Fe,fe,Ae,Xe,wt,kn){this.toastId=Fe,this.config=fe,this.message=Ae,this.title=Xe,this.toastType=wt,this.toastRef=kn,this._onTap=new Pe.x,this._onAction=new Pe.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Fe){this._onAction.next(Fe)}onAction(){return this._onAction.asObservable()}}const Ge=new g.OlP("ToastConfig");class Ot extends ot{constructor(Fe,fe,Ae){super(),this._hostDomElement=Fe,this._componentFactoryResolver=fe,this._appRef=Ae}attachComponentPortal(Fe,fe){const Ae=this._componentFactoryResolver.resolveComponentFactory(Fe.component);let Xe;return Xe=Ae.create(Fe.injector),this._appRef.attachView(Xe.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Xe.hostView),Xe.destroy()}),fe?this._hostDomElement.insertBefore(this._getComponentRootNode(Xe),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Xe)),Xe}_getComponentRootNode(Fe){return Fe.hostView.rootNodes[0]}}let st=(()=>{class _e{constructor(){this._document=(0,g.f3M)(I.K0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const fe=this._document.createElement("div");fe.classList.add("overlay-container"),fe.setAttribute("aria-live","polite"),this._document.body.appendChild(fe),this._containerElement=fe}}return _e.\u0275fac=function(fe){return new(fe||_e)},_e.\u0275prov=g.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();class Vt{constructor(Fe){this._portalHost=Fe}attach(Fe,fe=!0){return this._portalHost.attach(Fe,fe)}detach(){return this._portalHost.detach()}}let Yt=(()=>{class _e{constructor(){this._overlayContainer=(0,g.f3M)(st),this._componentFactoryResolver=(0,g.f3M)(g._Vd),this._appRef=(0,g.f3M)(g.z2F),this._document=(0,g.f3M)(I.K0),this._paneElements=new Map}create(fe,Ae){return this._createOverlayRef(this.getPaneElement(fe,Ae))}getPaneElement(fe="",Ae){return this._paneElements.get(Ae)||this._paneElements.set(Ae,{}),this._paneElements.get(Ae)[fe]||(this._paneElements.get(Ae)[fe]=this._createPaneElement(fe,Ae)),this._paneElements.get(Ae)[fe]}_createPaneElement(fe,Ae){const Xe=this._document.createElement("div");return Xe.id="toast-container",Xe.classList.add(fe),Xe.classList.add("toast-container"),Ae?Ae.getContainerElement().appendChild(Xe):this._overlayContainer.getContainerElement().appendChild(Xe),Xe}_createPortalHost(fe){return new Ot(fe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(fe){return new Vt(this._createPortalHost(fe))}}return _e.\u0275fac=function(fe){return new(fe||_e)},_e.\u0275prov=g.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})(),dt=(()=>{class _e{constructor(fe,Ae,Xe,wt,kn){this.overlay=Ae,this._injector=Xe,this.sanitizer=wt,this.ngZone=kn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...fe.default,...fe.config},fe.config.iconClasses&&(this.toastrConfig.iconClasses={...fe.default.iconClasses,...fe.config.iconClasses})}show(fe,Ae,Xe={},wt=""){return this._preBuildNotification(wt,fe,Ae,this.applyConfig(Xe))}success(fe,Ae,Xe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",fe,Ae,this.applyConfig(Xe))}error(fe,Ae,Xe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",fe,Ae,this.applyConfig(Xe))}info(fe,Ae,Xe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",fe,Ae,this.applyConfig(Xe))}warning(fe,Ae,Xe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",fe,Ae,this.applyConfig(Xe))}clear(fe){for(const Ae of this.toasts)if(void 0!==fe){if(Ae.toastId===fe)return void Ae.toastRef.manualClose()}else Ae.toastRef.manualClose()}remove(fe){const Ae=this._findToast(fe);if(!Ae||(Ae.activeToast.toastRef.close(),this.toasts.splice(Ae.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Xe=this.toasts[this.currentlyActive].toastRef;Xe.isInactive()||(this.currentlyActive=this.currentlyActive+1,Xe.activate())}return!0}findDuplicate(fe="",Ae="",Xe,wt){const{includeTitleDuplicates:kn}=this.toastrConfig;for(const On of this.toasts)if((!kn||kn&&On.title===fe)&&On.message===Ae)return On.toastRef.onDuplicate(Xe,wt),On;return null}applyConfig(fe={}){return{...this.toastrConfig,...fe}}_findToast(fe){for(let Ae=0;Ae<this.toasts.length;Ae++)if(this.toasts[Ae].toastId===fe)return{index:Ae,activeToast:this.toasts[Ae]};return null}_preBuildNotification(fe,Ae,Xe,wt){return wt.onActivateTick?this.ngZone.run(()=>this._buildNotification(fe,Ae,Xe,wt)):this._buildNotification(fe,Ae,Xe,wt)}_buildNotification(fe,Ae,Xe,wt){if(!wt.toastComponent)throw new Error("toastComponent required");const kn=this.findDuplicate(Xe,Ae,this.toastrConfig.resetTimeoutOnDuplicate&&wt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Xe||Ae)&&this.toastrConfig.preventDuplicates&&null!==kn)return kn;this.previousToastMessage=Ae;let On=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(On=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const dn=this.overlay.create(wt.positionClass,this.overlayContainer);this.index=this.index+1;let ur=Ae;Ae&&wt.enableHtml&&(ur=this.sanitizer.sanitize(g.q3G.HTML,Ae));const Dr=new Oe(dn),ri=new ft(this.index,wt,ur,Xe,fe,Dr),Kr=g.zs3.create({providers:[{provide:ft,useValue:ri}],parent:this._injector}),Hi=new $t(wt.toastComponent,Kr),tn=dn.attach(Hi,wt.newestOnTop);Dr.componentInstance=tn.instance;const Cr={toastId:this.index,title:Xe||"",message:Ae||"",toastRef:Dr,onShown:Dr.afterActivate(),onHidden:Dr.afterClosed(),onTap:ri.onTap(),onAction:ri.onAction(),portal:tn};return On||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Cr.toastRef.activate()})),this.toasts.push(Cr),Cr}}return _e.\u0275fac=function(fe){return new(fe||_e)(g.LFG(Ge),g.LFG(Yt),g.LFG(g.zs3),g.LFG(de.H7),g.LFG(g.R0b))},_e.\u0275prov=g.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})(),Lt=(()=>{class _e{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(fe,Ae,Xe){this.toastrService=fe,this.toastPackage=Ae,this.ngZone=Xe,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ae.message,this.title=Ae.title,this.options=Ae.config,this.originalTimeout=Ae.config.timeOut,this.toastClasses=`${Ae.toastType} ${Ae.config.toastClass}`,this.sub=Ae.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ae.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ae.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ae.toastRef.countDuplicate().subscribe(wt=>{this.duplicatesCount=wt})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const fe=(new Date).getTime();this.width=(this.hideTime-fe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(fe,Ae){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(fe),Ae)):this.timeout=setTimeout(()=>fe(),Ae)}outsideInterval(fe,Ae){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(fe),Ae)):this.intervalId=setInterval(()=>fe(),Ae)}runInsideAngular(fe){this.ngZone?this.ngZone.run(()=>fe()):fe()}}return _e.\u0275fac=function(fe){return new(fe||_e)(g.Y36(dt),g.Y36(ft),g.Y36(g.R0b))},_e.\u0275cmp=g.Xpm({type:_e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(fe,Ae){1&fe&&g.NdJ("click",function(){return Ae.tapToast()})("mouseenter",function(){return Ae.stickAround()})("mouseleave",function(){return Ae.delayedHideToast()}),2&fe&&(g.d8E("@flyInOut",Ae.state),g.Tol(Ae.toastClasses),g.Udp("display",Ae.displayStyle))},standalone:!0,features:[g.jDz],attrs:Ve,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(fe,Ae){1&fe&&(g.YNc(0,be,3,0,"button",0),g.YNc(1,et,3,5,"div",1),g.YNc(2,he,1,3,"div",2),g.YNc(3,ae,2,4,"div",3),g.YNc(4,Ye,2,2,"div",4)),2&fe&&(g.Q6J("ngIf",Ae.options.closeButton),g.xp6(1),g.Q6J("ngIf",Ae.title),g.xp6(1),g.Q6J("ngIf",Ae.message&&Ae.options.enableHtml),g.xp6(1),g.Q6J("ngIf",Ae.message&&!Ae.options.enableHtml),g.xp6(1),g.Q6J("ngIf",Ae.options.progressBar))},dependencies:[I.O5],encapsulation:2,data:{animation:[(0,$.X$)("flyInOut",[(0,$.SB)("inactive",(0,$.oB)({opacity:0})),(0,$.SB)("active",(0,$.oB)({opacity:1})),(0,$.SB)("removed",(0,$.oB)({opacity:0})),(0,$.eR)("inactive => active",(0,$.jt)("{{ easeTime }}ms {{ easing }}")),(0,$.eR)("active => removed",(0,$.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),_e})();const We={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:Lt},Se=(_e={})=>(0,g.MR2)([{provide:Ge,useValue:{default:We,config:_e}}]);let pt=(()=>{class _e{static forRoot(fe={}){return{ngModule:_e,providers:[Se(fe)]}}}return _e.\u0275fac=function(fe){return new(fe||_e)},_e.\u0275mod=g.oAB({type:_e}),_e.\u0275inj=g.cJS({imports:[Lt]}),_e})()},5861:(yn,ct,q)=>{function g(I,Pe,de,Ve,be,lt,et){try{var he=I[lt](et),ae=he.value}catch(Ye){return void de(Ye)}he.done?Pe(ae):Promise.resolve(ae).then(Ve,be)}function $(I){return function(){var Pe=this,de=arguments;return new Promise(function(Ve,be){var lt=I.apply(Pe,de);function et(ae){g(lt,Ve,be,et,he,"next",ae)}function he(ae){g(lt,Ve,be,et,he,"throw",ae)}et(void 0)})}}q.d(ct,{Z:()=>$})}},yn=>{yn(yn.s=2933)}]);
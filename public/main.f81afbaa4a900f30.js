"use strict";(self.webpackChunkParcialFerrero=self.webpackChunkParcialFerrero||[]).push([[179],{2313:(yn,ct,K)=>{K.d(ct,{nm:()=>qr});var g=K(414),de=(K(8256),K(3692),K(259),K(5861)),Le=K(2951),Ae=K(4859),ut=K(2090),Xe=K(1877);const fe=new Map,ye={activated:!1,tokenObservers:[]},Ye={initialized:!1,enabled:!1};function pt(pe){return fe.get(pe)||Object.assign({},ye)}function Rt(){return Ye}const mt="https://content-firebaseappcheck.googleapis.com/v1",an="exchangeDebugToken",St={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Oe{constructor(me,Ve,lt,Ft,zt){if(this.operation=me,this.retryPolicy=Ve,this.getWaitDuration=lt,this.lowerBound=Ft,this.upperBound=zt,this.pending=null,this.nextErrorWaitInterval=Ft,Ft>zt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(me){var Ve=this;return(0,de.Z)(function*(){Ve.stop();try{Ve.pending=new ut.BH,yield function ht(pe){return new Promise(me=>{setTimeout(me,pe)})}(Ve.getNextRun(me)),Ve.pending.resolve(),yield Ve.pending.promise,Ve.pending=new ut.BH,yield Ve.operation(),Ve.pending.resolve(),yield Ve.pending.promise,Ve.process(!0).catch(()=>{})}catch(lt){Ve.retryPolicy(lt)?Ve.process(!1).catch(()=>{}):Ve.stop()}})()}getNextRun(me){if(me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ve=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ve}}}const He=new ut.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dt(pe,me){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,de.Z)(function*({url:pe,body:me},Ve){const lt={"Content-Type":"application/json"},Ft=Ve.getImmediate({optional:!0});if(Ft){const ei=yield Ft.getHeartbeatsHeader();ei&&(lt["X-Firebase-Client"]=ei)}const zt={method:"POST",body:JSON.stringify(me),headers:lt};let jn,wn;try{jn=yield fetch(pe,zt)}catch(ei){throw He.create("fetch-network-error",{originalErrorMessage:ei?.message})}if(200!==jn.status)throw He.create("fetch-status-error",{httpStatus:jn.status});try{wn=yield jn.json()}catch(ei){throw He.create("fetch-parse-error",{originalErrorMessage:ei?.message})}const yr=wn.ttl.match(/^([\d.]+)(s)$/);if(!yr||!yr[2]||isNaN(Number(yr[1])))throw He.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${wn.ttl}`});const Li=1e3*Number(yr[1]),Tn=Date.now();return{token:wn.token,expireTimeMillis:Tn+Li,issuedAtTimeMillis:Tn}})).apply(this,arguments)}const ke="firebase-app-check-database",Et=1,ue="firebase-app-check-store";let we=null;function On(pe,me){return xn.apply(this,arguments)}function xn(){return(xn=(0,de.Z)(function*(pe,me){const lt=(yield function xe(){return we||(we=new Promise((pe,me)=>{try{const Ve=indexedDB.open(ke,Et);Ve.onsuccess=lt=>{pe(lt.target.result)},Ve.onerror=lt=>{var Ft;me(He.create("storage-open",{originalErrorMessage:null===(Ft=lt.target.error)||void 0===Ft?void 0:Ft.message}))},Ve.onupgradeneeded=lt=>{0===lt.oldVersion&&lt.target.result.createObjectStore(ue,{keyPath:"compositeKey"})}}catch(Ve){me(He.create("storage-open",{originalErrorMessage:Ve?.message}))}}),we)}()).transaction(ue,"readwrite"),zt=lt.objectStore(ue).put({compositeKey:pe,value:me});return new Promise((jn,wn)=>{zt.onsuccess=yr=>{jn()},lt.onerror=yr=>{var Li;wn(He.create("storage-set",{originalErrorMessage:null===(Li=yr.target.error)||void 0===Li?void 0:Li.message}))}})})).apply(this,arguments)}const Yr=new Xe.Yd("@firebase/app-check");function Qr(pe,me){return(0,ut.hl)()?function De(pe,me){return On(function lr(pe){return`${pe.options.appId}-${pe.name}`}(pe),me)}(pe,me).catch(Ve=>{Yr.warn(`Failed to write token to IndexedDB. Error: ${Ve}`)}):Promise.resolve()}function Jr(){return li.apply(this,arguments)}function li(){return(li=(0,de.Z)(function*(){const pe=Rt();if(pe.enabled&&pe.token)return pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Hr={error:"UNKNOWN_ERROR"};function xi(pe){return ut.US.encodeString(JSON.stringify(pe),!1)}function Vn(pe){return It.apply(this,arguments)}function It(){return(It=(0,de.Z)(function*(pe,me=!1){const Ve=pe.app;!function rt(pe){if(!pt(pe).activated)throw He.create("use-before-activation",{appName:pe.name})}(Ve);const lt=pt(Ve);let zt,Ft=lt.token;if(Ft&&!tr(Ft)&&(lt.token=void 0,Ft=void 0),!Ft){const yr=yield lt.cachedTokenPromise;yr&&(tr(yr)?Ft=yr:yield Qr(Ve,void 0))}if(!me&&Ft&&tr(Ft))return{token:Ft.token};let wn,jn=!1;if(function sr(){return Rt().enabled}()){lt.exchangeTokenPromise||(lt.exchangeTokenPromise=dt(function ft(pe,me){const{projectId:Ve,appId:lt,apiKey:Ft}=pe.options;return{url:`${mt}/projects/${Ve}/apps/${lt}:${an}?key=${Ft}`,body:{debug_token:me}}}(Ve,yield Jr()),pe.heartbeatServiceProvider).finally(()=>{lt.exchangeTokenPromise=void 0}),jn=!0);const yr=yield lt.exchangeTokenPromise;return yield Qr(Ve,yr),lt.token=yr,{token:yr.token}}try{lt.exchangeTokenPromise||(lt.exchangeTokenPromise=lt.provider.getToken().finally(()=>{lt.exchangeTokenPromise=void 0}),jn=!0),Ft=yield pt(Ve).exchangeTokenPromise}catch(yr){"appCheck/throttled"===yr.code?Yr.warn(yr.message):Yr.error(yr),zt=yr}return Ft?zt?wn=tr(Ft)?{token:Ft.token,internalError:zt}:ms(zt):(wn={token:Ft.token},lt.token=Ft,yield Qr(Ve,Ft)):wn=ms(zt),jn&&function Ei(pe,me){const Ve=pt(pe).tokenObservers;for(const lt of Ve)try{"EXTERNAL"===lt.type&&null!=me.error?lt.error(me.error):lt.next(me)}catch{}}(Ve,wn),wn})).apply(this,arguments)}function Lr(pe,me){const Ve=pt(pe),lt=Ve.tokenObservers.filter(Ft=>Ft.next!==me);0===lt.length&&Ve.tokenRefresher&&Ve.tokenRefresher.isRunning()&&Ve.tokenRefresher.stop(),Ve.tokenObservers=lt}function xr(pe){const{app:me}=pe,Ve=pt(me);let lt=Ve.tokenRefresher;lt||(lt=function Ln(pe){const{app:me}=pe;return new Oe((0,de.Z)(function*(){let lt;if(lt=pt(me).token?yield Vn(pe,!0):yield Vn(pe),lt.error)throw lt.error;if(lt.internalError)throw lt.internalError}),()=>!0,()=>{const Ve=pt(me);if(Ve.token){let lt=Ve.token.issuedAtTimeMillis+.5*(Ve.token.expireTimeMillis-Ve.token.issuedAtTimeMillis)+3e5;return lt=Math.min(lt,Ve.token.expireTimeMillis-3e5),Math.max(0,lt-Date.now())}return 0},St.RETRIAL_MIN_WAIT,St.RETRIAL_MAX_WAIT)}(pe),Ve.tokenRefresher=lt),!lt.isRunning()&&Ve.isTokenAutoRefreshEnabled&&lt.start()}function tr(pe){return pe.expireTimeMillis-Date.now()>0}function ms(pe){return{token:xi(Hr),error:pe}}class Yn{constructor(me,Ve){this.app=me,this.heartbeatServiceProvider=Ve}_delete(){const{tokenObservers:me}=pt(this.app);for(const Ve of me)Lr(this.app,Ve.next);return Promise.resolve()}}const rn="app-check-internal";!function bn(){(0,Le.Xd)(new Ae.wA("app-check",pe=>function Ci(pe,me){return new Yn(pe,me)}(pe.getProvider("app").getImmediate(),pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((pe,me,Ve)=>{pe.getProvider(rn).initialize()})),(0,Le.Xd)(new Ae.wA(rn,pe=>function Ni(pe){return{getToken:me=>Vn(pe,me),addTokenListener:me=>function Fn(pe,me,Ve,lt){const{app:Ft}=pe,zt=pt(Ft);if(zt.tokenObservers=[...zt.tokenObservers,{next:Ve,error:lt,type:me}],zt.token&&tr(zt.token)){const wn=zt.token;Promise.resolve().then(()=>{Ve({token:wn.token}),xr(pe)}).catch(()=>{})}zt.cachedTokenPromise.then(()=>xr(pe))}(pe,"INTERNAL",me),removeTokenListener:me=>Lr(pe.app,me)}}(pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Le.KN)("@firebase/app-check","0.7.0")}();class qr{constructor(){return(0,g.vb)("app-check")}}typeof window<"u"&&window},3692:(yn,ct,K)=>{K.d(ct,{Ot:()=>V,ZF:()=>ln,hX:()=>pt,z6:()=>de});var g=K(259),$=K(8256),j=K(414);class V{constructor(Oe){return Oe}}class de{constructor(){return(0,g.C6)()}}const ut=new $.OlP("angularfire2._apps"),Xe={provide:V,useFactory:function Ae(ot){return ot&&1===ot.length?ot[0]:new V((0,g.Mq)())},deps:[[new $.FiY,ut]]},fe={provide:de,deps:[[new $.FiY,ut]]};function ye(ot){return(Oe,ht)=>{const Lt=Oe.runOutsideAngular(()=>ot(ht));return new V(Lt)}}let Ye=(()=>{class ot{constructor(ht){(0,g.KN)("angularfire",j.q4.full,"core"),(0,g.KN)("angularfire",j.q4.full,"app"),(0,g.KN)("angular",$.q4F.full,ht.toString())}}return ot.\u0275fac=function(ht){return new(ht||ot)($.LFG($.Lbi))},ot.\u0275mod=$.oAB({type:ot}),ot.\u0275inj=$.cJS({providers:[Xe,fe]}),ot})();function pt(ot,...Oe){return{ngModule:Ye,providers:[{provide:ut,useFactory:ye(ot),multi:!0,deps:[$.R0b,$.zs3,j.HU,...Oe]}]}}const ln=(0,j.u3)(g.ZF,!0)},8020:(yn,ct,K)=>{K.d(ct,{dh:()=>Pn});var g=K(414),de=(K(8256),K(3692),K(259),K(5861)),Le=K(2090),Ae=K(2951),ut=K(655),Xe=K(1877),fe=K(4859);const an=function ln(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},St=new Le.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new Xe.Yd("@firebase/auth");function Lt(b,...h){Oe.logLevel<=Xe.in.ERROR&&Oe.error(`Auth (${Ae.Jn}): ${b}`,...h)}function He(b,...h){throw Yt(b,...h)}function kt(b,...h){return Yt(b,...h)}function Yt(b,...h){if("string"!=typeof b){const _=h[0],P=[...h.slice(1)];return P[0]&&(P[0].appName=b.name),b._errorFactory.create(_,...P)}return St.create(b,...h)}function dt(b,h,..._){if(!b)throw Yt(h,..._)}function Vt(b){const h="INTERNAL ASSERTION FAILED: "+b;throw Lt(h),new Error(h)}function We(b,h){b||Vt(h)}function ke(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class $e{constructor(h,_){this.shortDelay=h,this.longDelay=_,We(_>h,"Short delay should be less than long delay!"),this.isMobile=(0,Le.uI)()||(0,Le.b$)()}get(){return function Et(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ft(){return"http:"===ke()||"https:"===ke()}()||(0,Le.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class xe{static initialize(h,_,P){this.fetchImpl=h,_&&(this.headersImpl=_),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},De=new $e(3e4,6e4);function wt(b,h,_,P){return On.apply(this,arguments)}function On(){return(On=(0,de.Z)(function*(b,h,_,P,Z={}){return xn(b,Z,(0,de.Z)(function*(){let ne={},je={};P&&("GET"===h?je=P:ne={body:JSON.stringify(P)});const gt=(0,Le.xO)(Object.assign({key:b.config.apiKey},je)).slice(1),Jt=yield b._getAdditionalHeaders();return Jt["Content-Type"]="application/json",b.languageCode&&(Jt["X-Firebase-Locale"]=b.languageCode),xe.fetch()(Yr(b,b.config.apiHost,_,gt),Object.assign({method:h,headers:Jt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function xn(b,h,_){return hn.apply(this,arguments)}function hn(){return(hn=(0,de.Z)(function*(b,h,_){b._canInitEmulator=!1;const P=Object.assign(Object.assign({},he),h);try{const Z=new cr(b),ne=yield Promise.race([_(),Z.promise]);Z.clearNetworkTimeout();const je=yield ne.json();if("needConfirmation"in je)throw jr(b,"account-exists-with-different-credential",je);if(ne.ok&&!("errorMessage"in je))return je;{const gt=ne.ok?je.errorMessage:je.error.message,[Jt,fn]=gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jt)throw jr(b,"credential-already-in-use",je);if("EMAIL_EXISTS"===Jt)throw jr(b,"email-already-in-use",je);if("USER_DISABLED"===Jt)throw jr(b,"user-disabled",je);const Rn=P[Jt]||Jt.toLowerCase().replace(/[_\s]+/g,"-");if(fn)throw function rt(b,h,_){const P=Object.assign(Object.assign({},an()),{[h]:_});return new Le.LL("auth","Firebase",P).create(h,{appName:b.name})}(b,Rn,fn);He(b,Rn)}}catch(Z){if(Z instanceof Le.ZR)throw Z;He(b,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function Yr(b,h,_,P){const Z=`${h}${_}?${P}`;return b.config.emulator?function we(b,h){We(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return h?`${_}${h.startsWith("/")?h.slice(1):h}`:_}(b.config,Z):`${b.config.apiScheme}://${Z}`}class cr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((_,P)=>{this.timer=setTimeout(()=>P(kt(this.auth,"network-request-failed")),De.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jr(b,h,_){const P={appName:b.name};_.email&&(P.email=_.email),_.phoneNumber&&(P.phoneNumber=_.phoneNumber);const Z=kt(b,h,P);return Z.customData._tokenResponse=_,Z}function en(){return(en=(0,de.Z)(function*(b,h){return wt(b,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function li(){return(li=(0,de.Z)(function*(b,h){return wt(b,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function gi(b){if(b)try{const h=new Date(Number(b));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Vn(){return(Vn=(0,de.Z)(function*(b,h=!1){const _=(0,Le.m9)(b),P=yield _.getIdToken(h),Z=$t(P);dt(Z&&Z.exp&&Z.auth_time&&Z.iat,_.auth,"internal-error");const ne="object"==typeof Z.firebase?Z.firebase:void 0,je=ne?.sign_in_provider;return{claims:Z,token:P,authTime:gi(It(Z.auth_time)),issuedAtTime:gi(It(Z.iat)),expirationTime:gi(It(Z.exp)),signInProvider:je||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function It(b){return 1e3*Number(b)}function $t(b){const[h,_,P]=b.split(".");if(void 0===h||void 0===_||void 0===P)return Lt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,Le.tV)(_);return Z?JSON.parse(Z):(Lt("Failed to decode base64 JWT payload"),null)}catch(Z){return Lt("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function Fn(b,h){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,de.Z)(function*(b,h,_=!1){if(_)return h;try{return yield h}catch(P){throw P instanceof Le.ZR&&function xr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(P)&&b.auth.currentUser===b&&(yield b.auth.signOut()),P}})).apply(this,arguments)}class Ln{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var _;if(h){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const Z=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(h=!1){var _=this;if(!this.isRunning)return;const P=this.getInterval(h);this.timerId=setTimeout((0,de.Z)(function*(){yield _.iteration()}),P)}iteration(){var h=this;return(0,de.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&h.schedule(!0))}h.schedule()})()}}class Ei{constructor(h,_){this.createdAt=h,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tr(b){return ms.apply(this,arguments)}function ms(){return ms=(0,de.Z)(function*(b){var h;const _=b.auth,P=yield b.getIdToken(),Z=yield Fn(b,function Jr(b,h){return li.apply(this,arguments)}(_,{idToken:P}));dt(Z?.users.length,_,"internal-error");const ne=Z.users[0];b._notifyReloadListener(ne);const je=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?function es(b){return b.map(h=>{var{providerId:_}=h,P=(0,ut._T)(h,["providerId"]);return{providerId:_,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}(ne.providerUserInfo):[],gt=function Ni(b,h){return[...b.filter(P=>!h.some(Z=>Z.providerId===P.providerId)),...h]}(b.providerData,je),Rn=!!b.isAnonymous&&!(b.email&&ne.passwordHash||gt?.length),gr={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:gt,metadata:new Ei(ne.createdAt,ne.lastLoginAt),isAnonymous:Rn};Object.assign(b,gr)}),ms.apply(this,arguments)}function Ci(){return(Ci=(0,de.Z)(function*(b){const h=(0,Le.m9)(b);yield tr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Be(){return(Be=(0,de.Z)(function*(b,h){const _=yield xn(b,{},(0,de.Z)(function*(){const P=(0,Le.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:Z,apiKey:ne}=b.config,je=Yr(b,Z,"/v1/token",`key=${ne}`),gt=yield b._getAdditionalHeaders();return gt["Content-Type"]="application/x-www-form-urlencoded",xe.fetch()(je,{method:"POST",headers:gt,body:P})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){dt(h.idToken,"internal-error"),dt(typeof h.idToken<"u","internal-error"),dt(typeof h.refreshToken<"u","internal-error");const _="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function er(b){const h=$t(b);return dt(h,"internal-error"),dt(typeof h.exp<"u","internal-error"),dt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,_)}getToken(h,_=!1){var P=this;return(0,de.Z)(function*(){return dt(!P.accessToken||P.refreshToken,h,"user-token-expired"),_||!P.accessToken||P.isExpired?P.refreshToken?(yield P.refresh(h,P.refreshToken),P.accessToken):null:P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,_){var P=this;return(0,de.Z)(function*(){const{accessToken:Z,refreshToken:ne,expiresIn:je}=yield function Xr(b,h){return Be.apply(this,arguments)}(h,_);P.updateTokensAndExpiration(Z,ne,Number(je))})()}updateTokensAndExpiration(h,_,P){this.refreshToken=_||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(h,_){const{refreshToken:P,accessToken:Z,expirationTime:ne}=_,je=new Te;return P&&(dt("string"==typeof P,"internal-error",{appName:h}),je.refreshToken=P),Z&&(dt("string"==typeof Z,"internal-error",{appName:h}),je.accessToken=Z),ne&&(dt("number"==typeof ne,"internal-error",{appName:h}),je.expirationTime=ne),je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Te,this.toJSON())}_performRefresh(){return Vt("not implemented")}}function Pe(b,h){dt("string"==typeof b||typeof b>"u","internal-error",{appName:h})}class yt{constructor(h){var{uid:_,auth:P,stsTokenManager:Z}=h,ne=(0,ut._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=P,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new Ei(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var _=this;return(0,de.Z)(function*(){const P=yield Fn(_,_.stsTokenManager.getToken(_.auth,h));return dt(P,_.auth,"internal-error"),_.accessToken!==P&&(_.accessToken=P,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),P})()}getIdTokenResult(h){return function xi(b){return Vn.apply(this,arguments)}(this,h)}reload(){return function Yn(b){return Ci.apply(this,arguments)}(this)}_assign(h){this!==h&&(dt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(_=>Object.assign({},_)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const _=new yt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(h){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,_=!1){var P=this;return(0,de.Z)(function*(){let Z=!1;h.idToken&&h.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(h),Z=!0),_&&(yield tr(P)),yield P.auth._persistUserIfCurrent(P),Z&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var h=this;return(0,de.Z)(function*(){const _=yield h.getIdToken();return yield Fn(h,function Qr(b,h){return en.apply(this,arguments)}(h.auth,{idToken:_})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,_){var P,Z,ne,je,gt,Jt,fn,Rn;const gr=null!==(P=_.displayName)&&void 0!==P?P:void 0,bo=null!==(Z=_.email)&&void 0!==Z?Z:void 0,zu=null!==(ne=_.phoneNumber)&&void 0!==ne?ne:void 0,Vl=null!==(je=_.photoURL)&&void 0!==je?je:void 0,Bl=null!==(gt=_.tenantId)&&void 0!==gt?gt:void 0,ec=null!==(Jt=_._redirectEventId)&&void 0!==Jt?Jt:void 0,Nc=null!==(fn=_.createdAt)&&void 0!==fn?fn:void 0,rd=null!==(Rn=_.lastLoginAt)&&void 0!==Rn?Rn:void 0,{uid:tc,emailVerified:Oc,isAnonymous:Lh,providerData:Uh,stsTokenManager:id}=_;dt(tc&&id,h,"internal-error");const Vh=Te.fromJSON(this.name,id);dt("string"==typeof tc,h,"internal-error"),Pe(gr,h.name),Pe(bo,h.name),dt("boolean"==typeof Oc,h,"internal-error"),dt("boolean"==typeof Lh,h,"internal-error"),Pe(zu,h.name),Pe(Vl,h.name),Pe(Bl,h.name),Pe(ec,h.name),Pe(Nc,h.name),Pe(rd,h.name);const Bd=new yt({uid:tc,auth:h,email:bo,emailVerified:Oc,displayName:gr,isAnonymous:Lh,photoURL:Vl,phoneNumber:zu,tenantId:Bl,stsTokenManager:Vh,createdAt:Nc,lastLoginAt:rd});return Uh&&Array.isArray(Uh)&&(Bd.providerData=Uh.map(dp=>Object.assign({},dp))),ec&&(Bd._redirectEventId=ec),Bd}static _fromIdTokenResponse(h,_,P=!1){return(0,de.Z)(function*(){const Z=new Te;Z.updateFromServerResponse(_);const ne=new yt({uid:_.localId,auth:h,stsTokenManager:Z,isAnonymous:P});return yield tr(ne),ne})()}}const _t=new Map;function ie(b){We(b instanceof Function,"Expected a class definition");let h=_t.get(b);return h?(We(h instanceof b,"Instance stored in cache mismatched with class"),h):(h=new b,_t.set(b,h),h)}const _e=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,de.Z)(function*(){return!0})()}_set(_,P){var Z=this;return(0,de.Z)(function*(){Z.storage[_]=P})()}_get(_){var P=this;return(0,de.Z)(function*(){const Z=P.storage[_];return void 0===Z?null:Z})()}_remove(_){var P=this;return(0,de.Z)(function*(){delete P.storage[_]})()}_addListener(_,P){}_removeListener(_,P){}}return b.type="NONE",b})();function ze(b,h,_){return`firebase:${b}:${h}:${_}`}class Fe{constructor(h,_,P){this.persistence=h,this.auth=_,this.userKey=P;const{config:Z,name:ne}=this.auth;this.fullUserKey=ze(this.userKey,Z.apiKey,ne),this.fullPersistenceKey=ze("persistence",Z.apiKey,ne),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,de.Z)(function*(){const _=yield h.persistence._get(h.fullUserKey);return _?yt._fromJSON(h.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var _=this;return(0,de.Z)(function*(){if(_.persistence===h)return;const P=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=h,P?_.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,_,P="authUser"){return(0,de.Z)(function*(){if(!_.length)return new Fe(ie(_e),h,P);const Z=(yield Promise.all(_.map(function(){var fn=(0,de.Z)(function*(Rn){if(yield Rn._isAvailable())return Rn});return function(Rn){return fn.apply(this,arguments)}}()))).filter(fn=>fn);let ne=Z[0]||ie(_e);const je=ze(P,h.config.apiKey,h.name);let gt=null;for(const fn of _)try{const Rn=yield fn._get(je);if(Rn){const gr=yt._fromJSON(h,Rn);fn!==ne&&(gt=gr),ne=fn;break}}catch{}const Jt=Z.filter(fn=>fn._shouldAllowMigration);return ne._shouldAllowMigration&&Jt.length?(ne=Jt[0],gt&&(yield ne._set(je,gt.toJSON())),yield Promise.all(_.map(function(){var fn=(0,de.Z)(function*(Rn){if(Rn!==ne)try{yield Rn._remove(je)}catch{}});return function(Rn){return fn.apply(this,arguments)}}())),new Fe(ne,h,P)):new Fe(ne,h,P)})()}}function qt(b){const h=b.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(function be(b=(0,Le.z$)()){return/iemobile/i.test(b)}(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(function Ce(b=(0,Le.z$)()){return/firefox\//i.test(b)}(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(function At(b=(0,Le.z$)()){return/blackberry/i.test(b)}(h))return"Blackberry";if(function Kt(b=(0,Le.z$)()){return/webos/i.test(b)}(h))return"Webos";if(function Ee(b=(0,Le.z$)()){const h=b.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}(h))return"Safari";if((h.includes("chrome/")||function re(b=(0,Le.z$)()){return/crios\//i.test(b)}(h))&&!h.includes("edge/"))return"Chrome";if(function it(b=(0,Le.z$)()){return/android/i.test(b)}(h))return"Android";{const P=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===P?.length)return P[1]}return"Other"}function rn(b,h=[]){let _;switch(b){case"Browser":_=qt((0,Le.z$)());break;case"Worker":_=`${qt((0,Le.z$)())}-${b}`;break;default:_=b}const P=h.length?h.join(","):"FirebaseCore-web";return`${_}/JsCore/${Ae.Jn}/${P}`}function Jn(b,h){return qr.apply(this,arguments)}function qr(){return(qr=(0,de.Z)(function*(b,h){return wt(b,"GET","/v2/recaptchaConfig",function et(b,h){return b.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:b.tenantId}):h}(b,h))})).apply(this,arguments)}function mi(b){return void 0!==b&&void 0!==b.enterprise}class co{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}const ci="NO_RECAPTCHA";class as{constructor(h){this.type="recaptcha-enterprise",this.auth=Ir(h)}verify(h="verify",_=!1){var P=this;return(0,de.Z)(function*(){function ne(){return ne=(0,de.Z)(function*(gt){if(!_){if(null==gt.tenantId&&null!=gt._agentRecaptchaConfig)return gt._agentRecaptchaConfig.siteKey;if(null!=gt.tenantId&&void 0!==gt._tenantRecaptchaConfigs[gt.tenantId])return gt._tenantRecaptchaConfigs[gt.tenantId].siteKey}return new Promise(function(){var Jt=(0,de.Z)(function*(fn,Rn){Jn(gt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(gr=>{if(void 0!==gr.recaptchaKey){const bo=new co(gr);return null==gt.tenantId?gt._agentRecaptchaConfig=bo:gt._tenantRecaptchaConfigs[gt.tenantId]=bo,fn(bo.siteKey)}Rn(new Error("recaptcha Enterprise site key undefined"))}).catch(gr=>{Rn(gr)})});return function(fn,Rn){return Jt.apply(this,arguments)}}())}),ne.apply(this,arguments)}function je(gt,Jt,fn){const Rn=window.grecaptcha;mi(Rn)?Rn.enterprise.ready(()=>{Rn.enterprise.execute(gt,{action:h}).then(gr=>{Jt(gr)}).catch(()=>{Jt(ci)})}):fn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((gt,Jt)=>{(function Z(gt){return ne.apply(this,arguments)})(P.auth).then(fn=>{if(!_&&mi(window.grecaptcha))je(fn,gt,Jt);else{if(typeof window>"u")return void Jt(new Error("RecaptchaVerifier is only supported in browser"));(function Ds(b){return new Promise((h,_)=>{const P=document.createElement("script");P.setAttribute("src",b),P.onload=h,P.onerror=Z=>{const ne=kt("internal-error");ne.customData=Z,_(ne)},P.type="text/javascript",P.charset="UTF-8",function Co(){var b,h;return null!==(h=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==h?h:document}().appendChild(P)})})("https://www.google.com/recaptcha/enterprise.js?render="+fn).then(()=>{je(fn,gt,Jt)}).catch(Rn=>{Jt(Rn)})}}).catch(fn=>{Jt(fn)})})})()}}class js{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,_){const P=ne=>new Promise((je,gt)=>{try{je(h(ne))}catch(Jt){gt(Jt)}});P.onAbort=_,this.queue.push(P);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(h){var _=this;return(0,de.Z)(function*(){if(_.auth.currentUser===h)return;const P=[];try{for(const Z of _.queue)yield Z(h),Z.onAbort&&P.push(Z.onAbort)}catch(Z){P.reverse();for(const ne of P)try{ne()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}class mr{constructor(h,_,P,Z){this.app=h,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=P,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pe(this),this.idTokenSubscription=new pe(this),this.beforeStateQueue=new js(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=St,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(h,_){var P=this;return _&&(this._popupRedirectResolver=ie(_)),this._initializationPromise=this.queue((0,de.Z)(function*(){var Z,ne;if(!P._deleted&&(P.persistenceManager=yield Fe.create(P,h),!P._deleted)){if(null!==(Z=P._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(_),P.lastNotifiedUid=(null===(ne=P.currentUser)||void 0===ne?void 0:ne.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,de.Z)(function*(){if(h._deleted)return;const _=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||_){if(h.currentUser&&_&&h.currentUser.uid===_.uid)return h._currentUser._assign(_),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(_,!0)}})()}initializeCurrentUser(h){var _=this;return(0,de.Z)(function*(){var P;const Z=yield _.assertedPersistence.getCurrentUser();let ne=Z,je=!1;if(h&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const gt=null===(P=_.redirectUser)||void 0===P?void 0:P._redirectEventId,Jt=ne?._redirectEventId,fn=yield _.tryRedirectSignIn(h);(!gt||gt===Jt)&&fn?.user&&(ne=fn.user,je=!0)}if(!ne)return _.directlySetCurrentUser(null);if(!ne._redirectEventId){if(je)try{yield _.beforeStateQueue.runMiddleware(ne)}catch(gt){ne=Z,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(gt))}return ne?_.reloadAndSetCurrentUserOrClear(ne):_.directlySetCurrentUser(null)}return dt(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ne._redirectEventId?_.directlySetCurrentUser(ne):_.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var _=this;return(0,de.Z)(function*(){let P=null;try{P=yield _._popupRedirectResolver._completeRedirectFn(_,h,!0)}catch{yield _._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(h){var _=this;return(0,de.Z)(function*(){try{yield tr(h)}catch(P){if("auth/network-request-failed"!==P?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ue(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var h=this;return(0,de.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var _=this;return(0,de.Z)(function*(){const P=h?(0,Le.m9)(h):null;return P&&dt(P.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(P&&P._clone(_))})()}_updateCurrentUser(h,_=!1){var P=this;return(0,de.Z)(function*(){if(!P._deleted)return h&&dt(P.tenantId===h.tenantId,P,"tenant-id-mismatch"),_||(yield P.beforeStateQueue.runMiddleware(h)),P.queue((0,de.Z)(function*(){yield P.directlySetCurrentUser(h),P.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,de.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var _=this;return this.queue((0,de.Z)(function*(){yield _.assertedPersistence.setPersistence(ie(h))}))}initializeRecaptchaConfig(){var h=this;return(0,de.Z)(function*(){const _=yield Jn(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),P=new co(_);null==h.tenantId?h._agentRecaptchaConfig=P:h._tenantRecaptchaConfigs[h.tenantId]=P,P.emailPasswordEnabled&&new as(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Le.LL("auth","Firebase",h())}onAuthStateChanged(h,_,P){return this.registerStateListener(this.authStateSubscription,h,_,P)}beforeAuthStateChanged(h,_){return this.beforeStateQueue.pushCallback(h,_)}onIdTokenChanged(h,_,P){return this.registerStateListener(this.idTokenSubscription,h,_,P)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,_){var P=this;return(0,de.Z)(function*(){const Z=yield P.getOrInitRedirectPersistenceManager(_);return null===h?Z.removeCurrentUser():Z.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var _=this;return(0,de.Z)(function*(){if(!_.redirectPersistenceManager){const P=h&&ie(h)||_._popupRedirectResolver;dt(P,_,"argument-error"),_.redirectPersistenceManager=yield Fe.create(_,[ie(P._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(h){var _=this;return(0,de.Z)(function*(){var P,Z;return _._isInitialized&&(yield _.queue((0,de.Z)(function*(){}))),(null===(P=_._currentUser)||void 0===P?void 0:P._redirectEventId)===h?_._currentUser:(null===(Z=_.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===h?_.redirectUser:null})()}_persistUserIfCurrent(h){var _=this;return(0,de.Z)(function*(){if(h===_.currentUser)return _.queue((0,de.Z)(function*(){return _.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(_=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,_,P,Z){if(this._deleted)return()=>{};const ne="function"==typeof _?_:_.next.bind(_),je=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(je,this,"internal-error"),je.then(()=>ne(this.currentUser)),"function"==typeof _?h.addObserver(_,P,Z):h.addObserver(_)}directlySetCurrentUser(h){var _=this;return(0,de.Z)(function*(){_.currentUser&&_.currentUser!==h&&_._currentUser._stopProactiveRefresh(),h&&_.isProactiveRefreshEnabled&&h._startProactiveRefresh(),_.currentUser=h,h?yield _.assertedPersistence.setCurrentUser(h):yield _.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=rn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,de.Z)(function*(){var _;const P={"X-Client-Version":h.clientVersion};h.app.options.appId&&(P["X-Firebase-gmpid"]=h.app.options.appId);const Z=yield null===(_=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();Z&&(P["X-Firebase-Client"]=Z);const ne=yield h._getAppCheckToken();return ne&&(P["X-Firebase-AppCheck"]=ne),P})()}_getAppCheckToken(){var h=this;return(0,de.Z)(function*(){var _;const P=yield null===(_=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return P?.error&&function ht(b,...h){Oe.logLevel<=Xe.in.WARN&&Oe.warn(`Auth (${Ae.Jn}): ${b}`,...h)}(`Error while retrieving App Check token: ${P.error}`),P?.token})()}}function Ir(b){return(0,Le.m9)(b)}class pe{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Le.ne)(_=>this.observer=_)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function ho(b){return`__${b}${Math.floor(1e6*Math.random())}`})("rcb"),new $e(3e4,6e4),new $e(2e3,1e4),new $e(3e4,6e4),new $e(5e3,15e3),encodeURIComponent("fac");var d="@firebase/auth",m="0.23.1";class I{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var _=this;return(0,de.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const _=this.auth.onIdTokenChanged(P=>{h(P?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,_),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const _=this.internalListeners.get(h);_&&(this.internalListeners.delete(h),_(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Le.Pz)("authIdTokenMaxAge"),function W(b){(0,Ae.Xd)(new fe.wA("auth",(h,{options:_})=>{const P=h.getProvider("app").getImmediate(),Z=h.getProvider("heartbeat"),ne=h.getProvider("app-check-internal"),{apiKey:je,authDomain:gt}=P.options;dt(je&&!je.includes(":"),"invalid-api-key",{appName:P.name}),dt(!gt?.includes(":"),"argument-error",{appName:P.name});const Jt={apiKey:je,authDomain:gt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rn(b)},fn=new mr(P,Z,ne,Jt);return function Ve(b,h){const _=h?.persistence||[],P=(Array.isArray(_)?_:[_]).map(ie);h?.errorMap&&b._updateErrorMap(h.errorMap),b._initializeWithPersistence(P,h?.popupRedirectResolver)}(fn,_),fn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,_,P)=>{h.getProvider("auth-internal").initialize()})),(0,Ae.Xd)(new fe.wA("auth-internal",h=>{const _=Ir(h.getProvider("auth").getImmediate());return new I(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.KN)(d,m,function k(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,Ae.KN)(d,m,"esm2017")}("Browser");class Pn{constructor(){return(0,g.vb)("auth")}}},4102:(yn,ct,K)=>{K.d(ct,{gg:()=>Jf,hJ:()=>Dy,BS:()=>Nd,oe:()=>Ay,JU:()=>Ov,ad:()=>Lv,Cm:()=>Av,pl:()=>Hv,r7:()=>Gv});var ve,g=K(414),$=K(8256),j=K(8020),V=K(3692),de=K(259),Le=K(2313),Ae=K(5861),ut=K(2951),Xe=K(4859),fe=K(1877),ye=K(2090),Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pt={},Rt=Rt||{},mt=Ye||self;function ln(){}function nn(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function an(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ot="closure_uid_"+(1e9*Math.random()>>>0),Oe=0;function ht(r,e,t){return r.call.apply(r.bind,arguments)}function Lt(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function He(r,e,t){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ht:Lt).apply(null,arguments)}function kt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function rt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var p=Array(arguments.length-2),D=2;D<arguments.length;D++)p[D-2]=arguments[D];return e.prototype[a].apply(s,p)}}function Ut(){this.s=this.s,this.o=this.o}Ut.prototype.s=!1,Ut.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function St(r){Object.prototype.hasOwnProperty.call(r,ot)&&r[ot]||(r[ot]=++Oe)}(this)},Ut.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Vt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function We(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(nn(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let p=0;p<c;p++)r[a+p]=s[p]}else r.push(s)}}function Me(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!mt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{mt.addEventListener("test",ln,e),mt.removeEventListener("test",ln,e)}catch{}return r}();function ke(r){return/^[\s\xa0]*$/.test(r)}var Et=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function ue(r,e){return r<e?-1:r>e?1:0}function $e(){var r=mt.navigator;return r&&(r=r.userAgent)?r:""}function we(r){return-1!=$e().indexOf(r)}function xe(r){return xe[" "](r),r}function he(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}xe[" "]=ln;var lr,r,De=we("Opera"),et=we("Trident")||we("MSIE"),wt=we("Edge"),On=wt||et,xn=we("Gecko")&&!(-1!=$e().toLowerCase().indexOf("webkit")&&!we("Edge"))&&!(we("Trident")||we("MSIE"))&&!we("Edge"),hn=-1!=$e().toLowerCase().indexOf("webkit")&&!we("Edge");function ur(){var r=mt.document;return r?r.documentMode:void 0}e:{var Yr="",cr=(r=$e(),xn?/rv:([^\);]+)(\)|;)/.exec(r):wt?/Edge\/([\d\.]+)/.exec(r):et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):hn?/WebKit\/(\S+)/.exec(r):De?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(cr&&(Yr=cr?cr[1]:""),et){var jr=ur();if(null!=jr&&jr>parseFloat(Yr)){lr=String(jr);break e}}lr=Yr}var Qr={},Jr=mt.document&&et&&(ur()||parseInt(lr,10))||void 0;function li(r,e){if(Me.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(xn){e:{try{xe(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:gi[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&li.$.h.call(this)}}rt(li,Me);var gi={2:"touch",3:"pen",4:"mouse"};li.prototype.h=function(){li.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Hr="closure_listenable_"+(1e6*Math.random()|0),xi=0;function Vn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++xi,this.fa=this.ia=!1}function It(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function $t(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function er(r){const e={};for(const t in r)e[t]=r[t];return e}const Fn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lr(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<Fn.length;c++)t=Fn[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function xr(r){this.src=r,this.g={},this.h=0}function Ln(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=dt(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(It(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ei(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}xr.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var p=Ei(r,e,s,a);return-1<p?(e=r[p],t||(e.ia=!1)):((e=new Vn(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var tr="closure_lm_"+(1e6*Math.random()|0),ms={};function Yn(r,e,t,s,a){if(s&&s.once)return es(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Yn(r,e[c],t,s,a);return null}return t=ie(t),r&&r[Hr]?r.O(e,t,an(s)?!!s.capture:!!s,a):Ci(r,e,t,!1,s,a)}function Ci(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var p=an(a)?!!a.capture:!!a,D=yt(r);if(D||(r[tr]=D=new xr(r)),(t=D.add(e,t,s,p,c)).proxy)return t;if(s=function Ni(){const e=Pe;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)ft||(a=p),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Te(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function es(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)es(r,e[c],t,s,a);return null}return t=ie(t),r&&r[Hr]?r.P(e,t,an(s)?!!s.capture:!!s,a):Ci(r,e,t,!0,s,a)}function Xr(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Xr(r,e[c],t,s,a);else s=an(s)?!!s.capture:!!s,t=ie(t),r&&r[Hr]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ei(c=r.g[e],t,s,a))&&(It(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=yt(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ei(e,t,s,a)),(t=-1<r?e[r]:null)&&Be(t))}function Be(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Hr])Ln(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Te(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=yt(e))?(Ln(t,r),0==t.h&&(t.src=null,e[tr]=null)):It(r)}}}function Te(r){return r in ms?ms[r]:ms[r]="on"+r}function Pe(r,e){if(r.fa)r=!0;else{e=new li(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Be(r),r=t.call(s,e)}return r}function yt(r){return(r=r[tr])instanceof xr?r:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function ie(r){return"function"==typeof r?r:(r[_t]||(r[_t]=function(e){return r.handleEvent(e)}),r[_t])}function se(){Ut.call(this),this.i=new xr(this),this.S=this,this.J=null}function _e(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Me(e,r);else if(e instanceof Me)e.target=e.target||r;else{var a=e;Lr(e=new Me(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var p=e.g=t[c];a=ze(p,s,!0,e)&&a}if(a=ze(p=e.g=r,s,!0,e)&&a,a=ze(p,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=ze(p=e.g=t[c],s,!1,e)&&a}function ze(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.fa&&p.capture==t){var D=p.listener,B=p.la||p.src;p.ia&&Ln(r.i,p),a=!1!==D.call(B,s)&&a}}return a&&!s.defaultPrevented}rt(se,Ut),se.prototype[Hr]=!0,se.prototype.removeEventListener=function(r,e,t,s){Xr(this,r,e,t,s)},se.prototype.N=function(){if(se.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)It(t[s]);delete r.g[e],r.h--}}this.J=null},se.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},se.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Fe=mt.JSON.stringify;function qt(){var r=Qn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var At,Ee=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new re,r=>r.reset());class re{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function be(r){mt.setTimeout(()=>{throw r},0)}function it(r,e){At||function Kt(){var r=mt.Promise.resolve(void 0);At=function(){r.then(dr)}}(),cn||(At(),cn=!0),Qn.add(r,e)}var cn=!1,Qn=new class Ce{constructor(){this.h=this.g=null}add(e,t){const s=Ee.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function dr(){for(var r;r=qt();){try{r.h.call(r.g)}catch(t){be(t)}var e=Ee;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}cn=!1}function tt(r,e){se.call(this),this.h=r||1,this.g=e||mt,this.j=He(this.qb,this),this.l=Date.now()}function qe(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Pt(r,e,t){if("function"==typeof r)t&&(r=He(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=He(r.handleEvent,r)}return 2147483647<Number(e)?-1:mt.setTimeout(r,e||0)}function rn(r){r.g=Pt(()=>{r.g=null,r.i&&(r.i=!1,rn(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}rt(tt,se),(ve=tt.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_e(this,"tick"),this.ga&&(qe(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){tt.$.N.call(this),qe(this),delete this.g};class bn extends Ut{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rn(this)}N(){super.N(),this.g&&(mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(r){Ut.call(this),this.h=r,this.g={}}rt(Nn,Ut);var Jn=[];function qr(r,e,t,s){Array.isArray(t)||(t&&(Jn[0]=t.toString()),t=Jn);for(var a=0;a<t.length;a++){var c=Yn(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Mr(r){$t(r.g,function(e,t){this.g.hasOwnProperty(t)&&Be(e)},r),r.g={}}function mi(){this.g=!0}function Ds(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Kn(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<a.length;p++)a[p]=""}}}return Fe(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Nn.prototype.N=function(){Nn.$.N.call(this),Mr(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mi.prototype.Ea=function(){this.g=!1},mi.prototype.info=function(){};var Tr={},ci=null;function as(){return ci=ci||new se}function ii(r){Me.call(this,Tr.Ta,r)}function Cs(r){const e=as();_e(e,new ii(e))}function js(r,e){Me.call(this,Tr.STAT_EVENT,r),this.stat=e}function mr(r){const e=as();_e(e,new js(e,r))}function Ir(r,e){Me.call(this,Tr.Ua,r),this.size=e}function pe(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return mt.setTimeout(function(){r()},e)}Tr.Ta="serverreachability",rt(ii,Me),Tr.STAT_EVENT="statevent",rt(js,Me),Tr.Ua="timingevent",rt(Ir,Me);var me={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ve={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lt(){}function zt(){}lt.prototype.h=null;var Li,jn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wn(){Me.call(this,"d")}function yr(){Me.call(this,"c")}function Tn(){}function ei(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Nn(this),this.P=$a,this.V=new tt(r=On?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}rt(wn,Me),rt(yr,Me),rt(Tn,lt),Tn.prototype.g=function(){return new XMLHttpRequest},Tn.prototype.i=function(){return{}},Li=new Tn;var $a=45e3,di={},hi={};function Ns(r,e,t){r.L=1,r.v=go(Hi(e)),r.s=t,r.S=!0,Hs(r,null)}function Hs(r,e){r.G=Date.now(),_r(r),r.A=Hi(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Fs(t.i,"t",s),r.C=0,t=r.l.I,r.h=new ti,r.g=Pa(r.l,t?e:null,!r.s),0<r.O&&(r.M=new bn(He(r.Pa,r,r.g),r.O)),qr(r.U,r.g,"readystatechange",r.nb),e=r.I?er(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Cs(),function co(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var p="",D=c.split("&"),B=0;B<D.length;B++){var z=D[B].split("=");if(1<z.length){var X=z[0];z=z[1];var Ie=X.split("_");p=2<=Ie.length&&"type"==Ie[1]?p+(X+"=")+z+"&":p+(X+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(r.j,r.u,r.A,r.m,r.W,r.s)}function $i(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function fo(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=jo(r,t),a==hi){4==e&&(r.o=4,mr(14),s=!1),Ds(r.j,r.m,null,"[Incomplete Response]");break}if(a==di){r.o=4,mr(15),Ds(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Ds(r.j,r.m,a,null),Ao(r,a)}$i(r)&&a!=hi&&a!=di&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,mr(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ii(e),e.L=!0,mr(11))):(Ds(r.j,r.m,t,"[Invalid Chunked Response]"),Os(r),Qs(r))}function jo(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?hi:(t=Number(e.substring(t,s)),isNaN(t)?di:(s+=1)+t>e.length?hi:(e=e.substr(s,t),r.C=s+t,e))}function _r(r){r.Y=Date.now()+r.P,ua(r,r.P)}function ua(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=pe(He(r.lb,r),e)}function po(r){r.B&&(mt.clearTimeout(r.B),r.B=null)}function Qs(r){0==r.l.H||r.J||za(r.l,r)}function Os(r){po(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,qe(r.V),Mr(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function Ao(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||yo(t.h,r)))if(!r.K&&yo(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Ma(t),Pr(t)}Ss(t),mr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=pe(He(t.ib,t),6e3));if(1>=mo(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Ro(t,11)}else if((r.K||t.g==r)&&Ma(t),!ke(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let z=a[e];if(t.V=z[0],z=z[1],2==t.H)if("c"==z[0]){t.J=z[1],t.oa=z[2];const X=z[3];null!=X&&(t.qa=X,t.j.info("VER="+t.qa));const Ie=z[4];null!=Ie&&(t.Ga=Ie,t.j.info("SVER="+t.Ga));const Ke=z[5];null!=Ke&&"number"==typeof Ke&&0<Ke&&(t.K=s=1.5*Ke,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const bt=r.g;if(bt){const Ht=bt.g?bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ht){var c=s.h;c.g||-1==Ht.indexOf("spdy")&&-1==Ht.indexOf("quic")&&-1==Ht.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Xs(c,c.h),c.h=null))}if(s.F){const on=bt.g?bt.g.getResponseHeader("X-HTTP-Session-Id"):null;on&&(s.Da=on,Nr(s.G,s.F,on))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var p=r;if((s=t).wa=xo(s,s.I?s.oa:null,s.Y),p.K){Ha(s.h,p);var D=p,B=s.K;B&&D.setTimeout(B),D.B&&(po(D),_r(D)),s.g=p}else Aa(s);0<t.i.length&&Tt(t)}else"stop"!=z[0]&&"close"!=z[0]||Ro(t,7);else 3==t.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Ro(t,7):gn(t):"noop"!=z[0]&&t.l&&t.l.Aa(z),t.A=0)}Cs()}catch{}}function la(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(nn(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function ji(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(nn(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function So(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(nn(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(ve=ei.prototype).setTimeout=function(r){this.P=r},ve.nb=function(r){r=r.target;const e=this.M;e&&3==In(r)?e.l():this.Pa(r)},ve.Pa=function(r){try{if(r==this.g)e:{const X=In(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||On||this.g&&(this.h.h||this.g.ja()||U(this.g)))){this.J||4!=X||7==e||Cs(),po(this);var t=this.g.da();this.aa=t;t:if($i(this)){var s=U(this.g);r="";var a=s.length,c=4==In(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),Qs(this);var p="";break t}this.h.i=new mt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==t,function Co(r,e,t,s,a,c,p){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.W,X,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var D,B=this.g;if((D=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ke(D)){var z=D;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,mr(12),Os(this),Qs(this);break e}Ds(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ao(this,t)}this.S?(fo(this,X,p),On&&this.i&&3==X&&(qr(this.U,this.V,"tick",this.mb),this.V.start())):(Ds(this.j,this.m,p,null),Ao(this,p)),4==X&&Os(this),this.i&&!this.J&&(4==X?za(this.l,this):(this.i=!1,_r(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,mr(12)):(this.o=0,mr(13)),Os(this),Qs(this)}}}catch{}},ve.mb=function(){if(this.g){var r=In(this.g),e=this.g.ja();this.C<e.length&&(po(this),fo(this,r,e),this.i&&4!=r&&_r(this))}},ve.cancel=function(){this.J=!0,Os(this)},ve.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function ho(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Cs(),mr(17)),Os(this),this.o=2,Qs(this)):ua(this,this.Y-r)};var Ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ai(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Ai){this.h=void 0!==e?e:r.h,us(this,r.j),this.s=r.s,this.g=r.g,wi(this,r.m),this.l=r.l,e=r.i;var t=new ja;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ks(this,t),this.o=r.o}else r&&(t=String(r).match(Ui))?(this.h=!!e,us(this,t[1]||"",!0),this.s=Gs(t[2]||""),this.g=Gs(t[3]||"",!0),wi(this,t[4]),this.l=Gs(t[5]||"",!0),ks(this,t[6]||"",!0),this.o=Gs(t[7]||"")):(this.h=!!e,this.i=new ja(null,this.h))}function Hi(r){return new Ai(r)}function us(r,e,t){r.j=t?Gs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function wi(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ks(r,e,t){e instanceof ja?(r.i=e,function Ho(r,e){e&&!r.j&&(As(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Nu(this,s),Fs(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=uu(e,Po)),r.i=new ja(e,r.h))}function Nr(r,e,t){r.i.set(e,t)}function go(r){return Nr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Gs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function uu(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,zs),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function zs(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ai.prototype.toString=function(){var r=[],e=this.j;e&&r.push(uu(e,Mo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(uu(e,Mo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(uu(t,"/"==t.charAt(0)?Ca:_u,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",uu(t,lu)),r.join("")};var Mo=/[#\/\?@]/g,_u=/[#\?:]/g,Ca=/[#\?]/g,Po=/[#\?@]/g,lu=/#/g;function ja(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function As(r){r.g||(r.g=new Map,r.h=0,r.i&&function ys(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Nu(r,e){As(r),e=qs(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function vu(r,e){return As(r),e=qs(r,e),r.g.has(e)}function Fs(r,e,t){Nu(r,e),0<t.length&&(r.i=null,r.g.set(qs(r,e),Vt(t)),r.h+=t.length)}function qs(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Js(r){this.l=r||Ku,r=mt.PerformanceNavigationTiming?0<(r=mt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(mt.g&&mt.g.Ka&&mt.g.Ka()&&mt.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=ja.prototype).add=function(r,e){As(this),this.i=null,r=qs(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(r,e){As(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},ve.sa=function(){As(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},ve.Z=function(r){As(this);let e=[];if("string"==typeof r)vu(this,r)&&(e=e.concat(this.g.get(qs(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ve.set=function(r,e){return As(this),this.i=null,vu(this,r=qs(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ve.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var a=c;""!==p[s]&&(a+="="+encodeURIComponent(String(p[s]))),r.push(a)}}return this.i=r.join("&")};var Ku=10;function Ws(r){return!!r.h||!!r.g&&r.g.size>=r.j}function mo(r){return r.h?1:r.g?r.g.size:0}function yo(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Xs(r,e){r.g?r.g.add(e):r.h=e}function Ha(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function ts(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Vt(r.i)}function ns(){}function Zi(){this.g=new ns}function Go(r,e,t){const s=t||"";try{la(r,function(a,c){let p=a;an(a)&&(p=Fe(a)),e.push(s+c+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function zo(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Gi(r){this.l=r.fc||null,this.j=r.ob||!1}function qo(r,e){se.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Js.prototype.cancel=function(){if(this.i=ts(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},ns.prototype.stringify=function(r){return mt.JSON.stringify(r,void 0)},ns.prototype.parse=function(r){return mt.JSON.parse(r,void 0)},rt(Gi,lt),Gi.prototype.g=function(){return new qo(this.l,this.j)},Gi.prototype.i=function(r){return function(){return r}}({}),rt(qo,se);var Ga=0;function Oi(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ha(r){r.readyState=4,r.l=null,r.j=null,r.A=null,rs(r)}function rs(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ve=qo.prototype).open=function(r,e){if(this.readyState!=Ga)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,rs(this)},ve.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||mt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ha(this)),this.readyState=Ga},ve.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof mt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oi(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?ha(this):rs(this),3==this.readyState&&Oi(this)}},ve.Za=function(r){this.g&&(this.response=this.responseText=r,ha(this))},ve.Ya=function(r){this.g&&(this.response=r,ha(this))},ve.ka=function(){this.g&&ha(this)},ve.setRequestHeader=function(r,e){this.v.append(r,e)},ve.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(qo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var ls=mt.JSON.parse;function Or(r){se.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Yi,this.L=this.M=!1}rt(Or,se);var Yi="",_o=/^https?$/i,Si=["POST","PUT"];function fa(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,pa(r),kr(r)}function pa(r){r.F||(r.F=!0,_e(r,"complete"),_e(r,"error"))}function Qi(r){if(r.h&&typeof Rt<"u"&&(!r.C[1]||4!=In(r)||2!=r.da()))if(r.v&&4==In(r))Pt(r.La,0,r);else if(_e(r,"readystatechange"),4==In(r)){r.h=!1;try{const D=r.da();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===D){var a=String(r.I).match(Ui)[1]||null;if(!a&&mt.self&&mt.self.location){var c=mt.self.location.protocol;a=c.substr(0,c.length-1)}s=!_o.test(a?a.toLowerCase():"")}t=s}if(t)_e(r,"complete"),_e(r,"success");else{r.m=6;try{var p=2<In(r)?r.g.statusText:""}catch{p=""}r.j=p+" ["+r.da()+"]",pa(r)}}finally{kr(r)}}}function kr(r,e){if(r.g){Mi(r);const t=r.g,s=r.C[0]?ln:null;r.g=null,r.C=null,e||_e(r,"ready");try{t.onreadystatechange=s}catch{}}}function Mi(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(mt.clearTimeout(r.A),r.A=null)}function In(r){return r.g?r.g.readyState:0}function U(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Yi:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function F(r){let e="";return $t(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function O(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=F(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Nr(r,e,t))}function ee(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function st(r){this.Ga=0,this.i=[],this.j=new mi,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ee("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ee("baseRetryDelayMs",5e3,r),this.hb=ee("retryDelaySeedMs",1e4,r),this.eb=ee("forwardChannelMaxRetries",2,r),this.xa=ee("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new Js(r&&r.concurrentRequestLimit),this.Ja=new Zi,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function gn(r){if(Vi(r),3==r.H){var e=r.W++,t=Hi(r.G);Nr(t,"SID",r.J),Nr(t,"RID",e),Nr(t,"TYPE","terminate"),eo(r,t),(e=new ei(r,r.j,e,void 0)).L=2,e.v=go(Hi(t)),t=!1,mt.navigator&&mt.navigator.sendBeacon&&(t=mt.navigator.sendBeacon(e.v.toString(),"")),!t&&mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Pa(e.l,null),e.g.ha(e.v)),e.G=Date.now(),_r(e)}_s(r)}function Pr(r){r.g&&(Ii(r),r.g.cancel(),r.g=null)}function Vi(r){Pr(r),r.u&&(mt.clearTimeout(r.u),r.u=null),Ma(r),r.h.cancel(),r.m&&("number"==typeof r.m&&mt.clearTimeout(r.m),r.m=null)}function Tt(r){Ws(r.h)||r.m||(r.m=!0,it(r.Na,r),r.C=0)}function Wo(r,e){var t;t=e?e.m:r.W++;const s=Hi(r.G);Nr(s,"SID",r.J),Nr(s,"RID",t),Nr(s,"AID",r.V),eo(r,s),r.o&&r.s&&O(s,r.o,r.s),t=new ei(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=Ti(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Xs(r.h,t),Ns(t,s,e)}function eo(r,e){r.ma&&$t(r.ma,function(t,s){Nr(e,s,t)}),r.l&&la({},function(t,s){Nr(e,s,t)})}function Ti(r,e,t){t=Math.min(r.i.length,t);var s=r.l?He(r.l.Va,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const p=["count="+t];-1==c?0<t?(c=a[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let D=!0;for(let B=0;B<t;B++){let z=a[B].h;const X=a[B].g;if(z-=c,0>z)c=Math.max(0,a[B].h-100),D=!1;else try{Go(X,p,"req"+z+"_")}catch{s&&s(X)}}if(D){s=p.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function Aa(r){r.g||r.u||(r.ba=1,it(r.Ma,r),r.A=0)}function Ss(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=pe(He(r.Ma,r),wu(r,r.A)),r.A++,0))}function Ii(r){null!=r.B&&(mt.clearTimeout(r.B),r.B=null)}function Sa(r){r.g=new ei(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Hi(r.wa);Nr(e,"RID","rpc"),Nr(e,"SID",r.J),Nr(e,"CI",r.M?"0":"1"),Nr(e,"AID",r.V),Nr(e,"TYPE","xmlhttp"),eo(r,e),r.o&&r.s&&O(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=go(Hi(e)),t.s=null,t.S=!0,Hs(t,r)}function Ma(r){null!=r.v&&(mt.clearTimeout(r.v),r.v=null)}function za(r,e){var t=null;if(r.g==e){Ma(r),Ii(r),r.g=null;var s=2}else{if(!yo(r.h,e))return;t=e.F,Ha(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;_e(s=as(),new Ir(s,t)),Tt(r)}else Aa(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==s&&function nr(r,e){return!(mo(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=pe(He(r.Na,r,e),wu(r,r.C)),r.C++,0)))}(r,e)||2==s&&Ss(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Ro(r,5);break;case 4:Ro(r,10);break;case 3:Ro(r,6);break;default:Ro(r,2)}}function wu(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Ro(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=He(r.pb,r);t||(t=new Ai("//www.google.com/images/cleardot.gif"),mt.location&&"http"==mt.location.protocol||us(t,"https"),go(t)),function da(r,e){const t=new mi;if(mt.Image){const s=new Image;s.onload=kt(zo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=kt(zo,t,s,"TestLoadImage: error",!1,e),s.onabort=kt(zo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=kt(zo,t,s,"TestLoadImage: timeout",!1,e),mt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else mr(2);r.H=0,r.l&&r.l.za(e),_s(r),Vi(r)}function _s(r){if(r.H=0,r.pa=[],r.l){const e=ts(r.h);(0!=e.length||0!=r.i.length)&&(We(r.pa,e),We(r.pa,r.i),r.h.i.length=0,Vt(r.i),r.i.length=0),r.l.ya()}}function xo(r,e,t){var s=t instanceof Ai?Hi(t):new Ai(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),wi(s,s.m);else{var a=mt.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Ai(null,void 0);s&&us(c,s),e&&(c.g=e),a&&wi(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Nr(s,t,e),Nr(s,"VER",r.qa),eo(r,s),s}function Pa(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Or(t&&r.Ha&&!r.va?new Gi({ob:!0}):r.va)).Oa(r.I),e}function qa(){}function to(){if(et&&!(10<=Number(Jr)))throw Error("Environmental error: no available transport.")}function vs(r,e){se.call(this),this.g=new st(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!ke(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ke(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new xa(this)}function cu(r){wn.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ra(){yr.call(this),this.status=1}function xa(r){this.g=r}function Ls(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Wa(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],p=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;p=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(p<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((c=(e=t+((p=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((a=c+((p=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(p<<21&4294967295|p>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Ur(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(ve=Or.prototype).Oa=function(r){this.M=r},ve.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Li.g(),this.C=function Ft(r){return r.h||(r.h=r.i())}(this.u?this.u:Li),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void fa(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=mt.FormData&&r instanceof mt.FormData,!(0<=dt(Si,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of t)this.g.setRequestHeader(c,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Mi(this),0<this.B&&((this.L=function Eu(r){return et&&function en(){return he(Qr,9,function(){let r=0;const e=Et(String(lr)).split("."),t=Et("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==r&&p<s;p++){var a=e[p]||"",c=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=ue(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||ue(0==a[2].length,0==c[2].length)||ue(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=Pt(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){fa(this,c)}},ve.ua=function(){typeof Rt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_e(this,"timeout"),this.abort(8))},ve.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,_e(this,"complete"),_e(this,"abort"),kr(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kr(this,!0)),Or.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?Qi(this):this.kb())},ve.kb=function(){Qi(this)},ve.da=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),ls(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=st.prototype).qa=8,ve.H=1,ve.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new ei(this,this.j,r,void 0);let c=this.s;if(this.U&&(c?(c=er(c),Lr(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ti(this,a,e),Nr(t=Hi(this.G),"RID",r),Nr(t,"CVER",22),this.F&&Nr(t,"X-HTTP-Session-Id",this.F),eo(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(F(c)))+"&"+e:this.o&&O(t,this.o,c)),Xs(this.h,a),this.bb&&Nr(t,"TYPE","init"),this.P?(Nr(t,"$req",e),Nr(t,"SID","null"),a.ba=!0,Ns(a,t,null)):Ns(a,t,e),this.H=2}}else 3==this.H&&(r?Wo(this,r):0==this.i.length||Ws(this.h)||Wo(this))},ve.Ma=function(){if(this.u=null,Sa(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=pe(He(this.jb,this),r)}},ve.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,mr(10),Pr(this),Sa(this))},ve.ib=function(){null!=this.v&&(this.v=null,Pr(this),Ss(this),mr(19))},ve.pb=function(r){r?(this.j.info("Successfully pinged google.com"),mr(2)):(this.j.info("Failed to ping google.com"),mr(1))},(ve=qa.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.Va=function(){},to.prototype.g=function(r,e){return new vs(r,e)},rt(vs,se),vs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;mr(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=xo(r,null,r.Y),Tt(r)},vs.prototype.close=function(){gn(this.g)},vs.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Fe(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&Tt(e)},vs.prototype.N=function(){this.g.l=null,delete this.j,gn(this.g),delete this.g,vs.$.N.call(this)},rt(cu,wn),rt(Ra,yr),rt(xa,qa),xa.prototype.Ba=function(){_e(this.g,"a")},xa.prototype.Aa=function(r){_e(this.g,new cu(r))},xa.prototype.za=function(r){_e(this.g,new Ra)},xa.prototype.ya=function(){_e(this.g,"b")},rt(Ls,function Ko(){this.blockSize=-1}),Ls.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ls.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Wa(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){Wa(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){Wa(this,s),a=0;break}}this.h=a,this.i+=e},Ls.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Tu={};function Zo(r){return-128<=r&&128>r?he(Tu,r,function(e){return new Ur([0|e],0>e?-1:0)}):new Ur([0|r],0>r?-1:0)}function cs(r){if(isNaN(r)||!isFinite(r))return no;if(0>r)return br(cs(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Es;return new Ur(e,0)}var Es=4294967296,no=Zo(0),Ka=Zo(1),vo=Zo(16777216);function ws(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function yi(r){return-1==r.h}function br(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Ur(t,~r.h).add(Ka)}function Eo(r,e){return r.add(br(e))}function si(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Za(r,e){this.g=r,this.h=e}function M(r,e){if(ws(e))throw Error("division by zero");if(ws(r))return new Za(no,no);if(yi(r))return e=M(br(r),e),new Za(br(e.g),br(e.h));if(yi(e))return e=M(r,br(e)),new Za(br(e.g),e.h);if(30<r.g.length){if(yi(r)||yi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Ka,s=e;0>=s.X(r);)t=G(t),s=G(s);var a=N(t,1),c=N(s,1);for(s=N(s,2),t=N(t,2);!ws(s);){var p=c.add(s);0>=p.X(r)&&(a=a.add(t),c=p),s=N(s,1),t=N(t,1)}return e=Eo(r,a.R(e)),new Za(a,e)}for(a=no;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),p=(c=cs(t)).R(e);yi(p)||0<p.X(r);)p=(c=cs(t-=s)).R(e);ws(c)&&(c=Ka),a=a.add(c),r=Eo(r,p)}return new Za(a,r)}function G(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Ur(t,r.h)}function N(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Ur(a,r.h)}(ve=Ur.prototype).ea=function(){if(yi(this))return-br(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Es+s)*e,e*=Es}return r},ve.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(ws(this))return"0";if(yi(this))return"-"+br(this).toString(r);for(var e=cs(Math.pow(r,6)),t=this,s="";;){var a=M(t,e).g,c=((0<(t=Eo(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(ws(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},ve.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},ve.X=function(r){return yi(r=Eo(this,r))?-1:ws(r)?0:1},ve.abs=function(){return yi(this)?br(this):this},ve.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),p=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=p>>>16,t[a]=(p&=65535)<<16|(c&=65535)}return new Ur(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(r){if(ws(this)||ws(r))return no;if(yi(this))return yi(r)?br(this).R(br(r)):br(br(this).R(r));if(yi(r))return br(this.R(br(r)));if(0>this.X(vo)&&0>r.X(vo))return cs(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,p=65535&this.D(s),D=r.D(a)>>>16,B=65535&r.D(a);t[2*s+2*a]+=p*B,si(t,2*s+2*a),t[2*s+2*a+1]+=c*B,si(t,2*s+2*a+1),t[2*s+2*a+1]+=p*D,si(t,2*s+2*a+1),t[2*s+2*a+2]+=c*D,si(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Ur(t,0)},ve.gb=function(r){return M(this,r).h},ve.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Ur(t,this.h&r.h)},ve.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Ur(t,this.h|r.h)},ve.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Ur(t,this.h^r.h)},to.prototype.createWebChannel=to.prototype.g,vs.prototype.send=vs.prototype.u,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,Ve.COMPLETE="complete",zt.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",se.prototype.listen=se.prototype.O,Or.prototype.listenOnce=Or.prototype.P,Or.prototype.getLastError=Or.prototype.Sa,Or.prototype.getLastErrorCode=Or.prototype.Ia,Or.prototype.getStatus=Or.prototype.da,Or.prototype.getResponseJson=Or.prototype.Wa,Or.prototype.getResponseText=Or.prototype.ja,Or.prototype.send=Or.prototype.ha,Or.prototype.setWithCredentials=Or.prototype.Oa,Ls.prototype.digest=Ls.prototype.l,Ls.prototype.reset=Ls.prototype.reset,Ls.prototype.update=Ls.prototype.j,Ur.prototype.add=Ur.prototype.add,Ur.prototype.multiply=Ur.prototype.R,Ur.prototype.modulo=Ur.prototype.gb,Ur.prototype.compare=Ur.prototype.X,Ur.prototype.toNumber=Ur.prototype.ea,Ur.prototype.toString=Ur.prototype.toString,Ur.prototype.getBits=Ur.prototype.D,Ur.fromNumber=cs,Ur.fromString=function ga(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return br(ga(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=cs(Math.pow(e,8)),s=no,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),p=parseInt(r.substring(a,a+c),e);8>c?(c=cs(Math.pow(e,c)),s=s.R(c).add(cs(p))):s=(s=s.R(t)).add(cs(p))}return s};var Q=pt.createWebChannelTransport=function(){return new to},ge=pt.getStatEventTarget=function(){return as()},nt=pt.ErrorCode=me,Dt=pt.EventType=Ve,mn=pt.Event=Tr,Vr=pt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ni=pt.FetchXmlHttpFactory=Gi,vr=pt.WebChannel=zt,qn=pt.XhrIo=Or,Wr=pt.Md5=Ls,rr=pt.Integer=Ur;const Pi="@firebase/firestore";class Kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let Rr="9.21.0";const ds=new fe.Yd("@firebase/firestore");function Gr(){return ds.logLevel}function Nt(r,...e){if(ds.logLevel<=fe.in.DEBUG){const t=e.map(du);ds.debug(`Firestore (${Rr}): ${r}`,...t)}}function Cr(r,...e){if(ds.logLevel<=fe.in.ERROR){const t=e.map(du);ds.error(`Firestore (${Rr}): ${r}`,...t)}}function Ri(r,...e){if(ds.logLevel<=fe.in.WARN){const t=e.map(du);ds.warn(`Firestore (${Rr}): ${r}`,...t)}}function du(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Xt(r="Unexpected state"){const e=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: `+r;throw Cr(e),new Error(e)}function vn(r,e){r||Xt()}function Wt(r,e){return r}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends ye.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class hu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kr.UNAUTHENTICATED))}shutdown(){}}class Qo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Na{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=z=>this.i!==a?(a=this.i,t(z)):Promise.resolve();let p=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new ri,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const z=p;e.enqueueRetryable((0,Ae.Z)(function*(){yield z.promise,yield c(s.currentUser)}))},B=z=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(z=>B(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?B(z):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new ri)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vn("string"==typeof s.accessToken),new hu(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vn(null===e||"string"==typeof e),new Kr(e)}}class Ya{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ma{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Ya(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.T;return this.T=c.token,Nt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vn("string"==typeof t.token),this.T=t.token,new oi(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Qa(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Oa{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Qa(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Bn(r,e){return r<e?-1:r>e?1:0}function bu(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class or{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ot(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ot(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ot(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new or(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bn(this.nanoseconds,e.nanoseconds):Bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new un(e)}static min(){return new un(new or(0,0))}static max(){return new un(new or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ro{constructor(e,t,s){void 0===t?t=0:t>e.length&&Xt(),void 0===s?s=e.length-t:s>e.length-t&&Xt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===ro.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ro?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),p=t.get(a);if(c<p)return-1;if(c>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ir extends ro{construct(e,t,s){return new ir(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ot(at.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new ir(t)}static emptyPath(){return new ir([])}}const No=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ai extends ro{construct(e,t,s){return new ai(e,t,s)}static isValidIdentifier(e){return No.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ai(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Ot(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new Ot(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[a+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new Ot(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=B,a+=2}else"`"===D?(p=!p,a++):"."!==D||p?(s+=D,a++):(c(),a++)}if(c(),p)throw new Ot(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ai(t)}static emptyPath(){return new ai([])}}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(ir.fromString(e))}static fromName(e){return new tn(ir.fromString(e).popFirst(5))}static empty(){return new tn(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ir.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ir.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new ir(e.slice()))}}function va(r){return new _i(r.readTime,r.key,-1)}class _i{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new _i(un.min(),tn.empty(),-1)}static max(){return new _i(un.max(),tn.empty(),-1)}}function io(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=tn.comparator(r.documentKey,e.documentKey),0!==t?t:Bn(r.largestBatchId,e.largestBatchId))}const Xa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Jo(r){return zi.apply(this,arguments)}function zi(){return zi=(0,Ae.Z)(function*(r){if(r.code!==at.FAILED_PRECONDITION||r.message!==Xa)throw r;Nt("LocalStore","Unexpectedly lost primary lease")}),zi.apply(this,arguments)}class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qe((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Qe?t:Qe.resolve(t)}catch(t){return Qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Qe.reject(t)}static resolve(e){return new Qe((t,s)=>{t(e)})}static reject(e){return new Qe((t,s)=>{s(e)})}static waitFor(e){return new Qe((t,s)=>{let a=0,c=0,p=!1;e.forEach(D=>{++a,D.next(()=>{++c,p&&c===a&&t()},B=>s(B))}),p=!0,c===a&&t()})}static or(e){let t=Qe.resolve(!1);for(const s of e)t=t.next(a=>a?Qe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Qe((s,a)=>{const c=e.length,p=new Array(c);let D=0;for(let B=0;B<c;B++){const z=B;t(e[z]).next(X=>{p[z]=X,++D,D===c&&s(p)},X=>a(X))}})}static doWhile(e,t){return new Qe((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function ki(r){return"IndexedDbTransactionError"===r.name}let so=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function fi(r){return null==r}function tu(r){return 0===r&&1/r==-1/0}function Fa(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function oo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ju(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class vi{constructor(e,t){this.comparator=e,this.root=t||bi.EMPTY}insert(e,t){return new vi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ps(this.root,e,this.comparator,!0)}}class Ps{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bi{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??bi.RED,this.left=a??bi.EMPTY,this.right=c??bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new bi(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return bi.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xt();const e=this.left.check();if(e!==this.right.check())throw Xt();return e+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1,bi.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt()}get value(){throw Xt()}get color(){throw Xt()}get left(){throw Xt()}get right(){throw Xt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new bi(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Br{constructor(e){this.comparator=e,this.data=new vi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Al(this.data.getIterator())}getIteratorFrom(e){return new Al(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Br(this.comparator);return t.data=e,t}}class Al{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fo{constructor(e){this.fields=e,e.sort(ai.comparator)}static empty(){return new Fo([])}unionWith(e){let t=new Br(ai.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Fo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bu(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class pl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pl("Invalid base64 string: "+a):a}}(e);return new qi(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new qi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const Xu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(r){if(vn(!!r),"string"==typeof r){let e=0;const t=Xu.exec(r);if(vn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Fi(r.seconds),nanos:Fi(r.nanos)}}function Fi(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ts(r){return"string"==typeof r?qi.fromBase64String(r):qi.fromUint8Array(r)}function $u(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Bi(r){const e=r.mapValue.fields.__previous_value__;return $u(e)?Bi(e):e}function iu(r){const e=La(r.mapValue.fields.__local_write_time__.timestampValue);return new or(e.seconds,e.nanos)}class Sl{constructor(e,t,s,a,c,p,D,B){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=D,this.useFetchStreams=B}}class ju{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ju("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}const su={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ta(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$u(r)?4:Io(r)?9007199254740991:10:Xt()}function S(r,e){if(r===e)return!0;const t=ta(r);if(t!==ta(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return iu(r).isEqual(iu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=La(s.timestampValue),p=La(a.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ts(r.bytesValue).isEqual(Ts(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Fi(s.geoPointValue.latitude)===Fi(a.geoPointValue.latitude)&&Fi(s.geoPointValue.longitude)===Fi(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Fi(s.integerValue)===Fi(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=Fi(s.doubleValue),p=Fi(a.doubleValue);return c===p?tu(c)===tu(p):isNaN(c)&&isNaN(p)}return!1}(r,e);case 9:return bu(r.arrayValue.values||[],e.arrayValue.values||[],S);case 10:return function(s,a){const c=s.mapValue.fields||{},p=a.mapValue.fields||{};if(Fa(c)!==Fa(p))return!1;for(const D in c)if(c.hasOwnProperty(D)&&(void 0===p[D]||!S(c[D],p[D])))return!1;return!0}(r,e);default:return Xt()}var a}function x(r,e){return void 0!==(r.values||[]).find(t=>S(t,e))}function q(r,e){if(r===e)return 0;const t=ta(r),s=ta(e);if(t!==s)return Bn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bn(r.booleanValue,e.booleanValue);case 2:return function(a,c){const p=Fi(a.integerValue||a.doubleValue),D=Fi(c.integerValue||c.doubleValue);return p<D?-1:p>D?1:p===D?0:isNaN(p)?isNaN(D)?0:-1:1}(r,e);case 3:return ae(r.timestampValue,e.timestampValue);case 4:return ae(iu(r),iu(e));case 5:return Bn(r.stringValue,e.stringValue);case 6:return function(a,c){const p=Ts(a),D=Ts(c);return p.compareTo(D)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const p=a.split("/"),D=c.split("/");for(let B=0;B<p.length&&B<D.length;B++){const z=Bn(p[B],D[B]);if(0!==z)return z}return Bn(p.length,D.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const p=Bn(Fi(a.latitude),Fi(c.latitude));return 0!==p?p:Bn(Fi(a.longitude),Fi(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const p=a.values||[],D=c.values||[];for(let B=0;B<p.length&&B<D.length;++B){const z=q(p[B],D[B]);if(z)return z}return Bn(p.length,D.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===su.mapValue&&c===su.mapValue)return 0;if(a===su.mapValue)return 1;if(c===su.mapValue)return-1;const p=a.fields||{},D=Object.keys(p),B=c.fields||{},z=Object.keys(B);D.sort(),z.sort();for(let X=0;X<D.length&&X<z.length;++X){const Ie=Bn(D[X],z[X]);if(0!==Ie)return Ie;const Ke=q(p[D[X]],B[z[X]]);if(0!==Ke)return Ke}return Bn(D.length,z.length)}(r.mapValue,e.mapValue);default:throw Xt()}}function ae(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Bn(r,e);const t=La(r),s=La(e),a=Bn(t.seconds,s.seconds);return 0!==a?a:Bn(t.nanos,s.nanos)}function Re(r){return Ge(r)}function Ge(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=La(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ts(r.bytesValue).toBase64():"referenceValue"in r?tn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const p of s.values||[])c?c=!1:a+=",",a+=Ge(p);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",p=!0;for(const D of a)p?p=!1:c+=",",c+=`${D}:${Ge(s.fields[D])}`;return c+"}"}(r.mapValue):Xt();var e}function dn(r){return!!r&&"integerValue"in r}function En(r){return!!r&&"arrayValue"in r}function Xn(r){return!!r&&"nullValue"in r}function $n(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Is(r){return!!r&&"mapValue"in r}function Wi(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return oo(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Wi(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wi(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Io(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class fs{constructor(e){this.value=e}static empty(){return new fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Is(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wi(t)}setAll(e){let t=ai.emptyPath(),s={},a=[];e.forEach((p,D)=>{if(!t.isImmediateParentOf(D)){const B=this.getFieldsMap(t);this.applyChanges(B,s,a),s={},a=[],t=D.popLast()}p?s[D.lastSegment()]=Wi(p):a.push(D.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());Is(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return S(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Is(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){oo(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new fs(Wi(this.value))}}function Ql(r){const e=[];return oo(r.fields,(t,s)=>{const a=new ai([t]);if(Is(s)){const c=Ql(s.mapValue).fields;if(0===c.length)e.push(a);else for(const p of c)e.push(a.child(p))}else e.push(a)}),new Fo(e)}class Ki{constructor(e,t,s,a,c,p,D){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=p,this.documentState=D}static newInvalidDocument(e){return new Ki(e,0,un.min(),un.min(),un.min(),fs.empty(),0)}static newFoundDocument(e,t,s,a){return new Ki(e,1,t,un.min(),s,a,0)}static newNoDocument(e,t){return new Ki(e,2,t,un.min(),un.min(),fs.empty(),0)}static newUnknownDocument(e,t){return new Ki(e,3,t,un.min(),un.min(),fs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(un.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Su{constructor(e,t){this.position=e,this.inclusive=t}}function Ml(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],p=r.position[a];if(s=c.field.isKeyField()?tn.comparator(tn.fromName(p.referenceValue),t.key):q(p,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function bc(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!S(r.position[t],e.position[t]))return!1;return!0}class ml{constructor(e,t="asc"){this.field=e,this.dir=t}}function ra(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Dc{}class $r extends Dc{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new xh(e,t,s):"array-contains"===t?new xl(e,s):"in"===t?new Nl(e,s):"not-in"===t?new w(e,s):"array-contains-any"===t?new d(e,s):new $r(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Sc(e,s):new Nh(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(q(t,this.value)):null!==t&&ta(this.value)===ta(t)&&this.matchesComparison(q(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pi extends Dc{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new pi(e,t)}matches(e){return ps(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ps(r){return"and"===r.op}function Hu(r){return function Pl(r){for(const e of r.filters)if(e instanceof pi)return!1;return!0}(r)&&ps(r)}function Cc(r){if(r instanceof $r)return r.field.canonicalString()+r.op.toString()+Re(r.value);if(Hu(r))return r.filters.map(e=>Cc(e)).join(",");{const e=r.filters.map(t=>Cc(t)).join(",");return`${r.op}(${e})`}}function Rl(r,e){return r instanceof $r?(t=r,(s=e)instanceof $r&&t.op===s.op&&t.field.isEqual(s.field)&&S(t.value,s.value)):r instanceof pi?function(t,s){return s instanceof pi&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,p)=>a&&Rl(c,s.filters[p]),!0)}(r,e):void Xt();var t,s}function Ac(r){return r instanceof $r?`${(e=r).field.canonicalString()} ${e.op} ${Re(e.value)}`:r instanceof pi?function(e){return e.op.toString()+" {"+e.getFilters().map(Ac).join(" ,")+"}"}(r):"Filter";var e}class xh extends $r{constructor(e,t,s){super(e,t,s),this.key=tn.fromName(s.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Sc extends $r{constructor(e,t){super(e,"in",t),this.keys=Fd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Nh extends $r{constructor(e,t){super(e,"not-in",t),this.keys=Fd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fd(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>tn.fromName(s.referenceValue))}class xl extends $r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return En(t)&&x(t.arrayValue,this.value)}}class Nl extends $r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&x(this.value.arrayValue,t)}}class w extends $r{constructor(e,t){super(e,"not-in",t)}matches(e){if(x(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!x(this.value.arrayValue,t)}}class d extends $r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!En(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>x(this.value.arrayValue,s))}}class m{constructor(e,t=null,s=[],a=[],c=null,p=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=p,this.endAt=D,this.ft=null}}function I(r,e=null,t=[],s=[],a=null,c=null,p=null){return new m(r,e,t,s,a,c,p)}function k(r){const e=Wt(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Cc(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),fi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Re(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Re(s)).join(",")),e.ft=t}return e.ft}function W(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ra(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Rl(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!bc(r.startAt,e.startAt)&&bc(r.endAt,e.endAt)}function oe(r){return tn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class xt{constructor(e,t=null,s=[],a=[],c=null,p="F",D=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=p,this.startAt=D,this.endAt=B,this.dt=null,this._t=null}}function Cn(r){return new xt(r)}function Pn(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function fr(r){const e=Wt(r);if(null===e.dt){e.dt=[];const t=function Sn(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),s=function _n(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new ml(t)),e.dt.push(new ml(ai.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ml(ai.keyField(),c))}}}return e.dt}function pr(r){const e=Wt(r);if(!e._t)if("F"===e.limitType)e._t=I(e.path,e.collectionGroup,fr(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of fr(e))t.push(new ml(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Su(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Su(e.startAt.position,e.startAt.inclusive):null;e._t=I(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Ar(r,e,t){return new xt(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ks(r,e){return W(pr(r),pr(e))&&r.limitType===e.limitType}function ao(r){return`${k(pr(r))}|lt:${r.limitType}`}function Rs(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Ac(s)).join(", ")}]`),fi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Re(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Re(s)).join(",")),`Target(${t})`}(pr(r))}; limitType=${r.limitType})`}function Bs(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):tn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of fr(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,p){const D=Ml(a,c,p);return a.inclusive?D<=0:D<0}(t.startAt,fr(t),s)||t.endAt&&!function(a,c,p){const D=Ml(a,c,p);return a.inclusive?D>=0:D>0}(t.endAt,fr(t),s)));var t,s}function Lo(r){return(e,t)=>{let s=!1;for(const a of fr(r)){const c=ed(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function ed(r,e,t){const s=r.field.isKeyField()?tn.comparator(e.key,t.key):function(a,c,p){const D=c.data.field(a),B=p.data.field(a);return null!==D&&null!==B?q(D,B):Xt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Xt()}}class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Ju(this.inner)}size(){return this.innerSize}}const yl=new vi(tn.comparator);function Ia(){return yl}const Ol=new vi(tn.comparator);function Dn(...r){let e=Ol;for(const t of r)e=e.insert(t.key,t);return e}function Un(r){let e=Ol;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function kn(){return ss()}function Zr(){return ss()}function ss(){return new Ta(r=>r.toString(),(r,e)=>r.isEqual(e))}const gu=new vi(tn.comparator),Uo=new Br(tn.comparator);function Gn(...r){let e=Uo;for(const t of r)e=e.add(t);return e}const os=new Br(Bn);function Mc(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function Zs(r){return{integerValue:""+r}}function ou(r,e){return function nu(r){return"number"==typeof r&&Number.isInteger(r)&&!tu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Zs(e):Mc(r,e)}class sa{constructor(){this._=void 0}}function Jl(r,e,t){return r instanceof Pc?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&$u(a)&&(a=Bi(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Fl?Oh(r,e):r instanceof rl?Ld(r,e):function(s,a){const c=rp(s,a),p=ip(c)+ip(s.wt);return dn(c)&&dn(s.wt)?Zs(p):Mc(s.serializer,p)}(r,e)}function td(r,e,t){return r instanceof Fl?Oh(r,e):r instanceof rl?Ld(r,e):t}function rp(r,e){return r instanceof Gu?dn(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Pc extends sa{}class Fl extends sa{constructor(e){super(),this.elements=e}}function Oh(r,e){const t=sp(e);for(const s of r.elements)t.some(a=>S(a,s))||t.push(s);return{arrayValue:{values:t}}}class rl extends sa{constructor(e){super(),this.elements=e}}function Ld(r,e){let t=sp(e);for(const s of r.elements)t=t.filter(a=>!S(a,s));return{arrayValue:{values:t}}}class Gu extends sa{constructor(e,t){super(),this.serializer=e,this.wt=t}}function ip(r){return Fi(r.integerValue||r.doubleValue)}function sp(r){return En(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class kh{constructor(e,t){this.version=e,this.transformResults=t}}class bs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bs}static exists(e){return new bs(void 0,e)}static updateTime(e){return new bs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Xl{}function Vd(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new au(r.key,bs.none()):new xc(r.key,r.data,bs.none());{const t=r.data,s=fs.empty();let a=new Br(ai.comparator);for(let c of e.fields)if(!a.has(c)){let p=t.field(c);null===p&&c.length>1&&(c=c.popLast(),p=t.field(c)),null===p?s.delete(c):s.set(c,p),a=a.add(c)}return new _l(r.key,s,new Fo(a.toArray()),bs.none())}}function op(r,e,t){r instanceof xc?function(s,a,c){const p=s.value.clone(),D=lp(s.fieldTransforms,a,c.transformResults);p.setAll(D),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):r instanceof _l?function(s,a,c){if(!nd(s.precondition,a))return void a.convertToUnknownDocument(c.version);const p=lp(s.fieldTransforms,a,c.transformResults),D=a.data;D.setAll(up(s)),D.setAll(p),a.convertToFoundDocument(c.version,D).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Rc(r,e,t,s){return r instanceof xc?function(a,c,p,D){if(!nd(a.precondition,c))return p;const B=a.value.clone(),z=cp(a.fieldTransforms,D,c);return B.setAll(z),c.convertToFoundDocument(c.version,B).setHasLocalMutations(),null}(r,e,t,s):r instanceof _l?function(a,c,p,D){if(!nd(a.precondition,c))return p;const B=cp(a.fieldTransforms,D,c),z=c.data;return z.setAll(up(a)),z.setAll(B),c.convertToFoundDocument(c.version,z).setHasLocalMutations(),null===p?null:p.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(X=>X.field))}(r,e,t,s):(p=t,nd(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function ap(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=rp(s.transform,a||null);null!=c&&(null===t&&(t=fs.empty()),t.set(s.field,c))}return t||null}function Ll(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&bu(t,s,(a,c)=>function jg(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Fl&&s instanceof Fl||t instanceof rl&&s instanceof rl?bu(t.elements,s.elements,S):t instanceof Gu&&s instanceof Gu?S(t.wt,s.wt):t instanceof Pc&&s instanceof Pc);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class xc extends Xl{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _l extends Xl{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function up(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function lp(r,e,t){const s=new Map;vn(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],p=c.transform,D=e.data.field(c.field);s.set(c.field,td(p,D,t[a]))}return s}function cp(r,e,t){const s=new Map;for(const a of r){const c=a.transform,p=t.data.field(a.field);s.set(a.field,Jl(c,p,e))}return s}class au extends Xl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ul extends Xl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fh{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&op(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Rc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Rc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Zr();return this.mutations.forEach(a=>{const c=e.get(a.key),p=c.overlayedDocument;let D=this.applyToLocalView(p,c.mutatedFields);D=t.has(a.key)?null:D;const B=Vd(p,D);null!==B&&s.set(a.key,B),p.isValidDocument()||p.convertToNoDocument(un.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gn())}isEqual(e){return this.batchId===e.batchId&&bu(this.mutations,e.mutations,(t,s)=>Ll(t,s))&&bu(this.baseMutations,e.baseMutations,(t,s)=>Ll(t,s))}}class b{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){vn(e.mutations.length===s.length);let a=gu;const c=e.mutations;for(let p=0;p<c.length;p++)a=a.insert(c[p].key,s[p].version);return new b(e,t,s,a)}}class h{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class P{constructor(e,t){this.count=e,this.unchangedNames=t}}var Z,ne;function gt(r){if(void 0===r)return Cr("GRPC error has no .code"),at.UNKNOWN;switch(r){case Z.OK:return at.OK;case Z.CANCELLED:return at.CANCELLED;case Z.UNKNOWN:return at.UNKNOWN;case Z.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Z.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Z.INTERNAL:return at.INTERNAL;case Z.UNAVAILABLE:return at.UNAVAILABLE;case Z.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Z.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Z.NOT_FOUND:return at.NOT_FOUND;case Z.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Z.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Z.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Z.ABORTED:return at.ABORTED;case Z.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Z.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Z.DATA_LOSS:return at.DATA_LOSS;default:return Xt()}}(ne=Z||(Z={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";class Jt{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return fn}static getOrCreateInstance(){return null===fn&&(fn=new Jt),fn}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let fn=null;const gr=new rr([4294967295,4294967295],0);function bo(r){const e=function Rn(){return new TextEncoder}().encode(r),t=new Wr;return t.update(e),new Uint8Array(t.digest())}function zu(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new rr([t,s],0),new rr([a,c],0)]}class Vl{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Bl(`Invalid padding: ${t}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Bl(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Bl(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=rr.fromNumber(this.yt)}Tt(e,t,s){let a=e.add(t.multiply(rr.fromNumber(s)));return 1===a.compare(gr)&&(a=new rr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=bo(e),[s,a]=zu(t);for(let c=0;c<this.hashCount;c++){const p=this.Tt(s,a,c);if(!this.Et(p))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Vl(c,a,t);return s.forEach(D=>p.insert(D)),p}insert(e){if(0===this.yt)return;const t=bo(e),[s,a]=zu(t);for(let c=0;c<this.hashCount;c++){const p=this.Tt(s,a,c);this.Rt(p)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ec{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ec(un.min(),a,new vi(Bn),Ia(),Gn())}}class Nc{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Nc(s,t,Gn(),Gn(),Gn())}}class rd{constructor(e,t,s,a){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=a}}class tc{constructor(e,t){this.targetId=e,this.bt=t}}class Oc{constructor(e,t,s=qi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Lh{constructor(){this.Vt=0,this.St=Vh(),this.Dt=qi.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Gn(),t=Gn(),s=Gn();return this.St.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Xt()}}),new Nc(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=Vh()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Uh{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Ia(),this.jt=id(),this.zt=new vi(Bn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:Xt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const s=e.targetId,a=e.bt.count,c=this.ne(s);if(c){const p=c.target;if(oe(p))if(0===a){const D=new tn(p.path);this.Jt(s,D,Ki.newNoDocument(D,un.min()))}else vn(1===a);else{const D=this.se(s);if(D!==a){const B=this.ie(e,D);0!==B&&(this.te(s),this.zt=this.zt.insert(s,2===B?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Jt.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(z,X,Ie){var Ke,bt,Ht,on,Mn,wr;const Di={localCacheCount:X,existenceFilterCount:Ie.count},Dr=Ie.unchangedNames;return Dr&&(Di.bloomFilter={applied:0===z,hashCount:null!==(Ke=Dr?.hashCount)&&void 0!==Ke?Ke:0,bitmapLength:null!==(on=null===(Ht=null===(bt=Dr?.bits)||void 0===bt?void 0:bt.bitmap)||void 0===Ht?void 0:Ht.length)&&void 0!==on?on:0,padding:null!==(wr=null===(Mn=Dr?.bits)||void 0===Mn?void 0:Mn.padding)&&void 0!==wr?wr:0}),Di}(B,D,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:a}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:p=0},hashCount:D=0}=s;let B,z;try{B=Ts(c).toUint8Array()}catch(X){if(X instanceof pl)return Ri("Decoding the base64 bloom filter in existence filter failed ("+X.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw X}try{z=new Vl(B,p,D)}catch(X){return Ri(X instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",X),1}return 0===z.yt?1:a!==t-this.re(e.targetId,z)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const p=this.Kt.oe(),D=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.At(D)||(this.Jt(e,c,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((c,p)=>{const D=this.ne(p);if(D){if(c.current&&oe(D.target)){const B=new tn(D.target.path);null!==this.Qt.get(B)||this.ce(p,B)||this.Jt(p,B,Ki.newNoDocument(B,e))}c.kt&&(t.set(p,c.Ot()),c.$t())}});let s=Gn();this.jt.forEach((c,p)=>{let D=!0;p.forEachWhile(B=>{const z=this.ne(B);return!z||"TargetPurposeLimboResolution"===z.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.Qt.forEach((c,p)=>p.setReadTime(e));const a=new ec(e,t,this.zt,this.Qt,s);return this.Qt=Ia(),this.jt=id(),this.zt=new vi(Bn),a}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new Lh,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Br(Bn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Nt("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Lh),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function id(){return new vi(tn.comparator)}function Vh(){return new vi(tn.comparator)}const Bd={asc:"ASCENDING",desc:"DESCENDING"},dp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fy={and:"AND",or:"OR"};class Hg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sd(r,e){return r.useProto3Json||fi(e)?e:{value:e}}function kc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bh(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ly(r,e){return kc(r,e.toTimestamp())}function Fr(r){return vn(!!r),un.fromTimestamp(function(e){const t=La(e);return new or(t.seconds,t.nanos)}(r))}function $h(r,e){return(t=r,new ir(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Gg(r){const e=ir.fromString(r);return vn(ic(e)),e}function Fc(r,e){return $h(r.databaseId,e.path)}function il(r,e){const t=Gg(e);if(t.get(1)!==r.databaseId.projectId)throw new Ot(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ot(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new tn(qg(t))}function hp(r,e){return $h(r.databaseId,e)}function $d(r){return new ir(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function qg(r){return vn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function fp(r,e,t){return{name:Fc(r,e),fields:t.value.mapValue.fields}}function pp(r,e){return{documents:[hp(r,e.path)]}}function gp(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=hp(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hp(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(B){if(0!==B.length)return vp(pi.create(B,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(B){if(0!==B.length)return B.map(z=>{return{field:nc((X=z).field),direction:yp(X.dir)};var X})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=sd(r,e.limit);var D,B;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function Kg(r){let e=function zg(r){const e=Gg(r);return 4===e.length?ir.emptyPath():qg(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){vn(1===s);const X=t.from[0];X.allDescendants?a=X.collectionId:e=e.child(X.collectionId)}let c=[];t.where&&(c=function(X){const Ie=mp(X);return Ie instanceof pi&&Hu(Ie)?Ie.getFilters():[Ie]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(X=>{return new ml(rc((Ie=X).field),function(Ke){switch(Ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let D=null;t.limit&&(D=function(X){let Ie;return Ie="object"==typeof X?X.value:X,fi(Ie)?null:Ie}(t.limit));let B=null;var X;t.startAt&&(B=new Su((X=t.startAt).values||[],!!X.before));let z=null;return t.endAt&&(z=function(X){return new Su(X.values||[],!X.before)}(t.endAt)),function jt(r,e,t,s,a,c,p,D){return new xt(r,e,t,s,a,c,p,D)}(e,a,p,c,D,"F",B,z)}function mp(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=rc(e.unaryFilter.field);return $r.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=rc(e.unaryFilter.field);return $r.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rc(e.unaryFilter.field);return $r.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rc(e.unaryFilter.field);return $r.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Xt()}}(r):void 0!==r.fieldFilter?$r.create(rc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return pi.create(e.compositeFilter.filters.map(t=>mp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Xt()}}(e.compositeFilter.op))}(r):Xt();var e}function yp(r){return Bd[r]}function dE(r){return dp[r]}function _p(r){return Fy[r]}function nc(r){return{fieldPath:r.canonicalString()}}function rc(r){return ai.fromServerFormat(r.fieldPath)}function vp(r){return r instanceof $r?function(e){if("=="===e.op){if($n(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NAN"}};if(Xn(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($n(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NAN"}};if(Xn(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(e.field),op:dE(e.op),value:e.value}}}(r):r instanceof pi?function(e){const t=e.getFilters().map(s=>vp(s));return 1===t.length?t[0]:{compositeFilter:{op:_p(e.op),filters:t}}}(r):Xt()}function Yg(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ic(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class $l{constructor(e,t,s,a,c=un.min(),p=un.min(),D=qi.EMPTY_BYTE_STRING,B=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=D,this.expectedCount=B}withSequenceNumber(e){return new $l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Hh{constructor(e){this.le=e}}function Ep(r){const e=Kg({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ar(e,e.limit,"L"):e}class Bc{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Fi(e.integerValue));else if("doubleValue"in e){const s=Fi(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),tu(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Ts(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?Io(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):Xt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const a of Object.keys(s))this.Ie(a,t),this.we(s[a],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const a of s)this.we(a,t)}Ae(e,t){this.ge(t,37),tn.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}Bc.be=new Bc;class zy{constructor(){this.sn=new Ip}addToCollectionParentIndex(e,t){return this.sn.add(t),Qe.resolve()}getCollectionParents(e,t){return Qe.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Qe.resolve()}deleteFieldIndex(e,t){return Qe.resolve()}getDocumentsMatchingTarget(e,t){return Qe.resolve(null)}getIndexType(e,t){return Qe.resolve(0)}getFieldIndexes(e,t){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,t){return Qe.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,t){return Qe.resolve(_i.min())}updateCollectionGroup(e,t,s){return Qe.resolve()}updateIndexEntries(e,t){return Qe.resolve()}}class Ip{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Br(ir.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Br(ir.comparator)).toArray()}}new Uint8Array(0);class Va{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Va(e,Va.DEFAULT_COLLECTION_PERCENTILE,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Va.DEFAULT_COLLECTION_PERCENTILE=10,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Va.DEFAULT=new Va(41943040,Va.DEFAULT_COLLECTION_PERCENTILE,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Va.DISABLED=new Va(-1,0,0);class uc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new uc(0)}static kn(){return new uc(-1)}}class Jy{constructor(){this.changes=new Ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Qe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class e_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Sp{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Rc(s.mutation,a,Fo.empty(),or.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Gn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Gn()){const a=kn();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let p=Dn();return c.forEach((D,B)=>{p=p.insert(D,B.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const s=kn();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Gn()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((p,D)=>{t.set(p,D)})})}computeViews(e,t,s,a){let c=Ia();const p=ss(),D=ss();return t.forEach((B,z)=>{const X=s.get(z.key);a.has(z.key)&&(void 0===X||X.mutation instanceof _l)?c=c.insert(z.key,z):void 0!==X?(p.set(z.key,X.mutation.getFieldMask()),Rc(X.mutation,z,X.mutation.getFieldMask(),or.now())):p.set(z.key,Fo.empty())}),this.recalculateAndSaveOverlays(e,c).next(B=>(B.forEach((z,X)=>p.set(z,X)),t.forEach((z,X)=>{var Ie;return D.set(z,new e_(X,null!==(Ie=p.get(z))&&void 0!==Ie?Ie:null))}),D))}recalculateAndSaveOverlays(e,t){const s=ss();let a=new vi((p,D)=>p-D),c=Gn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const D of p)D.keys().forEach(B=>{const z=t.get(B);if(null===z)return;let X=s.get(B)||Fo.empty();X=D.applyToLocalView(z,X),s.set(B,X);const Ie=(a.get(D.batchId)||Gn()).add(B);a=a.insert(D.batchId,Ie)})}).next(()=>{const p=[],D=a.getReverseIterator();for(;D.hasNext();){const B=D.getNext(),z=B.key,X=B.value,Ie=Zr();X.forEach(Ke=>{if(!c.has(Ke)){const bt=Vd(t.get(Ke),s.get(Ke));null!==bt&&Ie.set(Ke,bt),c=c.add(Ke)}}),p.push(this.documentOverlayCache.saveOverlays(e,z,Ie))}return Qe.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return tn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Hn(r){return null!==r.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const p=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Qe.resolve(kn());let D=-1,B=c;return p.next(z=>Qe.forEach(z,(X,Ie)=>(D<Ie.largestBatchId&&(D=Ie.largestBatchId),c.get(X)?Qe.resolve():this.remoteDocumentCache.getEntry(e,X).next(Ke=>{B=B.insert(X,Ke)}))).next(()=>this.populateOverlays(e,z,c)).next(()=>this.computeViews(e,B,z,Gn())).next(X=>({batchId:D,changes:Un(X)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next(s=>{let a=Dn();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Dn();return this.indexManager.getCollectionParents(e,a).next(p=>Qe.forEach(p,D=>{const B=(z=t,X=D.child(a),new xt(X,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,X;return this.getDocumentsMatchingCollectionQuery(e,B,s).next(z=>{z.forEach((X,Ie)=>{c=c.insert(X,Ie)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((D,B)=>{const z=B.getKey();null===c.get(z)&&(c=c.insert(z,Ki.newInvalidDocument(z)))});let p=Dn();return c.forEach((D,B)=>{const z=a.get(D);void 0!==z&&Rc(z.mutation,B,Fo.empty(),or.now()),Bs(t,B)&&(p=p.insert(D,B))}),p})}}class t_{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Qe.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:Fr(s.createTime)}),Qe.resolve()}getNamedQuery(e,t){return Qe.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:Ep(s.bundledQuery),readTime:Fr(s.readTime)}),Qe.resolve();var s}}class n_{constructor(){this.overlays=new vi(tn.comparator),this.hs=new Map}getOverlay(e,t){return Qe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=kn();return Qe.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.de(e,t,c)}),Qe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.hs.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.hs.delete(s)),Qe.resolve()}getOverlaysForCollection(e,t,s){const a=kn(),c=t.length+1,p=new tn(t.child("")),D=this.overlays.getIteratorFrom(p);for(;D.hasNext();){const B=D.getNext().value,z=B.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===c&&B.largestBatchId>s&&a.set(B.getKey(),B)}return Qe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new vi((z,X)=>z-X);const p=this.overlays.getIterator();for(;p.hasNext();){const z=p.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>s){let X=c.get(z.largestBatchId);null===X&&(X=kn(),c=c.insert(z.largestBatchId,X)),X.set(z.getKey(),z)}}const D=kn(),B=c.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((z,X)=>D.set(z,X)),!(D.size()>=a)););return Qe.resolve(D)}de(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const p=this.hs.get(a.largestBatchId).delete(s.key);this.hs.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new h(t,s));let c=this.hs.get(t);void 0===c&&(c=Gn(),this.hs.set(t,c)),this.hs.set(t,c.add(s.key))}}class dm{constructor(){this.ls=new Br(Vo.fs),this.ds=new Br(Vo._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new Vo(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new Vo(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new tn(new ir([])),s=new Vo(t,e),a=new Vo(t,e+1),c=[];return this.ds.forEachInRange([s,a],p=>{this.gs(p),c.push(p.key)}),c}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new tn(new ir([])),s=new Vo(t,e),a=new Vo(t,e+1);let c=Gn();return this.ds.forEachInRange([s,a],p=>{c=c.add(p.key)}),c}containsKey(e){const t=new Vo(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Vo{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return tn.comparator(e.key,t.key)||Bn(e.Es,t.Es)}static _s(e,t){return Bn(e.Es,t.Es)||tn.comparator(e.key,t.key)}}class hm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Br(Vo.fs)}checkEmpty(e){return Qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.As;this.As++;const p=new Fh(c,t,s,a);this.mutationQueue.push(p);for(const D of a)this.Rs=this.Rs.add(new Vo(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Qe.resolve(p)}lookupMutationBatch(e,t){return Qe.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),c=a<0?0:a;return Qe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Vo(t,0),a=new Vo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],p=>{const D=this.vs(p.Es);c.push(D)}),Qe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Br(Bn);return t.forEach(a=>{const c=new Vo(a,0),p=new Vo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,p],D=>{s=s.add(D.Es)})}),Qe.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;tn.isDocumentKey(c)||(c=c.child(""));const p=new Vo(new tn(c),0);let D=new Br(Bn);return this.Rs.forEachWhile(B=>{const z=B.key.path;return!!s.isPrefixOf(z)&&(z.length===a&&(D=D.add(B.Es)),!0)},p),Qe.resolve(this.bs(D))}bs(e){const t=[];return e.forEach(s=>{const a=this.vs(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){vn(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Qe.forEach(t.mutations,a=>{const c=new Vo(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new Vo(t,0),a=this.Rs.firstAfterOrEqual(s);return Qe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Qe.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jc{constructor(e){this.Ss=e,this.docs=new vi(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,p=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Qe.resolve(s?s.document.mutableCopy():Ki.newInvalidDocument(t))}getEntries(e,t){let s=Ia();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ki.newInvalidDocument(a))}),Qe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Ia();const p=t.path,D=new tn(p.child("")),B=this.docs.getIteratorFrom(D);for(;B.hasNext();){const{key:z,value:{document:X}}=B.getNext();if(!p.isPrefixOf(z.path))break;z.path.length>p.length+1||io(va(X),s)<=0||(a.has(X.key)||Bs(t,X))&&(c=c.insert(X.key,X.mutableCopy()))}return Qe.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Xt()}Ds(e,t){return Qe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new r_(this)}getSize(e){return Qe.resolve(this.size)}}class r_ extends Jy{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(s)}),Qe.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class Mp{constructor(e){this.persistence=e,this.Cs=new Ta(t=>k(t),W),this.lastRemoteSnapshotVersion=un.min(),this.highestTargetId=0,this.xs=0,this.Ns=new dm,this.targetCount=0,this.ks=uc.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,a)=>t(a)),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),Qe.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new uc(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Qe.resolve()}updateTargetData(e,t){return this.$n(t),Qe.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Cs.forEach((p,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.Cs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),Qe.waitFor(c).next(()=>a)}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return Qe.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),Qe.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(p=>{c.push(a.markPotentiallyOrphaned(e,p))}),Qe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Qe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return Qe.resolve(s)}containsKey(e,t){return Qe.resolve(this.Ns.containsKey(t))}}class Kd{constructor(e,t){this.Ms={},this.overlays={},this.Os=new so(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new Mp(this),this.indexManager=new zy,this.remoteDocumentCache=new jc(s=>this.referenceDelegate.Bs(s)),this.serializer=new Hh(t),this.Ls=new t_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new n_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new hm(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){Nt("MemoryPersistence","Starting transaction:",e);const a=new i_(this.Os.next());return this.referenceDelegate.qs(),s(a).next(c=>this.referenceDelegate.Us(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ks(e,t){return Qe.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class i_ extends Cu{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Gs=new dm,this.Qs=null}static js(e){return new Pp(e)}get zs(){if(this.Qs)return this.Qs;throw Xt()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),Qe.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),Qe.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Qe.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.zs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.zs,s=>{const a=tn.fromPath(s);return this.Ws(e,a).next(c=>{c||t.removeEntry(a,un.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Qe.or([()=>Qe.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class nf{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=a}static Bi(e,t){let s=Gn(),a=Gn();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new nf(e,t.fromCache,s,a)}}class Yd{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ui(e,t).next(c=>c||this.Ki(e,t,a,s)).next(c=>c||this.Gi(e,t))}Ui(e,t){if(Pn(t))return Qe.resolve(null);let s=pr(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Ar(t,null,"F"),s=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const p=Gn(...c);return this.qi.getDocuments(e,p).next(D=>this.indexManager.getMinOffset(e,s).next(B=>{const z=this.Qi(t,D);return this.ji(t,z,p,B.readTime)?this.Ui(e,Ar(t,null,"F")):this.zi(e,z,t,B)}))})))}Ki(e,t,s,a){return Pn(t)||a.isEqual(un.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(c=>{const p=this.Qi(t,c);return this.ji(t,p,s,a)?this.Gi(e,t):(Gr()<=fe.in.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rs(t)),this.zi(e,p,t,function Du(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=un.fromTimestamp(1e9===s?new or(t+1,0):new or(t,s));return new _i(a,tn.empty(),e)}(a,-1)))})}Qi(e,t){let s=new Br(Lo(e));return t.forEach((a,c)=>{Bs(e,c)&&(s=s.add(c))}),s}ji(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Gi(e,t){return Gr()<=fe.in.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Rs(t)),this.qi.getDocumentsMatchingQuery(e,t,_i.min())}zi(e,t,s,a){return this.qi.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(p=>{c=c.insert(p.key,p)}),c))}}class s_{constructor(e,t,s,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new vi(Bn),this.Ji=new Ta(c=>k(c),W),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sp(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function gm(r,e){return Op.apply(this,arguments)}function Op(){return Op=(0,Ae.Z)(function*(r,e){const t=Wt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const p=[],D=[];let B=Gn();for(const z of a){p.push(z.batchId);for(const X of z.mutations)B=B.add(X.key)}for(const z of c){D.push(z.batchId);for(const X of z.mutations)B=B.add(X.key)}return t.localDocuments.getDocuments(s,B).next(z=>({tr:z,removedBatchIds:p,addedBatchIds:D}))})})}),Op.apply(this,arguments)}function mm(r){const e=Wt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function u_(r,e){const t=Wt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Gc(r,e,t){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,Ae.Z)(function*(r,e,t){const s=Wt(r),a=s.Hi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!ki(p))throw p;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(a.target)}),Qd.apply(this,arguments)}function Fp(r,e,t){const s=Wt(r);let a=un.min(),c=Gn();return s.persistence.runTransaction("Execute query","readonly",p=>function(D,B,z){const X=Wt(D),Ie=X.Ji.get(z);return void 0!==Ie?Qe.resolve(X.Hi.get(Ie)):X.Fs.getTargetData(B,z)}(s,p,pr(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(p,D.targetId).next(B=>{c=B})}).next(()=>s.Wi.getDocumentsMatchingQuery(p,e,t?a:un.min(),t?c:Gn())).next(D=>(function l_(r,e,t){let s=r.Yi.get(e)||un.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Yi.set(e,s)}(s,function ia(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),D),{documents:D,sr:c})))}class dd{constructor(){this.activeTargetIds=function kl(){return os}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lf{constructor(){this.Wr=new dd,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new dd,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lp{Jr(e){}shutdown(){}}class cf{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xd=null;function eh(){return null===Xd?Xd=268435456+Math.round(2147483648*Math.random()):Xd++,"0x"+Xd.toString(16)}const d_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h_{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const ba="WebChannelConnection";class f_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,a,c){const p=eh(),D=this.Io(e,t);Nt("RestConnection",`Sending RPC '${e}' ${p}:`,D,s);const B={};return this.To(B,a,c),this.Eo(e,D,B,s).then(z=>(Nt("RestConnection",`Received RPC '${e}' ${p}: `,z),z),z=>{throw Ri("RestConnection",`RPC '${e}' ${p} failed with error: `,z,"url: ",D,"request:",s),z})}Ao(e,t,s,a,c,p){return this.po(e,t,s,a,c)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Io(e,t){return`${this.wo}/v1/${t}:${d_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,a){const c=eh();return new Promise((p,D)=>{const B=new qn;B.setWithCredentials(!0),B.listenOnce(Dt.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case nt.NO_ERROR:const X=B.getResponseJson();Nt(ba,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(X)),p(X);break;case nt.TIMEOUT:Nt(ba,`RPC '${e}' ${c} timed out`),D(new Ot(at.DEADLINE_EXCEEDED,"Request time out"));break;case nt.HTTP_ERROR:const Ie=B.getStatus();if(Nt(ba,`RPC '${e}' ${c} failed with status:`,Ie,"response text:",B.getResponseText()),Ie>0){let Ke=B.getResponseJson();Array.isArray(Ke)&&(Ke=Ke[0]);const bt=Ke?.error;if(bt&&bt.status&&bt.message){const Ht=function(on){const Mn=on.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(Mn)>=0?Mn:at.UNKNOWN}(bt.status);D(new Ot(Ht,bt.message))}else D(new Ot(at.UNKNOWN,"Server responded with status "+B.getStatus()))}else D(new Ot(at.UNAVAILABLE,"Connection failed."));break;default:Xt()}}finally{Nt(ba,`RPC '${e}' ${c} completed.`)}});const z=JSON.stringify(a);Nt(ba,`RPC '${e}' ${c} sending request:`,a),B.send(t,"POST",z,s,15)})}Ro(e,t,s){const a=eh(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Q(),D=ge(),B={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(B.xmlHttpFactory=new ni({})),this.To(B.initMessageHeaders,t,s),B.encodeInitMessageHeaders=!0;const z=c.join("");Nt(ba,`Creating RPC '${e}' stream ${a}: ${z}`,B);const X=p.createWebChannel(z,B);let Ie=!1,Ke=!1;const bt=new h_({io:on=>{Ke?Nt(ba,`Not sending because RPC '${e}' stream ${a} is closed:`,on):(Ie||(Nt(ba,`Opening RPC '${e}' stream ${a} transport.`),X.open(),Ie=!0),Nt(ba,`RPC '${e}' stream ${a} sending:`,on),X.send(on))},ro:()=>X.close()}),Ht=(on,Mn,wr)=>{on.listen(Mn,Di=>{try{wr(Di)}catch(Dr){setTimeout(()=>{throw Dr},0)}})};return Ht(X,vr.EventType.OPEN,()=>{Ke||Nt(ba,`RPC '${e}' stream ${a} transport opened.`)}),Ht(X,vr.EventType.CLOSE,()=>{Ke||(Ke=!0,Nt(ba,`RPC '${e}' stream ${a} transport closed`),bt.fo())}),Ht(X,vr.EventType.ERROR,on=>{Ke||(Ke=!0,Ri(ba,`RPC '${e}' stream ${a} transport errored:`,on),bt.fo(new Ot(at.UNAVAILABLE,"The operation could not be completed")))}),Ht(X,vr.EventType.MESSAGE,on=>{var Mn;if(!Ke){const wr=on.data[0];vn(!!wr);const Dr=wr.error||(null===(Mn=wr[0])||void 0===Mn?void 0:Mn.error);if(Dr){Nt(ba,`RPC '${e}' stream ${a} received error:`,Dr);const Ba=Dr.status;let lo=function(Ru){const wc=Z[Ru];if(void 0!==wc)return gt(wc)}(Ba),xs=Dr.message;void 0===lo&&(lo=at.INTERNAL,xs="Unknown error status: "+Ba+" with message "+Dr.message),Ke=!0,bt.fo(new Ot(lo,xs)),X.close()}else Nt(ba,`RPC '${e}' stream ${a} received:`,wr),bt._o(wr)}}),Ht(D,mn.STAT_EVENT,on=>{on.stat===Vr.PROXY?Nt(ba,`RPC '${e}' stream ${a} detected buffering proxy`):on.stat===Vr.NOPROXY&&Nt(ba,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{bt.lo()},0),bt}}function th(){return typeof document<"u"?document:null}function nh(r){return new Hg(r,!0)}class Vp{constructor(e,t,s=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=a,this.bo=c,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-s);a>0&&Nt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class mu{constructor(e,t,s,a,c,p,D,B){this.si=e,this.Mo=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=D,this.listener=B,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Vp(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,Ae.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,Ae.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,Ae.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===at.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===at.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.$o===t&&this.Xo(s,a)},s=>{e(()=>{const a=new Ot(at.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(a)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{s(()=>this.Zo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,Ae.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p_ extends mu{constructor(e,t,s,a,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function jd(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:Xt(),a=e.targetChange.targetIds||[],c=function(B,z){return B.useProto3Json?(vn(void 0===z||"string"==typeof z),qi.fromBase64String(z||"")):(vn(void 0===z||z instanceof Uint8Array),qi.fromUint8Array(z||new Uint8Array))}(r,e.targetChange.resumeToken),p=e.targetChange.cause,D=p&&function(B){const z=void 0===B.code?at.UNKNOWN:gt(B.code);return new Ot(z,B.message||"")}(p);t=new Oc(s,a,c,D||null)}else if("documentChange"in e){const s=e.documentChange,a=il(r,s.document.name),c=Fr(s.document.updateTime),p=s.document.createTime?Fr(s.document.createTime):un.min(),D=new fs({mapValue:{fields:s.document.fields}}),B=Ki.newFoundDocument(a,c,p,D);t=new rd(s.targetIds||[],s.removedTargetIds||[],B.key,B)}else if("documentDelete"in e){const s=e.documentDelete,a=il(r,s.document),c=s.readTime?Fr(s.readTime):un.min(),p=Ki.newNoDocument(a,c);t=new rd([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=il(r,s.document);t=new rd([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Xt();{const s=e.filter,{count:a=0,unchangedNames:c}=s,p=new P(a,c);t=new tc(s.targetId,p)}}var B;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return un.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?un.min():c.readTime?Fr(c.readTime):un.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=$d(this.serializer),t.addTarget=function(a,c){let p;const D=c.target;if(p=oe(D)?{documents:pp(a,D)}:{query:gp(a,D)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=Bh(a,c.resumeToken);const B=sd(a,c.expectedCount);null!==B&&(p.expectedCount=B)}else if(c.snapshotVersion.compareTo(un.min())>0){p.readTime=kc(a,c.snapshotVersion.toTimestamp());const B=sd(a,c.expectedCount);null!==B&&(p.expectedCount=B)}return p}(this.serializer,e);const s=function Zg(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=$d(this.serializer),t.removeTarget=e,this.zo(t)}}class g_ extends mu{constructor(e,t,s,a,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.serializer=c,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function Wg(r,e){return r&&r.length>0?(vn(void 0!==e),r.map(t=>function(s,a){let c=Fr(s.updateTime?s.updateTime:a);return c.isEqual(un.min())&&(c=Fr(a)),new kh(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Fr(e.commitTime);return this.listener.uu(s,t)}return vn(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=$d(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function Lc(r,e){let t;if(e instanceof xc)t={update:fp(r,e.key,e.value)};else if(e instanceof au)t={delete:Fc(r,e.key)};else if(e instanceof _l)t={update:fp(r,e.key,e.data),updateMask:Yg(e.fieldMask)};else{if(!(e instanceof Ul))return Xt();t={verify:Fc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const p=c.transform;if(p instanceof Pc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Fl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof rl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Gu)return{fieldPath:c.field.canonicalString(),increment:p.wt};throw Xt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Ly(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Xt()),t;var a}(this.serializer,s))};this.zo(t)}}class fE extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new Ot(at.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.po(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ot(at.UNKNOWN,a.toString())})}Ao(e,t,s,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Ao(e,t,s,c,p,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ot(at.UNKNOWN,c.toString())})}terminate(){this.hu=!0}}class m_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Cr(t),this.wu=!1):Nt("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class y_{constructor(e,t,s,a,c){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=c,this.vu.Jr(D=>{s.enqueueAndForget((0,Ae.Z)(function*(){var B;Da(p)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,Ae.Z)(function*(z){const X=Wt(z);X.Au.add(4),yield hd(X),X.Pu.set("Unknown"),X.Au.delete(4),yield rh(X)}),function(z){return B.apply(this,arguments)})(p))}))}),this.Pu=new m_(s,a)}}function rh(r){return hf.apply(this,arguments)}function hf(){return hf=(0,Ae.Z)(function*(r){if(Da(r))for(const e of r.Ru)yield e(!0)}),hf.apply(this,arguments)}function hd(r){return $p.apply(this,arguments)}function $p(){return $p=(0,Ae.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),$p.apply(this,arguments)}function fd(r,e){const t=Wt(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Gp(t)?Hp(t):_d(t).Uo()&&jp(t,e))}function ih(r,e){const t=Wt(r),s=_d(t);t.Eu.delete(e),s.Uo()&&Em(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():Da(t)&&t.Pu.set("Unknown"))}function jp(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(un.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_d(r).nu(e)}function Em(r,e){r.bu.Lt(e),_d(r).su(e)}function Hp(r){r.bu=new Uh({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),_d(r).start(),r.Pu.mu()}function Gp(r){return Da(r)&&!_d(r).qo()&&r.Eu.size>0}function Da(r){return 0===Wt(r).Au.size}function ff(r){r.bu=void 0}function __(r){return zp.apply(this,arguments)}function zp(){return zp=(0,Ae.Z)(function*(r){r.Eu.forEach((e,t)=>{jp(r,e)})}),zp.apply(this,arguments)}function wm(r,e){return qp.apply(this,arguments)}function qp(){return qp=(0,Ae.Z)(function*(r,e){ff(r),Gp(r)?(r.Pu.pu(e),Hp(r)):r.Pu.set("Unknown")}),qp.apply(this,arguments)}function v_(r,e,t){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,Ae.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof Oc&&2===e.state&&e.cause)try{yield(s=(0,Ae.Z)(function*(a,c){const p=c.cause;for(const D of c.targetIds)a.Eu.has(D)&&(yield a.remoteSyncer.rejectListen(D,p),a.Eu.delete(D),a.bu.removeTarget(D))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield pd(r,s)}else if(e instanceof rd?r.bu.Wt(e):e instanceof tc?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(un.min()))try{const s=yield mm(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const p=a.bu.ue(c);return p.targetChanges.forEach((D,B)=>{if(D.resumeToken.approximateByteSize()>0){const z=a.Eu.get(B);z&&a.Eu.set(B,z.withResumeToken(D.resumeToken,c))}}),p.targetMismatches.forEach((D,B)=>{const z=a.Eu.get(D);if(!z)return;a.Eu.set(D,z.withResumeToken(qi.EMPTY_BYTE_STRING,z.snapshotVersion)),Em(a,D);const X=new $l(z.target,D,B,z.sequenceNumber);jp(a,X)}),a.remoteSyncer.applyRemoteEvent(p)}(r,t))}catch(s){Nt("RemoteStore","Failed to raise snapshot:",s),yield pd(r,s)}var s}),Wp.apply(this,arguments)}function pd(r,e,t){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,Ae.Z)(function*(r,e,t){if(!ki(e))throw e;r.Au.add(1),yield hd(r),r.Pu.set("Offline"),t||(t=()=>mm(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield rh(r)}))}),Kp.apply(this,arguments)}function Tm(r,e){return e().catch(t=>pd(r,t,e))}function zl(r){return gd.apply(this,arguments)}function gd(){return gd=(0,Ae.Z)(function*(r){const e=Wt(r),t=hc(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;pf(e);)try{const a=yield u_(e.localStore,s);if(null===a){0===e.Tu.length&&t.Qo();break}s=a.batchId,pE(e,a)}catch(a){yield pd(e,a)}gf(e)&&E_(e)}),gd.apply(this,arguments)}function pf(r){return Da(r)&&r.Tu.length<10}function pE(r,e){r.Tu.push(e);const t=hc(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function gf(r){return Da(r)&&!hc(r).qo()&&r.Tu.length>0}function E_(r){hc(r).start()}function Im(r){return mf.apply(this,arguments)}function mf(){return mf=(0,Ae.Z)(function*(r){hc(r).au()}),mf.apply(this,arguments)}function bm(r){return yf.apply(this,arguments)}function yf(){return yf=(0,Ae.Z)(function*(r){const e=hc(r);for(const t of r.Tu)e.ou(t.mutations)}),yf.apply(this,arguments)}function Zp(r,e,t){return ol.apply(this,arguments)}function ol(){return ol=(0,Ae.Z)(function*(r,e,t){const s=r.Tu.shift(),a=b.from(s,e,t);yield Tm(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield zl(r)}),ol.apply(this,arguments)}function _f(r,e){return md.apply(this,arguments)}function md(){return md=(0,Ae.Z)(function*(r,e){var t;e&&hc(r).ru&&(yield(t=(0,Ae.Z)(function*(s,a){if(function je(r){switch(r){default:return Xt();case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0}}(c=a.code)&&c!==at.ABORTED){const p=s.Tu.shift();hc(s).Go(),yield Tm(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield zl(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),gf(r)&&E_(r)}),md.apply(this,arguments)}function yd(r,e){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,Ae.Z)(function*(r,e){const t=Wt(r);t.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const s=Da(t);t.Au.add(3),yield hd(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield rh(t)}),Yp.apply(this,arguments)}function Ef(){return Ef=(0,Ae.Z)(function*(r,e){const t=Wt(r);e?(t.Au.delete(2),yield rh(t)):e||(t.Au.add(2),yield hd(t),t.Pu.set("Unknown"))}),Ef.apply(this,arguments)}function _d(r){return r.Vu||(r.Vu=function(e,t,s){const a=Wt(e);return a.lu(),new p_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:__.bind(null,r),co:wm.bind(null,r),eu:v_.bind(null,r)}),r.Ru.push(function(){var e=(0,Ae.Z)(function*(t){t?(r.Vu.Go(),Gp(r)?Hp(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),ff(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function hc(r){return r.Su||(r.Su=function(e,t,s){const a=Wt(e);return a.lu(),new g_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:Im.bind(null,r),co:_f.bind(null,r),cu:bm.bind(null,r),uu:Zp.bind(null,r)}),r.Ru.push(function(){var e=(0,Ae.Z)(function*(t){t?(r.Su.Go(),yield zl(r)):(yield r.Su.stop(),r.Tu.length>0&&(Nt("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class qc{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,c){const p=Date.now()+s,D=new qc(e,t,p,a,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ot(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(r,e){if(Cr("AsyncQueue",`${e}: ${r}`),ki(r))return new Ot(at.UNAVAILABLE,`${e}: ${r}`);throw r}class sh{constructor(e){this.comparator=e?(t,s)=>e(t,s)||tn.comparator(t.key,s.key):(t,s)=>tn.comparator(t.key,s.key),this.keyedMap=Dn(),this.sortedSet=new vi(this.comparator)}static emptySet(e){return new sh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new sh;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Dm{constructor(){this.Du=new vi(tn.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):Xt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ed{constructor(e,t,s,a,c,p,D,B,z){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=D,this.excludesMetadataChanges=B,this.hasCachedResults=z}static fromInitialDocuments(e,t,s,a,c){const p=[];return t.forEach(D=>{p.push({type:0,doc:D})}),new Ed(e,t,sh.emptySet(t),p,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ks(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class w_{constructor(){this.xu=void 0,this.listeners=[]}}class T_{constructor(){this.queries=new Ta(e=>ao(e),Ks),this.onlineState="Unknown",this.Nu=new Set}}function Jp(){return Jp=(0,Ae.Z)(function*(r,e){const t=Wt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new w_),a)try{c.xu=yield t.onListen(s)}catch(p){const D=vd(p,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,c),c.listeners.push(e),e.ku(t.onlineState),c.xu&&e.Mu(c.xu)&&oh(t)}),Jp.apply(this,arguments)}function wf(){return wf=(0,Ae.Z)(function*(r,e){const t=Wt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),wf.apply(this,arguments)}function eg(r,e){const t=Wt(r);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const D of p.listeners)D.Mu(a)&&(s=!0);p.xu=a}}s&&oh(t)}function I_(r,e,t){const s=Wt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function oh(r){r.Nu.forEach(e=>{e.next()})}class tg{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Ed(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=Ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Sm{constructor(e){this.key=e}}class Mm{constructor(e){this.key=e}}class ng{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Gn(),this.mutatedKeys=Gn(),this.Zu=Lo(e),this.tc=new sh(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new Dm,a=t?t.tc:this.tc;let c=t?t.mutatedKeys:this.mutatedKeys,p=a,D=!1;const B="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,z="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((X,Ie)=>{const Ke=a.get(X),bt=Bs(this.query,Ie)?Ie:null,Ht=!!Ke&&this.mutatedKeys.has(Ke.key),on=!!bt&&(bt.hasLocalMutations||this.mutatedKeys.has(bt.key)&&bt.hasCommittedMutations);let Mn=!1;Ke&&bt?Ke.data.isEqual(bt.data)?Ht!==on&&(s.track({type:3,doc:bt}),Mn=!0):this.ic(Ke,bt)||(s.track({type:2,doc:bt}),Mn=!0,(B&&this.Zu(bt,B)>0||z&&this.Zu(bt,z)<0)&&(D=!0)):!Ke&&bt?(s.track({type:0,doc:bt}),Mn=!0):Ke&&!bt&&(s.track({type:1,doc:Ke}),Mn=!0,(B||z)&&(D=!0)),Mn&&(bt?(p=p.add(bt),c=on?c.add(X):c.delete(X)):(p=p.delete(X),c=c.delete(X)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const X="F"===this.query.limitType?p.last():p.first();p=p.delete(X.key),c=c.delete(X.key),s.track({type:1,doc:X})}return{tc:p,sc:s,ji:D,mutatedKeys:c}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const c=e.sc.Cu();c.sort((z,X)=>function(Ie,Ke){const bt=Ht=>{switch(Ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt()}};return bt(Ie)-bt(Ke)}(z.type,X.type)||this.Zu(z.doc,X.doc)),this.rc(s);const p=t?this.oc():[],D=0===this.Xu.size&&this.current?1:0,B=D!==this.Yu;return this.Yu=D,0!==c.length||B?{snapshot:new Ed(this.query,e.tc,a,c,e.mutatedKeys,0===D,B,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:p}:{uc:p}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new Dm,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Gn(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new Mm(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new Sm(s))}),t}ac(e){this.Ju=e.sr,this.Xu=Gn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return Ed.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class Pm{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class C_{constructor(e){this.key=e,this.lc=!1}}class gE{constructor(e,t,s,a,c,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.fc={},this.dc=new Ta(D=>ao(D),Ks),this._c=new Map,this.wc=new Set,this.mc=new vi(tn.comparator),this.gc=new Map,this.yc=new dm,this.Ic={},this.Tc=new Map,this.Ec=uc.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function Rm(r,e){return xm.apply(this,arguments)}function xm(){return xm=(0,Ae.Z)(function*(r,e){const t=function Pf(r){const e=Wt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Td.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=km.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tf.bind(null,e),e.fc.eu=eg.bind(null,e.eventManager),e.fc.vc=I_.bind(null,e.eventManager),e}(r);let s,a;const c=t.dc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.hc();else{const p=yield function Hc(r,e){const t=Wt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Fs.getTargetData(s,e).next(c=>c?(a=c,Qe.resolve(a)):t.Fs.allocateTargetId(s).next(p=>(a=new $l(e,p,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Hi.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}(t.localStore,pr(e)),D=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield function wd(r,e,t,s,a){return rg.apply(this,arguments)}(t,e,s,"current"===D,p.resumeToken),t.isPrimaryClient&&fd(t.remoteStore,p)}return a}),xm.apply(this,arguments)}function rg(){return rg=(0,Ae.Z)(function*(r,e,t,s,a){r.Rc=(Ie,Ke,bt)=>{return(Ht=(0,Ae.Z)(function*(on,Mn,wr,Di){let Dr=Mn.view.nc(wr);Dr.ji&&(Dr=yield Fp(on.localStore,Mn.query,!1).then(({documents:xs})=>Mn.view.nc(xs,Dr)));const Ba=Di&&Di.targetChanges.get(Mn.targetId),lo=Mn.view.applyChanges(Dr,on.isPrimaryClient,Ba);return If(on,Mn.targetId,lo.uc),lo.snapshot}),function(on,Mn,wr,Di){return Ht.apply(this,arguments)})(r,Ie,Ke,bt);var Ht};const c=yield Fp(r.localStore,e,!0),p=new ng(e,c.sr),D=p.nc(c.documents),B=Nc.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),z=p.applyChanges(D,r.isPrimaryClient,B);If(r,t,z.uc);const X=new Pm(e,t,p);return r.dc.set(e,X),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),z.snapshot}),rg.apply(this,arguments)}function A_(r,e){return ah.apply(this,arguments)}function ah(){return ah=(0,Ae.Z)(function*(r,e){const t=Wt(r),s=t.dc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Ks(c,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Gc(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),ih(t.remoteStore,s.targetId),al(t,s.targetId)}).catch(Jo))):(al(t,s.targetId),yield Gc(t.localStore,s.targetId,!0))}),ah.apply(this,arguments)}function Wu(){return Wu=(0,Ae.Z)(function*(r,e,t){const s=function ch(r){const e=Wt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ig.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Id.bind(null,e),e}(r);try{const a=yield function(c,p){const D=Wt(c),B=or.now(),z=p.reduce((Ke,bt)=>Ke.add(bt.key),Gn());let X,Ie;return D.persistence.runTransaction("Locally write mutations","readwrite",Ke=>{let bt=Ia(),Ht=Gn();return D.Xi.getEntries(Ke,z).next(on=>{bt=on,bt.forEach((Mn,wr)=>{wr.isValidDocument()||(Ht=Ht.add(Mn))})}).next(()=>D.localDocuments.getOverlayedDocuments(Ke,bt)).next(on=>{X=on;const Mn=[];for(const wr of p){const Di=ap(wr,X.get(wr.key).overlayedDocument);null!=Di&&Mn.push(new _l(wr.key,Di,Ql(Di.value.mapValue),bs.exists(!0)))}return D.mutationQueue.addMutationBatch(Ke,B,Mn,p)}).next(on=>{Ie=on;const Mn=on.applyToLocalDocumentSet(X,Ht);return D.documentOverlayCache.saveOverlays(Ke,on.batchId,Mn)})}).then(()=>({batchId:Ie.batchId,changes:Un(X)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,p,D){let B=c.Ic[c.currentUser.toKey()];B||(B=new vi(Bn)),B=B.insert(p,D),c.Ic[c.currentUser.toKey()]=B}(s,a.batchId,t),yield Il(s,a.changes),yield zl(s.remoteStore)}catch(a){const c=vd(a,"Failed to persist write");t.reject(c)}}),Wu.apply(this,arguments)}function Td(r,e){return oa.apply(this,arguments)}function oa(){return oa=(0,Ae.Z)(function*(r,e){const t=Wt(r);try{const s=yield function a_(r,e){const t=Wt(r),s=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const D=[];e.targetChanges.forEach((X,Ie)=>{const Ke=a.get(Ie);if(!Ke)return;D.push(t.Fs.removeMatchingKeys(c,X.removedDocuments,Ie).next(()=>t.Fs.addMatchingKeys(c,X.addedDocuments,Ie)));let bt=Ke.withSequenceNumber(c.currentSequenceNumber);var Ht,on,Mn;null!==e.targetMismatches.get(Ie)?bt=bt.withResumeToken(qi.EMPTY_BYTE_STRING,un.min()).withLastLimboFreeSnapshotVersion(un.min()):X.resumeToken.approximateByteSize()>0&&(bt=bt.withResumeToken(X.resumeToken,s)),a=a.insert(Ie,bt),on=bt,Mn=X,(0===(Ht=Ke).resumeToken.approximateByteSize()||on.snapshotVersion.toMicroseconds()-Ht.snapshotVersion.toMicroseconds()>=3e8||Mn.addedDocuments.size+Mn.modifiedDocuments.size+Mn.removedDocuments.size>0)&&D.push(t.Fs.updateTargetData(c,bt))});let B=Ia(),z=Gn();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(c,X))}),D.push(function kp(r,e,t){let s=Gn(),a=Gn();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let p=Ia();return t.forEach((D,B)=>{const z=c.get(D);B.isFoundDocument()!==z.isFoundDocument()&&(a=a.add(D)),B.isNoDocument()&&B.version.isEqual(un.min())?(e.removeEntry(D,B.readTime),p=p.insert(D,B)):!z.isValidDocument()||B.version.compareTo(z.version)>0||0===B.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(B),p=p.insert(D,B)):Nt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",z.version," Watch version:",B.version)}),{er:p,nr:a}})}(c,p,e.documentUpdates).next(X=>{B=X.er,z=X.nr})),!s.isEqual(un.min())){const X=t.Fs.getLastRemoteSnapshotVersion(c).next(Ie=>t.Fs.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(X)}return Qe.waitFor(D).next(()=>p.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,B,z)).next(()=>B)}).then(c=>(t.Hi=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const p=t.gc.get(c);p&&(vn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.lc=!0:a.modifiedDocuments.size>0?vn(p.lc):a.removedDocuments.size>0&&(vn(p.lc),p.lc=!1))}),yield Il(t,s,e)}catch(s){yield Jo(s)}}),oa.apply(this,arguments)}function fc(r,e,t){const s=Wt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.dc.forEach((c,p)=>{const D=p.view.ku(e);D.snapshot&&a.push(D.snapshot)}),function(c,p){const D=Wt(c);D.onlineState=p;let B=!1;D.queries.forEach((z,X)=>{for(const Ie of X.listeners)Ie.ku(p)&&(B=!0)}),B&&oh(D)}(s.eventManager,e),a.length&&s.fc.eu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Tf(r,e,t){return yu.apply(this,arguments)}function yu(){return yu=(0,Ae.Z)(function*(r,e,t){const s=Wt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.gc.get(e),c=a&&a.key;if(c){let p=new vi(tn.comparator);p=p.insert(c,Ki.newNoDocument(c,un.min()));const D=Gn().add(c),B=new ec(un.min(),new Map,new vi(Bn),p,D);yield Td(s,B),s.mc=s.mc.remove(c),s.gc.delete(e),bf(s)}else yield Gc(s.localStore,e,!1).then(()=>al(s,e,t)).catch(Jo)}),yu.apply(this,arguments)}function ig(r,e){return pc.apply(this,arguments)}function pc(){return pc=(0,Ae.Z)(function*(r,e){const t=Wt(r),s=e.batch.batchId;try{const a=yield function o_(r,e){const t=Wt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Xi.newChangeBuffer({trackRemovals:!0});return function(p,D,B,z){const X=B.batch,Ie=X.keys();let Ke=Qe.resolve();return Ie.forEach(bt=>{Ke=Ke.next(()=>z.getEntry(D,bt)).next(Ht=>{const on=B.docVersions.get(bt);vn(null!==on),Ht.version.compareTo(on)<0&&(X.applyToRemoteDocument(Ht,B),Ht.isValidDocument()&&(Ht.setReadTime(B.commitVersion),z.addEntry(Ht)))})}),Ke.next(()=>p.mutationQueue.removeMutationBatch(D,X))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let D=Gn();for(let B=0;B<p.mutationResults.length;++B)p.mutationResults[B].transformResults.length>0&&(D=D.add(p.batch.mutations[B].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);_c(t,s,null),yc(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Il(t,a)}catch(a){yield Jo(a)}}),pc.apply(this,arguments)}function Id(r,e,t){return gc.apply(this,arguments)}function gc(){return gc=(0,Ae.Z)(function*(r,e,t){const s=Wt(r);try{const a=yield function(c,p){const D=Wt(c);return D.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let z;return D.mutationQueue.lookupMutationBatch(B,p).next(X=>(vn(null!==X),z=X.keys(),D.mutationQueue.removeMutationBatch(B,X))).next(()=>D.mutationQueue.performConsistencyCheck(B)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(B,z,p)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,z)).next(()=>D.localDocuments.getDocuments(B,z))})}(s.localStore,e);_c(s,e,t),yc(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Il(s,a)}catch(a){yield Jo(a)}}),gc.apply(this,arguments)}function yc(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function _c(r,e,t){const s=Wt(r);let a=s.Ic[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Ic[s.currentUser.toKey()]=a}}function al(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||Wc(r,s)})}function Wc(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(ih(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),bf(r))}function If(r,e,t){for(const s of t)s instanceof Sm?(r.yc.addReference(s.key,e),Nm(r,s)):s instanceof Mm?(Nt("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||Wc(r,s.key)):Xt()}function Nm(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(Nt("SyncEngine","New document in limbo: "+t),r.wc.add(s),bf(r))}function bf(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new tn(ir.fromString(e)),s=r.Ec.next();r.gc.set(s,new C_(t)),r.mc=r.mc.insert(t,s),fd(r.remoteStore,new $l(pr(Cn(t.path)),s,"TargetPurposeLimboResolution",so.ct))}}function Il(r,e,t){return Df.apply(this,arguments)}function Df(){return Df=(0,Ae.Z)(function*(r,e,t){const s=Wt(r),a=[],c=[],p=[];var D;s.dc.isEmpty()||(s.dc.forEach((D,B)=>{p.push(s.Rc(B,e,t).then(z=>{if((z||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(B.targetId,z?.fromCache?"not-current":"current"),z){a.push(z);const X=nf.Bi(B.targetId,z);c.push(X)}}))}),yield Promise.all(p),s.fc.eu(a),yield(D=(0,Ae.Z)(function*(B,z){const X=Wt(B);try{yield X.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>Qe.forEach(z,Ke=>Qe.forEach(Ke.$i,bt=>X.persistence.referenceDelegate.addReference(Ie,Ke.targetId,bt)).next(()=>Qe.forEach(Ke.Fi,bt=>X.persistence.referenceDelegate.removeReference(Ie,Ke.targetId,bt)))))}catch(Ie){if(!ki(Ie))throw Ie;Nt("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of z){const Ke=Ie.targetId;if(!Ie.fromCache){const bt=X.Hi.get(Ke),on=bt.withLastLimboFreeSnapshotVersion(bt.snapshotVersion);X.Hi=X.Hi.insert(Ke,on)}}}),function(B,z){return D.apply(this,arguments)})(s.localStore,c))}),Df.apply(this,arguments)}function Om(r,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,Ae.Z)(function*(r,e){const t=Wt(r);if(!t.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const s=yield gm(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(p=>{p.forEach(D=>{D.reject(new Ot(at.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Il(t,s.tr)}var a}),Cf.apply(this,arguments)}function km(r,e){const t=Wt(r),s=t.gc.get(e);if(s&&s.lc)return Gn().add(s.key);{let a=Gn();const c=t._c.get(e);if(!c)return a;for(const p of c){const D=t.dc.get(p);a=a.unionWith(D.view.ec)}return a}}class dh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.serializer=nh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Np(r,e,t,s){return new s_(r,e,t,s)}(this.persistence,new Yd,e.initialUser,this.serializer)}createPersistence(e){return new Kd(Pp.js,this.serializer)}createSharedClientState(e){return new lf}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kc{initialize(e,t){var s=this;return(0,Ae.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>fc(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Om.bind(null,s.syncEngine),yield function vf(r,e){return Ef.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new T_}createDatastore(e){const t=nh(e.databaseInfo.databaseId),s=new f_(e.databaseInfo);return new fE(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=D=>fc(this.syncEngine,D,0),p=cf.D()?new cf:new Lp,new y_(t,s,a,c,p);var t,s,a,c,p}createSyncEngine(e,t){return function(s,a,c,p,D,B,z){const X=new gE(s,a,c,p,D,B);return z&&(X.Ac=!0),X}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const s=Wt(t);Nt("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield hd(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class hh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class O_{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Kr.UNAUTHENTICATED,this.clientId=Oa.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,Ae.Z)(function*(D){Nt("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(Nt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ot(at.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=vd(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Ad(r,e){return fh.apply(this,arguments)}function fh(){return fh=(0,Ae.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Ae.Z)(function*(c){s.isEqual(c)||(yield gm(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),fh.apply(this,arguments)}function ph(r,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,Ae.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function xf(r){return Nf.apply(this,arguments)}(r);Nt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>yd(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>yd(e.remoteStore,c)),r._onlineComponents=e}),Rf.apply(this,arguments)}function Nf(){return Nf=(0,Ae.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ad(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function hg(r){return"FirebaseError"===r.name?r.code===at.FAILED_PRECONDITION||r.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;Ri("Error using user provided cache. Falling back to memory cache: "+t),yield Ad(r,new dh)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),yield Ad(r,new dh);return r._offlineComponents}),Nf.apply(this,arguments)}function gh(r){return Of.apply(this,arguments)}function Of(){return Of=(0,Ae.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield ph(r,r._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield ph(r,new Kc))),r._onlineComponents}),Of.apply(this,arguments)}function vc(r){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,Ae.Z)(function*(r){const e=yield gh(r),t=e.eventManager;return t.onListen=Rm.bind(null,e.syncEngine),t.onUnlisten=A_.bind(null,e.syncEngine),t}),Wl.apply(this,arguments)}const yg=new Map;function _g(r,e,t){if(!t)throw new Ot(at.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vg(r){if(!tn.isDocumentKey(r))throw new Ot(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gm(r){if(tn.isDocumentKey(r))throw new Ot(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mh(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Xt()}function ui(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ot(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mh(r);throw new Ot(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class zm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ot(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ot(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function V_(r,e,t,s){if(!0===e&&!0===s)throw new Ot(at.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ot(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ot(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new hl;switch(t.type){case"firstParty":return new ma(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ot(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yg.get(e);t&&(Nt("ComponentProvider","Removing Datastore"),yg.delete(e),t.terminate())}(this),Promise.resolve()}}class uo{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uo(this.firestore,e,this._key)}}class aa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class Kl extends aa{constructor(e,t,s){super(e,t,Cn(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uo(this.firestore,null,new tn(e))}withConverter(e){return new Kl(this.firestore,e,this._path)}}function Eg(r,e,...t){if(r=(0,ye.m9)(r),_g("collection","path",e),r instanceof yh){const s=ir.fromString(e,...t);return Gm(s),new Kl(r,null,s)}{if(!(r instanceof uo||r instanceof Kl))throw new Ot(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ir.fromString(e,...t));return Gm(s),new Kl(r.firestore,null,s)}}function ul(r,e,...t){if(r=(0,ye.m9)(r),1===arguments.length&&(e=Oa.A()),_g("doc","path",e),r instanceof yh){const s=ir.fromString(e,...t);return vg(s),new uo(r,null,new tn(s))}{if(!(r instanceof uo||r instanceof Kl))throw new Ot(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ir.fromString(e,...t));return vg(s),new uo(r.firestore,r instanceof Kl?r.converter:null,new tn(s))}}class bl{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Vp(this,"async_queue_retry"),this.Yc=()=>{const t=th();t&&Nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=th();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=th();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new ri;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!ki(t))throw t;Nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=qc.createAndSchedule(this,e,t,s,c=>this.ea(c));return this.jc.push(a),a}Xc(){this.zc&&Xt()}verifyOperationInProgress(){}na(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function Pu(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class gs extends yh{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new bl,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Km(this),this._firestoreClient.terminate()}}function $_(r,e){const t="object"==typeof r?r:(0,ut.Mq)(),s="string"==typeof r?r:e||"(default)",a=(0,ut.qX)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,ye.P0)("firestore");c&&function qm(r,e,t,s={}){var a;const c=(r=ui(r,yh))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Ri("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,D;if("string"==typeof s.mockUserToken)p=s.mockUserToken,D=Kr.MOCK_USER;else{p=(0,ye.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const B=s.mockUserToken.sub||s.mockUserToken.user_id;if(!B)throw new Ot(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new Kr(B)}r._authCredentials=new Qo(new hu(p,D))}}(a,...c)}return a}function Do(r){return r._firestoreClient||Km(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Km(r){var e,t,s;const a=r._freezeSettings(),c=(D=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Sl(r._databaseId,D,r._persistenceKey,(z=a).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,z.useFetchStreams));var D,z;r._firestoreClient=new O_(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(qi.fromBase64String(e))}catch(t){throw new Ot(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dl(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ec{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ot(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ff{constructor(e){this._methodName=e}}class Lf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ot(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ot(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bn(this._lat,e._lat)||Bn(this._long,e._long)}}const Qm=/^__.*__$/;class Jm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new _l(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}class Dg{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new _l(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cg(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt()}}class Uf{constructor(e,t,s,a,c,p){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.oa(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new Uf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.la(e),a}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return wh(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Cg(this.ua)&&Qm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class q_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||nh(e)}ga(e,t,s,a=!1){return new Uf({ua:e,methodName:t,ma:s,path:ai.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(r){const e=r._freezeSettings(),t=nh(r._databaseId);return new q_(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Ag(r,e,t,s,a,c={}){const p=r.ga(c.merge||c.mergeFields?2:0,e,t,a);Mg("Data must be an object, but it was:",p,s);const D=ry(s,p);let B,z;if(c.merge)B=new Fo(p.fieldMask),z=p.fieldTransforms;else if(c.mergeFields){const X=[];for(const Ie of c.mergeFields){const Ke=vh(e,Ie,t);if(!p.contains(Ke))throw new Ot(at.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);Pg(X,Ke)||X.push(Ke)}B=new Fo(X),z=p.fieldTransforms.filter(Ie=>B.covers(Ie.field))}else B=null,z=p.fieldTransforms;return new Jm(new fs(D),B,z)}class _h extends Ff{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _h}}function Qc(r,e){if(iy(r=(0,ye.m9)(r)))return Mg("Unsupported field value:",e,r),ry(r,e);if(r instanceof Ff)return function(t,s){if(!Cg(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const p of t){let D=Qc(p,s.da(c));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,ye.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ou(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=or.fromDate(t);return{timestampValue:kc(s.serializer,a)}}if(t instanceof or){const a=new or(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:kc(s.serializer,a)}}if(t instanceof Lf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Dl)return{bytesValue:Bh(s.serializer,t._byteString)};if(t instanceof uo){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$h(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${mh(t)}`)}(r,e)}function ry(r,e){const t={};return Ju(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(r,(s,a)=>{const c=Qc(a,e.aa(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function iy(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof or||r instanceof Lf||r instanceof Dl||r instanceof uo||r instanceof Ff)}function Mg(r,e,t){if(!iy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=mh(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function vh(r,e,t){if((e=(0,ye.m9)(e))instanceof Ec)return e._internalPath;if("string"==typeof e)return Eh(r,e);throw wh("Field path arguments must be of type string or ",r,!1,void 0,t)}const sy=new RegExp("[~\\*/\\[\\]]");function Eh(r,e,t){if(e.search(sy)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ec(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function wh(r,e,t,s,a){const c=s&&!s.isEmpty(),p=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let B="";return(c||p)&&(B+=" (found",c&&(B+=` in field ${s}`),p&&(B+=` in document ${a}`),B+=")"),new Ot(at.INVALID_ARGUMENT,D+r+B)}function Pg(r,e){return r.some(t=>t.isEqual(e))}class Vf{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oy extends Vf{data(){return super.data()}}function Th(r,e){return"string"==typeof e?Eh(r,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}class X_{convertValue(e,t="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return oo(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Lf(Fi(e.latitude),Fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Bi(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const t=La(e);return new or(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ir.fromString(e);vn(ic(s));const a=new ju(s.get(1),s.get(3)),c=new tn(s.popFirst(5));return a.isEqual(t)||Cr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class dl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rd extends Vf{constructor(e,t,s,a,c,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class jf extends Rd{data(e={}){return super.data(e)}}class xd{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new dl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new jf(this._firestore,this._userDataWriter,s.key,s,new dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ot(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new jf(s._firestore,s._userDataWriter,p.doc.key,p.doc,new dl(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const D=new jf(s._firestore,s._userDataWriter,p.doc.key,p.doc,new dl(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let B=-1,z=-1;return 0!==p.type&&(B=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),z=c.indexOf(p.doc.key)),{type:Hf(p.type),doc:D,oldIndex:B,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Hf(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt()}}class Zl extends X_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,t)}}function ov(r,e,t){r=ui(r,uo);const s=ui(r.firestore,gs),a=function $f(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e,t);return Mh(s,[Ag(Md(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,bs.none())])}function ly(r,e,t,...s){r=ui(r,uo);const a=ui(r.firestore,gs),c=Md(a);let p;return p="string"==typeof(e=(0,ye.m9)(e))||e instanceof Ec?function ty(r,e,t,s,a,c){const p=r.ga(1,e,t),D=[vh(e,s,t)],B=[a];if(c.length%2!=0)throw new Ot(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<c.length;Ke+=2)D.push(vh(e,c[Ke])),B.push(c[Ke+1]);const z=[],X=fs.empty();for(let Ke=D.length-1;Ke>=0;--Ke)if(!Pg(z,D[Ke])){const bt=D[Ke];let Ht=B[Ke];Ht=(0,ye.m9)(Ht);const on=p.fa(bt);if(Ht instanceof _h)z.push(bt);else{const Mn=Qc(Ht,on);null!=Mn&&(z.push(bt),X.set(bt,Mn))}}const Ie=new Fo(z);return new Dg(X,Ie,p.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function ey(r,e,t,s){const a=r.ga(1,e,t);Mg("Data must be an object, but it was:",a,s);const c=[],p=fs.empty();oo(s,(B,z)=>{const X=Eh(e,B,t);z=(0,ye.m9)(z);const Ie=a.fa(X);if(z instanceof _h)c.push(X);else{const Ke=Qc(z,Ie);null!=Ke&&(c.push(X),p.set(X,Ke))}});const D=new Fo(c);return new Dg(p,D,a.fieldTransforms)}(c,"updateDoc",r._key,e),Mh(a,[p.toMutation(r._key,bs.exists(!0))])}function cy(r){return Mh(ui(r.firestore,gs),[new au(r._key,bs.none())])}function Mh(r,e){return function(t,s){const a=new ri;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function S_(r,e,t){return Wu.apply(this,arguments)}(yield function pg(r){return gh(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(Do(r),e)}!function(r,e=!0){Rr=ut.Jn,(0,ut.Xd)(new Xe.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),p=new gs(new Na(t.getProvider("auth-internal")),new Iu(t.getProvider("app-check-internal")),function(D,B){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new Ot(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(D.options.projectId,B)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),p._setSettings(a),p},"PUBLIC").setMultipleInstances(!0)),(0,ut.KN)(Pi,"3.11.0",r),(0,ut.KN)(Pi,"3.11.0","esm2017")}();var kg=K(9751),fy=K(4004),py={includeMetadataChanges:!1};function Zf(r,e){return void 0===e&&(e=py),new kg.y(function(t){var s=function uv(r,...e){var t,s,a;r=(0,ye.m9)(r);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Pu(e[p])||(c=e[p],p++);const D={includeMetadataChanges:c.includeMetadataChanges};if(Pu(e[p])){const Ie=e[p];e[p]=null===(t=Ie.next)||void 0===t?void 0:t.bind(Ie),e[p+1]=null===(s=Ie.error)||void 0===s?void 0:s.bind(Ie),e[p+2]=null===(a=Ie.complete)||void 0===a?void 0:a.bind(Ie)}let B,z,X;if(r instanceof uo)z=ui(r.firestore,gs),X=Cn(r._key.path),B={next:Ie=>{e[p]&&e[p](function Og(r,e,t){const s=t.docs.get(e._key),a=new Zl(r);return new Rd(r,a,e._key,s,new dl(t.hasPendingWrites,t.fromCache),e.converter)}(z,r,Ie))},error:e[p+1],complete:e[p+2]};else{const Ie=ui(r,aa);z=ui(Ie.firestore,gs),X=Ie._query;const Ke=new Zl(z);B={next:bt=>{e[p]&&e[p](new xd(z,Ke,Ie,bt))},error:e[p+1],complete:e[p+2]},function Rg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ot(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query)}return function(Ie,Ke,bt,Ht){const on=new hh(Ht),Mn=new tg(Ke,on,bt);return Ie.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function Qp(r,e){return Jp.apply(this,arguments)}(yield vc(Ie),Mn)})),()=>{on.Sc(),Ie.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function Xp(r,e){return wf.apply(this,arguments)}(yield vc(Ie),Mn)}))}}(Do(z),X,D,B)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function _y(r,e){return void 0===e&&(e={}),function bv(r){return Zf(r,{includeMetadataChanges:!0}).pipe((0,fy.U)(function(e){return e.docs}))}(r).pipe((0,fy.U)(function(t){return t.map(function(s){return function gy(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}(s,e)})}))}class Jf{constructor(e){return e}}const vy="firestore",Lg=new $.OlP("angularfire2.firestore-instances");function Ug(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new Jf(s)}}const Vg={provide:class Ey{constructor(){return(0,g.vb)(vy)}},deps:[[new $.FiY,Lg]]},wy={provide:Jf,useFactory:function Cv(r,e){const t=(0,g.JM)(vy,r,e);return t&&new Jf(t)},deps:[[new $.FiY,Lg],V.Ot]};let Bg=(()=>{class r{constructor(){(0,de.KN)("angularfire",g.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=$.oAB({type:r}),r.\u0275inj=$.cJS({providers:[wy,Vg]}),r})();function Av(r,...e){return{ngModule:Bg,providers:[{provide:Lg,useFactory:Ug(r),multi:!0,deps:[$.R0b,$.zs3,g.HU,V.z6,[new $.FiY,j.dh],[new $.FiY,Le.nm],...e]}]}}const Nd=(0,g.u3)(_y,!0),Dy=(0,g.u3)(Eg,!0),Ay=(0,g.u3)(cy,!0),Ov=(0,g.u3)(ul,!0),Lv=(0,g.u3)($_,!0),Hv=(0,g.u3)(ov,!0),Gv=(0,g.u3)(ly,!0)},414:(yn,ct,K)=>{K.d(ct,{q4:()=>is,HU:()=>Fi,vb:()=>Ic,JM:()=>pl,u3:()=>ta});var g=K(8256),$=K(259),j=K(5861),V=K(2951),de=K(2090),Le=K(4859),Ae=K(1877);const ut=(S,x)=>x.some(q=>S instanceof q);let Xe,fe;const pt=new WeakMap,ve=new WeakMap,Rt=new WeakMap,mt=new WeakMap,ln=new WeakMap;let St={get(S,x,q){if(S instanceof IDBTransaction){if("done"===x)return ve.get(S);if("objectStoreNames"===x)return S.objectStoreNames||Rt.get(S);if("store"===x)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return Lt(S[x])},set:(S,x,q)=>(S[x]=q,!0),has:(S,x)=>S instanceof IDBTransaction&&("done"===x||"store"===x)||x in S};function ht(S){return"function"==typeof S?function Oe(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...x){return S.apply(He(this),x),Lt(pt.get(this))}:function(...x){return Lt(S.apply(He(this),x))}:function(x,...q){const ae=S.call(He(this),x,...q);return Rt.set(ae,x.sort?x.sort():[x]),Lt(ae)}}(S):(S instanceof IDBTransaction&&function an(S){if(ve.has(S))return;const x=new Promise((q,ae)=>{const Re=()=>{S.removeEventListener("complete",Ge),S.removeEventListener("error",Ct),S.removeEventListener("abort",Ct)},Ge=()=>{q(),Re()},Ct=()=>{ae(S.error||new DOMException("AbortError","AbortError")),Re()};S.addEventListener("complete",Ge),S.addEventListener("error",Ct),S.addEventListener("abort",Ct)});ve.set(S,x)}(S),ut(S,function ye(){return Xe||(Xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,St):S)}function Lt(S){if(S instanceof IDBRequest)return function nn(S){const x=new Promise((q,ae)=>{const Re=()=>{S.removeEventListener("success",Ge),S.removeEventListener("error",Ct)},Ge=()=>{q(Lt(S.result)),Re()},Ct=()=>{ae(S.error),Re()};S.addEventListener("success",Ge),S.addEventListener("error",Ct)});return x.then(q=>{q instanceof IDBCursor&&pt.set(q,S)}).catch(()=>{}),ln.set(x,S),x}(S);if(mt.has(S))return mt.get(S);const x=ht(S);return x!==S&&(mt.set(S,x),ln.set(x,S)),x}const He=S=>ln.get(S);function kt(S,x,{blocked:q,upgrade:ae,blocking:Re,terminated:Ge}={}){const Ct=indexedDB.open(S,x),sn=Lt(Ct);return ae&&Ct.addEventListener("upgradeneeded",dn=>{ae(Lt(Ct.result),dn.oldVersion,dn.newVersion,Lt(Ct.transaction))}),q&&Ct.addEventListener("blocked",()=>q()),sn.then(dn=>{Ge&&dn.addEventListener("close",()=>Ge()),Re&&dn.addEventListener("versionchange",()=>Re())}).catch(()=>{}),sn}function rt(S,{blocked:x}={}){const q=indexedDB.deleteDatabase(S);return x&&q.addEventListener("blocked",()=>x()),Lt(q).then(()=>{})}const Ut=["get","getKey","getAll","getAllKeys","count"],Yt=["put","add","delete","clear"],dt=new Map;function Vt(S,x){if(!(S instanceof IDBDatabase)||x in S||"string"!=typeof x)return;if(dt.get(x))return dt.get(x);const q=x.replace(/FromIndex$/,""),ae=x!==q,Re=Yt.includes(q);if(!(q in(ae?IDBIndex:IDBObjectStore).prototype)||!Re&&!Ut.includes(q))return;const Ge=function(){var Ct=(0,j.Z)(function*(sn,...dn){const En=this.transaction(sn,Re?"readwrite":"readonly");let Xn=En.store;return ae&&(Xn=Xn.index(dn.shift())),(yield Promise.all([Xn[q](...dn),Re&&En.done]))[0]});return function(dn){return Ct.apply(this,arguments)}}();return dt.set(x,Ge),Ge}!function ot(S){St=S(St)}(S=>({...S,get:(x,q,ae)=>Vt(x,q)||S.get(x,q,ae),has:(x,q)=>!!Vt(x,q)||S.has(x,q)}));const We="@firebase/installations",Me="0.6.4",ft=1e4,ke=`w:${Me}`,Et="FIS_v2",ue="https://firebaseinstallations.googleapis.com/v1",$e=36e5,De=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(S){return S instanceof de.ZR&&S.code.includes("request-failed")}function wt({projectId:S}){return`${ue}/projects/${S}/installations`}function On(S){return{token:S.token,requestStatus:2,expiresIn:jr(S.expiresIn),creationTime:Date.now()}}function xn(S,x){return hn.apply(this,arguments)}function hn(){return(hn=(0,j.Z)(function*(S,x){const ae=(yield x.json()).error;return De.create("request-failed",{requestName:S,serverCode:ae.code,serverMessage:ae.message,serverStatus:ae.status})})).apply(this,arguments)}function ur({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Yr(S){return cr.apply(this,arguments)}function cr(){return(cr=(0,j.Z)(function*(S){const x=yield S();return x.status>=500&&x.status<600?S():x})).apply(this,arguments)}function jr(S){return Number(S.replace("s","000"))}function Zn(){return(Zn=(0,j.Z)(function*({appConfig:S,heartbeatServiceProvider:x},{fid:q}){const ae=wt(S),Re=ur(S),Ge=x.getImmediate({optional:!0});if(Ge){const En=yield Ge.getHeartbeatsHeader();En&&Re.append("x-firebase-client",En)}const sn={method:"POST",headers:Re,body:JSON.stringify({fid:q,authVersion:Et,appId:S.appId,sdkVersion:ke})},dn=yield Yr(()=>fetch(ae,sn));if(dn.ok){const En=yield dn.json();return{fid:En.fid||q,registrationStatus:2,refreshToken:En.refreshToken,authToken:On(En.authToken)}}throw yield xn("Create Installation",dn)})).apply(this,arguments)}function sr(S){return new Promise(x=>{setTimeout(x,S)})}const li=/^[cdef][\w-]{21}$/,gi="";function Hr(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const q=function xi(S){return function Jr(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return li.test(q)?q:gi}catch{return gi}}function Vn(S){return`${S.appName}!${S.appId}`}const It=new Map;function $t(S,x){const q=Vn(S);Lr(q,x),function xr(S,x){const q=function Ei(){return!Ln&&"BroadcastChannel"in self&&(Ln=new BroadcastChannel("[Firebase] FID Change"),Ln.onmessage=S=>{Lr(S.data.key,S.data.fid)}),Ln}();q&&q.postMessage({key:S,fid:x}),function tr(){0===It.size&&Ln&&(Ln.close(),Ln=null)}()}(q,x)}function Lr(S,x){const q=It.get(S);if(q)for(const ae of q)ae(x)}let Ln=null;const ms="firebase-installations-database",Yn=1,Ci="firebase-installations-store";let Ni=null;function es(){return Ni||(Ni=kt(ms,Yn,{upgrade:(S,x)=>{0===x&&S.createObjectStore(Ci)}})),Ni}function Xr(S,x){return Be.apply(this,arguments)}function Be(){return(Be=(0,j.Z)(function*(S,x){const q=Vn(S),Re=(yield es()).transaction(Ci,"readwrite"),Ge=Re.objectStore(Ci),Ct=yield Ge.get(q);return yield Ge.put(x,q),yield Re.done,(!Ct||Ct.fid!==x.fid)&&$t(S,x.fid),x})).apply(this,arguments)}function Te(S){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,j.Z)(function*(S){const x=Vn(S),ae=(yield es()).transaction(Ci,"readwrite");yield ae.objectStore(Ci).delete(x),yield ae.done})).apply(this,arguments)}function yt(S,x){return _t.apply(this,arguments)}function _t(){return(_t=(0,j.Z)(function*(S,x){const q=Vn(S),Re=(yield es()).transaction(Ci,"readwrite"),Ge=Re.objectStore(Ci),Ct=yield Ge.get(q),sn=x(Ct);return void 0===sn?yield Ge.delete(q):yield Ge.put(sn,q),yield Re.done,sn&&(!Ct||Ct.fid!==sn.fid)&&$t(S,sn.fid),sn})).apply(this,arguments)}function ie(S){return se.apply(this,arguments)}function se(){return se=(0,j.Z)(function*(S){let x;const q=yield yt(S.appConfig,ae=>{const Re=function _e(S){return be(S||{fid:Hr(),registrationStatus:0})}(ae),Ge=function ze(S,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(De.create("app-offline"))};const q={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},ae=function Fe(S,x){return qt.apply(this,arguments)}(S,q);return{installationEntry:q,registrationPromise:ae}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Ce(S)}:{installationEntry:x}}(S,Re);return x=Ge.registrationPromise,Ge.installationEntry});return q.fid===gi?{installationEntry:yield x}:{installationEntry:q,registrationPromise:x}}),se.apply(this,arguments)}function qt(){return qt=(0,j.Z)(function*(S,x){try{const q=yield function en(S,x){return Zn.apply(this,arguments)}(S,x);return Xr(S.appConfig,q)}catch(q){throw et(q)&&409===q.customData.serverCode?yield Te(S.appConfig):yield Xr(S.appConfig,{fid:x.fid,registrationStatus:0}),q}}),qt.apply(this,arguments)}function Ce(S){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,j.Z)(function*(S){let x=yield re(S.appConfig);for(;1===x.registrationStatus;)yield sr(100),x=yield re(S.appConfig);if(0===x.registrationStatus){const{installationEntry:q,registrationPromise:ae}=yield ie(S);return ae||q}return x})).apply(this,arguments)}function re(S){return yt(S,x=>{if(!x)throw De.create("installation-not-found");return be(x)})}function be(S){return function it(S){return 1===S.registrationStatus&&S.registrationTime+ft<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Kt(){return(Kt=(0,j.Z)(function*({appConfig:S,heartbeatServiceProvider:x},q){const ae=function cn(S,{fid:x}){return`${wt(S)}/${x}/authTokens:generate`}(S,q),Re=function lr(S,{refreshToken:x}){const q=ur(S);return q.append("Authorization",function Qr(S){return`${Et} ${S}`}(x)),q}(S,q),Ge=x.getImmediate({optional:!0});if(Ge){const En=yield Ge.getHeartbeatsHeader();En&&Re.append("x-firebase-client",En)}const sn={method:"POST",headers:Re,body:JSON.stringify({installation:{sdkVersion:ke,appId:S.appId}})},dn=yield Yr(()=>fetch(ae,sn));if(dn.ok)return On(yield dn.json());throw yield xn("Generate Auth Token",dn)})).apply(this,arguments)}function Qn(S){return dr.apply(this,arguments)}function dr(){return dr=(0,j.Z)(function*(S,x=!1){let q;const ae=yield yt(S.appConfig,Ge=>{if(!Nn(Ge))throw De.create("not-registered");const Ct=Ge.authToken;if(!x&&function Jn(S){return 2===S.requestStatus&&!function qr(S){const x=Date.now();return x<S.creationTime||S.creationTime+S.expiresIn<x+$e}(S)}(Ct))return Ge;if(1===Ct.requestStatus)return q=function tt(S,x){return qe.apply(this,arguments)}(S,x),Ge;{if(!navigator.onLine)throw De.create("app-offline");const sn=function Mr(S){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:x})}(Ge);return q=function rn(S,x){return bn.apply(this,arguments)}(S,sn),sn}});return q?yield q:ae.authToken}),dr.apply(this,arguments)}function qe(){return(qe=(0,j.Z)(function*(S,x){let q=yield Pt(S.appConfig);for(;1===q.authToken.requestStatus;)yield sr(100),q=yield Pt(S.appConfig);const ae=q.authToken;return 0===ae.requestStatus?Qn(S,x):ae})).apply(this,arguments)}function Pt(S){return yt(S,x=>{if(!Nn(x))throw De.create("not-registered");return function mi(S){return 1===S.requestStatus&&S.requestTime+ft<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function bn(){return bn=(0,j.Z)(function*(S,x){try{const q=yield function At(S,x){return Kt.apply(this,arguments)}(S,x),ae=Object.assign(Object.assign({},x),{authToken:q});return yield Xr(S.appConfig,ae),q}catch(q){if(!et(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const ae=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Xr(S.appConfig,ae)}else yield Te(S.appConfig);throw q}}),bn.apply(this,arguments)}function Nn(S){return void 0!==S&&2===S.registrationStatus}function Co(){return(Co=(0,j.Z)(function*(S){const x=S,{installationEntry:q,registrationPromise:ae}=yield ie(x);return ae?ae.catch(console.error):Qn(x).catch(console.error),q.fid})).apply(this,arguments)}function ho(){return ho=(0,j.Z)(function*(S,x=!1){const q=S;return yield function Kn(S){return Tr.apply(this,arguments)}(q),(yield Qn(q,x)).token}),ho.apply(this,arguments)}function Tr(){return(Tr=(0,j.Z)(function*(S){const{registrationPromise:x}=yield ie(S);x&&(yield x)})).apply(this,arguments)}function me(S){return De.create("missing-app-config-values",{valueName:S})}const Ve="installations",Ft=S=>{const x=S.getProvider("app").getImmediate(),q=function pe(S){if(!S||!S.options)throw me("App Configuration");if(!S.name)throw me("App Name");const x=["projectId","apiKey","appId"];for(const q of x)if(!S.options[q])throw me(q);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(x);return{app:x,appConfig:q,heartbeatServiceProvider:(0,V.qX)(x,"heartbeat"),_delete:()=>Promise.resolve()}},zt=S=>{const x=S.getProvider("app").getImmediate(),q=(0,V.qX)(x,Ve).getImmediate();return{getId:()=>function co(S){return Co.apply(this,arguments)}(q),getToken:Re=>function Ds(S){return ho.apply(this,arguments)}(q,Re)}};(function jn(){(0,V.Xd)(new Le.wA(Ve,Ft,"PUBLIC")),(0,V.Xd)(new Le.wA("installations-internal",zt,"PRIVATE"))})(),(0,V.KN)(We,Me),(0,V.KN)(We,Me,"esm2017");const wn="@firebase/remote-config",ti=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ai{constructor(x,q,ae,Re){this.client=x,this.storage=q,this.storageCache=ae,this.logger=Re}isCachedDataFresh(x,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ae=Date.now()-q,Re=ae<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${Re}.`),Re}fetch(x){var q=this;return(0,j.Z)(function*(){const[ae,Re]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(Re&&q.isCachedDataFresh(x.cacheMaxAgeMillis,ae))return Re;x.eTag=Re&&Re.eTag;const Ge=yield q.client.fetch(x),Ct=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ge.status&&Ct.push(q.storage.setLastSuccessfulFetchResponse(Ge)),yield Promise.all(Ct),Ge})()}}function Hi(S=navigator){return S.languages&&S.languages[0]||S.language}class us{constructor(x,q,ae,Re,Ge,Ct){this.firebaseInstallations=x,this.sdkVersion=q,this.namespace=ae,this.projectId=Re,this.apiKey=Ge,this.appId=Ct}fetch(x){var q=this;return(0,j.Z)(function*(){const[ae,Re]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),Ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,sn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},dn={sdk_version:q.sdkVersion,app_instance_id:ae,app_instance_id_token:Re,app_id:q.appId,language_code:Hi()},En={method:"POST",headers:sn,body:JSON.stringify(dn)},Xn=fetch(Ct,En),$n=new Promise((na,Ua)=>{x.signal.addEventListener(()=>{const fs=new Error("The operation was aborted.");fs.name="AbortError",Ua(fs)})});let Is;try{yield Promise.race([Xn,$n]),Is=yield Xn}catch(na){let Ua="fetch-client-network";throw"AbortError"===na?.name&&(Ua="fetch-timeout"),ti.create(Ua,{originalErrorMessage:na?.message})}let Wi=Is.status;const Io=Is.headers.get("ETag")||void 0;let gl,tl;if(200===Is.status){let na;try{na=yield Is.json()}catch(Ua){throw ti.create("fetch-client-parse",{originalErrorMessage:Ua?.message})}gl=na.entries,tl=na.state}if("INSTANCE_STATE_UNSPECIFIED"===tl?Wi=500:"NO_CHANGE"===tl?Wi=304:("NO_TEMPLATE"===tl||"EMPTY_CONFIG"===tl)&&(gl={}),304!==Wi&&200!==Wi)throw ti.create("fetch-status",{httpStatus:Wi});return{status:Wi,eTag:Io,config:gl}})()}}class Nr{constructor(x,q){this.client=x,this.storage=q}fetch(x){var q=this;return(0,j.Z)(function*(){const ae=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(x,ae)})()}attemptFetch(x,{throttleEndTimeMillis:q,backoffCount:ae}){var Re=this;return(0,j.Z)(function*(){yield function wi(S,x){return new Promise((q,ae)=>{const Re=Math.max(x-Date.now(),0),Ge=setTimeout(q,Re);S.addEventListener(()=>{clearTimeout(Ge),ae(ti.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,q);try{const Ge=yield Re.client.fetch(x);return yield Re.storage.deleteThrottleMetadata(),Ge}catch(Ge){if(!function ks(S){if(!(S instanceof de.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Ge))throw Ge;const Ct={throttleEndTimeMillis:Date.now()+(0,de.$s)(ae),backoffCount:ae+1};return yield Re.storage.setThrottleMetadata(Ct),Re.attemptFetch(x,Ct)}})()}}class uu{constructor(x,q,ae,Re,Ge){this.app=x,this._client=q,this._storageCache=ae,this._storage=Re,this._logger=Ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zs(S,x){const q=S.target.error||void 0;return ti.create(x,{originalErrorMessage:q&&q?.message})}const Mo="app_namespace_store";class lu{constructor(x,q,ae,Re=function Po(){return new Promise((S,x)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=ae=>{x(zs(ae,"storage-open"))},q.onsuccess=ae=>{S(ae.target.result)},q.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(Mo,{keyPath:"compositeKey"})}}catch(q){x(ti.create("storage-open",{originalErrorMessage:q?.message}))}})}()){this.appId=x,this.appName=q,this.namespace=ae,this.openDbPromise=Re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var q=this;return(0,j.Z)(function*(){const ae=yield q.openDbPromise;return new Promise((Re,Ge)=>{const sn=ae.transaction([Mo],"readonly").objectStore(Mo),dn=q.createCompositeKey(x);try{const En=sn.get(dn);En.onerror=Xn=>{Ge(zs(Xn,"storage-get"))},En.onsuccess=Xn=>{const $n=Xn.target.result;Re($n?$n.value:void 0)}}catch(En){Ge(ti.create("storage-get",{originalErrorMessage:En?.message}))}})})()}set(x,q){var ae=this;return(0,j.Z)(function*(){const Re=yield ae.openDbPromise;return new Promise((Ge,Ct)=>{const dn=Re.transaction([Mo],"readwrite").objectStore(Mo),En=ae.createCompositeKey(x);try{const Xn=dn.put({compositeKey:En,value:q});Xn.onerror=$n=>{Ct(zs($n,"storage-set"))},Xn.onsuccess=()=>{Ge()}}catch(Xn){Ct(ti.create("storage-set",{originalErrorMessage:Xn?.message}))}})})()}delete(x){var q=this;return(0,j.Z)(function*(){const ae=yield q.openDbPromise;return new Promise((Re,Ge)=>{const sn=ae.transaction([Mo],"readwrite").objectStore(Mo),dn=q.createCompositeKey(x);try{const En=sn.delete(dn);En.onerror=Xn=>{Ge(zs(Xn,"storage-delete"))},En.onsuccess=()=>{Re()}}catch(En){Ge(ti.create("storage-delete",{originalErrorMessage:En?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class ja{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,j.Z)(function*(){const q=x.storage.getLastFetchStatus(),ae=x.storage.getLastSuccessfulFetchTimestampMillis(),Re=x.storage.getActiveConfig(),Ge=yield q;Ge&&(x.lastFetchStatus=Ge);const Ct=yield ae;Ct&&(x.lastSuccessfulFetchTimestampMillis=Ct);const sn=yield Re;sn&&(x.activeConfig=sn)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Fs(){return qs.apply(this,arguments)}function qs(){return(qs=(0,j.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function As(){(0,V.Xd)(new Le.wA("remote-config",function S(x,{instanceIdentifier:q}){const ae=x.getProvider("app").getImmediate(),Re=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ti.create("registration-window");if(!(0,de.hl)())throw ti.create("indexed-db-unavailable");const{projectId:Ge,apiKey:Ct,appId:sn}=ae.options;if(!Ge)throw ti.create("registration-project-id");if(!Ct)throw ti.create("registration-api-key");if(!sn)throw ti.create("registration-app-id");const dn=new lu(sn,ae.name,q=q||"firebase"),En=new ja(dn),Xn=new Ae.Yd(wn);Xn.logLevel=Ae.in.ERROR;const $n=new us(Re,V.Jn,q,Ge,Ct,sn),Is=new Nr($n,dn),Wi=new Ai(Is,dn,En,Xn),Io=new uu(ae,Wi,En,dn,Xn);return function ua(S){const x=(0,de.m9)(S);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Io),Io},"PUBLIC").setMultipleInstances(!0)),(0,V.KN)(wn,"0.4.4"),(0,V.KN)(wn,"0.4.4","esm2017")}();const Ho="/firebase-messaging-sw.js",ca="/firebase-cloud-messaging-push-scope",Js="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ku="https://fcmregistrations.googleapis.com/v1",Ws="google.c.a.c_id",mo="google.c.a.c_l",yo="google.c.a.ts",Xs="google.c.a.e";var ts=(()=>{return(S=ts||(ts={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",ts;var S})();function ns(S){const x=new Uint8Array(S);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zi(S){const q=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(q),Re=new Uint8Array(ae.length);for(let Ge=0;Ge<ae.length;++Ge)Re[Ge]=ae.charCodeAt(Ge);return Re}const Go="fcm_token_details_db",da=5,zo="fcm_token_object_Store";function qo(){return qo=(0,j.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ge=>Ge.name).includes(Go))return null;let x=null;return(yield kt(Go,da,{upgrade:(ae=(0,j.Z)(function*(Re,Ge,Ct,sn){var dn;if(Ge<2||!Re.objectStoreNames.contains(zo))return;const En=sn.objectStore(zo),Xn=yield En.index("fcmSenderId").get(S);if(yield En.clear(),Xn)if(2===Ge){const $n=Xn;if(!$n.auth||!$n.p256dh||!$n.endpoint)return;x={token:$n.fcmToken,createTime:null!==(dn=$n.createTime)&&void 0!==dn?dn:Date.now(),subscriptionOptions:{auth:$n.auth,p256dh:$n.p256dh,endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:"string"==typeof $n.vapidKey?$n.vapidKey:ns($n.vapidKey)}}}else if(3===Ge){const $n=Xn;x={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:ns($n.auth),p256dh:ns($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:ns($n.vapidKey)}}}else if(4===Ge){const $n=Xn;x={token:$n.fcmToken,createTime:$n.createTime,subscriptionOptions:{auth:ns($n.auth),p256dh:ns($n.p256dh),endpoint:$n.endpoint,swScope:$n.swScope,vapidKey:ns($n.vapidKey)}}}}),function(Ge,Ct,sn,dn){return ae.apply(this,arguments)})})).close(),yield rt(Go),yield rt("fcm_vapid_details_db"),yield rt("undefined"),function Ga(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:x}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var ae}),qo.apply(this,arguments)}const Oi="firebase-messaging-database",ha=1,rs="firebase-messaging-store";let ls=null;function Or(){return ls||(ls=kt(Oi,ha,{upgrade:(S,x)=>{0===x&&S.createObjectStore(rs)}})),ls}function Yi(S){return _o.apply(this,arguments)}function _o(){return _o=(0,j.Z)(function*(S){const x=Qi(S),ae=yield(yield Or()).transaction(rs).objectStore(rs).get(x);if(ae)return ae;{const Re=yield function Gi(S){return qo.apply(this,arguments)}(S.appConfig.senderId);if(Re)return yield Si(S,Re),Re}}),_o.apply(this,arguments)}function Si(S,x){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,j.Z)(function*(S,x){const q=Qi(S),Re=(yield Or()).transaction(rs,"readwrite");return yield Re.objectStore(rs).put(x,q),yield Re.done,x})).apply(this,arguments)}function pa(){return(pa=(0,j.Z)(function*(S){const x=Qi(S),ae=(yield Or()).transaction(rs,"readwrite");yield ae.objectStore(rs).delete(x),yield ae.done})).apply(this,arguments)}function Qi({appConfig:S}){return S.appId}const Mi=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function In(S,x){return U.apply(this,arguments)}function U(){return(U=(0,j.Z)(function*(S,x){const q=yield Pr(S),ae=Tt(x),Re={method:"POST",headers:q,body:JSON.stringify(ae)};let Ge;try{Ge=yield(yield fetch(gn(S.appConfig),Re)).json()}catch(Ct){throw Mi.create("token-subscribe-failed",{errorInfo:Ct?.toString()})}if(Ge.error)throw Mi.create("token-subscribe-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw Mi.create("token-subscribe-no-token");return Ge.token})).apply(this,arguments)}function O(){return(O=(0,j.Z)(function*(S,x){const q=yield Pr(S),ae=Tt(x.subscriptionOptions),Re={method:"PATCH",headers:q,body:JSON.stringify(ae)};let Ge;try{Ge=yield(yield fetch(`${gn(S.appConfig)}/${x.token}`,Re)).json()}catch(Ct){throw Mi.create("token-update-failed",{errorInfo:Ct?.toString()})}if(Ge.error)throw Mi.create("token-update-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw Mi.create("token-update-no-token");return Ge.token})).apply(this,arguments)}function ee(S,x){return st.apply(this,arguments)}function st(){return(st=(0,j.Z)(function*(S,x){const ae={method:"DELETE",headers:yield Pr(S)};try{const Ge=yield(yield fetch(`${gn(S.appConfig)}/${x}`,ae)).json();if(Ge.error)throw Mi.create("token-unsubscribe-failed",{errorInfo:Ge.error.message})}catch(Re){throw Mi.create("token-unsubscribe-failed",{errorInfo:Re?.toString()})}})).apply(this,arguments)}function gn({projectId:S}){return`${Ku}/projects/${S}/registrations`}function Pr(S){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,j.Z)(function*({appConfig:S,installations:x}){const q=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function Tt({p256dh:S,auth:x,endpoint:q,vapidKey:ae}){const Re={web:{endpoint:q,auth:x,p256dh:S}};return ae!==Js&&(Re.web.applicationPubKey=ae),Re}const nr=6048e5;function eo(){return eo=(0,j.Z)(function*(S){const x=yield function za(S,x){return wu.apply(this,arguments)}(S.swRegistration,S.vapidKey),q={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:x.endpoint,auth:ns(x.getKey("auth")),p256dh:ns(x.getKey("p256dh"))},ae=yield Yi(S.firebaseDependencies);if(ae){if(function Ro(S,x){return x.vapidKey===S.vapidKey&&x.endpoint===S.endpoint&&x.auth===S.auth&&x.p256dh===S.p256dh}(ae.subscriptionOptions,q))return Date.now()>=ae.createTime+nr?function Ss(S,x){return Ii.apply(this,arguments)}(S,{token:ae.token,createTime:Date.now(),subscriptionOptions:q}):ae.token;try{yield ee(S.firebaseDependencies,ae.token)}catch(Re){console.warn(Re)}return Sa(S.firebaseDependencies,q)}return Sa(S.firebaseDependencies,q)}),eo.apply(this,arguments)}function Aa(){return Aa=(0,j.Z)(function*(S){const x=yield Yi(S.firebaseDependencies);x&&(yield ee(S.firebaseDependencies,x.token),yield function fa(S){return pa.apply(this,arguments)}(S.firebaseDependencies));const q=yield S.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()}),Aa.apply(this,arguments)}function Ii(){return Ii=(0,j.Z)(function*(S,x){try{const q=yield function F(S,x){return O.apply(this,arguments)}(S.firebaseDependencies,x),ae=Object.assign(Object.assign({},x),{token:q,createTime:Date.now()});return yield Si(S.firebaseDependencies,ae),q}catch(q){throw yield function Ti(S){return Aa.apply(this,arguments)}(S),q}}),Ii.apply(this,arguments)}function Sa(S,x){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,j.Z)(function*(S,x){const ae={token:yield In(S,x),createTime:Date.now(),subscriptionOptions:x};return yield Si(S,ae),ae.token})).apply(this,arguments)}function wu(){return(wu=(0,j.Z)(function*(S,x){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zi(x)})})).apply(this,arguments)}function _s(S){const x={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function xo(S,x){if(!x.notification)return;S.notification={};const q=x.notification.title;q&&(S.notification.title=q);const ae=x.notification.body;ae&&(S.notification.body=ae);const Re=x.notification.image;Re&&(S.notification.image=Re);const Ge=x.notification.icon;Ge&&(S.notification.icon=Ge)}(x,S),function Pa(S,x){x.data&&(S.data=x.data)}(x,S),function qa(S,x){var q,ae,Re,Ge,Ct;if(!(x.fcmOptions||null!==(q=x.notification)&&void 0!==q&&q.click_action))return;S.fcmOptions={};const sn=null!==(Re=null===(ae=x.fcmOptions)||void 0===ae?void 0:ae.link)&&void 0!==Re?Re:null===(Ge=x.notification)||void 0===Ge?void 0:Ge.click_action;sn&&(S.fcmOptions.link=sn);const dn=null===(Ct=x.fcmOptions)||void 0===Ct?void 0:Ct.analytics_label;dn&&(S.fcmOptions.analyticsLabel=dn)}(x,S),x}function vs(S,x){const q=[];for(let ae=0;ae<S.length;ae++)q.push(S.charAt(ae)),ae<x.length&&q.push(x.charAt(ae));return q.join("")}function Ra(S){return Mi.create("missing-app-config-values",{valueName:S})}vs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xa{constructor(x,q,ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Re=function cu(S){if(!S||!S.options)throw Ra("App Configuration Object");if(!S.name)throw Ra("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:q}=S;for(const ae of x)if(!q[ae])throw Ra(ae);return{appName:S.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:Re,installations:q,analyticsProvider:ae}}_delete(){return Promise.resolve()}}function Ko(S){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,j.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Ho,{scope:ca}),S.swRegistration.update().catch(()=>{})}catch(x){throw Mi.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function Ur(){return(Ur=(0,j.Z)(function*(S,x){if(!x&&!S.swRegistration&&(yield Ko(S)),x||!S.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Mi.create("invalid-sw-registration");S.swRegistration=x}})).apply(this,arguments)}function Zo(){return(Zo=(0,j.Z)(function*(S,x){x?S.vapidKey=x:S.vapidKey||(S.vapidKey=Js)})).apply(this,arguments)}function ga(){return ga=(0,j.Z)(function*(S,x){if(!navigator)throw Mi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mi.create("permission-blocked");return yield function Tu(S,x){return Zo.apply(this,arguments)}(S,x?.vapidKey),yield function Wa(S,x){return Ur.apply(this,arguments)}(S,x?.serviceWorkerRegistration),function Wo(S){return eo.apply(this,arguments)}(S)}),ga.apply(this,arguments)}function no(){return(no=(0,j.Z)(function*(S,x,q){const ae=function Ka(S){switch(S){case ts.NOTIFICATION_CLICKED:return"notification_open";case ts.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(ae,{message_id:q[Ws],message_name:q[mo],message_time:q[yo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ws(){return ws=(0,j.Z)(function*(S,x){const q=x.data;if(!q.isFirebaseMessaging)return;S.onMessageHandler&&q.messageType===ts.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(_s(q)):S.onMessageHandler.next(_s(q)));const ae=q.data;(function to(S){return"object"==typeof S&&!!S&&Ws in S})(ae)&&"1"===ae[Xs]&&(yield function Es(S,x,q){return no.apply(this,arguments)}(S,q.messageType,ae))}),ws.apply(this,arguments)}const yi="@firebase/messaging",Eo=S=>{const x=new xa(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function vo(S,x){return ws.apply(this,arguments)}(x,q)),x},si=S=>{const x=S.getProvider("messaging").getImmediate();return{getToken:ae=>function cs(S,x){return ga.apply(this,arguments)}(x,ae)}};function M(){return G.apply(this,arguments)}function G(){return(G=(0,j.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Za(){(0,V.Xd)(new Le.wA("messaging",Eo,"PUBLIC")),(0,V.Xd)(new Le.wA("messaging-internal",si,"PRIVATE")),(0,V.KN)(yi,"0.12.4"),(0,V.KN)(yi,"0.12.4","esm2017")}();const vr="analytics",qn="firebase_id",Wr="origin",rr=6e4,Pi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kr="https://www.googletagmanager.com/gtag/js",Rr=new Ae.Yd("@firebase/analytics"),Gr=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Yo(S){if(!S.startsWith(Kr)){const x=Gr.create("invalid-gtag-resource",{gtagURL:S});return Rr.warn(x.message),""}return S}function Nt(S){return Promise.all(S.map(x=>x.catch(q=>q)))}function vn(){return(vn=(0,j.Z)(function*(S,x,q,ae,Re,Ge){const Ct=ae[Re];try{if(Ct)yield x[Ct];else{const dn=(yield Nt(q)).find(En=>En.measurementId===Re);dn&&(yield x[dn.appId])}}catch(sn){Rr.error(sn)}S("config",Re,Ge)})).apply(this,arguments)}function Wt(){return(Wt=(0,j.Z)(function*(S,x,q,ae,Re){try{let Ge=[];if(Re&&Re.send_to){let Ct=Re.send_to;Array.isArray(Ct)||(Ct=[Ct]);const sn=yield Nt(q);for(const dn of Ct){const En=sn.find($n=>$n.measurementId===dn),Xn=En&&x[En.appId];if(!Xn){Ge=[];break}Ge.push(Xn)}}0===Ge.length&&(Ge=Object.values(x)),yield Promise.all(Ge),S("event",ae,Re||{})}catch(Ge){Rr.error(Ge)}})).apply(this,arguments)}const hu=30,Na=new class Qo{constructor(x={},q=1e3){this.throttleMetadata=x,this.intervalMillis=q}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,q){this.throttleMetadata[x]=q}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Ya(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function oi(){return(oi=(0,j.Z)(function*(S){var x;const{appId:q,apiKey:ae}=S,Re={method:"GET",headers:Ya(ae)},Ge=Pi.replace("{app-id}",q),Ct=yield fetch(Ge,Re);if(200!==Ct.status&&304!==Ct.status){let sn="";try{const dn=yield Ct.json();null!==(x=dn.error)&&void 0!==x&&x.message&&(sn=dn.error.message)}catch{}throw Gr.create("config-fetch-failed",{httpStatus:Ct.status,responseMessage:sn})}return Ct.json()})).apply(this,arguments)}function ya(){return(ya=(0,j.Z)(function*(S,x=Na,q){const{appId:ae,apiKey:Re,measurementId:Ge}=S.options;if(!ae)throw Gr.create("no-app-id");if(!Re){if(Ge)return{measurementId:Ge,appId:ae};throw Gr.create("no-api-key")}const Ct=x.getThrottleMetadata(ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},sn=new ku;return setTimeout((0,j.Z)(function*(){sn.abort()}),void 0!==q?q:rr),Qa({appId:ae,apiKey:Re,measurementId:Ge},Ct,sn,x)})).apply(this,arguments)}function Qa(S,x,q){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,j.Z)(function*(S,{throttleEndTimeMillis:x,backoffCount:q},ae,Re=Na){var Ge;const{appId:Ct,measurementId:sn}=S;try{yield function Bn(S,x){return new Promise((q,ae)=>{const Re=Math.max(x-Date.now(),0),Ge=setTimeout(q,Re);S.addEventListener(()=>{clearTimeout(Ge),ae(Gr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(ae,x)}catch(dn){if(sn)return Rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${dn?.message}]`),{appId:Ct,measurementId:sn};throw dn}try{const dn=yield function ma(S){return oi.apply(this,arguments)}(S);return Re.deleteThrottleMetadata(Ct),dn}catch(dn){const En=dn;if(!function bu(S){if(!(S instanceof de.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(En)){if(Re.deleteThrottleMetadata(Ct),sn)return Rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${En?.message}]`),{appId:Ct,measurementId:sn};throw dn}const Xn=503===Number(null===(Ge=En?.customData)||void 0===Ge?void 0:Ge.httpStatus)?(0,de.$s)(q,Re.intervalMillis,hu):(0,de.$s)(q,Re.intervalMillis),$n={throttleEndTimeMillis:Date.now()+Xn,backoffCount:q+1};return Re.setThrottleMetadata(Ct,$n),Rr.debug(`Calling attemptFetch again in ${Xn} millis`),Qa(S,$n,ae,Re)}}),Oa.apply(this,arguments)}class ku{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let or,Oo;function ro(){return(ro=(0,j.Z)(function*(S,x,q,ae,Re){if(Re&&Re.global)S("event",q,ae);else{const Ge=yield x;S("event",q,Object.assign(Object.assign({},ae),{send_to:Ge}))}})).apply(this,arguments)}function io(){return(io=(0,j.Z)(function*(){if(!(0,de.hl)())return Rr.warn(Gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(S){return Rr.warn(Gr.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function Cu(){return Cu=(0,j.Z)(function*(S,x,q,ae,Re,Ge,Ct){var sn;const dn=function Iu(S){return ya.apply(this,arguments)}(S);dn.then(Wi=>{q[Wi.measurementId]=Wi.appId,S.options.measurementId&&Wi.measurementId!==S.options.measurementId&&Rr.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Wi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wi=>Rr.error(Wi)),x.push(dn);const En=function _i(){return io.apply(this,arguments)}().then(Wi=>{if(Wi)return ae.getId()}),[Xn,$n]=yield Promise.all([dn,En]);(function ri(S){const x=window.document.getElementsByTagName("script");for(const q of Object.values(x))if(q.src&&q.src.includes(Kr)&&q.src.includes(S))return q;return null})(Ge)||function Ri(S,x){const q=function Cr(S,x){let q;return window.trustedTypes&&(q=window.trustedTypes.createPolicy(S,x)),q}("firebase-js-sdk-policy",{createScriptURL:Yo}),ae=document.createElement("script"),Re=`${Kr}?l=${S}&id=${x}`;ae.src=q?q?.createScriptURL(Re):Re,ae.async=!0,document.head.appendChild(ae)}(Ge,Xn.measurementId),Oo&&(Re("consent","default",Oo),function Du(S){Oo=S}(void 0)),Re("js",new Date);const Is=null!==(sn=Ct?.config)&&void 0!==sn?sn:{};return Is[Wr]="firebase",Is.update=!0,null!=$n&&(Is[qn]=$n),Re("config",Xn.measurementId,Is),or&&(Re("set",or),function va(S){or=S}(void 0)),Xn.measurementId}),Cu.apply(this,arguments)}class Jo{constructor(x){this.app=x}_delete(){return delete zi[this.app.options.appId],Promise.resolve()}}let zi={},Qe=[];const eu={};let Au,ki,ar="dataLayer",Yu="gtag",Lu=!1;function fl(S,x,q){!function Qu(){const S=[];if((0,de.ru)()&&S.push("This is a browser extension environment."),(0,de.zI)()||S.push("Cookies are not available."),S.length>0){const x=S.map((ae,Re)=>`(${Re+1}) ${ae}`).join(" "),q=Gr.create("invalid-analytics-context",{errorInfo:x});Rr.warn(q.message)}}();const ae=S.options.appId;if(!ae)throw Gr.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Gr.create("no-api-key");Rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zi[ae])throw Gr.create("already-exists",{id:ae});if(!Lu){!function du(S){let x=[];Array.isArray(window[S])?x=window[S]:window[S]=x}(ar);const{wrappedGtag:Ge,gtagCore:Ct}=function Ot(S,x,q,ae,Re){let Ge=function(...Ct){window[ae].push(arguments)};return window[Re]&&"function"==typeof window[Re]&&(Ge=window[Re]),window[Re]=function at(S,x,q,ae){function Ge(){return Ge=(0,j.Z)(function*(Ct,...sn){try{if("event"===Ct){const[dn,En]=sn;yield function Ou(S,x,q,ae,Re){return Wt.apply(this,arguments)}(S,x,q,dn,En)}else if("config"===Ct){const[dn,En]=sn;yield function Xt(S,x,q,ae,Re,Ge){return vn.apply(this,arguments)}(S,x,q,ae,dn,En)}else if("consent"===Ct){const[dn]=sn;S("consent","update",dn)}else if("get"===Ct){const[dn,En,Xn]=sn;S("get",dn,En,Xn)}else if("set"===Ct){const[dn]=sn;S("set",dn)}else S(Ct,...sn)}catch(dn){Rr.error(dn)}}),Ge.apply(this,arguments)}return function Re(Ct){return Ge.apply(this,arguments)}}(Ge,S,x,q),{gtagCore:Ge,wrappedGtag:window[Re]}}(zi,Qe,eu,ar,Yu);ki=Ge,Au=Ct,Lu=!0}return zi[ae]=function Xa(S,x,q,ae,Re,Ge,Ct){return Cu.apply(this,arguments)}(S,Qe,eu,x,Au,ar,q),new Jo(S)}function so(){return fi.apply(this,arguments)}function fi(){return(fi=(0,j.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Uu="@firebase/analytics",E="0.10.0";!function T(){(0,V.Xd)(new Le.wA(vr,(x,{options:q})=>fl(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,V.Xd)(new Le.wA("analytics-internal",function S(x){try{const q=x.getProvider(vr).getImmediate();return{logEvent:(ae,Re,Ge)=>function ko(S,x,q,ae){S=(0,de.m9)(S),function un(S,x,q,ae,Re){return ro.apply(this,arguments)}(ki,zi[S.app.options.appId],x,q,ae).catch(Re=>Rr.error(Re))}(q,ae,Re,Ge)}}catch(q){throw Gr.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,V.KN)(Uu,E),(0,V.KN)(Uu,E,"esm2017")}();var y=K(727);class A extends y.w0{constructor(x,q){super()}schedule(x,q=0){return this}}const L={setInterval(S,x,...q){const{delegate:ae}=L;return ae?.setInterval?ae.setInterval(S,x,...q):setInterval(S,x,...q)},clearInterval(S){const{delegate:x}=L;return(x?.clearInterval||clearInterval)(S)},delegate:void 0};var Y=K(8737);class te extends A{constructor(x,q){super(x,q),this.scheduler=x,this.work=q,this.pending=!1}schedule(x,q=0){var ae;if(this.closed)return this;this.state=x;const Re=this.id,Ge=this.scheduler;return null!=Re&&(this.id=this.recycleAsyncId(Ge,Re,q)),this.pending=!0,this.delay=q,this.id=null!==(ae=this.id)&&void 0!==ae?ae:this.requestAsyncId(Ge,this.id,q),this}requestAsyncId(x,q,ae=0){return L.setInterval(x.flush.bind(x,this),ae)}recycleAsyncId(x,q,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return q;null!=q&&L.clearInterval(q)}execute(x,q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(x,q);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,q){let Re,ae=!1;try{this.work(x)}catch(Ge){ae=!0,Re=Ge||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),Re}unsubscribe(){if(!this.closed){const{id:x,scheduler:q}=this,{actions:ae}=q;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.P)(ae,this),null!=x&&(this.id=this.recycleAsyncId(q,x,null)),this.delay=null,super.unsubscribe()}}}const vt={now:()=>(vt.delegate||Date).now(),delegate:void 0};class Zt{constructor(x,q=Zt.now){this.schedulerActionCtor=x,this.now=q}schedule(x,q=0,ae){return new this.schedulerActionCtor(this,x).schedule(ae,q)}}Zt.now=vt.now;class Qt extends Zt{constructor(x,q=Zt.now){super(x,q),this.actions=[],this._active=!1}flush(x){const{actions:q}=this;if(this._active)return void q.push(x);let ae;this._active=!0;do{if(ae=x.execute(x.state,x.delay))break}while(x=q.shift());if(this._active=!1,ae){for(;x=q.shift();)x.unsubscribe();throw ae}}}const Xi=new class hr extends Qt{}(class Ue extends te{constructor(x,q){super(x,q),this.scheduler=x,this.work=q}schedule(x,q=0){return q>0?super.schedule(x,q):(this.delay=q,this.state=x,this.scheduler.flush(this),this)}execute(x,q){return q>0||this.closed?super.execute(x,q):this._execute(x,q)}requestAsyncId(x,q,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(x,q,ae):(x.flush(this),0)}}),Vs=new Qt(te);var hs=K(9751),pu=K(8505),ea=K(9468),Vu=K(5363);const is=new g.GfV("7.5.0"),Fa="__angularfire_symbol__analyticsIsSupportedValue",oo="__angularfire_symbol__analyticsIsSupported",Ju="__angularfire_symbol__remoteConfigIsSupportedValue",vi="__angularfire_symbol__remoteConfigIsSupported",Ps="__angularfire_symbol__messagingIsSupportedValue",bi="__angularfire_symbol__messagingIsSupported";function pl(S,x,q){if(x){if(1===x.length)return x[0];const Ge=x.filter(Ct=>Ct.app===q);if(1===Ge.length)return Ge[0]}return q.container.getProvider(S).getImmediate({optional:!0})}globalThis[oo]||(globalThis[oo]=so().then(S=>globalThis[Fa]=S).catch(()=>globalThis[Fa]=!1)),globalThis[bi]||(globalThis[bi]=M().then(S=>globalThis[Ps]=S).catch(()=>globalThis[Ps]=!1)),globalThis[vi]||(globalThis[vi]=Fs().then(S=>globalThis[Ju]=S).catch(()=>globalThis[Ju]=!1));const Ic=(S,x)=>{const q=x?[x]:(0,$.C6)(),ae=[];return q.forEach(Re=>{Re.container.getProvider(S).instances.forEach(Ct=>{ae.includes(Ct)||ae.push(Ct)})}),ae};function qi(){}class Xu{constructor(x,q=Xi){this.zone=x,this.delegate=q}now(){return this.delegate.now()}schedule(x,q,ae){const Re=this.zone;return this.delegate.schedule(function(Ct){Re.runGuarded(()=>{x.apply(this,[Ct])})},q,ae)}}class La{constructor(x){this.zone=x,this.task=null}call(x,q){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qi,{},qi,qi)),q.pipe((0,pu.b)({next:ae,complete:ae,error:ae})).subscribe(x).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fi=(()=>{class S{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new Xu(Zone.current)),this.insideAngular=q.run(()=>new Xu(Zone.current,Vs)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(q){return new(q||S)(g.LFG(g.R0b))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Ts(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Bi(S){return Ts().ngZone.run(()=>S())}function ju(S){return Ts(),function su(S){return function(q){return(q=q.lift(new La(S.ngZone))).pipe((0,ea.R)(S.outsideAngular),(0,Vu.Q)(S.insideAngular))}}(Ts())(S)}const el=(S,x)=>function(){const ae=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),Bi(()=>S.apply(void 0,ae))},ta=(S,x)=>function(){let q;const ae=arguments;for(let Ge=0;Ge<arguments.length;Ge++)"function"==typeof ae[Ge]&&(x&&(q||(q=Bi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qi,{},qi,qi)))),ae[Ge]=el(ae[Ge],q));const Re=function $u(S){return Ts().ngZone.runOutsideAngular(()=>S())}(()=>S.apply(this,ae));if(!x){if(Re instanceof hs.y){const Ge=Ts();return Re.pipe((0,ea.R)(Ge.outsideAngular),(0,Vu.Q)(Ge.insideAngular))}return Bi(()=>Re)}return Re instanceof hs.y?Re.pipe(ju):Re instanceof Promise?Bi(()=>new Promise((Ge,Ct)=>Re.then(sn=>Bi(()=>Ge(sn)),sn=>Bi(()=>Ct(sn))))):"function"==typeof Re&&q?function(){return setTimeout(()=>{q&&"scheduled"===q.state&&q.invoke()},10),Re.apply(this,arguments)}:Bi(()=>Re)}},2090:(yn,ct,K)=>{K.d(ct,{$s:()=>Te,BH:()=>ht,L:()=>Xe,LL:()=>he,P0:()=>St,Pz:()=>Oe,Sg:()=>Lt,US:()=>Le,ZR:()=>xe,aH:()=>ot,b$:()=>dt,eu:()=>ue,hl:()=>Et,m9:()=>_t,ne:()=>Vn,ru:()=>Yt,tV:()=>fe,uI:()=>kt,vZ:()=>Zn,xO:()=>li,z$:()=>He,zI:()=>$e});const V=function(ie){const se=[];let _e=0;for(let ze=0;ze<ie.length;ze++){let Fe=ie.charCodeAt(ze);Fe<128?se[_e++]=Fe:Fe<2048?(se[_e++]=Fe>>6|192,se[_e++]=63&Fe|128):55296==(64512&Fe)&&ze+1<ie.length&&56320==(64512&ie.charCodeAt(ze+1))?(Fe=65536+((1023&Fe)<<10)+(1023&ie.charCodeAt(++ze)),se[_e++]=Fe>>18|240,se[_e++]=Fe>>12&63|128,se[_e++]=Fe>>6&63|128,se[_e++]=63&Fe|128):(se[_e++]=Fe>>12|224,se[_e++]=Fe>>6&63|128,se[_e++]=63&Fe|128)}return se},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,se){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const _e=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,ze=[];for(let Fe=0;Fe<ie.length;Fe+=3){const qt=ie[Fe],Ce=Fe+1<ie.length,Ee=Ce?ie[Fe+1]:0,re=Fe+2<ie.length,be=re?ie[Fe+2]:0;let Kt=(15&Ee)<<2|be>>6,cn=63&be;re||(cn=64,Ce||(Kt=64)),ze.push(_e[qt>>2],_e[(3&qt)<<4|Ee>>4],_e[Kt],_e[cn])}return ze.join("")},encodeString(ie,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(ie):this.encodeByteArray(V(ie),se)},decodeString(ie,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(ie):function(ie){const se=[];let _e=0,ze=0;for(;_e<ie.length;){const Fe=ie[_e++];if(Fe<128)se[ze++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){const qt=ie[_e++];se[ze++]=String.fromCharCode((31&Fe)<<6|63&qt)}else if(Fe>239&&Fe<365){const re=((7&Fe)<<18|(63&ie[_e++])<<12|(63&ie[_e++])<<6|63&ie[_e++])-65536;se[ze++]=String.fromCharCode(55296+(re>>10)),se[ze++]=String.fromCharCode(56320+(1023&re))}else{const qt=ie[_e++],Ce=ie[_e++];se[ze++]=String.fromCharCode((15&Fe)<<12|(63&qt)<<6|63&Ce)}}return se.join("")}(this.decodeStringToByteArray(ie,se))},decodeStringToByteArray(ie,se){this.init_();const _e=se?this.charToByteMapWebSafe_:this.charToByteMap_,ze=[];for(let Fe=0;Fe<ie.length;){const qt=_e[ie.charAt(Fe++)],Ee=Fe<ie.length?_e[ie.charAt(Fe)]:0;++Fe;const be=Fe<ie.length?_e[ie.charAt(Fe)]:64;++Fe;const At=Fe<ie.length?_e[ie.charAt(Fe)]:64;if(++Fe,null==qt||null==Ee||null==be||null==At)throw new Ae;ze.push(qt<<2|Ee>>4),64!==be&&(ze.push(Ee<<4&240|be>>2),64!==At&&ze.push(be<<6&192|At))}return ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xe=function(ie){return function(ie){const se=V(ie);return Le.encodeByteArray(se,!0)}(ie).replace(/\./g,"")},fe=function(ie){try{return Le.decodeString(ie,!0)}catch(se){console.error("base64Decode failed: ",se)}return null},nn=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ie=process.env.__FIREBASE_DEFAULTS__;return ie?JSON.parse(ie):void 0})()||(()=>{if(typeof document>"u")return;let ie;try{ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const se=ie&&fe(ie[1]);return se&&JSON.parse(se)})()}catch(ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ie}`)}},St=ie=>{const se=(ie=>{var se,_e;return null===(_e=null===(se=nn())||void 0===se?void 0:se.emulatorHosts)||void 0===_e?void 0:_e[ie]})(ie);if(!se)return;const _e=se.lastIndexOf(":");if(_e<=0||_e+1===se.length)throw new Error(`Invalid host ${se} with no separate hostname and port!`);const ze=parseInt(se.substring(_e+1),10);return"["===se[0]?[se.substring(1,_e-1),ze]:[se.substring(0,_e),ze]},ot=()=>{var ie;return null===(ie=nn())||void 0===ie?void 0:ie.config},Oe=ie=>{var se;return null===(se=nn())||void 0===se?void 0:se[`_${ie}`]};class ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,_e)=>{this.resolve=se,this.reject=_e})}wrapCallback(se){return(_e,ze)=>{_e?this.reject(_e):this.resolve(ze),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(_e):se(_e,ze))}}}function Lt(ie,se){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ze=se||"demo-project",Fe=ie.iat||0,qt=ie.sub||ie.user_id;if(!qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ce=Object.assign({iss:`https://securetoken.google.com/${ze}`,aud:ze,iat:Fe,exp:Fe+3600,auth_time:Fe,sub:qt,user_id:qt,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[Xe(JSON.stringify({alg:"none",type:"JWT"})),Xe(JSON.stringify(Ce)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Yt(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){try{return"object"==typeof indexedDB}catch{return!1}}function ue(){return new Promise((ie,se)=>{try{let _e=!0;const ze="validate-browser-context-for-indexeddb-analytics-module",Fe=self.indexedDB.open(ze);Fe.onsuccess=()=>{Fe.result.close(),_e||self.indexedDB.deleteDatabase(ze),ie(!0)},Fe.onupgradeneeded=()=>{_e=!1},Fe.onerror=()=>{var qt;se((null===(qt=Fe.error)||void 0===qt?void 0:qt.message)||"")}}catch(_e){se(_e)}})}function $e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xe extends Error{constructor(se,_e,ze){super(_e),this.code=se,this.customData=ze,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(se,_e,ze){this.service=se,this.serviceName=_e,this.errors=ze}create(se,..._e){const ze=_e[0]||{},Fe=`${this.service}/${se}`,qt=this.errors[se],Ce=qt?function De(ie,se){return ie.replace(et,(_e,ze)=>{const Fe=se[ze];return null!=Fe?String(Fe):`<${ze}?>`})}(qt,ze):"Error";return new xe(Fe,`${this.serviceName}: ${Ce} (${Fe}).`,ze)}}const et=/\{\$([^}]+)}/g;function Zn(ie,se){if(ie===se)return!0;const _e=Object.keys(ie),ze=Object.keys(se);for(const Fe of _e){if(!ze.includes(Fe))return!1;const qt=ie[Fe],Ce=se[Fe];if(sr(qt)&&sr(Ce)){if(!Zn(qt,Ce))return!1}else if(qt!==Ce)return!1}for(const Fe of ze)if(!_e.includes(Fe))return!1;return!0}function sr(ie){return null!==ie&&"object"==typeof ie}function li(ie){const se=[];for(const[_e,ze]of Object.entries(ie))Array.isArray(ze)?ze.forEach(Fe=>{se.push(encodeURIComponent(_e)+"="+encodeURIComponent(Fe))}):se.push(encodeURIComponent(_e)+"="+encodeURIComponent(ze));return se.length?"&"+se.join("&"):""}function Vn(ie,se){const _e=new It(ie,se);return _e.subscribe.bind(_e)}class It{constructor(se,_e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=_e,this.task.then(()=>{se(this)}).catch(ze=>{this.error(ze)})}next(se){this.forEachObserver(_e=>{_e.next(se)})}error(se){this.forEachObserver(_e=>{_e.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,_e,ze){let Fe;if(void 0===se&&void 0===_e&&void 0===ze)throw new Error("Missing Observer.");Fe=function er(ie,se){if("object"!=typeof ie||null===ie)return!1;for(const _e of se)if(_e in ie&&"function"==typeof ie[_e])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:_e,complete:ze},void 0===Fe.next&&(Fe.next=Fn),void 0===Fe.error&&(Fe.error=Fn),void 0===Fe.complete&&(Fe.complete=Fn);const qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Fe.error(this.finalError):Fe.complete()}catch{}}),this.observers.push(Fe),qt}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let _e=0;_e<this.observers.length;_e++)this.sendOne(_e,se)}sendOne(se,_e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{_e(this.observers[se])}catch(ze){typeof console<"u"&&console.error&&console.error(ze)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}const Ni=1e3,es=2,Xr=144e5,Be=.5;function Te(ie,se=Ni,_e=es){const ze=se*Math.pow(_e,ie),Fe=Math.round(Be*ze*(Math.random()-.5)*2);return Math.min(Xr,ze+Fe)}function _t(ie){return ie&&ie._delegate?ie._delegate:ie}},9008:(yn,ct,K)=>{K.d(ct,{i:()=>ft});var g=K(5450),$=K(433),j=K(8256),V=K(2274),de=K(7185),Le=K(6895),Ae=K(9273),ut=K(5227),Xe=K(529);let fe=(()=>{class ke{constructor(ue){this.http=ue}traerPaises(){return this.http.get("https://restcountries.com/v3.1/all")}obtenerInformacionPais(ue){return this.http.get(`https://restcountries.com/v3.1/name/${ue}`)}}return ke.\u0275fac=function(ue){return new(ue||ke)(j.LFG(Xe.eN))},ke.\u0275prov=j.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})();function ye(ke,Et){if(1&ke){const ue=j.EpF();j.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"button",3),j.NdJ("click",function(){const xe=j.CHM(ue).$implicit,he=j.oxw();return j.KtG(he.emitirPais(xe.nombre))}),j.TgZ(4,"h5"),j._uU(5),j.qZA(),j._UZ(6,"img",4),j.qZA()()()()}if(2&ke){const ue=Et.$implicit;j.xp6(5),j.Oqu(ue.nombre),j.xp6(1),j.Q6J("src",ue.bandera,j.LSH)}}let Ye=(()=>{class ke{constructor(ue){this.paisService=ue,this.paises=[],this.eventoPaisSeleccionado=new j.vpe}ngOnInit(){this.traerPaises()}onDestroy(){this.suscripcion.unsubscribe()}traerPaises(){this.paises=[],this.paisService.traerPaises().subscribe(ue=>{for(let $e=0;$e<ue.length;$e++){const we=ue[$e];this.paises.push({nombre:we.name.common,bandera:we.flags.png})}this.paises=this.paises.slice(0,5)})}emitirPais(ue){console.log("pais clickeado "+ue),this.eventoPaisSeleccionado.emit(ue)}}return ke.\u0275fac=function(ue){return new(ue||ke)(j.Y36(fe))},ke.\u0275cmp=j.Xpm({type:ke,selectors:[["app-tabla-paises"]],outputs:{eventoPaisSeleccionado:"eventoPaisSeleccionado"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"mb-3","justify-content-between"],[1,"row"],[1,"btn","btn-outline-secondary",3,"click"],[2,"width","10%","position","relative",3,"src"]],template:function(ue,$e){1&ue&&j.YNc(0,ye,7,2,"div",0),2&ue&&j.Q6J("ngForOf",$e.paises)},dependencies:[Le.sg]}),ke})();function pt(ke,Et){1&ke&&(j.TgZ(0,"span",35),j._uU(1,"El nombre es requerido"),j.qZA())}function ve(ke,Et){1&ke&&(j.TgZ(0,"span",35),j._uU(1,"El nombre es inv\xe1lido"),j.qZA())}function Rt(ke,Et){1&ke&&(j.TgZ(0,"span",35),j._uU(1,"El apellido es requerido"),j.qZA())}function mt(ke,Et){1&ke&&(j.TgZ(0,"span",35),j._uU(1,"El apellido es inv\xe1lido"),j.qZA())}function ln(ke,Et){1&ke&&(j.TgZ(0,"span",35),j._uU(1,"El usurname es requerido"),j.qZA())}function nn(ke,Et){1&ke&&(j.TgZ(0,"span",35),j._uU(1,"El email es requerido"),j.qZA())}function an(ke,Et){1&ke&&(j.TgZ(0,"span",35),j._uU(1,"El email es inv\xe1lido"),j.qZA())}function St(ke,Et){1&ke&&(j.TgZ(0,"span",35),j._uU(1,"La direcci\xf3n es requerida"),j.qZA())}function ot(ke,Et){1&ke&&(j.TgZ(0,"span",35),j._uU(1,"La nacionalidad es requerida"),j.qZA())}let Oe=(()=>{class ke{constructor(ue,$e,we){this.actor=ue,this.toastr=$e,this.router=we}ngOnInit(){this.formAltaActor=new $.cw({nombre:new $.NI("",[$.kI.pattern("^[a-zA-Z]+$")]),apellido:new $.NI("",[$.kI.pattern("^[a-zA-Z]+$")]),email:new $.NI("",$.kI.email),nacionalidad:new $.NI("",$.kI.required),direccion:new $.NI("",$.kI.required),username:new $.NI("",$.kI.required)})}enviarForm(){console.log(this.formAltaActor.value),console.log(this.pais)}mostrarPais(ue){this.pais=ue,this.formAltaActor.controls.nacionalidad.setValue(this.pais)}registrar(){console.log("Guardando Actor");const ue={nombre:this.formAltaActor.get("nombre")?.value,apellido:this.formAltaActor.get("apellido")?.value,username:this.formAltaActor.get("username")?.value,email:this.formAltaActor.get("email")?.value,direccion:this.formAltaActor.get("direccion")?.value,nacionalidad:this.formAltaActor.get("nacionalidad")?.value};this.actor.crearActor(ue).then(()=>{this.toastr.success("Actor creado correctamente","Guardado",{timeOut:1500})}).catch($e=>{this.toastr.error("Detalle: "+$e,"Error")}),this.router.navigate(["/actor/actorPelicula"])}}return ke.\u0275fac=function(ue){return new(ue||ke)(j.Y36(V.c),j.Y36(de._W),j.Y36(g.F0))},ke.\u0275cmp=j.Xpm({type:ke,selectors:[["app-alta-actor"]],decls:66,vars:12,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","author","content","Macarena Ferrero"],["role","main"],[1,"container"],[1,"row","mt-10","pt-5"],[1,"col-md-4","order-md-2","mb-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted","mt-5"],[3,"eventoPaisSeleccionado"],[1,"col-md-8","order-md-1"],[1,"display-3","mt-3"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","nombre"],["type","text","id","nombre","placeholder","Nombre","value","","required","","formControlName","nombre",1,"form-control"],["class","text-danger form-floating",4,"ngIf"],["for","apellido"],["type","text","id","apellido","placeholder","Apellido","value","","required","","formControlName","apellido",1,"form-control"],[1,"mb-3"],["for","username"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","id","username","placeholder","Username","required","","formControlName","username",1,"form-control"],["for","email"],["type","email","id","email","placeholder","you@example.com","formControlName","email","required","",1,"form-control"],["for","direccion"],["type","text","id","direccion","placeholder","1234 Main St","required","","formControlName","direccion",1,"form-control"],["for","nacionalidad"],["id","nacionalidad","readonly","","formControlName","nacionalidad",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],[1,"mb-4"],[1,"text-danger","form-floating"]],template:function(ue,$e){if(1&ue&&(j._UZ(0,"router-outlet"),j.TgZ(1,"html",0)(2,"head"),j._UZ(3,"meta",1)(4,"meta",2)(5,"meta",3),j.TgZ(6,"title"),j._uU(7,"Alta Actores"),j.qZA()(),j.TgZ(8,"body")(9,"main",4)(10,"div",5)(11,"div",6)(12,"div",7),j._UZ(13,"app-nav"),j.TgZ(14,"h4",8)(15,"span",9),j._uU(16,"Nacionalidad"),j.qZA()(),j.TgZ(17,"app-tabla-paises",10),j.NdJ("eventoPaisSeleccionado",function(xe){return $e.mostrarPais(xe)}),j.qZA()(),j.TgZ(18,"div",11)(19,"h1",12),j._uU(20,"Alta Actor"),j.qZA(),j.TgZ(21,"p"),j._uU(22,"Ingrese la informaci\xf3n solicitada del actor que desea a\xf1adir."),j.qZA(),j.TgZ(23,"form",13),j.NdJ("ngSubmit",function(){return $e.enviarForm()}),j.TgZ(24,"div",14)(25,"div",15)(26,"label",16),j._uU(27,"Nombre"),j.qZA(),j._UZ(28,"input",17),j.YNc(29,pt,2,0,"span",18),j.YNc(30,ve,2,0,"span",18),j.qZA(),j.TgZ(31,"div",15)(32,"label",19),j._uU(33,"Apellido"),j.qZA(),j._UZ(34,"input",20),j.YNc(35,Rt,2,0,"span",18),j.YNc(36,mt,2,0,"span",18),j.qZA()(),j.TgZ(37,"div",21)(38,"label",22),j._uU(39,"Twitter"),j.qZA(),j.TgZ(40,"div",23)(41,"div",24)(42,"span",25),j._uU(43,"@"),j.qZA()(),j._UZ(44,"input",26),j.qZA(),j.YNc(45,ln,2,0,"span",18),j.qZA(),j.TgZ(46,"div",21)(47,"label",27),j._uU(48,"Email"),j.qZA(),j._UZ(49,"input",28),j.YNc(50,nn,2,0,"span",18),j.YNc(51,an,2,0,"span",18),j.qZA(),j.TgZ(52,"div",21)(53,"label",29),j._uU(54,"Direcci\xf3n"),j.qZA(),j._UZ(55,"input",30),j.YNc(56,St,2,0,"span",18),j.qZA(),j.TgZ(57,"div",21)(58,"label",31),j._uU(59,"Nacionalidad"),j.qZA(),j._UZ(60,"input",32),j.YNc(61,ot,2,0,"span",18),j.qZA(),j.TgZ(62,"button",33),j.NdJ("click",function(){return $e.registrar()}),j._uU(63,"Guardar"),j.qZA(),j._UZ(64,"hr",34),j.qZA()()()()(),j._UZ(65,"app-footer"),j.qZA()()),2&ue){let we,xe,he,De,et,wt,On,xn,hn;j.xp6(23),j.Q6J("formGroup",$e.formAltaActor),j.xp6(6),j.Q6J("ngIf",(null==(we=$e.formAltaActor.get("nombre"))?null:we.hasError("required"))&&(null==(we=$e.formAltaActor.get("nombre"))?null:we.touched)),j.xp6(1),j.Q6J("ngIf",null==(xe=$e.formAltaActor.get("nombre"))?null:xe.hasError("pattern")),j.xp6(5),j.Q6J("ngIf",(null==(he=$e.formAltaActor.get("apellido"))?null:he.hasError("required"))&&(null==(he=$e.formAltaActor.get("apellido"))?null:he.touched)),j.xp6(1),j.Q6J("ngIf",null==(De=$e.formAltaActor.get("apellido"))?null:De.hasError("pattern")),j.xp6(9),j.Q6J("ngIf",(null==(et=$e.formAltaActor.get("username"))?null:et.hasError("required"))&&(null==(et=$e.formAltaActor.get("username"))?null:et.touched)),j.xp6(5),j.Q6J("ngIf",(null==(wt=$e.formAltaActor.get("email"))?null:wt.hasError("required"))&&(null==(wt=$e.formAltaActor.get("email"))?null:wt.touched)),j.xp6(1),j.Q6J("ngIf",null==(On=$e.formAltaActor.get("email"))?null:On.hasError("email")),j.xp6(5),j.Q6J("ngIf",(null==(xn=$e.formAltaActor.get("direccion"))?null:xn.hasError("required"))&&(null==(xn=$e.formAltaActor.get("direccion"))?null:xn.touched)),j.xp6(4),j.s9C("value",$e.pais),j.xp6(1),j.Q6J("ngIf",(null==(hn=$e.formAltaActor.get("nacionalidad"))?null:hn.hasError("required"))&&(null==(hn=$e.formAltaActor.get("direccion"))?null:hn.touched)),j.xp6(1),j.Q6J("disabled",$e.formAltaActor.invalid)}},dependencies:[Le.O5,Ae.r,ut.c,$._Y,$.Fj,$.JJ,$.JL,$.Q7,$.sg,$.u,g.lC,Ye]}),ke})();var ht=K(727);class Lt{}var He=K(3406),kt=K(8731),rt=K(5379);function Ut(ke,Et){if(1&ke&&(j.TgZ(0,"div"),j._UZ(1,"img",1),j.TgZ(2,"div")(3,"h5",2),j._uU(4),j.qZA()()()),2&ke){const ue=j.oxw();j.xp6(1),j.Q6J("src",ue.pais.bandera,j.LSH),j.xp6(3),j.Oqu(ue.pais.nombre)}}let Yt=(()=>{class ke{}return ke.\u0275fac=function(ue){return new(ue||ke)},ke.\u0275cmp=j.Xpm({type:ke,selectors:[["app-detalle-nacionalidad"]],inputs:{pais:"pais"},decls:1,vars:1,consts:[[4,"ngIf"],[2,"width","18rem","padding-left","80px",3,"src"],[2,"padding-left","80px"]],template:function(ue,$e){1&ue&&j.YNc(0,Ut,5,2,"div",0),2&ue&&j.Q6J("ngIf",null!=$e.pais)},dependencies:[Le.O5]}),ke})();function dt(ke,Et){if(1&ke&&(j.TgZ(0,"div")(1,"h5"),j._uU(2),j.qZA(),j.TgZ(3,"h5"),j._uU(4),j.qZA(),j.TgZ(5,"h5"),j._uU(6),j.qZA()()),2&ke){const ue=j.oxw();j.xp6(2),j.hij("Twitter: @",ue.actorSeleccionado.username," "),j.xp6(2),j.hij("Email: ",ue.actorSeleccionado.email," "),j.xp6(2),j.hij("Direcci\xf3n: ",ue.actorSeleccionado.direccion," ")}}let Vt=(()=>{class ke{}return ke.\u0275fac=function(ue){return new(ue||ke)},ke.\u0275cmp=j.Xpm({type:ke,selectors:[["app-detalle-actor"]],inputs:{actorSeleccionado:"actorSeleccionado"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(ue,$e){1&ue&&j.YNc(0,dt,7,3,"div",0),2&ue&&j.Q6J("ngIf",null!=$e.actorSeleccionado)},dependencies:[Le.O5]}),ke})();const Me=[{path:"",component:Oe},{path:"actor/altaActor",component:Oe},{path:"actor/actorPelicula",component:(()=>{class ke{constructor(ue,$e,we,xe){this.peliculaService=ue,this.toastr=$e,this.paisService=we,this.http=xe,this.peliculas=[],this.suscripcion=new ht.w0,this.paisActor=new Lt}ngOnInit(){this.getPeliculas()}getPeliculas(){this.suscripcion=this.peliculaService.getPeliculas().subscribe(ue=>{this.peliculas=[],ue.forEach($e=>{this.peliculas?.push({...$e})})})}emitirActor(ue){console.log(ue.nacionalidad),this.actorSeleccionado=ue,this.peliculasPorActor=this.peliculas?.filter($e=>$e.actor?.nombre==ue.nombre),console.log(this.peliculasPorActor),this.nacionalidadActor=ue.nacionalidad,this.buscarInformacionPais(this.nacionalidadActor)}buscarInformacionPais(ue){this.paisService.obtenerInformacionPais(ue).subscribe($e=>{console.log("Informaci\xf3n del pa\xeds:",$e),this.paisActor.nombre=$e[0]?.name.common,this.paisActor.bandera=$e[0]?.flags.png},$e=>{console.error("Error al obtener informaci\xf3n del pa\xeds:",$e)})}onDestroy(){this.suscripcion.unsubscribe()}}return ke.\u0275fac=function(ue){return new(ue||ke)(j.Y36(He.S),j.Y36(de._W),j.Y36(fe),j.Y36(Xe.eN))},ke.\u0275cmp=j.Xpm({type:ke,selectors:[["app-listado-actores"]],decls:27,vars:3,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],[3,"eventoActorSeleccionado"],[1,"row"],[1,"col-md-5"],[3,"listadoPeliculas"],[1,"col-md-4"],[3,"pais"],[1,"col-md-3"],[3,"actorSeleccionado"]],template:function(ue,$e){1&ue&&(j._UZ(0,"router-outlet"),j.TgZ(1,"html",0)(2,"head"),j._UZ(3,"meta",1)(4,"meta",2),j.TgZ(5,"title"),j._uU(6,"Listado Actores"),j.qZA()(),j.TgZ(7,"body")(8,"main",3),j._UZ(9,"app-nav"),j.TgZ(10,"div",4)(11,"div",5)(12,"h1",6),j._uU(13,"Listado Actores"),j.qZA(),j.TgZ(14,"p"),j._uU(15,"Este es el listado de los actores que protagonizan las pel\xedculas emitidas."),j.qZA(),j.TgZ(16,"app-tabla-actor",7),j.NdJ("eventoActorSeleccionado",function(xe){return $e.emitirActor(xe)}),j.qZA()()(),j.TgZ(17,"div",5)(18,"div",8)(19,"div",9),j._UZ(20,"app-tabla-pelicula",10),j.qZA(),j.TgZ(21,"div",11),j._UZ(22,"app-detalle-nacionalidad",12),j.qZA(),j.TgZ(23,"div",13),j._UZ(24,"app-detalle-actor",14),j.qZA()(),j._UZ(25,"hr"),j.qZA()(),j._UZ(26,"app-footer"),j.qZA()()),2&ue&&(j.xp6(20),j.Q6J("listadoPeliculas",$e.peliculasPorActor),j.xp6(2),j.Q6J("pais",$e.paisActor),j.xp6(2),j.Q6J("actorSeleccionado",$e.actorSeleccionado))},dependencies:[Ae.r,ut.c,g.lC,kt.k,rt.T,Yt,Vt]}),ke})()}];let ft=(()=>{class ke{}return ke.\u0275fac=function(ue){return new(ue||ke)},ke.\u0275mod=j.oAB({type:ke}),ke.\u0275inj=j.cJS({imports:[g.Bz.forChild(Me),g.Bz]}),ke})()},6533:(yn,ct,K)=>{K.r(ct),K.d(ct,{ActoresModule:()=>pt});var g=K(6895),$=K(529),j=K(3692),V=K(4102),de=K(433),Le=K(5450),Ae=K(7185),ut=K(2340),Xe=K(4192),fe=K(4466),ye=K(9008),Ye=K(8256);let pt=(()=>{class ve{}return ve.\u0275fac=function(mt){return new(mt||ve)},ve.\u0275mod=Ye.oAB({type:ve}),ve.\u0275inj=Ye.cJS({imports:[g.ez,$.JF,Ae.Rh,fe.m,de.UX,de.u5,Le.Bz,ye.i,(0,j.hX)(()=>(0,j.ZF)(ut.N.firebase)),(0,V.Cm)(()=>(0,V.ad)()),Xe.PeliculasModule]}),ve})()},9778:(yn,ct,K)=>{K.d(ct,{R:()=>Et});var g=K(5450),$=K(433),j=(()=>{return(ue=j||(j={})).PelicularTerror="Terror",ue.PelicularComedia="Comedia",ue.PelicularAmor="Amor",ue.PelicularOtros="Otros",j;var ue})(),V=K(8256),de=K(3406),Le=K(7185),Ae=K(4102),ut=K(6895),Xe=K(9273),fe=K(5227),ye=K(5379);function Ye(ue,$e){1&ue&&(V.TgZ(0,"span",32),V._uU(1,"El nombre es requerido"),V.qZA())}function pt(ue,$e){if(1&ue&&(V.TgZ(0,"option",33),V._uU(1),V.qZA()),2&ue){const we=$e.$implicit;V.Q6J("value",we),V.xp6(1),V.hij("",we," ")}}function ve(ue,$e){1&ue&&(V.TgZ(0,"span",32),V._uU(1,"El tipo es requerido"),V.qZA())}function Rt(ue,$e){1&ue&&(V.TgZ(0,"span",32),V._uU(1,"La cantidad de p\xfablico es requerida"),V.qZA())}function mt(ue,$e){1&ue&&(V.TgZ(0,"span",32),V._uU(1,"La fecha de estreno es requerida"),V.qZA())}function ln(ue,$e){1&ue&&(V.TgZ(0,"span",32),V._uU(1,"Seleccione el actor protagonista."),V.qZA())}let nn=(()=>{class ue{constructor(we,xe,he,De){this.pelicula=we,this.toastr=xe,this.router=he,this.firestore=De,this.opcionestipos=Object.values(j)}ngOnInit(){this.formAltaPelicula=new $.cw({nombre:new $.NI("",[$.kI.required]),fechaEstreno:new $.NI("",[$.kI.required]),tipo:new $.NI("",$.kI.required),cantidadPublico:new $.NI("",$.kI.required),fotoPelicula:new $.NI(""),actor:new $.NI("",$.kI.required)})}registrar(){console.log("Guardando Pelicula");const we={nombre:this.formAltaPelicula.get("nombre")?.value,fechaEstreno:this.formAltaPelicula.get("fechaEstreno")?.value,tipo:this.formAltaPelicula.get("tipo")?.value,cantidadPublico:this.formAltaPelicula.get("cantidadPublico")?.value,actor:this.formAltaPelicula.get("actor")?.value,fotoPelicula:this.formAltaPelicula.get("fotoPelicula")?.value};this.pelicula.crearPelicula(we).then(()=>{this.toastr.success("Pelicula creada correctamente","Guardado",{timeOut:1e3})}).catch(xe=>{this.toastr.error("Detalle: "+xe,"Error")}),this.router.navigate(["/busqueda"])}mostrarActor(we){this.actor=we,this.formAltaPelicula.controls.actor.setValue(this.actor)}}return ue.\u0275fac=function(we){return new(we||ue)(V.Y36(de.S),V.Y36(Le._W),V.Y36(g.F0),V.Y36(Ae.gg))},ue.\u0275cmp=V.Xpm({type:ue,selectors:[["app-alta-pelicula"]],decls:60,vars:10,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["name","author","content","Macarena Ferrero"],["role","main"],[1,"container"],[1,"row","mt-10","pt-5"],[1,"col-md-4","order-md-2","mb-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted","mt-5"],[3,"eventoActorSeleccionado"],[1,"col-md-8","order-md-1"],[1,"display-3","mt-3"],[3,"formGroup"],[1,"mb-3"],["for","nombre"],["type","text","id","nombre","placeholder","Nombre","value","","required","","formControlName","nombre",1,"form-control"],["class","text-danger form-floating",4,"ngIf"],["for","tipo"],["name","tipo","formControlName","tipo",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","cantidadPublico"],["type","number","name","cantidadPublico","placeholder","0","formControlName","cantidadPublico",1,"form-control"],["for","fechaEstreno"],["type","text","name","fechaEstreno","placeholder","12/11/1992","formControlName","fechaEstreno",1,"form-control"],["for","fotoPelicula"],[1,"text-muted"],["placeholder","Inserte URL","type","text","formControlName","fotoPelicula",1,"form-control"],["for","actor"],["type","text","name","actor","id","actor","readonly","","formControlName","actor",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],[1,"mb-4"],[1,"text-danger","form-floating"],[3,"value"]],template:function(we,xe){if(1&we&&(V._UZ(0,"router-outlet"),V.TgZ(1,"html",0)(2,"head"),V._UZ(3,"meta",1)(4,"meta",2)(5,"meta",3),V.TgZ(6,"title"),V._uU(7,"Alta Pelicula"),V.qZA()(),V.TgZ(8,"body")(9,"main",4)(10,"div",5)(11,"div",6)(12,"div",7),V._UZ(13,"app-nav"),V.TgZ(14,"h4",8)(15,"span",9),V._uU(16,"Actor"),V.qZA()(),V.TgZ(17,"app-tabla-actor",10),V.NdJ("eventoActorSeleccionado",function(De){return xe.mostrarActor(De)}),V.qZA()(),V.TgZ(18,"div",11)(19,"h1",12),V._uU(20,"Alta Pelicula"),V.qZA(),V.TgZ(21,"p"),V._uU(22,"Ingrese la informaci\xf3n solicitada de la pel\xedcula que desea agregar."),V.qZA(),V.TgZ(23,"form",13)(24,"div",14)(25,"label",15),V._uU(26,"Nombre"),V.qZA(),V._UZ(27,"input",16),V.YNc(28,Ye,2,0,"span",17),V.qZA(),V.TgZ(29,"div",14)(30,"label",18),V._uU(31,"G\xe9nero"),V.qZA(),V.TgZ(32,"select",19),V.YNc(33,pt,2,2,"option",20),V.qZA(),V.YNc(34,ve,2,0,"span",17),V.qZA(),V.TgZ(35,"div",14)(36,"label",21),V._uU(37,"Publico"),V.qZA(),V._UZ(38,"input",22),V.YNc(39,Rt,2,0,"span",17),V.qZA(),V.TgZ(40,"div",14)(41,"label",23),V._uU(42,"Estreno"),V.qZA(),V._UZ(43,"input",24),V.YNc(44,mt,2,0,"span",17),V.qZA(),V.TgZ(45,"div",14)(46,"label",25),V._uU(47,"Foto Pel\xedcula"),V.TgZ(48,"span",26),V._uU(49," (Opcional)"),V.qZA()(),V._UZ(50,"input",27),V.qZA(),V.TgZ(51,"div",14)(52,"label",28),V._uU(53,"Actor"),V.qZA(),V._UZ(54,"input",29),V.YNc(55,ln,2,0,"span",17),V.qZA(),V.TgZ(56,"button",30),V.NdJ("click",function(){return xe.registrar()}),V._uU(57,"Guardar"),V.qZA(),V._UZ(58,"hr",31),V.qZA()()()()(),V._UZ(59,"app-footer"),V.qZA()()),2&we){let he,De,et,wt,On;V.xp6(23),V.Q6J("formGroup",xe.formAltaPelicula),V.xp6(5),V.Q6J("ngIf",(null==(he=xe.formAltaPelicula.get("nombre"))?null:he.hasError("required"))&&(null==(he=xe.formAltaPelicula.get("nombre"))?null:he.touched)),V.xp6(5),V.Q6J("ngForOf",xe.opcionestipos),V.xp6(1),V.Q6J("ngIf",(null==(De=xe.formAltaPelicula.get("tipo"))?null:De.hasError("required"))&&(null==(De=xe.formAltaPelicula.get("tipo"))?null:De.touched)),V.xp6(5),V.Q6J("ngIf",(null==(et=xe.formAltaPelicula.get("cantidadPublico"))?null:et.hasError("required"))&&(null==(et=xe.formAltaPelicula.get("cantidadPublico"))?null:et.touched)),V.xp6(5),V.Q6J("ngIf",(null==(wt=xe.formAltaPelicula.get("fechaEstreno"))?null:wt.hasError("required"))&&(null==(wt=xe.formAltaPelicula.get("fechaEstreno"))?null:wt.touched)),V.xp6(10),V.hYB("value","",null==xe.actor?null:xe.actor.nombre," ",null==xe.actor?null:xe.actor.apellido,""),V.xp6(1),V.Q6J("ngIf",(null==(On=xe.formAltaPelicula.get("actor"))?null:On.hasError("required"))&&(null==(On=xe.formAltaPelicula.get("actor"))?null:On.touched)),V.xp6(1),V.Q6J("disabled",xe.formAltaPelicula.invalid)}},dependencies:[ut.sg,ut.O5,Xe.r,fe.c,$._Y,$.YN,$.Kr,$.Fj,$.wV,$.EJ,$.JJ,$.JL,$.Q7,$.sg,$.u,g.lC,ye.T]}),ue})();var an=K(727);let St=(()=>{class ue{constructor(we){this.peliculaAborrar=we,this.onPeliculaABorrar=new V.vpe}ngOnInit(){}borrarPelicula(we){this.peliculaAborrar.deletePelicula(we.id??""),this.onPeliculaABorrar.emit(we)}}return ue.\u0275fac=function(we){return new(we||ue)(V.Y36(de.S))},ue.\u0275cmp=V.Xpm({type:ue,selectors:[["app-borrar-pelicula"]],inputs:{peliculaMostrar:"peliculaMostrar"},outputs:{onPeliculaABorrar:"onPeliculaABorrar"},decls:6,vars:0,consts:[[1,"btn","btn-outline-danger",3,"click"]],template:function(we,xe){1&we&&(V.TgZ(0,"h2"),V._uU(1,"Borrar pelicula"),V.qZA(),V.TgZ(2,"p"),V._uU(3,"Eliminar pelicula seleccionada."),V.qZA(),V.TgZ(4,"button",0),V.NdJ("click",function(){return xe.borrarPelicula(xe.peliculaMostrar)}),V._uU(5,"Borrar Pelicula"),V.qZA())}}),ue})(),ot=(()=>{class ue{constructor(){this.onPeliculaAMostrar=new V.vpe}ngOnInit(){}}return ue.\u0275fac=function(we){return new(we||ue)},ue.\u0275cmp=V.Xpm({type:ue,selectors:[["app-detalle-pelicula"]],inputs:{peliculaMostrar:"peliculaMostrar"},outputs:{onPeliculaAMostrar:"onPeliculaAMostrar"},decls:14,vars:5,consts:[["width","100px",3,"src"]],template:function(we,xe){1&we&&(V.TgZ(0,"strong")(1,"h3"),V._uU(2),V.qZA()(),V._UZ(3,"img",0)(4,"br")(5,"br"),V.TgZ(6,"span"),V._uU(7),V.qZA(),V._UZ(8,"br")(9,"br"),V.TgZ(10,"p"),V._uU(11),V.qZA(),V.TgZ(12,"p"),V._uU(13),V.qZA()),2&we&&(V.xp6(2),V.hij("",xe.peliculaMostrar.nombre," "),V.xp6(1),V.Q6J("src",xe.peliculaMostrar.fotoPelicula,V.LSH),V.xp6(4),V.hij("Genero: ",xe.peliculaMostrar.tipo," "),V.xp6(4),V.hij("Publico: ",xe.peliculaMostrar.cantidadPublico," "),V.xp6(2),V.hij("Estreno: ",xe.peliculaMostrar.fechaEstreno," "))}}),ue})();function Oe(ue,$e){1&ue&&(V.TgZ(0,"span",14),V._uU(1,"El nombre es requerido"),V.qZA())}function ht(ue,$e){if(1&ue&&(V.TgZ(0,"option",15),V._uU(1),V.qZA()),2&ue){const we=$e.$implicit;V.Q6J("value",we),V.xp6(1),V.Oqu(we)}}function Lt(ue,$e){1&ue&&(V.TgZ(0,"span",14),V._uU(1,"El tipo es requerido"),V.qZA())}function He(ue,$e){1&ue&&(V.TgZ(0,"span",14),V._uU(1,"La cantidad de p\xfablico es requerida"),V.qZA())}function kt(ue,$e){1&ue&&(V.TgZ(0,"span",14),V._uU(1,"La fecha de estreno es requerida"),V.qZA())}let rt=(()=>{class ue{constructor(we,xe,he){this.peliculaModificada=we,this.toastr=xe,this.router=he,this.onPeliculaAModificar=new V.vpe,this.opcionestipos=Object.values(j)}ngOnInit(){this.formModificarPelicula=new $.cw({nombre:new $.NI("",[$.kI.required]),fechaEstreno:new $.NI("",[$.kI.required]),cantidadPublico:new $.NI("",$.kI.required),tipo:new $.NI("",$.kI.required)})}updatePelicula(){console.log("Actualizando pel\xedcula");const we={id:this.peliculaMostrar.id,nombre:this.formModificarPelicula.get("nombre")?.value,fechaEstreno:this.formModificarPelicula.get("fechaEstreno")?.value,cantidadPublico:this.formModificarPelicula.get("cantidadPublico")?.value,tipo:this.formModificarPelicula.get("tipo")?.value};this.peliculaModificada.updatePelicula(we).then(()=>{this.toastr.success("Pelicula guardada correctamente","Guardado",{timeOut:1e3})}).catch(xe=>{this.toastr.error("Detalle "+xe,"Error")}),this.router.navigate(["/busqueda"])}}return ue.\u0275fac=function(we){return new(we||ue)(V.Y36(de.S),V.Y36(Le._W),V.Y36(g.F0))},ue.\u0275cmp=V.Xpm({type:ue,selectors:[["app-modificar-pelicula"]],inputs:{peliculaMostrar:"peliculaMostrar"},outputs:{onPeliculaAModificar:"onPeliculaAModificar"},decls:31,vars:11,consts:[[3,"formGroup"],[1,"form-group","row"],["for","nombre",1,"col-sm-2","col-form-label"],[1,"col-sm-6"],["type","text","name","nombre","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger form-floating",4,"ngIf"],["for","tipo",1,"col-sm-2","col-form-label"],["name","tipo","formControlName","tipo",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","cantidadPublico",1,"col-sm-2","col-form-label"],["type","number","name","cantidadPublico","formControlName","cantidadPublico",1,"form-control",3,"ngModel","ngModelChange"],["for","fechaEstreno",1,"col-sm-2","col-form-label"],["type","text","name","fechaEstreno","formControlName","fechaEstreno",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-success",3,"disabled","click"],[1,"text-danger","form-floating"],[3,"value"]],template:function(we,xe){if(1&we&&(V.TgZ(0,"h2"),V._uU(1,"Modificar Pelicula"),V.qZA(),V.TgZ(2,"div")(3,"form",0)(4,"div",1)(5,"label",2),V._uU(6,"Nombre"),V.qZA(),V.TgZ(7,"div",3)(8,"input",4),V.NdJ("ngModelChange",function(De){return xe.peliculaMostrar.nombre=De}),V.qZA(),V.YNc(9,Oe,2,0,"span",5),V.qZA()(),V.TgZ(10,"div",1)(11,"label",6),V._uU(12,"G\xe9nero"),V.qZA(),V.TgZ(13,"div",3)(14,"select",7),V.NdJ("ngModelChange",function(De){return xe.peliculaMostrar.tipo=De}),V.YNc(15,ht,2,2,"option",8),V.qZA(),V.YNc(16,Lt,2,0,"span",5),V.qZA()(),V.TgZ(17,"div",1)(18,"label",9),V._uU(19,"Publico"),V.qZA(),V.TgZ(20,"div",3)(21,"input",10),V.NdJ("ngModelChange",function(De){return xe.peliculaMostrar.cantidadPublico=De}),V.qZA(),V.YNc(22,He,2,0,"span",5),V.qZA()(),V.TgZ(23,"div",1)(24,"label",11),V._uU(25,"Estreno"),V.qZA(),V.TgZ(26,"div",3)(27,"input",12),V.NdJ("ngModelChange",function(De){return xe.peliculaMostrar.fechaEstreno=De}),V.qZA(),V.YNc(28,kt,2,0,"span",5),V.qZA()(),V.TgZ(29,"button",13),V.NdJ("click",function(){return xe.updatePelicula()}),V._uU(30,"Guardar"),V.qZA()()()),2&we){let he,De,et,wt;V.xp6(3),V.Q6J("formGroup",xe.formModificarPelicula),V.xp6(5),V.Q6J("ngModel",xe.peliculaMostrar.nombre),V.xp6(1),V.Q6J("ngIf",(null==(he=xe.formModificarPelicula.get("nombre"))?null:he.hasError("required"))&&(null==(he=xe.formModificarPelicula.get("nombre"))?null:he.touched)),V.xp6(5),V.Q6J("ngModel",xe.peliculaMostrar.tipo),V.xp6(1),V.Q6J("ngForOf",xe.opcionestipos),V.xp6(1),V.Q6J("ngIf",(null==(De=xe.formModificarPelicula.get("tipo"))?null:De.hasError("required"))&&(null==(De=xe.formModificarPelicula.get("tipo"))?null:De.touched)),V.xp6(5),V.Q6J("ngModel",xe.peliculaMostrar.cantidadPublico),V.xp6(1),V.Q6J("ngIf",(null==(et=xe.formModificarPelicula.get("cantidadPublico"))?null:et.hasError("required"))&&(null==(et=xe.formModificarPelicula.get("cantidadPublico"))?null:et.touched)),V.xp6(5),V.Q6J("ngModel",xe.peliculaMostrar.fechaEstreno),V.xp6(1),V.Q6J("ngIf",(null==(wt=xe.formModificarPelicula.get("fechaEstreno"))?null:wt.hasError("required"))&&(null==(wt=xe.formModificarPelicula.get("fechaEstreno"))?null:wt.touched)),V.xp6(1),V.Q6J("disabled",xe.formModificarPelicula.invalid)}},dependencies:[ut.sg,ut.O5,$._Y,$.YN,$.Kr,$.Fj,$.wV,$.EJ,$.JJ,$.JL,$.sg,$.u]}),ue})();var Ut=K(8731);function Yt(ue,$e){if(1&ue&&V._UZ(0,"app-detalle-pelicula",15),2&ue){const we=V.oxw();V.Q6J("peliculaMostrar",we.peliculaMostrar)}}function dt(ue,$e){if(1&ue){const we=V.EpF();V.TgZ(0,"app-modificar-pelicula",16),V.NdJ("onPeliculaAModificar",function(he){V.CHM(we);const De=V.oxw();return V.KtG(De.modificarPelicula(he))}),V.qZA()}if(2&ue){const we=V.oxw();V.Q6J("peliculaMostrar",we.peliculaMostrar)}}function Vt(ue,$e){if(1&ue){const we=V.EpF();V.TgZ(0,"app-borrar-pelicula",17),V.NdJ("onPeliculaABorrar",function(he){V.CHM(we);const De=V.oxw();return V.KtG(De.borrarPelicula(he))}),V.qZA()}if(2&ue){const we=V.oxw();V.Q6J("peliculaMostrar",we.peliculaMostrar)}}function Me(ue,$e){if(1&ue&&(V.TgZ(0,"tr")(1,"td"),V._uU(2),V.qZA(),V.TgZ(3,"td"),V._uU(4),V.qZA(),V.TgZ(5,"td"),V._uU(6),V.qZA(),V.TgZ(7,"td"),V._uU(8),V.qZA()()),2&ue){const we=V.oxw();V.xp6(2),V.Oqu(we.peliculaMostrar.nombre),V.xp6(2),V.Oqu(we.peliculaMostrar.fechaEstreno),V.xp6(2),V.Oqu(we.peliculaMostrar.cantidadPublico),V.xp6(2),V.Oqu(we.peliculaMostrar.tipo)}}const ke=[{path:"",component:(()=>{class ue{mostrarPelicula(we){this.peliculaMostrar=we,this.hayPeliculaAmostrar=!0}constructor(we,xe){this.peliculaService=we,this.toastr=xe,this.peliculas=[],this.suscripcion=new an.w0,this.hayPeliculaAmostrar=!1,this.mostrarBoton=!0,this.borrarPelicula=he=>{const De=this.peliculas.filter(et=>et.id!==he.id);this.peliculas=De,this.hayPeliculaAmostrar=!1},this.modificarPelicula=he=>{const De=this.peliculas.map(et=>et);this.peliculas=De,this.hayPeliculaAmostrar=!1}}getPeliculas(){this.suscripcion=this.peliculaService.getPeliculas().subscribe(we=>{this.peliculas=[],we.forEach(xe=>{this.peliculas.push({...xe})})}),this.hayPeliculaAmostrar=!1,this.peliculaMostrar=void 0,this.toastr.success("Peliculas cargadas correctamente","Cargado",{timeOut:1e3})}ngOnInit(){this.getPeliculas()}ngOnDestroy(){this.suscripcion.unsubscribe()}}return ue.\u0275fac=function(we){return new(we||ue)(V.Y36(de.S),V.Y36(Le._W))},ue.\u0275cmp=V.Xpm({type:ue,selectors:[["app-busqueda"]],decls:27,vars:5,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],[3,"mostrarBoton","listadoPeliculas","peliculaSeleccionada"],[1,"row"],[1,"col-md-4"],[3,"peliculaMostrar",4,"ngIf"],[1,"col-md-6"],[3,"peliculaMostrar","onPeliculaAModificar",4,"ngIf"],[1,"col-md-2"],[3,"peliculaMostrar","onPeliculaABorrar",4,"ngIf"],[3,"peliculaMostrar"],[3,"peliculaMostrar","onPeliculaAModificar"],[3,"peliculaMostrar","onPeliculaABorrar"]],template:function(we,xe){1&we&&(V._UZ(0,"router-outlet"),V.TgZ(1,"html",0)(2,"head"),V._UZ(3,"meta",1)(4,"meta",2),V.TgZ(5,"title"),V._uU(6,"Tabla Peliculas"),V.qZA()(),V.TgZ(7,"body")(8,"main",3),V._UZ(9,"app-nav"),V.TgZ(10,"div",4)(11,"div",5)(12,"h1",6),V._uU(13,"Listado Peliculas"),V.qZA(),V.TgZ(14,"p"),V._uU(15,"Selecciona la pelicula que quieres ver, editar o borrar"),V.qZA(),V.TgZ(16,"app-tabla-pelicula",7),V.NdJ("peliculaSeleccionada",function(De){return xe.mostrarPelicula(De)}),V.qZA()()(),V.TgZ(17,"div",5)(18,"div",8)(19,"div",9),V.YNc(20,Yt,1,1,"app-detalle-pelicula",10),V.qZA(),V.TgZ(21,"div",11),V.YNc(22,dt,1,1,"app-modificar-pelicula",12),V.qZA(),V.TgZ(23,"div",13),V.YNc(24,Vt,1,1,"app-borrar-pelicula",14),V.qZA()(),V._UZ(25,"hr"),V.qZA()(),V._UZ(26,"app-footer"),V.qZA()()),2&we&&(V.xp6(16),V.Q6J("mostrarBoton",!0)("listadoPeliculas",xe.peliculas),V.xp6(4),V.Q6J("ngIf",xe.hayPeliculaAmostrar),V.xp6(2),V.Q6J("ngIf",xe.hayPeliculaAmostrar),V.xp6(2),V.Q6J("ngIf",xe.hayPeliculaAmostrar))},dependencies:[ut.O5,Xe.r,fe.c,g.lC,St,ot,rt,Ut.k]}),ue})()},{path:"pelicula/listadoPeliculas",component:(()=>{class ue{constructor(){this.listadoPeliculas=[]}}return ue.\u0275fac=function(we){return new(we||ue)},ue.\u0275cmp=V.Xpm({type:ue,selectors:[["app-listado-peliculas"]],decls:13,vars:1,consts:[[1,"table"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(we,xe){1&we&&(V.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),V._uU(4,"Nombre"),V.qZA(),V.TgZ(5,"th",1),V._uU(6,"Estreno"),V.qZA(),V.TgZ(7,"th",1),V._uU(8,"P\xfablico"),V.qZA(),V.TgZ(9,"th",1),V._uU(10,"Tipo"),V.qZA()(),V.YNc(11,Me,9,4,"tr",2),V.qZA(),V._UZ(12,"tbody"),V.qZA()),2&we&&(V.xp6(11),V.Q6J("ngForOf",xe.listadoPeliculas))},dependencies:[ut.sg]}),ue})()},{path:"pelicula/altaPelicula",component:nn}];let Et=(()=>{class ue{}return ue.\u0275fac=function(we){return new(we||ue)},ue.\u0275mod=V.oAB({type:ue}),ue.\u0275inj=V.cJS({imports:[g.Bz.forChild(ke),g.Bz]}),ue})()},4192:(yn,ct,K)=>{K.r(ct),K.d(ct,{PeliculasModule:()=>Ye});var g=K(6895),$=K(529),j=K(3692),V=K(4102),de=K(433),Le=K(5450),Ae=K(7185),ut=K(2340),Xe=K(4466),fe=K(9778),ye=K(8256);let Ye=(()=>{class pt{}return pt.\u0275fac=function(Rt){return new(Rt||pt)},pt.\u0275mod=ye.oAB({type:pt}),pt.\u0275inj=ye.cJS({imports:[g.ez,$.JF,Ae.Rh,Xe.m,de.u5,de.UX,Le.Bz,fe.R,(0,j.hX)(()=>(0,j.ZF)(ut.N.firebase)),(0,V.Cm)(()=>(0,V.ad)())]}),pt})()},5379:(yn,ct,K)=>{K.d(ct,{T:()=>de});var g=K(8256),$=K(2274),j=K(6895);function V(Le,Ae){if(1&Le){const ut=g.EpF();g.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"button",3),g.NdJ("click",function(){const ye=g.CHM(ut).$implicit,Ye=g.oxw();return g.KtG(Ye.emitirActor(ye))}),g.TgZ(4,"h6"),g._uU(5),g.qZA()()()()()}if(2&Le){const ut=Ae.$implicit;g.xp6(5),g.AsE("",ut.nombre," ",ut.apellido,"")}}let de=(()=>{class Le{constructor(ut){this.actorService=ut,this.actores=[],this.eventoActorSeleccionado=new g.vpe}ngOnInit(){this.traerActores()}traerActores(){this.actores=[],this.actorService.getListadoActores().subscribe(ut=>{this.actores=[];for(let Xe=0;Xe<ut.length;Xe++){const fe=ut[Xe];this.actores.push({nombre:fe.nombre,apellido:fe.apellido,nacionalidad:fe.nacionalidad,direccion:fe.direccion,email:fe.email,username:fe.username})}})}emitirActor(ut){console.log("Actor clickeado "+ut.nombre),this.eventoActorSeleccionado.emit(ut)}onDestroy(){this.suscripcion.unsubscribe()}}return Le.\u0275fac=function(ut){return new(ut||Le)(g.Y36($.c))},Le.\u0275cmp=g.Xpm({type:Le,selectors:[["app-tabla-actor"]],outputs:{eventoActorSeleccionado:"eventoActorSeleccionado"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"mb-3","justify-content-between"],[1,"row"],[1,"btn","btn-outline-secondary","ml-3",2,"width","400px","position","relative",3,"click"]],template:function(ut,Xe){1&ut&&g.YNc(0,V,6,2,"div",0),2&ut&&g.Q6J("ngForOf",Xe.actores)},dependencies:[j.sg]}),Le})()},8731:(yn,ct,K)=>{K.d(ct,{k:()=>Le});var g=K(8256),$=K(6895);function j(Ae,ut){1&Ae&&(g.TgZ(0,"button",7),g._uU(1,"Seleccionar"),g.qZA())}function V(Ae,ut){if(1&Ae){const Xe=g.EpF();g.TgZ(0,"tr",4),g.NdJ("click",function(){const Ye=g.CHM(Xe).$implicit,pt=g.oxw(2);return g.KtG(pt.onPeliculaSeleccionada(Ye))}),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._UZ(10,"img",5),g.qZA(),g.TgZ(11,"td"),g.YNc(12,j,2,0,"button",6),g.qZA()()}if(2&Ae){const Xe=ut.$implicit,fe=g.oxw(2);g.xp6(2),g.Oqu(Xe.nombre),g.xp6(2),g.Oqu(Xe.tipo),g.xp6(2),g.Oqu(Xe.fechaEstreno),g.xp6(2),g.Oqu(Xe.cantidadPublico),g.xp6(2),g.Q6J("src",Xe.fotoPelicula,g.LSH),g.xp6(2),g.Q6J("ngIf",fe.mostrarBoton)}}function de(Ae,ut){if(1&Ae&&(g.TgZ(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),g._uU(4,"Nombre"),g.qZA(),g.TgZ(5,"th",2),g._uU(6,"Tipo"),g.qZA(),g.TgZ(7,"th",2),g._uU(8,"Estreno"),g.qZA(),g.TgZ(9,"th",2),g._uU(10,"Vistas"),g.qZA(),g.TgZ(11,"th",2),g._uU(12,"Foto"),g.qZA()()(),g.TgZ(13,"tbody"),g.YNc(14,V,13,6,"tr",3),g.qZA()()),2&Ae){const Xe=g.oxw();g.xp6(14),g.Q6J("ngForOf",Xe.listadoPeliculas)}}let Le=(()=>{class Ae{constructor(){this.listadoPeliculas=[],this.peliculaSeleccionada=new g.vpe,this.mostrarBoton=!1}onPeliculaSeleccionada(Xe){this.peliculaSeleccionada.emit(Xe),console.log(Xe.nombre)}ngOnInit(){}}return Ae.\u0275fac=function(Xe){return new(Xe||Ae)},Ae.\u0275cmp=g.Xpm({type:Ae,selectors:[["app-tabla-pelicula"]],inputs:{listadoPeliculas:"listadoPeliculas",mostrarBoton:"mostrarBoton"},outputs:{peliculaSeleccionada:"peliculaSeleccionada"},decls:1,vars:1,consts:[["class","table table-striped",4,"ngIf"],[1,"table","table-striped"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["width","80px",3,"src"],["class","btn btn-dark",4,"ngIf"],[1,"btn","btn-dark"]],template:function(Xe,fe){1&Xe&&g.YNc(0,de,15,1,"table",0),2&Xe&&g.Q6J("ngIf",null!=fe.listadoPeliculas)},dependencies:[$.sg,$.O5]}),Ae})()},2274:(yn,ct,K)=>{K.d(ct,{c:()=>j});var g=K(4102),$=K(8256);let j=(()=>{class V{constructor(Le){this.firestore=Le,this.coleccionActores=(0,g.hJ)(this.firestore,"actores")}crearActor(Le){return new Promise((Ae,ut)=>{const Xe=(0,g.JU)(this.coleccionActores);(0,g.pl)(Xe,{id:Xe.id,...Le}).then(()=>{Ae()}).catch(fe=>{ut(fe)})})}getListadoActores(){return(0,g.BS)(this.coleccionActores)}}return V.\u0275fac=function(Le){return new(Le||V)($.LFG(g.gg))},V.\u0275prov=$.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},3406:(yn,ct,K)=>{K.d(ct,{S:()=>j});var g=K(4102),$=K(8256);let j=(()=>{class V{constructor(Le){this.firestore=Le,this.coleccionPeliculas=(0,g.hJ)(this.firestore,"peliculas"),this.peliculas=[]}crearPelicula(Le){return new Promise((Ae,ut)=>{const Xe=(0,g.JU)(this.coleccionPeliculas);(0,g.pl)(Xe,{id:Xe.id,...Le}).then(()=>{Ae()}).catch(fe=>{ut(fe)})})}getPeliculas(){return(0,g.BS)(this.coleccionPeliculas)}deletePelicula(Le){const Ae=(0,g.JU)(this.coleccionPeliculas,Le);(0,g.oe)(Ae)}updatePelicula(Le){return new Promise((Ae,ut)=>{const Xe=(0,g.JU)(this.coleccionPeliculas,Le.id);(0,g.r7)(Xe,{nombre:Le.nombre,tipo:Le.tipo,fechaEstreno:Le.fechaEstreno,cantidadPublico:Le.cantidadPublico}).then(()=>{Ae()}).catch(fe=>{ut(fe)})})}}return V.\u0275fac=function(Le){return new(Le||V)($.LFG(g.gg))},V.\u0275prov=$.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},5227:(yn,ct,K)=>{K.d(ct,{c:()=>$});var g=K(8256);let $=(()=>{class j{constructor(){}ngOnInit(){}}return j.\u0275fac=function(de){return new(de||j)},j.\u0275cmp=g.Xpm({type:j,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"container"]],template:function(de,Le){1&de&&(g.TgZ(0,"footer",0)(1,"p"),g._uU(2,"\xa9 Ferrero Macarena 2023"),g.qZA()())}}),j})()},9273:(yn,ct,K)=>{K.d(ct,{r:()=>j});var g=K(8256),$=K(5450);let j=(()=>{class V{constructor(){}ngOnInit(){}}return V.\u0275fac=function(Le){return new(Le||V)},V.\u0275cmp=g.Xpm({type:V,selectors:[["app-nav"]],decls:23,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark","navigate"],["routerLink","/bienvenido",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","/busqueda",1,"nav-link"],[1,"sr-only"],["routerLink","/actor/actorPelicula",1,"nav-link"],[1,"nav-item"],["routerLink","/pelicula/altaPelicula",1,"nav-link"],["routerLink","/actor/altaActor","tabindex","-1",1,"nav-link"]],template:function(Le,Ae){1&Le&&(g.TgZ(0,"nav",0)(1,"a",1),g._uU(2,"Home"),g.qZA(),g.TgZ(3,"button",2),g._UZ(4,"span",3),g.qZA(),g.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),g._uU(9,"Busqueda Pel\xedculas"),g.TgZ(10,"span",8),g._uU(11,"(current)"),g.qZA()()(),g.TgZ(12,"li",6)(13,"a",9),g._uU(14,"Listado Actores"),g.TgZ(15,"span",8),g._uU(16,"(current)"),g.qZA()()(),g.TgZ(17,"li",10)(18,"a",11),g._uU(19,"Alta pelicula"),g.qZA()(),g.TgZ(20,"li",10)(21,"a",12),g._uU(22,"Alta actor"),g.qZA()()()()())},dependencies:[$.rH],styles:[".navigate[_ngcontent-%COMP%]{line-height:1.5}"]}),V})()},4466:(yn,ct,K)=>{K.d(ct,{m:()=>V});var g=K(6895),$=K(5450),j=K(8256);let V=(()=>{class de{}return de.\u0275fac=function(Ae){return new(Ae||de)},de.\u0275mod=j.oAB({type:de}),de.\u0275inj=j.cJS({imports:[g.ez,$.Bz]}),de})()},2340:(yn,ct,K)=>{K.d(ct,{N:()=>g});const g={firebase:{projectId:"primerparcialferrero",appId:"1:868285650537:web:9213cf8bad428e1426b4f8",storageBucket:"primerparcialferrero.appspot.com",apiKey:"AIzaSyBRH5eUOfRbraw3CtAOHWOsfPt8DR_yeKk",authDomain:"primerparcialferrero.firebaseapp.com",messagingSenderId:"868285650537"},production:!0,apiKey:"AIzaSyBRH5eUOfRbraw3CtAOHWOsfPt8DR_yeKk",authDomain:"primerparcialferrero.firebaseapp.com",projectId:"primerparcialferrero",storageBucket:"primerparcialferrero.appspot.com",messagingSenderId:"868285650537",appId:"1:868285650537:web:9213cf8bad428e1426b4f8"}},2933:(yn,ct,K)=>{var g=K(1481),$=K(8256),j=K(529),V=K(3692),de=K(4102),Le=K(414),Ae=K(8020),ut=K(259),Xe=K(2313),fe=K(5861),ye=K(2951),Ye=K(2090),pt=K(4859);const ve="firebasestorage.googleapis.com",Rt="storageBucket";class an extends Ye.ZR{constructor(d,m,I=0){super(ot(d),`Firebase Storage: ${m} (${ot(d)})`),this.status_=I,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,an.prototype)}get status(){return this.status_}set status(d){this.status_=d}_codeEquals(d){return ot(d)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(d){this.customData.serverResponse=d,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var St=(()=>{return(w=St||(St={})).UNKNOWN="unknown",w.OBJECT_NOT_FOUND="object-not-found",w.BUCKET_NOT_FOUND="bucket-not-found",w.PROJECT_NOT_FOUND="project-not-found",w.QUOTA_EXCEEDED="quota-exceeded",w.UNAUTHENTICATED="unauthenticated",w.UNAUTHORIZED="unauthorized",w.UNAUTHORIZED_APP="unauthorized-app",w.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",w.INVALID_CHECKSUM="invalid-checksum",w.CANCELED="canceled",w.INVALID_EVENT_NAME="invalid-event-name",w.INVALID_URL="invalid-url",w.INVALID_DEFAULT_BUCKET="invalid-default-bucket",w.NO_DEFAULT_BUCKET="no-default-bucket",w.CANNOT_SLICE_BLOB="cannot-slice-blob",w.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",w.NO_DOWNLOAD_URL="no-download-url",w.INVALID_ARGUMENT="invalid-argument",w.INVALID_ARGUMENT_COUNT="invalid-argument-count",w.APP_DELETED="app-deleted",w.INVALID_ROOT_OPERATION="invalid-root-operation",w.INVALID_FORMAT="invalid-format",w.INTERNAL_ERROR="internal-error",w.UNSUPPORTED_ENVIRONMENT="unsupported-environment",St;var w})();function ot(w){return"storage/"+w}function ue(w){return new an(St.INVALID_ARGUMENT,w)}function $e(){return new an(St.APP_DELETED,"The Firebase app was deleted.")}class De{constructor(d,m){this.bucket=d,this.path_=m}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const d=encodeURIComponent;return"/b/"+d(this.bucket)+"/o/"+d(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(d,m){let I;try{I=De.makeFromUrl(d,m)}catch{return new De(d,"")}if(""===I.path)return I;throw function Vt(w){return new an(St.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+w+"'.")}(d)}static makeFromUrl(d,m){let I=null;const k="([A-Za-z0-9.\\-_]+)",le=new RegExp("^gs://"+k+"(/(.*))?$","i");function Ze(Ar){Ar.path_=decodeURIComponent(Ar.path)}const jt=m.replace(/[.]/g,"\\."),zr=[{regex:le,indices:{bucket:1,path:3},postModify:function W(Ar){"/"===Ar.path.charAt(Ar.path.length-1)&&(Ar.path_=Ar.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${jt}/v[A-Za-z0-9_]+/b/${k}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ze},{regex:new RegExp(`^https?://${m===ve?"(?:storage.googleapis.com|storage.cloud.google.com)":m}/${k}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ze}];for(let Ar=0;Ar<zr.length;Ar++){const Ks=zr[Ar],ao=Ks.regex.exec(d);if(ao){let Bs=ao[Ks.indices.path];Bs||(Bs=""),I=new De(ao[Ks.indices.bucket],Bs),Ks.postModify(I);break}}if(null==I)throw function dt(w){return new an(St.INVALID_URL,"Invalid URL '"+w+"'.")}(d);return I}}class et{constructor(d){this.promise_=Promise.reject(d)}getPromise(){return this.promise_}cancel(d=!1){}}function jr(w,d,m,I){if(I<d)throw ue(`Invalid value for '${w}'. Expected ${d} or greater.`);if(I>m)throw ue(`Invalid value for '${w}'. Expected ${m} or less.`)}var Zn=(()=>{return(w=Zn||(Zn={}))[w.NO_ERROR=0]="NO_ERROR",w[w.NETWORK_ERROR=1]="NETWORK_ERROR",w[w.ABORT=2]="ABORT",Zn;var w})();class Jr{constructor(d,m,I,k,W,oe,le,Se,Ze,xt,jt,Cn=!0){this.url_=d,this.method_=m,this.headers_=I,this.body_=k,this.successCodes_=W,this.additionalRetryCodes_=oe,this.callback_=le,this.errorCallback_=Se,this.timeout_=Ze,this.progressCallback_=xt,this.connectionFactory_=jt,this.retry=Cn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Pn,_n)=>{this.resolve_=Pn,this.reject_=_n,this.start_()})}start_(){const m=(I,k)=>{const W=this.resolve_,oe=this.reject_,le=k.connection;if(k.wasSuccessCode)try{const Se=this.callback_(le,le.getResponse());!function xn(w){return void 0!==w}(Se)?W():W(Se)}catch(Se){oe(Se)}else if(null!==le){const Se=function Oe(){return new an(St.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();Se.serverResponse=le.getErrorText(),oe(this.errorCallback_?this.errorCallback_(le,Se):Se)}else oe(k.canceled?this.appDelete_?$e():function Yt(){return new an(St.CANCELED,"User canceled the upload/download.")}():function Ut(){return new an(St.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?m(0,new li(!1,null,!0)):this.backoffId_=function wt(w,d,m){let I=1,k=null,W=null,oe=!1,le=0;function Se(){return 2===le}let Ze=!1;function xt(...Hn){Ze||(Ze=!0,d.apply(null,Hn))}function jt(Hn){k=setTimeout(()=>{k=null,w(Pn,Se())},Hn)}function Cn(){W&&clearTimeout(W)}function Pn(Hn,...fr){if(Ze)return void Cn();if(Hn)return Cn(),void xt.call(null,Hn,...fr);if(Se()||oe)return Cn(),void xt.call(null,Hn,...fr);let zr;I<64&&(I*=2),1===le?(le=2,zr=0):zr=1e3*(I+Math.random()),jt(zr)}let _n=!1;function Sn(Hn){_n||(_n=!0,Cn(),!Ze&&(null!==k?(Hn||(le=2),clearTimeout(k),jt(0)):Hn||(le=1)))}return jt(0),W=setTimeout(()=>{oe=!0,Sn(!0)},m),Sn}((I,k)=>{if(k)return void I(!1,new li(!1,null,!0));const W=this.connectionFactory_();this.pendingConnection_=W;const oe=le=>{null!==this.progressCallback_&&this.progressCallback_(le.loaded,le.lengthComputable?le.total:-1)};null!==this.progressCallback_&&W.addUploadProgressListener(oe),W.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&W.removeUploadProgressListener(oe),this.pendingConnection_=null;const le=W.getErrorCode()===Zn.NO_ERROR,Se=W.getStatus();if(!le||function sr(w,d){const m=w>=500&&w<600,k=-1!==[408,429].indexOf(w),W=-1!==d.indexOf(w);return m||k||W}(Se,this.additionalRetryCodes_)&&this.retry){const xt=W.getErrorCode()===Zn.ABORT;return void I(!1,new li(!1,null,xt))}const Ze=-1!==this.successCodes_.indexOf(Se);I(!0,new li(Ze,W))})},m,this.timeout_)}getPromise(){return this.promise_}cancel(d){this.canceled_=!0,this.appDelete_=d||!1,null!==this.backoffId_&&function On(w){w(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class li{constructor(d,m,I){this.wasSuccessCode=d,this.connection=m,this.canceled=!!I}}class ei{constructor(d,m){this._service=d,this._location=m instanceof De?m:De.makeFromUrl(m,d.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(d,m){return new ei(d,m)}get root(){const d=new De(this._location.bucket,"");return this._newRef(this._service,d)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function _t(w){const d=w.lastIndexOf("/",w.length-2);return-1===d?w:w.slice(d+1)}(this._location.path)}get storage(){return this._service}get parent(){const d=function Pe(w){if(0===w.length)return null;const d=w.lastIndexOf("/");return-1===d?"":w.slice(0,d)}(this._location.path);if(null===d)return null;const m=new De(this._location.bucket,d);return new ei(this._service,m)}_throwIfRoot(d){if(""===this._location.path)throw function we(w){return new an(St.INVALID_ROOT_OPERATION,"The operation '"+w+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(d)}}function Ui(w,d){const m=d?.[Rt];return null==m?null:De.makeFromBucketSpec(m,w)}class Ai{constructor(d,m,I,k,W){this.app=d,this._authProvider=m,this._appCheckProvider=I,this._url=k,this._firebaseVersion=W,this._bucket=null,this._host=ve,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=k?De.makeFromBucketSpec(k,this._host):Ui(this._host,this.app.options)}get host(){return this._host}set host(d){this._host=d,this._bucket=null!=this._url?De.makeFromBucketSpec(this._url,d):Ui(d,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(d){jr("time",0,Number.POSITIVE_INFINITY,d),this._maxUploadRetryTime=d}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(d){jr("time",0,Number.POSITIVE_INFINITY,d),this._maxOperationRetryTime=d}_getAuthToken(){var d=this;return(0,fe.Z)(function*(){if(d._overrideAuthToken)return d._overrideAuthToken;const m=d._authProvider.getImmediate({optional:!0});if(m){const I=yield m.getToken();if(null!==I)return I.accessToken}return null})()}_getAppCheckToken(){var d=this;return(0,fe.Z)(function*(){const m=d._appCheckProvider.getImmediate({optional:!0});return m?(yield m.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(d=>d.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(d){return new ei(this,d)}_makeRequest(d,m,I,k,W=!0){if(this._deleted)return new et($e());{const oe=function It(w,d,m,I,k,W,oe=!0){const le=function en(w){const d=encodeURIComponent;let m="?";for(const I in w)w.hasOwnProperty(I)&&(m=m+(d(I)+"=")+d(w[I])+"&");return m=m.slice(0,-1),m}(w.urlParams),Se=w.url+le,Ze=Object.assign({},w.headers);return function xi(w,d){d&&(w["X-Firebase-GMPID"]=d)}(Ze,d),function gi(w,d){null!==d&&d.length>0&&(w.Authorization="Firebase "+d)}(Ze,m),function Hr(w,d){w["X-Firebase-Storage-Version"]="webjs/"+(d??"AppManager")}(Ze,W),function Vn(w,d){null!==d&&(w["X-Firebase-AppCheck"]=d)}(Ze,I),new Jr(Se,w.method,Ze,w.body,w.successCodes,w.additionalRetryCodes,w.handler,w.errorHandler,w.timeout,w.progressCallback,k,oe)}(d,this._appId,I,k,m,this._firebaseVersion,W);return this._requests.add(oe),oe.getPromise().then(()=>this._requests.delete(oe),()=>this._requests.delete(oe)),oe}}makeRequestWithTokens(d,m){var I=this;return(0,fe.Z)(function*(){const[k,W]=yield Promise.all([I._getAuthToken(),I._getAppCheckToken()]);return I._makeRequest(d,m,k,W).getPromise()})()}}const Hi="@firebase/storage",wi="storage";function As(w=(0,ye.Mq)(),d){w=(0,Ye.m9)(w);const I=(0,ye.qX)(w,wi).getImmediate({identifier:d}),k=(0,Ye.P0)("storage");return k&&function Nu(w,d,m,I={}){!function ys(w,d,m,I={}){w.host=`${d}:${m}`,w._protocol="http";const{mockUserToken:k}=I;k&&(w._overrideAuthToken="string"==typeof k?k:(0,Ye.Sg)(k,w.app.options.projectId))}(w,d,m,I)}(I,...k),I}function qs(w,{instanceIdentifier:d}){const m=w.getProvider("app").getImmediate(),I=w.getProvider("auth-internal"),k=w.getProvider("app-check-internal");return new Ai(m,I,k,d,ye.Jn)}!function Ho(){(0,ye.Xd)(new pt.wA(wi,qs,"PUBLIC").setMultipleInstances(!0)),(0,ye.KN)(Hi,"0.11.2",""),(0,ye.KN)(Hi,"0.11.2","esm2017")}();class ca{constructor(d){return d}}const Js="storage",mo=new $.OlP("angularfire2.storage-instances");function Xs(w){return(d,m)=>{const I=d.runOutsideAngular(()=>w(m));return new ca(I)}}const Ha={provide:class Ku{constructor(){return(0,Le.vb)(Js)}},deps:[[new $.FiY,mo]]},ts={provide:ca,useFactory:function yo(w,d){const m=(0,Le.JM)(Js,w,d);return m&&new ca(m)},deps:[[new $.FiY,mo],V.Ot]};let ns=(()=>{class w{constructor(){(0,ut.KN)("angularfire",Le.q4.full,"gcs")}}return w.\u0275fac=function(m){return new(m||w)},w.\u0275mod=$.oAB({type:w}),w.\u0275inj=$.cJS({providers:[ts,Ha]}),w})();function Zi(w,...d){return{ngModule:ns,providers:[{provide:mo,useFactory:Xs(w),multi:!0,deps:[$.R0b,$.zs3,Le.HU,V.z6,[new $.FiY,Ae.dh],[new $.FiY,Xe.nm],...d]}]}}const rs=(0,Le.u3)(As,!0);var Qi=K(433),kr=K(7340);function In(w){return new $.vHH(3e3,!1)}function cs(){return typeof window<"u"&&typeof window.document<"u"}function ga(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Es(w){switch(w.length){case 0:return new kr.ZN;case 1:return w[0];default:return new kr.ZE(w)}}function no(w,d,m,I,k=new Map,W=new Map){const oe=[],le=[];let Se=-1,Ze=null;if(I.forEach(xt=>{const jt=xt.get("offset"),Cn=jt==Se,Pn=Cn&&Ze||new Map;xt.forEach((_n,Sn)=>{let Hn=Sn,fr=_n;if("offset"!==Sn)switch(Hn=d.normalizePropertyName(Hn,oe),fr){case kr.k1:fr=k.get(Sn);break;case kr.l3:fr=W.get(Sn);break;default:fr=d.normalizeStyleValue(Sn,Hn,fr,oe)}Pn.set(Hn,fr)}),Cn||le.push(Pn),Ze=Pn,Se=jt}),oe.length)throw function Pa(w){return new $.vHH(3502,!1)}();return le}function Ka(w,d,m,I){switch(d){case"start":w.onStart(()=>I(m&&vo(m,"start",w)));break;case"done":w.onDone(()=>I(m&&vo(m,"done",w)));break;case"destroy":w.onDestroy(()=>I(m&&vo(m,"destroy",w)))}}function vo(w,d,m){const W=ws(w.element,w.triggerName,w.fromState,w.toState,d||w.phaseName,m.totalTime??w.totalTime,!!m.disabled),oe=w._data;return null!=oe&&(W._data=oe),W}function ws(w,d,m,I,k="",W=0,oe){return{element:w,triggerName:d,fromState:m,toState:I,phaseName:k,totalTime:W,disabled:!!oe}}function yi(w,d,m){let I=w.get(d);return I||w.set(d,I=m),I}function br(w){const d=w.indexOf(":");return[w.substring(1,d),w.slice(d+1)]}let Eo=(w,d)=>!1,si=(w,d,m)=>[],Za=null;function M(w){const d=w.parentNode||w.host;return d===Za?null:d}(ga()||typeof Element<"u")&&(cs()?(Za=(()=>document.documentElement)(),Eo=(w,d)=>{for(;d;){if(d===w)return!0;d=M(d)}return!1}):Eo=(w,d)=>w.contains(d),si=(w,d,m)=>{if(m)return Array.from(w.querySelectorAll(d));const I=w.querySelector(d);return I?[I]:[]});let Q=null,ge=!1;const Vr=Eo,ni=si;let qn=(()=>{class w{validateStyleProperty(m){return function nt(w){Q||(Q=function mn(){return typeof document<"u"?document.body:null}()||{},ge=!!Q.style&&"WebkitAppearance"in Q.style);let d=!0;return Q.style&&!function N(w){return"ebkit"==w.substring(1,6)}(w)&&(d=w in Q.style,!d&&ge&&(d="Webkit"+w.charAt(0).toUpperCase()+w.slice(1)in Q.style)),d}(m)}matchesElement(m,I){return!1}containsElement(m,I){return Vr(m,I)}getParentElement(m){return M(m)}query(m,I,k){return ni(m,I,k)}computeStyle(m,I,k){return k||""}animate(m,I,k,W,oe,le=[],Se){return new kr.ZN(k,W)}}return w.\u0275fac=function(m){return new(m||w)},w.\u0275prov=$.Yz7({token:w,factory:w.\u0275fac}),w})(),Wr=(()=>{class w{}return w.NOOP=new qn,w})();const rr=1e3,Rr="ng-enter",ds="ng-leave",Gr="ng-trigger",Yo=".ng-trigger",Nt="ng-animating",Cr=".ng-animating";function Ri(w){if("number"==typeof w)return w;const d=w.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:du(parseFloat(d[1]),d[2])}function du(w,d){return"s"===d?w*rr:w}function Xt(w,d,m){return w.hasOwnProperty("duration")?w:function vn(w,d,m){let k,W=0,oe="";if("string"==typeof w){const le=w.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===le)return d.push(In()),{duration:0,delay:0,easing:""};k=du(parseFloat(le[1]),le[2]);const Se=le[3];null!=Se&&(W=du(parseFloat(Se),le[4]));const Ze=le[5];Ze&&(oe=Ze)}else k=w;if(!m){let le=!1,Se=d.length;k<0&&(d.push(function U(){return new $.vHH(3100,!1)}()),le=!0),W<0&&(d.push(function F(){return new $.vHH(3101,!1)}()),le=!0),le&&d.splice(Se,0,In())}return{duration:k,delay:W,easing:oe}}(w,d,m)}function Ou(w,d={}){return Object.keys(w).forEach(m=>{d[m]=w[m]}),d}function Wt(w){const d=new Map;return Object.keys(w).forEach(m=>{d.set(m,w[m])}),d}function ri(w,d=new Map,m){if(m)for(let[I,k]of m)d.set(I,k);for(let[I,k]of w)d.set(I,k);return d}function hu(w,d,m){return m?d+":"+m+";":""}function hl(w){let d="";for(let m=0;m<w.style.length;m++){const I=w.style.item(m);d+=hu(0,I,w.style.getPropertyValue(I))}for(const m in w.style)w.style.hasOwnProperty(m)&&!m.startsWith("_")&&(d+=hu(0,bu(m),w.style[m]));w.setAttribute("style",d)}function Qo(w,d,m){w.style&&(d.forEach((I,k)=>{const W=Bn(k);m&&!m.has(k)&&m.set(k,w.style[W]),w.style[W]=I}),ga()&&hl(w))}function Na(w,d){w.style&&(d.forEach((m,I)=>{const k=Bn(I);w.style[k]=""}),ga()&&hl(w))}function Ya(w){return Array.isArray(w)?1==w.length?w[0]:(0,kr.vP)(w):w}const oi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Iu(w){let d=[];if("string"==typeof w){let m;for(;m=oi.exec(w);)d.push(m[1]);oi.lastIndex=0}return d}function ya(w,d,m){const I=w.toString(),k=I.replace(oi,(W,oe)=>{let le=d[oe];return null==le&&(m.push(function ee(w){return new $.vHH(3003,!1)}()),le=""),le.toString()});return k==I?w:k}function Qa(w){const d=[];let m=w.next();for(;!m.done;)d.push(m.value),m=w.next();return d}const Oa=/-+([a-z0-9])/g;function Bn(w){return w.replace(Oa,(...d)=>d[1].toUpperCase())}function bu(w){return w.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function un(w,d,m){switch(d.type){case 7:return w.visitTrigger(d,m);case 0:return w.visitState(d,m);case 1:return w.visitTransition(d,m);case 2:return w.visitSequence(d,m);case 3:return w.visitGroup(d,m);case 4:return w.visitAnimate(d,m);case 5:return w.visitKeyframes(d,m);case 6:return w.visitStyle(d,m);case 8:return w.visitReference(d,m);case 9:return w.visitAnimateChild(d,m);case 10:return w.visitAnimateRef(d,m);case 11:return w.visitQuery(d,m);case 12:return w.visitStagger(d,m);default:throw function st(w){return new $.vHH(3004,!1)}()}}function ro(w,d){return window.getComputedStyle(w)[d]}const _a="*";function Ms(w,d){const m=[];return"string"==typeof w?w.split(/\s*,\s*/).forEach(I=>function Fu(w,d,m){if(":"==w[0]){const Se=function Oo(w,d){switch(w){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,I)=>parseFloat(I)>parseFloat(m);case":decrement":return(m,I)=>parseFloat(I)<parseFloat(m);default:return d.push(function wu(w){return new $.vHH(3016,!1)}()),"* => *"}}(w,m);if("function"==typeof Se)return void d.push(Se);w=Se}const I=w.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==I||I.length<4)return m.push(function za(w){return new $.vHH(3015,!1)}()),d;const k=I[1],W=I[2],oe=I[3];d.push(_i(k,oe));"<"==W[0]&&!(k==_a&&oe==_a)&&d.push(_i(oe,k))}(I,m,d)):m.push(w),m}const Du=new Set(["true","1"]),va=new Set(["false","0"]);function _i(w,d){const m=Du.has(w)||va.has(w),I=Du.has(d)||va.has(d);return(k,W)=>{let oe=w==_a||w==k,le=d==_a||d==W;return!oe&&m&&"boolean"==typeof k&&(oe=k?Du.has(w):va.has(w)),!le&&I&&"boolean"==typeof W&&(le=W?Du.has(d):va.has(d)),oe&&le}}const Xa=new RegExp("s*:selfs*,?","g");function Cu(w,d,m,I){return new zi(w).build(d,m,I)}class zi{constructor(d){this._driver=d}build(d,m,I){const k=new ar(m);return this._resetContextStyleTimingState(k),un(this,Ya(d),k)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,m){let I=m.queryCount=0,k=m.depCount=0;const W=[],oe=[];return"@"==d.name.charAt(0)&&m.errors.push(function Pr(){return new $.vHH(3006,!1)}()),d.definitions.forEach(le=>{if(this._resetContextStyleTimingState(m),0==le.type){const Se=le,Ze=Se.name;Ze.toString().split(/\s*,\s*/).forEach(xt=>{Se.name=xt,W.push(this.visitState(Se,m))}),Se.name=Ze}else if(1==le.type){const Se=this.visitTransition(le,m);I+=Se.queryCount,k+=Se.depCount,oe.push(Se)}else m.errors.push(function Vi(){return new $.vHH(3007,!1)}())}),{type:7,name:d.name,states:W,transitions:oe,queryCount:I,depCount:k,options:null}}visitState(d,m){const I=this.visitStyle(d.styles,m),k=d.options&&d.options.params||null;if(I.containsDynamicStyles){const W=new Set,oe=k||{};I.styles.forEach(le=>{le instanceof Map&&le.forEach(Se=>{Iu(Se).forEach(Ze=>{oe.hasOwnProperty(Ze)||W.add(Ze)})})}),W.size&&(Qa(W.values()),m.errors.push(function Tt(w,d){return new $.vHH(3008,!1)}()))}return{type:0,name:d.name,style:I,options:k?{params:k}:null}}visitTransition(d,m){m.queryCount=0,m.depCount=0;const I=un(this,Ya(d.animation),m);return{type:1,matchers:Ms(d.expr,m.errors),animation:I,queryCount:m.queryCount,depCount:m.depCount,options:ki(d.options)}}visitSequence(d,m){return{type:2,steps:d.steps.map(I=>un(this,I,m)),options:ki(d.options)}}visitGroup(d,m){const I=m.currentTime;let k=0;const W=d.steps.map(oe=>{m.currentTime=I;const le=un(this,oe,m);return k=Math.max(k,m.currentTime),le});return m.currentTime=k,{type:3,steps:W,options:ki(d.options)}}visitAnimate(d,m){const I=function Au(w,d){if(w.hasOwnProperty("duration"))return w;if("number"==typeof w)return Lu(Xt(w,d).duration,0,"");const m=w;if(m.split(/\s+/).some(W=>"{"==W.charAt(0)&&"{"==W.charAt(1))){const W=Lu(0,0,"");return W.dynamic=!0,W.strValue=m,W}const k=Xt(m,d);return Lu(k.duration,k.delay,k.easing)}(d.timings,m.errors);m.currentAnimateTimings=I;let k,W=d.styles?d.styles:(0,kr.oB)({});if(5==W.type)k=this.visitKeyframes(W,m);else{let oe=d.styles,le=!1;if(!oe){le=!0;const Ze={};I.easing&&(Ze.easing=I.easing),oe=(0,kr.oB)(Ze)}m.currentTime+=I.duration+I.delay;const Se=this.visitStyle(oe,m);Se.isEmptyStep=le,k=Se}return m.currentAnimateTimings=null,{type:4,timings:I,style:k,options:null}}visitStyle(d,m){const I=this._makeStyleAst(d,m);return this._validateStyleAst(I,m),I}_makeStyleAst(d,m){const I=[],k=Array.isArray(d.styles)?d.styles:[d.styles];for(let le of k)"string"==typeof le?le===kr.l3?I.push(le):m.errors.push(new $.vHH(3002,!1)):I.push(Wt(le));let W=!1,oe=null;return I.forEach(le=>{if(le instanceof Map&&(le.has("easing")&&(oe=le.get("easing"),le.delete("easing")),!W))for(let Se of le.values())if(Se.toString().indexOf("{{")>=0){W=!0;break}}),{type:6,styles:I,easing:oe,offset:d.offset,containsDynamicStyles:W,options:null}}_validateStyleAst(d,m){const I=m.currentAnimateTimings;let k=m.currentTime,W=m.currentTime;I&&W>0&&(W-=I.duration+I.delay),d.styles.forEach(oe=>{"string"!=typeof oe&&oe.forEach((le,Se)=>{const Ze=m.collectedStyles.get(m.currentQuerySelector),xt=Ze.get(Se);let jt=!0;xt&&(W!=k&&W>=xt.startTime&&k<=xt.endTime&&(m.errors.push(function eo(w,d,m,I,k){return new $.vHH(3010,!1)}()),jt=!1),W=xt.startTime),jt&&Ze.set(Se,{startTime:W,endTime:k}),m.options&&function ma(w,d,m){const I=d.params||{},k=Iu(w);k.length&&k.forEach(W=>{I.hasOwnProperty(W)||m.push(function O(w){return new $.vHH(3001,!1)}())})}(le,m.options,m.errors)})})}visitKeyframes(d,m){const I={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function Ti(){return new $.vHH(3011,!1)}()),I;let W=0;const oe=[];let le=!1,Se=!1,Ze=0;const xt=d.steps.map(fr=>{const pr=this._makeStyleAst(fr,m);let zr=null!=pr.offset?pr.offset:function Yu(w){if("string"==typeof w)return null;let d=null;if(Array.isArray(w))w.forEach(m=>{if(m instanceof Map&&m.has("offset")){const I=m;d=parseFloat(I.get("offset")),I.delete("offset")}});else if(w instanceof Map&&w.has("offset")){const m=w;d=parseFloat(m.get("offset")),m.delete("offset")}return d}(pr.styles),Ar=0;return null!=zr&&(W++,Ar=pr.offset=zr),Se=Se||Ar<0||Ar>1,le=le||Ar<Ze,Ze=Ar,oe.push(Ar),pr});Se&&m.errors.push(function Aa(){return new $.vHH(3012,!1)}()),le&&m.errors.push(function Ss(){return new $.vHH(3200,!1)}());const jt=d.steps.length;let Cn=0;W>0&&W<jt?m.errors.push(function Ii(){return new $.vHH(3202,!1)}()):0==W&&(Cn=1/(jt-1));const Pn=jt-1,_n=m.currentTime,Sn=m.currentAnimateTimings,Hn=Sn.duration;return xt.forEach((fr,pr)=>{const zr=Cn>0?pr==Pn?1:Cn*pr:oe[pr],Ar=zr*Hn;m.currentTime=_n+Sn.delay+Ar,Sn.duration=Ar,this._validateStyleAst(fr,m),fr.offset=zr,I.styles.push(fr)}),I}visitReference(d,m){return{type:8,animation:un(this,Ya(d.animation),m),options:ki(d.options)}}visitAnimateChild(d,m){return m.depCount++,{type:9,options:ki(d.options)}}visitAnimateRef(d,m){return{type:10,animation:this.visitReference(d.animation,m),options:ki(d.options)}}visitQuery(d,m){const I=m.currentQuerySelector,k=d.options||{};m.queryCount++,m.currentQuery=d;const[W,oe]=function Qe(w){const d=!!w.split(/\s*,\s*/).find(m=>":self"==m);return d&&(w=w.replace(Xa,"")),w=w.replace(/@\*/g,Yo).replace(/@\w+/g,m=>Yo+"-"+m.slice(1)).replace(/:animating/g,Cr),[w,d]}(d.selector);m.currentQuerySelector=I.length?I+" "+W:W,yi(m.collectedStyles,m.currentQuerySelector,new Map);const le=un(this,Ya(d.animation),m);return m.currentQuery=null,m.currentQuerySelector=I,{type:11,selector:W,limit:k.limit||0,optional:!!k.optional,includeSelf:oe,animation:le,originalSelector:d.selector,options:ki(d.options)}}visitStagger(d,m){m.currentQuery||m.errors.push(function Sa(){return new $.vHH(3013,!1)}());const I="full"===d.timings?{duration:0,delay:0,easing:"full"}:Xt(d.timings,m.errors,!0);return{type:12,animation:un(this,Ya(d.animation),m),timings:I,options:null}}}class ar{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ki(w){return w?(w=Ou(w)).params&&(w.params=function eu(w){return w?Ou(w):null}(w.params)):w={},w}function Lu(w,d,m){return{duration:w,delay:d,easing:m}}function fu(w,d,m,I,k,W,oe=null,le=!1){return{type:1,element:w,keyframes:d,preStyleProps:m,postStyleProps:I,duration:k,delay:W,totalTime:k+W,easing:oe,subTimeline:le}}class Qu{constructor(){this._map=new Map}get(d){return this._map.get(d)||[]}append(d,m){let I=this._map.get(d);I||this._map.set(d,I=[]),I.push(...m)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const Xc=new RegExp(":enter","g"),fi=new RegExp(":leave","g");function tu(w,d,m,I,k,W=new Map,oe=new Map,le,Se,Ze=[]){return(new nu).buildKeyframes(w,d,m,I,k,W,oe,le,Se,Ze)}class nu{buildKeyframes(d,m,I,k,W,oe,le,Se,Ze,xt=[]){Ze=Ze||new Qu;const jt=new Us(d,m,Ze,k,W,xt,[]);jt.options=Se;const Cn=Se.delay?Ri(Se.delay):0;jt.currentTimeline.delayNextStep(Cn),jt.currentTimeline.setStyles([oe],null,jt.errors,Se),un(this,I,jt);const Pn=jt.timelines.filter(_n=>_n.containsAnimation());if(Pn.length&&le.size){let _n;for(let Sn=Pn.length-1;Sn>=0;Sn--){const Hn=Pn[Sn];if(Hn.element===m){_n=Hn;break}}_n&&!_n.allowOnlyTimelineStyles()&&_n.setStyles([le],null,jt.errors,Se)}return Pn.length?Pn.map(_n=>_n.buildKeyframes()):[fu(m,[],[],[],0,Cn,"",!1)]}visitTrigger(d,m){}visitState(d,m){}visitTransition(d,m){}visitAnimateChild(d,m){const I=m.subInstructions.get(m.element);if(I){const k=m.createSubContext(d.options),W=m.currentTimeline.currentTime,oe=this._visitSubInstructions(I,k,k.options);W!=oe&&m.transformIntoNewTimeline(oe)}m.previousNode=d}visitAnimateRef(d,m){const I=m.createSubContext(d.options);I.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],m,I),this.visitReference(d.animation,I),m.transformIntoNewTimeline(I.currentTimeline.currentTime),m.previousNode=d}_applyAnimationRefDelays(d,m,I){for(const k of d){const W=k?.delay;if(W){const oe="number"==typeof W?W:Ri(ya(W,k?.params??{},m.errors));I.delayNextStep(oe)}}}_visitSubInstructions(d,m,I){let W=m.currentTimeline.currentTime;const oe=null!=I.duration?Ri(I.duration):null,le=null!=I.delay?Ri(I.delay):null;return 0!==oe&&d.forEach(Se=>{const Ze=m.appendInstructionToTimeline(Se,oe,le);W=Math.max(W,Ze.duration+Ze.delay)}),W}visitReference(d,m){m.updateOptions(d.options,!0),un(this,d.animation,m),m.previousNode=d}visitSequence(d,m){const I=m.subContextCount;let k=m;const W=d.options;if(W&&(W.params||W.delay)&&(k=m.createSubContext(W),k.transformIntoNewTimeline(),null!=W.delay)){6==k.previousNode.type&&(k.currentTimeline.snapshotCurrentStyles(),k.previousNode=Ji);const oe=Ri(W.delay);k.delayNextStep(oe)}d.steps.length&&(d.steps.forEach(oe=>un(this,oe,k)),k.currentTimeline.applyStylesToKeyframe(),k.subContextCount>I&&k.transformIntoNewTimeline()),m.previousNode=d}visitGroup(d,m){const I=[];let k=m.currentTimeline.currentTime;const W=d.options&&d.options.delay?Ri(d.options.delay):0;d.steps.forEach(oe=>{const le=m.createSubContext(d.options);W&&le.delayNextStep(W),un(this,oe,le),k=Math.max(k,le.currentTimeline.currentTime),I.push(le.currentTimeline)}),I.forEach(oe=>m.currentTimeline.mergeTimelineCollectedStyles(oe)),m.transformIntoNewTimeline(k),m.previousNode=d}_visitTiming(d,m){if(d.dynamic){const I=d.strValue;return Xt(m.params?ya(I,m.params,m.errors):I,m.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,m){const I=m.currentAnimateTimings=this._visitTiming(d.timings,m),k=m.currentTimeline;I.delay&&(m.incrementTime(I.delay),k.snapshotCurrentStyles());const W=d.style;5==W.type?this.visitKeyframes(W,m):(m.incrementTime(I.duration),this.visitStyle(W,m),k.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=d}visitStyle(d,m){const I=m.currentTimeline,k=m.currentAnimateTimings;!k&&I.hasCurrentStyleProperties()&&I.forwardFrame();const W=k&&k.easing||d.easing;d.isEmptyStep?I.applyEmptyStep(W):I.setStyles(d.styles,W,m.errors,m.options),m.previousNode=d}visitKeyframes(d,m){const I=m.currentAnimateTimings,k=m.currentTimeline.duration,W=I.duration,le=m.createSubContext().currentTimeline;le.easing=I.easing,d.styles.forEach(Se=>{le.forwardTime((Se.offset||0)*W),le.setStyles(Se.styles,Se.easing,m.errors,m.options),le.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(le),m.transformIntoNewTimeline(k+W),m.previousNode=d}visitQuery(d,m){const I=m.currentTimeline.currentTime,k=d.options||{},W=k.delay?Ri(k.delay):0;W&&(6===m.previousNode.type||0==I&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Ji);let oe=I;const le=m.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!k.optional,m.errors);m.currentQueryTotal=le.length;let Se=null;le.forEach((Ze,xt)=>{m.currentQueryIndex=xt;const jt=m.createSubContext(d.options,Ze);W&&jt.delayNextStep(W),Ze===m.element&&(Se=jt.currentTimeline),un(this,d.animation,jt),jt.currentTimeline.applyStylesToKeyframe(),oe=Math.max(oe,jt.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(oe),Se&&(m.currentTimeline.mergeTimelineCollectedStyles(Se),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=d}visitStagger(d,m){const I=m.parentContext,k=m.currentTimeline,W=d.timings,oe=Math.abs(W.duration),le=oe*(m.currentQueryTotal-1);let Se=oe*m.currentQueryIndex;switch(W.duration<0?"reverse":W.easing){case"reverse":Se=le-Se;break;case"full":Se=I.currentStaggerTime}const xt=m.currentTimeline;Se&&xt.delayNextStep(Se);const jt=xt.currentTime;un(this,d.animation,m),m.previousNode=d,I.currentStaggerTime=k.currentTime-jt+(k.startTime-I.currentTimeline.startTime)}}const Ji={};class Us{constructor(d,m,I,k,W,oe,le,Se){this._driver=d,this.element=m,this.subInstructions=I,this._enterClassName=k,this._leaveClassName=W,this.errors=oe,this.timelines=le,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ji,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Se||new Ea(this._driver,m,0),le.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,m){if(!d)return;const I=d;let k=this.options;null!=I.duration&&(k.duration=Ri(I.duration)),null!=I.delay&&(k.delay=Ri(I.delay));const W=I.params;if(W){let oe=k.params;oe||(oe=this.options.params={}),Object.keys(W).forEach(le=>{(!m||!oe.hasOwnProperty(le))&&(oe[le]=ya(W[le],oe,this.errors))})}}_copyOptions(){const d={};if(this.options){const m=this.options.params;if(m){const I=d.params={};Object.keys(m).forEach(k=>{I[k]=m[k]})}}return d}createSubContext(d=null,m,I){const k=m||this.element,W=new Us(this._driver,k,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(k,I||0));return W.previousNode=this.previousNode,W.currentAnimateTimings=this.currentAnimateTimings,W.options=this._copyOptions(),W.updateOptions(d),W.currentQueryIndex=this.currentQueryIndex,W.currentQueryTotal=this.currentQueryTotal,W.parentContext=this,this.subContextCount++,W}transformIntoNewTimeline(d){return this.previousNode=Ji,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,m,I){const k={duration:m??d.duration,delay:this.currentTimeline.currentTime+(I??0)+d.delay,easing:""},W=new To(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,k,d.stretchStartingKeyframe);return this.timelines.push(W),k}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,m,I,k,W,oe){let le=[];if(k&&le.push(this.element),d.length>0){d=(d=d.replace(Xc,"."+this._enterClassName)).replace(fi,"."+this._leaveClassName);let Ze=this._driver.query(this.element,d,1!=I);0!==I&&(Ze=I<0?Ze.slice(Ze.length+I,Ze.length):Ze.slice(0,I)),le.push(...Ze)}return!W&&0==le.length&&oe.push(function Ma(w){return new $.vHH(3014,!1)}()),le}}class Ea{constructor(d,m,I,k){this._driver=d,this.element=m,this.startTime=I,this._elementTimelineStylesLookup=k,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+d),m&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,m){return this.applyStylesToKeyframe(),new Ea(this._driver,d,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,m){this._localTimelineStyles.set(d,m),this._globalTimelineStyles.set(d,m),this._styleSummary.set(d,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[m,I]of this._globalTimelineStyles)this._backFill.set(m,I||kr.l3),this._currentKeyframe.set(m,kr.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,m,I,k){m&&this._previousKeyframe.set("easing",m);const W=k&&k.params||{},oe=function ko(w,d){const m=new Map;let I;return w.forEach(k=>{if("*"===k){I=I||d.keys();for(let W of I)m.set(W,kr.l3)}else ri(k,m)}),m}(d,this._globalTimelineStyles);for(let[le,Se]of oe){const Ze=ya(Se,W,I);this._pendingStyles.set(le,Ze),this._localTimelineStyles.has(le)||this._backFill.set(le,this._globalTimelineStyles.get(le)??kr.l3),this._updateStyle(le,Ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,m)=>{this._currentKeyframe.set(m,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,d)}))}snapshotCurrentStyles(){for(let[d,m]of this._localTimelineStyles)this._pendingStyles.set(d,m),this._updateStyle(d,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let m in this._currentKeyframe)d.push(m);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((m,I)=>{const k=this._styleSummary.get(I);(!k||m.time>k.time)&&this._updateStyle(I,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,m=new Set,I=1===this._keyframes.size&&0===this.duration;let k=[];this._keyframes.forEach((le,Se)=>{const Ze=ri(le,new Map,this._backFill);Ze.forEach((xt,jt)=>{xt===kr.k1?d.add(jt):xt===kr.l3&&m.add(jt)}),I||Ze.set("offset",Se/this.duration),k.push(Ze)});const W=d.size?Qa(d.values()):[],oe=m.size?Qa(m.values()):[];if(I){const le=k[0],Se=new Map(le);le.set("offset",0),Se.set("offset",1),k=[le,Se]}return fu(this.element,k,W,oe,this.duration,this.startTime,this.easing,!1)}}class To extends Ea{constructor(d,m,I,k,W,oe,le=!1){super(d,m,oe.delay),this.keyframes=I,this.preStyleProps=k,this.postStyleProps=W,this._stretchStartingKeyframe=le,this.timings={duration:oe.duration,delay:oe.delay,easing:oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:m,duration:I,easing:k}=this.timings;if(this._stretchStartingKeyframe&&m){const W=[],oe=I+m,le=m/oe,Se=ri(d[0]);Se.set("offset",0),W.push(Se);const Ze=ri(d[0]);Ze.set("offset",ru(le)),W.push(Ze);const xt=d.length-1;for(let jt=1;jt<=xt;jt++){let Cn=ri(d[jt]);const Pn=Cn.get("offset");Cn.set("offset",ru((m+Pn*I)/oe)),W.push(Cn)}I=oe,m=0,k="",d=W}return fu(this.element,d,this.preStyleProps,this.postStyleProps,I,m,k,!0)}}function ru(w,d=3){const m=Math.pow(10,d-1);return Math.round(w*m)/m}class Uu{}const T=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class y extends Uu{normalizePropertyName(d,m){return Bn(d)}normalizeStyleValue(d,m,I,k){let W="";const oe=I.toString().trim();if(T.has(m)&&0!==I&&"0"!==I)if("number"==typeof I)W="px";else{const le=I.match(/^[+-]?[\d\.]+([a-z]*)$/);le&&0==le[1].length&&k.push(function gn(w,d){return new $.vHH(3005,!1)}())}return oe+W}}function A(w,d,m,I,k,W,oe,le,Se,Ze,xt,jt,Cn){return{type:0,element:w,triggerName:d,isRemovalTransition:k,fromState:m,fromStyles:W,toState:I,toStyles:oe,timelines:le,queriedElements:Se,preStyleProps:Ze,postStyleProps:xt,totalTime:jt,errors:Cn}}const L={};class Y{constructor(d,m,I){this._triggerName=d,this.ast=m,this._stateStyles=I}match(d,m,I,k){return function Ue(w,d,m,I,k){return w.some(W=>W(d,m,I,k))}(this.ast.matchers,d,m,I,k)}buildStyles(d,m,I){let k=this._stateStyles.get("*");return void 0!==d&&(k=this._stateStyles.get(d?.toString())||k),k?k.buildStyles(m,I):new Map}build(d,m,I,k,W,oe,le,Se,Ze,xt){const jt=[],Cn=this.ast.options&&this.ast.options.params||L,_n=this.buildStyles(I,le&&le.params||L,jt),Sn=Se&&Se.params||L,Hn=this.buildStyles(k,Sn,jt),fr=new Set,pr=new Map,zr=new Map,Ar="void"===k,Ks={params:vt(Sn,Cn),delay:this.ast.options?.delay},ao=xt?[]:tu(d,m,this.ast.animation,W,oe,_n,Hn,Ks,Ze,jt);let Rs=0;if(ao.forEach(ia=>{Rs=Math.max(ia.duration+ia.delay,Rs)}),jt.length)return A(m,this._triggerName,I,k,Ar,_n,Hn,[],[],pr,zr,Rs,jt);ao.forEach(ia=>{const Lo=ia.element,ed=yi(pr,Lo,new Set);ia.preStyleProps.forEach(yl=>ed.add(yl));const Ta=yi(zr,Lo,new Set);ia.postStyleProps.forEach(yl=>Ta.add(yl)),Lo!==m&&fr.add(Lo)});const Bs=Qa(fr.values());return A(m,this._triggerName,I,k,Ar,_n,Hn,ao,Bs,pr,zr,Rs)}}function vt(w,d){const m=Ou(d);for(const I in w)w.hasOwnProperty(I)&&null!=w[I]&&(m[I]=w[I]);return m}class Zt{constructor(d,m,I){this.styles=d,this.defaultParams=m,this.normalizer=I}buildStyles(d,m){const I=new Map,k=Ou(this.defaultParams);return Object.keys(d).forEach(W=>{const oe=d[W];null!==oe&&(k[W]=oe)}),this.styles.styles.forEach(W=>{"string"!=typeof W&&W.forEach((oe,le)=>{oe&&(oe=ya(oe,k,m));const Se=this.normalizer.normalizePropertyName(le,m);oe=this.normalizer.normalizeStyleValue(le,Se,oe,m),I.set(le,oe)})}),I}}class hr{constructor(d,m,I){this.name=d,this.ast=m,this._normalizer=I,this.transitionFactories=[],this.states=new Map,m.states.forEach(k=>{this.states.set(k.name,new Zt(k.style,k.options&&k.options.params||{},I))}),wa(this.states,"true","1"),wa(this.states,"false","0"),m.transitions.forEach(k=>{this.transitionFactories.push(new Y(d,k,this.states))}),this.fallbackTransition=function Xi(w,d,m){return new Y(w,{type:1,animation:{type:2,steps:[],options:null},matchers:[(oe,le)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,m,I,k){return this.transitionFactories.find(oe=>oe.match(d,m,I,k))||null}matchStyles(d,m,I){return this.fallbackTransition.buildStyles(d,m,I)}}function wa(w,d,m){w.has(d)?w.has(m)||w.set(m,w.get(d)):w.has(m)&&w.set(d,w.get(m))}const Vs=new Qu;class Xo{constructor(d,m,I){this.bodyNode=d,this._driver=m,this._normalizer=I,this._animations=new Map,this._playersById=new Map,this.players=[]}register(d,m){const I=[],k=[],W=Cu(this._driver,m,I,k);if(I.length)throw function qa(w){return new $.vHH(3503,!1)}();this._animations.set(d,W)}_buildPlayer(d,m,I){const k=d.element,W=no(0,this._normalizer,0,d.keyframes,m,I);return this._driver.animate(k,W,d.duration,d.delay,d.easing,[],!0)}create(d,m,I={}){const k=[],W=this._animations.get(d);let oe;const le=new Map;if(W?(oe=tu(this._driver,m,W,Rr,ds,new Map,new Map,I,Vs,k),oe.forEach(xt=>{const jt=yi(le,xt.element,new Map);xt.postStyleProps.forEach(Cn=>jt.set(Cn,null))})):(k.push(function to(){return new $.vHH(3300,!1)}()),oe=[]),k.length)throw function vs(w){return new $.vHH(3504,!1)}();le.forEach((xt,jt)=>{xt.forEach((Cn,Pn)=>{xt.set(Pn,this._driver.computeStyle(jt,Pn,kr.l3))})});const Ze=Es(oe.map(xt=>{const jt=le.get(xt.element);return this._buildPlayer(xt,new Map,jt)}));return this._playersById.set(d,Ze),Ze.onDestroy(()=>this.destroy(d)),this.players.push(Ze),Ze}destroy(d){const m=this._getPlayer(d);m.destroy(),this._playersById.delete(d);const I=this.players.indexOf(m);I>=0&&this.players.splice(I,1)}_getPlayer(d){const m=this._playersById.get(d);if(!m)throw function cu(w){return new $.vHH(3301,!1)}();return m}listen(d,m,I,k){const W=ws(m,"","","");return Ka(this._getPlayer(d),I,W,k),()=>{}}command(d,m,I,k){if("register"==I)return void this.register(d,k[0]);if("create"==I)return void this.create(d,m,k[0]||{});const W=this._getPlayer(d);switch(I){case"play":W.play();break;case"pause":W.pause();break;case"reset":W.reset();break;case"restart":W.restart();break;case"finish":W.finish();break;case"init":W.init();break;case"setPosition":W.setPosition(parseFloat(k[0]));break;case"destroy":this.destroy(d)}}}const hs="ng-animate-queued",ea="ng-animate-disabled",oo=[],Ju={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ps="__ng_removed";class bi{get params(){return this.options.params}constructor(d,m=""){this.namespaceId=m;const I=d&&d.hasOwnProperty("value");if(this.value=function qi(w){return w??null}(I?d.value:d),I){const W=Ou(d);delete W.value,this.options=W}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const m=d.params;if(m){const I=this.options.params;Object.keys(m).forEach(k=>{null==I[k]&&(I[k]=m[k])})}}}const Br="void",Al=new bi(Br);class Bu{constructor(d,m,I){this.id=d,this.hostElement=m,this._engine=I,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,Bi(m,this._hostClassName)}listen(d,m,I,k){if(!this._triggers.has(m))throw function Ra(w,d){return new $.vHH(3302,!1)}();if(null==I||0==I.length)throw function xa(w){return new $.vHH(3303,!1)}();if(!function La(w){return"start"==w||"done"==w}(I))throw function Ko(w,d){return new $.vHH(3400,!1)}();const W=yi(this._elementListeners,d,[]),oe={name:m,phase:I,callback:k};W.push(oe);const le=yi(this._engine.statesByElement,d,new Map);return le.has(m)||(Bi(d,Gr),Bi(d,Gr+"-"+m),le.set(m,Al)),()=>{this._engine.afterFlush(()=>{const Se=W.indexOf(oe);Se>=0&&W.splice(Se,1),this._triggers.has(m)||le.delete(m)})}}register(d,m){return!this._triggers.has(d)&&(this._triggers.set(d,m),!0)}_getTrigger(d){const m=this._triggers.get(d);if(!m)throw function Ls(w){return new $.vHH(3401,!1)}();return m}trigger(d,m,I,k=!0){const W=this._getTrigger(m),oe=new pl(this.id,m,d);let le=this._engine.statesByElement.get(d);le||(Bi(d,Gr),Bi(d,Gr+"-"+m),this._engine.statesByElement.set(d,le=new Map));let Se=le.get(m);const Ze=new bi(I,this.id);if(!(I&&I.hasOwnProperty("value"))&&Se&&Ze.absorbOptions(Se.options),le.set(m,Ze),Se||(Se=Al),Ze.value!==Br&&Se.value===Ze.value){if(!function el(w,d){const m=Object.keys(w),I=Object.keys(d);if(m.length!=I.length)return!1;for(let k=0;k<m.length;k++){const W=m[k];if(!d.hasOwnProperty(W)||w[W]!==d[W])return!1}return!0}(Se.params,Ze.params)){const Sn=[],Hn=W.matchStyles(Se.value,Se.params,Sn),fr=W.matchStyles(Ze.value,Ze.params,Sn);Sn.length?this._engine.reportError(Sn):this._engine.afterFlush(()=>{Na(d,Hn),Qo(d,fr)})}return}const Cn=yi(this._engine.playersByElement,d,[]);Cn.forEach(Sn=>{Sn.namespaceId==this.id&&Sn.triggerName==m&&Sn.queued&&Sn.destroy()});let Pn=W.matchTransition(Se.value,Ze.value,d,Ze.params),_n=!1;if(!Pn){if(!k)return;Pn=W.fallbackTransition,_n=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:m,transition:Pn,fromState:Se,toState:Ze,player:oe,isFallbackTransition:_n}),_n||(Bi(d,hs),oe.onStart(()=>{iu(d,hs)})),oe.onDone(()=>{let Sn=this.players.indexOf(oe);Sn>=0&&this.players.splice(Sn,1);const Hn=this._engine.playersByElement.get(d);if(Hn){let fr=Hn.indexOf(oe);fr>=0&&Hn.splice(fr,1)}}),this.players.push(oe),Cn.push(oe),oe}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(m=>m.delete(d)),this._elementListeners.forEach((m,I)=>{this._elementListeners.set(I,m.filter(k=>k.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const m=this._engine.playersByElement.get(d);m&&(m.forEach(I=>I.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,m){const I=this._engine.driver.query(d,Yo,!0);I.forEach(k=>{if(k[Ps])return;const W=this._engine.fetchNamespacesByElement(k);W.size?W.forEach(oe=>oe.triggerLeaveAnimation(k,m,!1,!0)):this.clearElementCache(k)}),this._engine.afterFlushAnimationsDone(()=>I.forEach(k=>this.clearElementCache(k)))}triggerLeaveAnimation(d,m,I,k){const W=this._engine.statesByElement.get(d),oe=new Map;if(W){const le=[];if(W.forEach((Se,Ze)=>{if(oe.set(Ze,Se.value),this._triggers.has(Ze)){const xt=this.trigger(d,Ze,Br,k);xt&&le.push(xt)}}),le.length)return this._engine.markElementAsRemoved(this.id,d,!0,m,oe),I&&Es(le).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const m=this._elementListeners.get(d),I=this._engine.statesByElement.get(d);if(m&&I){const k=new Set;m.forEach(W=>{const oe=W.name;if(k.has(oe))return;k.add(oe);const Se=this._triggers.get(oe).fallbackTransition,Ze=I.get(oe)||Al,xt=new bi(Br),jt=new pl(this.id,oe,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:oe,transition:Se,fromState:Ze,toState:xt,player:jt,isFallbackTransition:!0})})}}removeNode(d,m){const I=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,m),this.triggerLeaveAnimation(d,m,!0))return;let k=!1;if(I.totalAnimations){const W=I.players.length?I.playersByQueriedElement.get(d):[];if(W&&W.length)k=!0;else{let oe=d;for(;oe=oe.parentNode;)if(I.statesByElement.get(oe)){k=!0;break}}}if(this.prepareLeaveAnimationListeners(d),k)I.markElementAsRemoved(this.id,d,!1,m);else{const W=d[Ps];(!W||W===Ju)&&(I.afterFlush(()=>this.clearElementCache(d)),I.destroyInnerAnimations(d),I._onRemovalComplete(d,m))}}insertNode(d,m){Bi(d,this._hostClassName)}drainQueuedTransitions(d){const m=[];return this._queue.forEach(I=>{const k=I.player;if(k.destroyed)return;const W=I.element,oe=this._elementListeners.get(W);oe&&oe.forEach(le=>{if(le.name==I.triggerName){const Se=ws(W,I.triggerName,I.fromState.value,I.toState.value);Se._data=d,Ka(I.player,le.phase,Se,le.callback)}}),k.markedForDestroy?this._engine.afterFlush(()=>{k.destroy()}):m.push(I)}),this._queue=[],m.sort((I,k)=>{const W=I.transition.ast.depCount,oe=k.transition.ast.depCount;return 0==W||0==oe?W-oe:this._engine.driver.containsElement(I.element,k.element)?1:-1})}destroy(d){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}elementContainsData(d){let m=!1;return this._elementListeners.has(d)&&(m=!0),m=!!this._queue.find(I=>I.element===d)||m,m}}class Fo{_onRemovalComplete(d,m){this.onRemovalComplete(d,m)}constructor(d,m,I){this.bodyNode=d,this.driver=m,this._normalizer=I,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(k,W)=>{}}get queuedPlayers(){const d=[];return this._namespaceList.forEach(m=>{m.players.forEach(I=>{I.queued&&d.push(I)})}),d}createNamespace(d,m){const I=new Bu(d,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(I,m):(this.newHostElements.set(m,I),this.collectEnterElement(m)),this._namespaceLookup[d]=I}_balanceNamespaceList(d,m){const I=this._namespaceList,k=this.namespacesByHostElement;if(I.length-1>=0){let oe=!1,le=this.driver.getParentElement(m);for(;le;){const Se=k.get(le);if(Se){const Ze=I.indexOf(Se);I.splice(Ze+1,0,d),oe=!0;break}le=this.driver.getParentElement(le)}oe||I.unshift(d)}else I.push(d);return k.set(m,d),d}register(d,m){let I=this._namespaceLookup[d];return I||(I=this.createNamespace(d,m)),I}registerTrigger(d,m,I){let k=this._namespaceLookup[d];k&&k.register(m,I)&&this.totalAnimations++}destroy(d,m){if(!d)return;const I=this._fetchNamespace(d);this.afterFlush(()=>{this.namespacesByHostElement.delete(I.hostElement),delete this._namespaceLookup[d];const k=this._namespaceList.indexOf(I);k>=0&&this._namespaceList.splice(k,1)}),this.afterFlushAnimationsDone(()=>I.destroy(m))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const m=new Set,I=this.statesByElement.get(d);if(I)for(let k of I.values())if(k.namespaceId){const W=this._fetchNamespace(k.namespaceId);W&&m.add(W)}return m}trigger(d,m,I,k){if(Xu(m)){const W=this._fetchNamespace(d);if(W)return W.trigger(m,I,k),!0}return!1}insertNode(d,m,I,k){if(!Xu(m))return;const W=m[Ps];if(W&&W.setForRemoval){W.setForRemoval=!1,W.setForMove=!0;const oe=this.collectedLeaveElements.indexOf(m);oe>=0&&this.collectedLeaveElements.splice(oe,1)}if(d){const oe=this._fetchNamespace(d);oe&&oe.insertNode(m,I)}k&&this.collectEnterElement(m)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,m){m?this.disabledNodes.has(d)||(this.disabledNodes.add(d),Bi(d,ea)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),iu(d,ea))}removeNode(d,m,I,k){if(Xu(m)){const W=d?this._fetchNamespace(d):null;if(W?W.removeNode(m,k):this.markElementAsRemoved(d,m,!1,k),I){const oe=this.namespacesByHostElement.get(m);oe&&oe.id!==d&&oe.removeNode(m,k)}}else this._onRemovalComplete(m,k)}markElementAsRemoved(d,m,I,k,W){this.collectedLeaveElements.push(m),m[Ps]={namespaceId:d,setForRemoval:k,hasAnimation:I,removedBeforeQueried:!1,previousTriggersValues:W}}listen(d,m,I,k,W){return Xu(m)?this._fetchNamespace(d).listen(m,I,k,W):()=>{}}_buildInstruction(d,m,I,k,W){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,I,k,d.fromState.options,d.toState.options,m,W)}destroyInnerAnimations(d){let m=this.driver.query(d,Yo,!0);m.forEach(I=>this.destroyActiveAnimationsForElement(I)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(d,Cr,!0),m.forEach(I=>this.finishActiveQueriedAnimationOnElement(I)))}destroyActiveAnimationsForElement(d){const m=this.playersByElement.get(d);m&&m.forEach(I=>{I.queued?I.markedForDestroy=!0:I.destroy()})}finishActiveQueriedAnimationOnElement(d){const m=this.playersByQueriedElement.get(d);m&&m.forEach(I=>I.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return Es(this.players).onDone(()=>d());d()})}processLeaveNode(d){const m=d[Ps];if(m&&m.setForRemoval){if(d[Ps]=Ju,m.namespaceId){this.destroyInnerAnimations(d);const I=this._fetchNamespace(m.namespaceId);I&&I.clearElementCache(d)}this._onRemovalComplete(d,m.setForRemoval)}d.classList?.contains(ea)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(I=>{this.markElementAsDisabled(I,!1)})}flush(d=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((I,k)=>this._balanceNamespaceList(I,k)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let I=0;I<this.collectedEnterElements.length;I++)Bi(this.collectedEnterElements[I],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const I=[];try{m=this._flushAnimations(I,d)}finally{for(let k=0;k<I.length;k++)I[k]()}}else for(let I=0;I<this.collectedLeaveElements.length;I++)this.processLeaveNode(this.collectedLeaveElements[I]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(I=>I()),this._flushFns=[],this._whenQuietFns.length){const I=this._whenQuietFns;this._whenQuietFns=[],m.length?Es(m).onDone(()=>{I.forEach(k=>k())}):I.forEach(k=>k())}}reportError(d){throw function Wa(w){return new $.vHH(3402,!1)}()}_flushAnimations(d,m){const I=new Qu,k=[],W=new Map,oe=[],le=new Map,Se=new Map,Ze=new Map,xt=new Set;this.disabledNodes.forEach(Dn=>{xt.add(Dn);const Un=this.driver.query(Dn,".ng-animate-queued",!0);for(let kn=0;kn<Un.length;kn++)xt.add(Un[kn])});const jt=this.bodyNode,Cn=Array.from(this.statesByElement.keys()),Pn=$u(Cn,this.collectedEnterElements),_n=new Map;let Sn=0;Pn.forEach((Dn,Un)=>{const kn=Rr+Sn++;_n.set(Un,kn),Dn.forEach(Zr=>Bi(Zr,kn))});const Hn=[],fr=new Set,pr=new Set;for(let Dn=0;Dn<this.collectedLeaveElements.length;Dn++){const Un=this.collectedLeaveElements[Dn],kn=Un[Ps];kn&&kn.setForRemoval&&(Hn.push(Un),fr.add(Un),kn.hasAnimation?this.driver.query(Un,".ng-star-inserted",!0).forEach(Zr=>fr.add(Zr)):pr.add(Un))}const zr=new Map,Ar=$u(Cn,Array.from(fr));Ar.forEach((Dn,Un)=>{const kn=ds+Sn++;zr.set(Un,kn),Dn.forEach(Zr=>Bi(Zr,kn))}),d.push(()=>{Pn.forEach((Dn,Un)=>{const kn=_n.get(Un);Dn.forEach(Zr=>iu(Zr,kn))}),Ar.forEach((Dn,Un)=>{const kn=zr.get(Un);Dn.forEach(Zr=>iu(Zr,kn))}),Hn.forEach(Dn=>{this.processLeaveNode(Dn)})});const Ks=[],ao=[];for(let Dn=this._namespaceList.length-1;Dn>=0;Dn--)this._namespaceList[Dn].drainQueuedTransitions(m).forEach(kn=>{const Zr=kn.player,ss=kn.element;if(Ks.push(Zr),this.collectedEnterElements.length){const Zs=ss[Ps];if(Zs&&Zs.setForMove){if(Zs.previousTriggersValues&&Zs.previousTriggersValues.has(kn.triggerName)){const ou=Zs.previousTriggersValues.get(kn.triggerName),sa=this.statesByElement.get(kn.element);if(sa&&sa.has(kn.triggerName)){const Jl=sa.get(kn.triggerName);Jl.value=ou,sa.set(kn.triggerName,Jl)}}return void Zr.destroy()}}const gu=!jt||!this.driver.containsElement(jt,ss),Uo=zr.get(ss),Gn=_n.get(ss),os=this._buildInstruction(kn,I,Gn,Uo,gu);if(os.errors&&os.errors.length)return void ao.push(os);if(gu)return Zr.onStart(()=>Na(ss,os.fromStyles)),Zr.onDestroy(()=>Qo(ss,os.toStyles)),void k.push(Zr);if(kn.isFallbackTransition)return Zr.onStart(()=>Na(ss,os.fromStyles)),Zr.onDestroy(()=>Qo(ss,os.toStyles)),void k.push(Zr);const kl=[];os.timelines.forEach(Zs=>{Zs.stretchStartingKeyframe=!0,this.disabledNodes.has(Zs.element)||kl.push(Zs)}),os.timelines=kl,I.append(ss,os.timelines),oe.push({instruction:os,player:Zr,element:ss}),os.queriedElements.forEach(Zs=>yi(le,Zs,[]).push(Zr)),os.preStyleProps.forEach((Zs,ou)=>{if(Zs.size){let sa=Se.get(ou);sa||Se.set(ou,sa=new Set),Zs.forEach((Jl,td)=>sa.add(td))}}),os.postStyleProps.forEach((Zs,ou)=>{let sa=Ze.get(ou);sa||Ze.set(ou,sa=new Set),Zs.forEach((Jl,td)=>sa.add(td))})});if(ao.length){const Dn=[];ao.forEach(Un=>{Dn.push(function Tu(w,d){return new $.vHH(3505,!1)}())}),Ks.forEach(Un=>Un.destroy()),this.reportError(Dn)}const Rs=new Map,Bs=new Map;oe.forEach(Dn=>{const Un=Dn.element;I.has(Un)&&(Bs.set(Un,Un),this._beforeAnimationBuild(Dn.player.namespaceId,Dn.instruction,Rs))}),k.forEach(Dn=>{const Un=Dn.element;this._getPreviousPlayers(Un,!1,Dn.namespaceId,Dn.triggerName,null).forEach(Zr=>{yi(Rs,Un,[]).push(Zr),Zr.destroy()})});const ia=Hn.filter(Dn=>ta(Dn,Se,Ze)),Lo=new Map;Ts(Lo,this.driver,pr,Ze,kr.l3).forEach(Dn=>{ta(Dn,Se,Ze)&&ia.push(Dn)});const Ta=new Map;Pn.forEach((Dn,Un)=>{Ts(Ta,this.driver,new Set(Dn),Se,kr.k1)}),ia.forEach(Dn=>{const Un=Lo.get(Dn),kn=Ta.get(Dn);Lo.set(Dn,new Map([...Array.from(Un?.entries()??[]),...Array.from(kn?.entries()??[])]))});const yl=[],Ia=[],Ol={};oe.forEach(Dn=>{const{element:Un,player:kn,instruction:Zr}=Dn;if(I.has(Un)){if(xt.has(Un))return kn.onDestroy(()=>Qo(Un,Zr.toStyles)),kn.disabled=!0,kn.overrideTotalTime(Zr.totalTime),void k.push(kn);let ss=Ol;if(Bs.size>1){let Uo=Un;const Gn=[];for(;Uo=Uo.parentNode;){const os=Bs.get(Uo);if(os){ss=os;break}Gn.push(Uo)}Gn.forEach(os=>Bs.set(os,ss))}const gu=this._buildAnimation(kn.namespaceId,Zr,Rs,W,Ta,Lo);if(kn.setRealPlayer(gu),ss===Ol)yl.push(kn);else{const Uo=this.playersByElement.get(ss);Uo&&Uo.length&&(kn.parentPlayer=Es(Uo)),k.push(kn)}}else Na(Un,Zr.fromStyles),kn.onDestroy(()=>Qo(Un,Zr.toStyles)),Ia.push(kn),xt.has(Un)&&k.push(kn)}),Ia.forEach(Dn=>{const Un=W.get(Dn.element);if(Un&&Un.length){const kn=Es(Un);Dn.setRealPlayer(kn)}}),k.forEach(Dn=>{Dn.parentPlayer?Dn.syncPlayerEvents(Dn.parentPlayer):Dn.destroy()});for(let Dn=0;Dn<Hn.length;Dn++){const Un=Hn[Dn],kn=Un[Ps];if(iu(Un,ds),kn&&kn.hasAnimation)continue;let Zr=[];if(le.size){let gu=le.get(Un);gu&&gu.length&&Zr.push(...gu);let Uo=this.driver.query(Un,Cr,!0);for(let Gn=0;Gn<Uo.length;Gn++){let os=le.get(Uo[Gn]);os&&os.length&&Zr.push(...os)}}const ss=Zr.filter(gu=>!gu.destroyed);ss.length?Sl(this,Un,ss):this.processLeaveNode(Un)}return Hn.length=0,yl.forEach(Dn=>{this.players.push(Dn),Dn.onDone(()=>{Dn.destroy();const Un=this.players.indexOf(Dn);this.players.splice(Un,1)}),Dn.play()}),yl}elementContainsData(d,m){let I=!1;const k=m[Ps];return k&&k.setForRemoval&&(I=!0),this.playersByElement.has(m)&&(I=!0),this.playersByQueriedElement.has(m)&&(I=!0),this.statesByElement.has(m)&&(I=!0),this._fetchNamespace(d).elementContainsData(m)||I}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,m,I,k,W){let oe=[];if(m){const le=this.playersByQueriedElement.get(d);le&&(oe=le)}else{const le=this.playersByElement.get(d);if(le){const Se=!W||W==Br;le.forEach(Ze=>{Ze.queued||!Se&&Ze.triggerName!=k||oe.push(Ze)})}}return(I||k)&&(oe=oe.filter(le=>!(I&&I!=le.namespaceId||k&&k!=le.triggerName))),oe}_beforeAnimationBuild(d,m,I){const W=m.element,oe=m.isRemovalTransition?void 0:d,le=m.isRemovalTransition?void 0:m.triggerName;for(const Se of m.timelines){const Ze=Se.element,xt=Ze!==W,jt=yi(I,Ze,[]);this._getPreviousPlayers(Ze,xt,oe,le,m.toState).forEach(Pn=>{const _n=Pn.getRealPlayer();_n.beforeDestroy&&_n.beforeDestroy(),Pn.destroy(),jt.push(Pn)})}Na(W,m.fromStyles)}_buildAnimation(d,m,I,k,W,oe){const le=m.triggerName,Se=m.element,Ze=[],xt=new Set,jt=new Set,Cn=m.timelines.map(_n=>{const Sn=_n.element;xt.add(Sn);const Hn=Sn[Ps];if(Hn&&Hn.removedBeforeQueried)return new kr.ZN(_n.duration,_n.delay);const fr=Sn!==Se,pr=function ju(w){const d=[];return su(w,d),d}((I.get(Sn)||oo).map(Rs=>Rs.getRealPlayer())).filter(Rs=>!!Rs.element&&Rs.element===Sn),zr=W.get(Sn),Ar=oe.get(Sn),Ks=no(0,this._normalizer,0,_n.keyframes,zr,Ar),ao=this._buildPlayer(_n,Ks,pr);if(_n.subTimeline&&k&&jt.add(Sn),fr){const Rs=new pl(d,le,Sn);Rs.setRealPlayer(ao),Ze.push(Rs)}return ao});Ze.forEach(_n=>{yi(this.playersByQueriedElement,_n.element,[]).push(_n),_n.onDone(()=>function Ic(w,d,m){let I=w.get(d);if(I){if(I.length){const k=I.indexOf(m);I.splice(k,1)}0==I.length&&w.delete(d)}return I}(this.playersByQueriedElement,_n.element,_n))}),xt.forEach(_n=>Bi(_n,Nt));const Pn=Es(Cn);return Pn.onDestroy(()=>{xt.forEach(_n=>iu(_n,Nt)),Qo(Se,m.toStyles)}),jt.forEach(_n=>{yi(k,_n,[]).push(Pn)}),Pn}_buildPlayer(d,m,I){return m.length>0?this.driver.animate(d.element,m,d.duration,d.delay,d.easing,I):new kr.ZN(d.duration,d.delay)}}class pl{constructor(d,m,I){this.namespaceId=d,this.triggerName=m,this.element=I,this._player=new kr.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((m,I)=>{m.forEach(k=>Ka(d,I,void 0,k))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const m=this._player;m.triggerCallback&&d.onStart(()=>m.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,m){yi(this._queuedCallbacks,d,[]).push(m)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const m=this._player;m.triggerCallback&&m.triggerCallback(d)}}function Xu(w){return w&&1===w.nodeType}function Fi(w,d){const m=w.style.display;return w.style.display=d??"none",m}function Ts(w,d,m,I,k){const W=[];m.forEach(Se=>W.push(Fi(Se)));const oe=[];I.forEach((Se,Ze)=>{const xt=new Map;Se.forEach(jt=>{const Cn=d.computeStyle(Ze,jt,k);xt.set(jt,Cn),(!Cn||0==Cn.length)&&(Ze[Ps]=vi,oe.push(Ze))}),w.set(Ze,xt)});let le=0;return m.forEach(Se=>Fi(Se,W[le++])),oe}function $u(w,d){const m=new Map;if(w.forEach(le=>m.set(le,[])),0==d.length)return m;const I=1,k=new Set(d),W=new Map;function oe(le){if(!le)return I;let Se=W.get(le);if(Se)return Se;const Ze=le.parentNode;return Se=m.has(Ze)?Ze:k.has(Ze)?I:oe(Ze),W.set(le,Se),Se}return d.forEach(le=>{const Se=oe(le);Se!==I&&m.get(Se).push(le)}),m}function Bi(w,d){w.classList?.add(d)}function iu(w,d){w.classList?.remove(d)}function Sl(w,d,m){Es(m).onDone(()=>w.processLeaveNode(d))}function su(w,d){for(let m=0;m<w.length;m++){const I=w[m];I instanceof kr.ZE?su(I.players,d):d.push(I)}}function ta(w,d,m){const I=m.get(w);if(!I)return!1;let k=d.get(w);return k?I.forEach(W=>k.add(W)):d.set(w,I),m.delete(w),!0}class S{constructor(d,m,I){this.bodyNode=d,this._driver=m,this._normalizer=I,this._triggerCache={},this.onRemovalComplete=(k,W)=>{},this._transitionEngine=new Fo(d,m,I),this._timelineEngine=new Xo(d,m,I),this._transitionEngine.onRemovalComplete=(k,W)=>this.onRemovalComplete(k,W)}registerTrigger(d,m,I,k,W){const oe=d+"-"+k;let le=this._triggerCache[oe];if(!le){const Se=[],Ze=[],xt=Cu(this._driver,W,Se,Ze);if(Se.length)throw function xo(w,d){return new $.vHH(3404,!1)}();le=function Qt(w,d,m){return new hr(w,d,m)}(k,xt,this._normalizer),this._triggerCache[oe]=le}this._transitionEngine.registerTrigger(m,k,le)}register(d,m){this._transitionEngine.register(d,m)}destroy(d,m){this._transitionEngine.destroy(d,m)}onInsert(d,m,I,k){this._transitionEngine.insertNode(d,m,I,k)}onRemove(d,m,I,k){this._transitionEngine.removeNode(d,m,k||!1,I)}disableAnimations(d,m){this._transitionEngine.markElementAsDisabled(d,m)}process(d,m,I,k){if("@"==I.charAt(0)){const[W,oe]=br(I);this._timelineEngine.command(W,m,oe,k)}else this._transitionEngine.trigger(d,m,I,k)}listen(d,m,I,k,W){if("@"==I.charAt(0)){const[oe,le]=br(I);return this._timelineEngine.listen(oe,m,le,W)}return this._transitionEngine.listen(d,m,I,k,W)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let q=(()=>{class w{constructor(m,I,k){this._element=m,this._startStyles=I,this._endStyles=k,this._state=0;let W=w.initialStylesByElement.get(m);W||w.initialStylesByElement.set(m,W=new Map),this._initialStyles=W}start(){this._state<1&&(this._startStyles&&Qo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qo(this._element,this._initialStyles),this._endStyles&&(Qo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(w.initialStylesByElement.delete(this._element),this._startStyles&&(Na(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Na(this._element,this._endStyles),this._endStyles=null),Qo(this._element,this._initialStyles),this._state=3)}}return w.initialStylesByElement=new WeakMap,w})();function ae(w){let d=null;return w.forEach((m,I)=>{(function Re(w){return"display"===w||"position"===w})(I)&&(d=d||new Map,d.set(I,m))}),d}class Ge{constructor(d,m,I,k){this.element=d,this.keyframes=m,this.options=I,this._specialStyles=k,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=I.duration,this._delay=I.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const m=[];return d.forEach(I=>{m.push(Object.fromEntries(I))}),m}_triggerWebAnimation(d,m,I){return d.animate(this._convertKeyframesToObject(m),I)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((I,k)=>{"offset"!==k&&d.set(k,this._finished?I:ro(this.element,k))}),this.currentSnapshot=d}triggerCallback(d){const m="start"===d?this._onStartFns:this._onDoneFns;m.forEach(I=>I()),m.length=0}}class Ct{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}matchesElement(d,m){return!1}containsElement(d,m){return Vr(d,m)}getParentElement(d){return M(d)}query(d,m,I){return ni(d,m,I)}computeStyle(d,m,I){return window.getComputedStyle(d)[m]}animate(d,m,I,k,W,oe=[]){const Se={duration:I,delay:k,fill:0==k?"both":"forwards"};W&&(Se.easing=W);const Ze=new Map,xt=oe.filter(Pn=>Pn instanceof Ge);(function ku(w,d){return 0===w||0===d})(I,k)&&xt.forEach(Pn=>{Pn.currentSnapshot.forEach((_n,Sn)=>Ze.set(Sn,_n))});let jt=function at(w){return w.length?w[0]instanceof Map?w:w.map(d=>Wt(d)):[]}(m).map(Pn=>ri(Pn));jt=function or(w,d,m){if(m.size&&d.length){let I=d[0],k=[];if(m.forEach((W,oe)=>{I.has(oe)||k.push(oe),I.set(oe,W)}),k.length)for(let W=1;W<d.length;W++){let oe=d[W];k.forEach(le=>oe.set(le,ro(w,le)))}}return d}(d,jt,Ze);const Cn=function x(w,d){let m=null,I=null;return Array.isArray(d)&&d.length?(m=ae(d[0]),d.length>1&&(I=ae(d[d.length-1]))):d instanceof Map&&(m=ae(d)),m||I?new q(w,m,I):null}(d,jt);return new Ge(d,jt,Se,Cn)}}var sn=K(6895);let dn=(()=>{class w extends kr._j{constructor(m,I){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(I.body,{id:"0",encapsulation:$.ifc.None,styles:[],data:{animation:[]}})}build(m){const I=this._nextAnimationId.toString();this._nextAnimationId++;const k=Array.isArray(m)?(0,kr.vP)(m):m;return $n(this._renderer,null,I,"register",[k]),new En(I,this._renderer)}}return w.\u0275fac=function(m){return new(m||w)($.LFG($.FYo),$.LFG(sn.K0))},w.\u0275prov=$.Yz7({token:w,factory:w.\u0275fac}),w})();class En extends kr.LC{constructor(d,m){super(),this._id=d,this._renderer=m}create(d,m){return new Xn(this._id,d,m||{},this._renderer)}}class Xn{constructor(d,m,I,k){this.id=d,this.element=m,this._renderer=k,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",I)}_listen(d,m){return this._renderer.listen(this.element,`@@${this.id}:${d}`,m)}_command(d,...m){return $n(this._renderer,this.element,this.id,d,m)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function $n(w,d,m,I,k){return w.setProperty(d,`@@${m}:${I}`,k)}const Wi="@.disabled";let Io=(()=>{class w{constructor(m,I,k){this.delegate=m,this.engine=I,this._zone=k,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),I.onRemovalComplete=(W,oe)=>{const le=oe?.parentNode(W);le&&oe.removeChild(le,W)}}createRenderer(m,I){const W=this.delegate.createRenderer(m,I);if(!(m&&I&&I.data&&I.data.animation)){let xt=this._rendererCache.get(W);return xt||(xt=new gl("",W,this.engine,()=>this._rendererCache.delete(W)),this._rendererCache.set(W,xt)),xt}const oe=I.id,le=I.id+"-"+this._currentId;this._currentId++,this.engine.register(le,m);const Se=xt=>{Array.isArray(xt)?xt.forEach(Se):this.engine.registerTrigger(oe,le,m,xt.name,xt)};return I.data.animation.forEach(Se),new tl(this,le,W,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(m,I,k){m>=0&&m<this._microtaskId?this._zone.run(()=>I(k)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(W=>{const[oe,le]=W;oe(le)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([I,k]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return w.\u0275fac=function(m){return new(m||w)($.LFG($.FYo),$.LFG(S),$.LFG($.R0b))},w.\u0275prov=$.Yz7({token:w,factory:w.\u0275fac}),w})();class gl{constructor(d,m,I,k){this.namespaceId=d,this.delegate=m,this.engine=I,this._onDestroy=k,this.destroyNode=this.delegate.destroyNode?W=>m.destroyNode(W):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(d,m){return this.delegate.createElement(d,m)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,m){this.delegate.appendChild(d,m),this.engine.onInsert(this.namespaceId,m,d,!1)}insertBefore(d,m,I,k=!0){this.delegate.insertBefore(d,m,I),this.engine.onInsert(this.namespaceId,m,d,k)}removeChild(d,m,I){this.engine.onRemove(this.namespaceId,m,this.delegate,I)}selectRootElement(d,m){return this.delegate.selectRootElement(d,m)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,m,I,k){this.delegate.setAttribute(d,m,I,k)}removeAttribute(d,m,I){this.delegate.removeAttribute(d,m,I)}addClass(d,m){this.delegate.addClass(d,m)}removeClass(d,m){this.delegate.removeClass(d,m)}setStyle(d,m,I,k){this.delegate.setStyle(d,m,I,k)}removeStyle(d,m,I){this.delegate.removeStyle(d,m,I)}setProperty(d,m,I){"@"==m.charAt(0)&&m==Wi?this.disableAnimations(d,!!I):this.delegate.setProperty(d,m,I)}setValue(d,m){this.delegate.setValue(d,m)}listen(d,m,I){return this.delegate.listen(d,m,I)}disableAnimations(d,m){this.engine.disableAnimations(d,m)}}class tl extends gl{constructor(d,m,I,k,W){super(m,I,k,W),this.factory=d,this.namespaceId=m}setProperty(d,m,I){"@"==m.charAt(0)?"."==m.charAt(1)&&m==Wi?this.disableAnimations(d,I=void 0===I||!!I):this.engine.process(this.namespaceId,d,m.slice(1),I):this.delegate.setProperty(d,m,I)}listen(d,m,I){if("@"==m.charAt(0)){const k=function na(w){switch(w){case"body":return document.body;case"document":return document;case"window":return window;default:return w}}(d);let W=m.slice(1),oe="";return"@"!=W.charAt(0)&&([W,oe]=function Ua(w){const d=w.indexOf(".");return[w.substring(0,d),w.slice(d+1)]}(W)),this.engine.listen(this.namespaceId,k,W,oe,le=>{this.factory.scheduleListenerCallback(le._data||-1,I,le)})}return this.delegate.listen(d,m,I)}}const Su=[{provide:kr._j,useClass:dn},{provide:Uu,useFactory:function Ql(){return new y}},{provide:S,useClass:(()=>{class w extends S{constructor(m,I,k,W){super(m.body,I,k)}ngOnDestroy(){this.flush()}}return w.\u0275fac=function(m){return new(m||w)($.LFG(sn.K0),$.LFG(Wr),$.LFG(Uu),$.LFG($.z2F))},w.\u0275prov=$.Yz7({token:w,factory:w.\u0275fac}),w})()},{provide:$.FYo,useFactory:function Ki(w,d,m){return new Io(w,d,m)},deps:[g.se,S,$.R0b]}],Ml=[{provide:Wr,useFactory:()=>new Ct},{provide:$.QbO,useValue:"BrowserAnimations"},...Su],bc=[{provide:Wr,useClass:qn},{provide:$.QbO,useValue:"NoopAnimations"},...Su];let ml=(()=>{class w{static withConfig(m){return{ngModule:w,providers:m.disableAnimations?bc:Ml}}}return w.\u0275fac=function(m){return new(m||w)},w.\u0275mod=$.oAB({type:w}),w.\u0275inj=$.cJS({providers:Ml,imports:[g.b2]}),w})();var pi=K(7185),ps=K(2340),nl=K(9008),Hu=K(5450),Pl=K(6533),Cc=K(9273),Rl=K(5227);let kd=(()=>{class w{}return w.\u0275fac=function(m){return new(m||w)},w.\u0275cmp=$.Xpm({type:w,selectors:[["app-home"]],decls:19,vars:0,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"]],template:function(m,I){1&m&&($._UZ(0,"router-outlet"),$.TgZ(1,"html",0)(2,"head"),$._UZ(3,"meta",1)(4,"meta",2),$.TgZ(5,"title"),$._uU(6,"Peliculas/actores"),$.qZA()(),$.TgZ(7,"body")(8,"main",3),$._UZ(9,"app-nav"),$.TgZ(10,"div",4)(11,"div",5)(12,"h1",6),$._uU(13,"Bienvenidx"),$.qZA(),$.TgZ(14,"p"),$._uU(15,"Aqu\xed podr\xe1 ver las peliculas m\xe1s taquelleras de los \xfaltimos tiempos junto con sus actores principales."),$._UZ(16,"br"),$._uU(17," Todos los datos son reales y est\xe1n actualizados al d\xeda de la fecha gracias a usuarios como usted. "),$.qZA()()()(),$._UZ(18,"app-footer"),$.qZA()())},dependencies:[Hu.lC,Cc.r,Rl.c]}),w})();var Ac=K(4192);const xh=[{path:"bienvenido",component:kd},{path:"busqueda",loadChildren:()=>Promise.resolve().then(K.bind(K,4192)).then(w=>Ac.PeliculasModule)},{path:"altaActor",loadChildren:()=>Promise.resolve().then(K.bind(K,6533)).then(w=>Pl.ActoresModule)},{path:"",redirectTo:"/bienvenido",pathMatch:"full"}];let Sc=(()=>{class w{}return w.\u0275fac=function(m){return new(m||w)},w.\u0275mod=$.oAB({type:w}),w.\u0275inj=$.cJS({imports:[Hu.Bz.forRoot(xh),Hu.Bz]}),w})(),Nh=(()=>{class w{constructor(){this.title="ParcialFerrero"}ngOnInit(){}gnOnDestroy(){}}return w.\u0275fac=function(m){return new(m||w)},w.\u0275cmp=$.Xpm({type:w,selectors:[["app-root"]],decls:1,vars:0,template:function(m,I){1&m&&$._UZ(0,"router-outlet")},dependencies:[Hu.lC]}),w})();var Fd=K(9778),xl=K(4466);let Nl=(()=>{class w{}return w.\u0275fac=function(m){return new(m||w)},w.\u0275mod=$.oAB({type:w,bootstrap:[Nh]}),w.\u0275inj=$.cJS({imports:[g.b2,ml,Sc,Qi.u5,(0,V.hX)(()=>(0,V.ZF)(ps.N.firebase)),(0,de.Cm)(()=>(0,de.ad)()),Zi(()=>rs()),pi.Rh.forRoot(),Qi.UX,xl.m,j.JF,nl.i,Fd.R]}),w})();ps.N.production&&(0,$.G48)(),g.q6().bootstrapModule(Nl).catch(w=>console.error(w))},9751:(yn,ct,K)=>{K.d(ct,{y:()=>ut});var g=K(2961),$=K(727),j=K(8822),V=K(9635),de=K(2416),Le=K(576),Ae=K(2806);let ut=(()=>{class Ye{constructor(ve){ve&&(this._subscribe=ve)}lift(ve){const Rt=new Ye;return Rt.source=this,Rt.operator=ve,Rt}subscribe(ve,Rt,mt){const ln=function ye(Ye){return Ye&&Ye instanceof g.Lv||function fe(Ye){return Ye&&(0,Le.m)(Ye.next)&&(0,Le.m)(Ye.error)&&(0,Le.m)(Ye.complete)}(Ye)&&(0,$.Nn)(Ye)}(ve)?ve:new g.Hp(ve,Rt,mt);return(0,Ae.x)(()=>{const{operator:nn,source:an}=this;ln.add(nn?nn.call(ln,an):an?this._subscribe(ln):this._trySubscribe(ln))}),ln}_trySubscribe(ve){try{return this._subscribe(ve)}catch(Rt){ve.error(Rt)}}forEach(ve,Rt){return new(Rt=Xe(Rt))((mt,ln)=>{const nn=new g.Hp({next:an=>{try{ve(an)}catch(St){ln(St),nn.unsubscribe()}},error:ln,complete:mt});this.subscribe(nn)})}_subscribe(ve){var Rt;return null===(Rt=this.source)||void 0===Rt?void 0:Rt.subscribe(ve)}[j.L](){return this}pipe(...ve){return(0,V.U)(ve)(this)}toPromise(ve){return new(ve=Xe(ve))((Rt,mt)=>{let ln;this.subscribe(nn=>ln=nn,nn=>mt(nn),()=>Rt(ln))})}}return Ye.create=pt=>new Ye(pt),Ye})();function Xe(Ye){var pt;return null!==(pt=Ye??de.v.Promise)&&void 0!==pt?pt:Promise}},7579:(yn,ct,K)=>{K.d(ct,{x:()=>Ae});var g=K(9751),$=K(727);const V=(0,K(3888).d)(Xe=>function(){Xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=K(8737),Le=K(2806);let Ae=(()=>{class Xe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const Ye=new ut(this,this);return Ye.operator=ye,Ye}_throwIfClosed(){if(this.closed)throw new V}next(ye){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ye of this.currentObservers)Ye.next(ye)}})}error(ye){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:Ye}=this;for(;Ye.length;)Ye.shift().error(ye)}})}complete(){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:Ye,isStopped:pt,observers:ve}=this;return Ye||pt?$.Lc:(this.currentObservers=null,ve.push(ye),new $.w0(()=>{this.currentObservers=null,(0,de.P)(ve,ye)}))}_checkFinalizedStatuses(ye){const{hasError:Ye,thrownError:pt,isStopped:ve}=this;Ye?ye.error(pt):ve&&ye.complete()}asObservable(){const ye=new g.y;return ye.source=this,ye}}return Xe.create=(fe,ye)=>new ut(fe,ye),Xe})();class ut extends Ae{constructor(fe,ye){super(),this.destination=fe,this.source=ye}next(fe){var ye,Ye;null===(Ye=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===Ye||Ye.call(ye,fe)}error(fe){var ye,Ye;null===(Ye=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===Ye||Ye.call(ye,fe)}complete(){var fe,ye;null===(ye=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===ye||ye.call(fe)}_subscribe(fe){var ye,Ye;return null!==(Ye=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(fe))&&void 0!==Ye?Ye:$.Lc}}},2961:(yn,ct,K)=>{K.d(ct,{Hp:()=>mt,Lv:()=>Ye});var g=K(576),$=K(727),j=K(2416),V=K(7849);function de(){}const Le=Xe("C",void 0,void 0);function Xe(ot,Oe,ht){return{kind:ot,value:Oe,error:ht}}var fe=K(3410),ye=K(2806);class Ye extends $.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,$.Nn)(Oe)&&Oe.add(this)):this.destination=St}static create(Oe,ht,Lt){return new mt(Oe,ht,Lt)}next(Oe){this.isStopped?an(function ut(ot){return Xe("N",ot,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?an(function Ae(ot){return Xe("E",void 0,ot)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?an(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pt=Function.prototype.bind;function ve(ot,Oe){return pt.call(ot,Oe)}class Rt{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:ht}=this;if(ht.next)try{ht.next(Oe)}catch(Lt){ln(Lt)}}error(Oe){const{partialObserver:ht}=this;if(ht.error)try{ht.error(Oe)}catch(Lt){ln(Lt)}else ln(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(ht){ln(ht)}}}class mt extends Ye{constructor(Oe,ht,Lt){let He;if(super(),(0,g.m)(Oe)||!Oe)He={next:Oe??void 0,error:ht??void 0,complete:Lt??void 0};else{let kt;this&&j.v.useDeprecatedNextContext?(kt=Object.create(Oe),kt.unsubscribe=()=>this.unsubscribe(),He={next:Oe.next&&ve(Oe.next,kt),error:Oe.error&&ve(Oe.error,kt),complete:Oe.complete&&ve(Oe.complete,kt)}):He=Oe}this.destination=new Rt(He)}}function ln(ot){j.v.useDeprecatedSynchronousErrorHandling?(0,ye.O)(ot):(0,V.h)(ot)}function an(ot,Oe){const{onStoppedNotification:ht}=j.v;ht&&fe.z.setTimeout(()=>ht(ot,Oe))}const St={closed:!0,next:de,error:function nn(ot){throw ot},complete:de}},727:(yn,ct,K)=>{K.d(ct,{Lc:()=>Le,w0:()=>de,Nn:()=>Ae});var g=K(576);const j=(0,K(3888).d)(Xe=>function(ye){Xe(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((Ye,pt)=>`${pt+1}) ${Ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var V=K(8737);class de{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const ve of ye)ve.remove(this);else ye.remove(this);const{initialTeardown:Ye}=this;if((0,g.m)(Ye))try{Ye()}catch(ve){fe=ve instanceof j?ve.errors:[ve]}const{_finalizers:pt}=this;if(pt){this._finalizers=null;for(const ve of pt)try{ut(ve)}catch(Rt){fe=fe??[],Rt instanceof j?fe=[...fe,...Rt.errors]:fe.push(Rt)}}if(fe)throw new j(fe)}}add(fe){var ye;if(fe&&fe!==this)if(this.closed)ut(fe);else{if(fe instanceof de){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(fe)}}_hasParent(fe){const{_parentage:ye}=this;return ye===fe||Array.isArray(ye)&&ye.includes(fe)}_addParent(fe){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(fe),ye):ye?[ye,fe]:fe}_removeParent(fe){const{_parentage:ye}=this;ye===fe?this._parentage=null:Array.isArray(ye)&&(0,V.P)(ye,fe)}remove(fe){const{_finalizers:ye}=this;ye&&(0,V.P)(ye,fe),fe instanceof de&&fe._removeParent(this)}}de.EMPTY=(()=>{const Xe=new de;return Xe.closed=!0,Xe})();const Le=de.EMPTY;function Ae(Xe){return Xe instanceof de||Xe&&"closed"in Xe&&(0,g.m)(Xe.remove)&&(0,g.m)(Xe.add)&&(0,g.m)(Xe.unsubscribe)}function ut(Xe){(0,g.m)(Xe)?Xe():Xe.unsubscribe()}},2416:(yn,ct,K)=>{K.d(ct,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yn,ct,K)=>{K.d(ct,{E:()=>$});const $=new(K(9751).y)(de=>de.complete())},8996:(yn,ct,K)=>{K.d(ct,{D:()=>Oe});var g=K(8421),$=K(5363),j=K(9468),Le=K(9751),ut=K(2202),Xe=K(576),fe=K(9672);function Ye(ht,Lt){if(!ht)throw new Error("Iterable cannot be null");return new Le.y(He=>{(0,fe.f)(He,Lt,()=>{const kt=ht[Symbol.asyncIterator]();(0,fe.f)(He,Lt,()=>{kt.next().then(rt=>{rt.done?He.complete():He.next(rt.value)})},0,!0)})})}var pt=K(3670),ve=K(8239),Rt=K(1144),mt=K(6495),ln=K(2206),nn=K(4532),an=K(3260);function Oe(ht,Lt){return Lt?function ot(ht,Lt){if(null!=ht){if((0,pt.c)(ht))return function V(ht,Lt){return(0,g.Xf)(ht).pipe((0,j.R)(Lt),(0,$.Q)(Lt))}(ht,Lt);if((0,Rt.z)(ht))return function Ae(ht,Lt){return new Le.y(He=>{let kt=0;return Lt.schedule(function(){kt===ht.length?He.complete():(He.next(ht[kt++]),He.closed||this.schedule())})})}(ht,Lt);if((0,ve.t)(ht))return function de(ht,Lt){return(0,g.Xf)(ht).pipe((0,j.R)(Lt),(0,$.Q)(Lt))}(ht,Lt);if((0,ln.D)(ht))return Ye(ht,Lt);if((0,mt.T)(ht))return function ye(ht,Lt){return new Le.y(He=>{let kt;return(0,fe.f)(He,Lt,()=>{kt=ht[ut.h](),(0,fe.f)(He,Lt,()=>{let rt,Ut;try{({value:rt,done:Ut}=kt.next())}catch(Yt){return void He.error(Yt)}Ut?He.complete():He.next(rt)},0,!0)}),()=>(0,Xe.m)(kt?.return)&&kt.return()})}(ht,Lt);if((0,an.L)(ht))return function St(ht,Lt){return Ye((0,an.Q)(ht),Lt)}(ht,Lt)}throw(0,nn.z)(ht)}(ht,Lt):(0,g.Xf)(ht)}},8421:(yn,ct,K)=>{K.d(ct,{Xf:()=>pt});var g=K(655),$=K(1144),j=K(8239),V=K(9751),de=K(3670),Le=K(2206),Ae=K(4532),ut=K(6495),Xe=K(3260),fe=K(576),ye=K(7849),Ye=K(8822);function pt(ot){if(ot instanceof V.y)return ot;if(null!=ot){if((0,de.c)(ot))return function ve(ot){return new V.y(Oe=>{const ht=ot[Ye.L]();if((0,fe.m)(ht.subscribe))return ht.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ot);if((0,$.z)(ot))return function Rt(ot){return new V.y(Oe=>{for(let ht=0;ht<ot.length&&!Oe.closed;ht++)Oe.next(ot[ht]);Oe.complete()})}(ot);if((0,j.t)(ot))return function mt(ot){return new V.y(Oe=>{ot.then(ht=>{Oe.closed||(Oe.next(ht),Oe.complete())},ht=>Oe.error(ht)).then(null,ye.h)})}(ot);if((0,Le.D)(ot))return nn(ot);if((0,ut.T)(ot))return function ln(ot){return new V.y(Oe=>{for(const ht of ot)if(Oe.next(ht),Oe.closed)return;Oe.complete()})}(ot);if((0,Xe.L)(ot))return function an(ot){return nn((0,Xe.Q)(ot))}(ot)}throw(0,Ae.z)(ot)}function nn(ot){return new V.y(Oe=>{(function St(ot,Oe){var ht,Lt,He,kt;return(0,g.mG)(this,void 0,void 0,function*(){try{for(ht=(0,g.KL)(ot);!(Lt=yield ht.next()).done;)if(Oe.next(Lt.value),Oe.closed)return}catch(rt){He={error:rt}}finally{try{Lt&&!Lt.done&&(kt=ht.return)&&(yield kt.call(ht))}finally{if(He)throw He.error}}Oe.complete()})})(ot,Oe).catch(ht=>Oe.error(ht))})}},9646:(yn,ct,K)=>{K.d(ct,{of:()=>j});var g=K(7669),$=K(8996);function j(...V){const de=(0,g.yG)(V);return(0,$.D)(V,de)}},5403:(yn,ct,K)=>{K.d(ct,{x:()=>$});var g=K(2961);function $(V,de,Le,Ae,ut){return new j(V,de,Le,Ae,ut)}class j extends g.Lv{constructor(de,Le,Ae,ut,Xe,fe){super(de),this.onFinalize=Xe,this.shouldUnsubscribe=fe,this._next=Le?function(ye){try{Le(ye)}catch(Ye){de.error(Ye)}}:super._next,this._error=ut?function(ye){try{ut(ye)}catch(Ye){de.error(Ye)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(ye){de.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Le}=this;super.unsubscribe(),!Le&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4351:(yn,ct,K)=>{K.d(ct,{b:()=>j});var g=K(5577),$=K(576);function j(V,de){return(0,$.m)(de)?(0,g.z)(V,de,1):(0,g.z)(V,1)}},9300:(yn,ct,K)=>{K.d(ct,{h:()=>j});var g=K(4482),$=K(5403);function j(V,de){return(0,g.e)((Le,Ae)=>{let ut=0;Le.subscribe((0,$.x)(Ae,Xe=>V.call(de,Xe,ut++)&&Ae.next(Xe)))})}},4004:(yn,ct,K)=>{K.d(ct,{U:()=>j});var g=K(4482),$=K(5403);function j(V,de){return(0,g.e)((Le,Ae)=>{let ut=0;Le.subscribe((0,$.x)(Ae,Xe=>{Ae.next(V.call(de,Xe,ut++))}))})}},8189:(yn,ct,K)=>{K.d(ct,{J:()=>j});var g=K(5577),$=K(4671);function j(V=1/0){return(0,g.z)($.y,V)}},5577:(yn,ct,K)=>{K.d(ct,{z:()=>ut});var g=K(4004),$=K(8421),j=K(4482),V=K(9672),de=K(5403),Ae=K(576);function ut(Xe,fe,ye=1/0){return(0,Ae.m)(fe)?ut((Ye,pt)=>(0,g.U)((ve,Rt)=>fe(Ye,ve,pt,Rt))((0,$.Xf)(Xe(Ye,pt))),ye):("number"==typeof fe&&(ye=fe),(0,j.e)((Ye,pt)=>function Le(Xe,fe,ye,Ye,pt,ve,Rt,mt){const ln=[];let nn=0,an=0,St=!1;const ot=()=>{St&&!ln.length&&!nn&&fe.complete()},Oe=Lt=>nn<Ye?ht(Lt):ln.push(Lt),ht=Lt=>{ve&&fe.next(Lt),nn++;let He=!1;(0,$.Xf)(ye(Lt,an++)).subscribe((0,de.x)(fe,kt=>{pt?.(kt),ve?Oe(kt):fe.next(kt)},()=>{He=!0},void 0,()=>{if(He)try{for(nn--;ln.length&&nn<Ye;){const kt=ln.shift();Rt?(0,V.f)(fe,Rt,()=>ht(kt)):ht(kt)}ot()}catch(kt){fe.error(kt)}}))};return Xe.subscribe((0,de.x)(fe,Oe,()=>{St=!0,ot()})),()=>{mt?.()}}(Ye,pt,Xe,ye)))}},5363:(yn,ct,K)=>{K.d(ct,{Q:()=>V});var g=K(9672),$=K(4482),j=K(5403);function V(de,Le=0){return(0,$.e)((Ae,ut)=>{Ae.subscribe((0,j.x)(ut,Xe=>(0,g.f)(ut,de,()=>ut.next(Xe),Le),()=>(0,g.f)(ut,de,()=>ut.complete(),Le),Xe=>(0,g.f)(ut,de,()=>ut.error(Xe),Le)))})}},9468:(yn,ct,K)=>{K.d(ct,{R:()=>$});var g=K(4482);function $(j,V=0){return(0,g.e)((de,Le)=>{Le.add(j.schedule(()=>de.subscribe(Le),V))})}},8505:(yn,ct,K)=>{K.d(ct,{b:()=>de});var g=K(576),$=K(4482),j=K(5403),V=K(4671);function de(Le,Ae,ut){const Xe=(0,g.m)(Le)||Ae||ut?{next:Le,error:Ae,complete:ut}:Le;return Xe?(0,$.e)((fe,ye)=>{var Ye;null===(Ye=Xe.subscribe)||void 0===Ye||Ye.call(Xe);let pt=!0;fe.subscribe((0,j.x)(ye,ve=>{var Rt;null===(Rt=Xe.next)||void 0===Rt||Rt.call(Xe,ve),ye.next(ve)},()=>{var ve;pt=!1,null===(ve=Xe.complete)||void 0===ve||ve.call(Xe),ye.complete()},ve=>{var Rt;pt=!1,null===(Rt=Xe.error)||void 0===Rt||Rt.call(Xe,ve),ye.error(ve)},()=>{var ve,Rt;pt&&(null===(ve=Xe.unsubscribe)||void 0===ve||ve.call(Xe)),null===(Rt=Xe.finalize)||void 0===Rt||Rt.call(Xe)}))}):V.y}},3410:(yn,ct,K)=>{K.d(ct,{z:()=>g});const g={setTimeout($,j,...V){const{delegate:de}=g;return de?.setTimeout?de.setTimeout($,j,...V):setTimeout($,j,...V)},clearTimeout($){const{delegate:j}=g;return(j?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(yn,ct,K)=>{K.d(ct,{h:()=>$});const $=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yn,ct,K)=>{K.d(ct,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yn,ct,K)=>{K.d(ct,{_6:()=>Le,jO:()=>V,yG:()=>de});var g=K(576);function j(Ae){return Ae[Ae.length-1]}function V(Ae){return(0,g.m)(j(Ae))?Ae.pop():void 0}function de(Ae){return function $(Ae){return Ae&&(0,g.m)(Ae.schedule)}(j(Ae))?Ae.pop():void 0}function Le(Ae,ut){return"number"==typeof j(Ae)?Ae.pop():ut}},4742:(yn,ct,K)=>{K.d(ct,{D:()=>de});const{isArray:g}=Array,{getPrototypeOf:$,prototype:j,keys:V}=Object;function de(Ae){if(1===Ae.length){const ut=Ae[0];if(g(ut))return{args:ut,keys:null};if(function Le(Ae){return Ae&&"object"==typeof Ae&&$(Ae)===j}(ut)){const Xe=V(ut);return{args:Xe.map(fe=>ut[fe]),keys:Xe}}}return{args:Ae,keys:null}}},8737:(yn,ct,K)=>{function g($,j){if($){const V=$.indexOf(j);0<=V&&$.splice(V,1)}}K.d(ct,{P:()=>g})},3888:(yn,ct,K)=>{function g($){const V=$(de=>{Error.call(de),de.stack=(new Error).stack});return V.prototype=Object.create(Error.prototype),V.prototype.constructor=V,V}K.d(ct,{d:()=>g})},1810:(yn,ct,K)=>{function g($,j){return $.reduce((V,de,Le)=>(V[de]=j[Le],V),{})}K.d(ct,{n:()=>g})},2806:(yn,ct,K)=>{K.d(ct,{O:()=>V,x:()=>j});var g=K(2416);let $=null;function j(de){if(g.v.useDeprecatedSynchronousErrorHandling){const Le=!$;if(Le&&($={errorThrown:!1,error:null}),de(),Le){const{errorThrown:Ae,error:ut}=$;if($=null,Ae)throw ut}}else de()}function V(de){g.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=de)}},9672:(yn,ct,K)=>{function g($,j,V,de=0,Le=!1){const Ae=j.schedule(function(){V(),Le?$.add(this.schedule(null,de)):this.unsubscribe()},de);if($.add(Ae),!Le)return Ae}K.d(ct,{f:()=>g})},4671:(yn,ct,K)=>{function g($){return $}K.d(ct,{y:()=>g})},1144:(yn,ct,K)=>{K.d(ct,{z:()=>g});const g=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(yn,ct,K)=>{K.d(ct,{D:()=>$});var g=K(576);function $(j){return Symbol.asyncIterator&&(0,g.m)(j?.[Symbol.asyncIterator])}},576:(yn,ct,K)=>{function g($){return"function"==typeof $}K.d(ct,{m:()=>g})},3670:(yn,ct,K)=>{K.d(ct,{c:()=>j});var g=K(8822),$=K(576);function j(V){return(0,$.m)(V[g.L])}},6495:(yn,ct,K)=>{K.d(ct,{T:()=>j});var g=K(2202),$=K(576);function j(V){return(0,$.m)(V?.[g.h])}},8239:(yn,ct,K)=>{K.d(ct,{t:()=>$});var g=K(576);function $(j){return(0,g.m)(j?.then)}},3260:(yn,ct,K)=>{K.d(ct,{L:()=>V,Q:()=>j});var g=K(655),$=K(576);function j(de){return(0,g.FC)(this,arguments,function*(){const Ae=de.getReader();try{for(;;){const{value:ut,done:Xe}=yield(0,g.qq)(Ae.read());if(Xe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ut)}}finally{Ae.releaseLock()}})}function V(de){return(0,$.m)(de?.getReader)}},4482:(yn,ct,K)=>{K.d(ct,{A:()=>$,e:()=>j});var g=K(576);function $(V){return(0,g.m)(V?.lift)}function j(V){return de=>{if($(de))return de.lift(function(Le){try{return V(Le,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(yn,ct,K)=>{K.d(ct,{Z:()=>V});var g=K(4004);const{isArray:$}=Array;function V(de){return(0,g.U)(Le=>function j(de,Le){return $(Le)?de(...Le):de(Le)}(de,Le))}},9635:(yn,ct,K)=>{K.d(ct,{U:()=>j,z:()=>$});var g=K(4671);function $(...V){return j(V)}function j(V){return 0===V.length?g.y:1===V.length?V[0]:function(Le){return V.reduce((Ae,ut)=>ut(Ae),Le)}}},7849:(yn,ct,K)=>{K.d(ct,{h:()=>j});var g=K(2416),$=K(3410);function j(V){$.z.setTimeout(()=>{const{onUnhandledError:de}=g.v;if(!de)throw V;de(V)})}},4532:(yn,ct,K)=>{function g($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(ct,{z:()=>g})},655:(yn,ct,K)=>{function V(We,Me){var ft={};for(var ke in We)Object.prototype.hasOwnProperty.call(We,ke)&&Me.indexOf(ke)<0&&(ft[ke]=We[ke]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Et=0;for(ke=Object.getOwnPropertySymbols(We);Et<ke.length;Et++)Me.indexOf(ke[Et])<0&&Object.prototype.propertyIsEnumerable.call(We,ke[Et])&&(ft[ke[Et]]=We[ke[Et]])}return ft}function Ye(We,Me,ft,ke){return new(ft||(ft=Promise))(function(ue,$e){function we(De){try{he(ke.next(De))}catch(et){$e(et)}}function xe(De){try{he(ke.throw(De))}catch(et){$e(et)}}function he(De){De.done?ue(De.value):function Et(ue){return ue instanceof ft?ue:new ft(function($e){$e(ue)})}(De.value).then(we,xe)}he((ke=ke.apply(We,Me||[])).next())})}function ot(We){return this instanceof ot?(this.v=We,this):new ot(We)}function Oe(We,Me,ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,ke=ft.apply(We,Me||[]),ue=[];return Et={},$e("next"),$e("throw"),$e("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function $e(wt){ke[wt]&&(Et[wt]=function(On){return new Promise(function(xn,hn){ue.push([wt,On,xn,hn])>1||we(wt,On)})})}function we(wt,On){try{!function xe(wt){wt.value instanceof ot?Promise.resolve(wt.value.v).then(he,De):et(ue[0][2],wt)}(ke[wt](On))}catch(xn){et(ue[0][3],xn)}}function he(wt){we("next",wt)}function De(wt){we("throw",wt)}function et(wt,On){wt(On),ue.shift(),ue.length&&we(ue[0][0],ue[0][1])}}function Lt(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,Me=We[Symbol.asyncIterator];return Me?Me.call(We):(We=function mt(We){var Me="function"==typeof Symbol&&Symbol.iterator,ft=Me&&We[Me],ke=0;if(ft)return ft.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&ke>=We.length&&(We=void 0),{value:We&&We[ke++],done:!We}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(We),ft={},ke("next"),ke("throw"),ke("return"),ft[Symbol.asyncIterator]=function(){return this},ft);function ke(ue){ft[ue]=We[ue]&&function($e){return new Promise(function(we,xe){!function Et(ue,$e,we,xe){Promise.resolve(xe).then(function(he){ue({value:he,done:we})},$e)}(we,xe,($e=We[ue]($e)).done,$e.value)})}}}K.d(ct,{FC:()=>Oe,KL:()=>Lt,_T:()=>V,mG:()=>Ye,qq:()=>ot})},7340:(yn,ct,K)=>{K.d(ct,{LC:()=>$,SB:()=>Xe,X$:()=>V,ZE:()=>an,ZN:()=>nn,_j:()=>g,eR:()=>ye,jt:()=>de,k1:()=>St,l3:()=>j,oB:()=>ut,vP:()=>Ae});class g{}class ${}const j="*";function V(ot,Oe){return{type:7,name:ot,definitions:Oe,options:{}}}function de(ot,Oe=null){return{type:4,styles:Oe,timings:ot}}function Ae(ot,Oe=null){return{type:2,steps:ot,options:Oe}}function ut(ot){return{type:6,styles:ot,offset:null}}function Xe(ot,Oe,ht){return{type:0,name:ot,styles:Oe,options:ht}}function ye(ot,Oe,ht=null){return{type:1,expr:ot,animation:Oe,options:ht}}function ln(ot){Promise.resolve().then(ot)}class nn{constructor(Oe=0,ht=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Oe+ht}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}onStart(Oe){this._originalOnStartFns.push(Oe),this._onStartFns.push(Oe)}onDone(Oe){this._originalOnDoneFns.push(Oe),this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ln(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Oe){this._position=this.totalTime?Oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Oe){const ht="start"==Oe?this._onStartFns:this._onDoneFns;ht.forEach(Lt=>Lt()),ht.length=0}}class an{constructor(Oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Oe;let ht=0,Lt=0,He=0;const kt=this.players.length;0==kt?ln(()=>this._onFinish()):this.players.forEach(rt=>{rt.onDone(()=>{++ht==kt&&this._onFinish()}),rt.onDestroy(()=>{++Lt==kt&&this._onDestroy()}),rt.onStart(()=>{++He==kt&&this._onStart()})}),this.totalTime=this.players.reduce((rt,Ut)=>Math.max(rt,Ut.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Oe=>Oe()),this._onDoneFns=[])}init(){this.players.forEach(Oe=>Oe.init())}onStart(Oe){this._onStartFns.push(Oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Oe=>Oe()),this._onStartFns=[])}onDone(Oe){this._onDoneFns.push(Oe)}onDestroy(Oe){this._onDestroyFns.push(Oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Oe=>Oe.play())}pause(){this.players.forEach(Oe=>Oe.pause())}restart(){this.players.forEach(Oe=>Oe.restart())}finish(){this._onFinish(),this.players.forEach(Oe=>Oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Oe=>Oe.destroy()),this._onDestroyFns.forEach(Oe=>Oe()),this._onDestroyFns=[])}reset(){this.players.forEach(Oe=>Oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Oe){const ht=Oe*this.totalTime;this.players.forEach(Lt=>{const He=Lt.totalTime?Math.min(1,ht/Lt.totalTime):1;Lt.setPosition(He)})}getPosition(){const Oe=this.players.reduce((ht,Lt)=>null===ht||Lt.totalTime>ht.totalTime?Lt:ht,null);return null!=Oe?Oe.getPosition():0}beforeDestroy(){this.players.forEach(Oe=>{Oe.beforeDestroy&&Oe.beforeDestroy()})}triggerCallback(Oe){const ht="start"==Oe?this._onStartFns:this._onDoneFns;ht.forEach(Lt=>Lt()),ht.length=0}}const St="!"},6895:(yn,ct,K)=>{K.d(ct,{Do:()=>an,EM:()=>qs,HT:()=>V,JF:()=>Ws,K0:()=>Le,Mx:()=>ho,O5:()=>me,S$:()=>mt,V_:()=>Xe,Ye:()=>St,b0:()=>nn,bD:()=>_u,ez:()=>Mo,q:()=>j,sg:()=>mr,w_:()=>de});var g=K(8256);let $=null;function j(){return $}function V(M){$||($=M)}class de{}const Le=new g.OlP("DocumentToken");let Ae=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=g.Yz7({token:M,factory:function(){return function ut(){return(0,g.LFG)(fe)}()},providedIn:"platform"}),M})();const Xe=new g.OlP("Location Initialized");let fe=(()=>{class M extends Ae{constructor(N){super(),this._doc=N,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(N){const Q=j().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",N,!1),()=>Q.removeEventListener("popstate",N)}onHashChange(N){const Q=j().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",N,!1),()=>Q.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,Q,ge){ye()?this._history.pushState(N,Q,ge):this._location.hash=ge}replaceState(N,Q,ge){ye()?this._history.replaceState(N,Q,ge):this._location.hash=ge}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return M.\u0275fac=function(N){return new(N||M)(g.LFG(Le))},M.\u0275prov=g.Yz7({token:M,factory:function(){return function Ye(){return new fe((0,g.LFG)(Le))}()},providedIn:"platform"}),M})();function ye(){return!!window.history.pushState}function pt(M,G){if(0==M.length)return G;if(0==G.length)return M;let N=0;return M.endsWith("/")&&N++,G.startsWith("/")&&N++,2==N?M+G.substring(1):1==N?M+G:M+"/"+G}function ve(M){const G=M.match(/#|\?|$/),N=G&&G.index||M.length;return M.slice(0,N-("/"===M[N-1]?1:0))+M.slice(N)}function Rt(M){return M&&"?"!==M[0]?"?"+M:M}let mt=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=g.Yz7({token:M,factory:function(){return(0,g.f3M)(nn)},providedIn:"root"}),M})();const ln=new g.OlP("appBaseHref");let nn=(()=>{class M extends mt{constructor(N,Q){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return pt(this._baseHref,N)}path(N=!1){const Q=this._platformLocation.pathname+Rt(this._platformLocation.search),ge=this._platformLocation.hash;return ge&&N?`${Q}${ge}`:Q}pushState(N,Q,ge,nt){const Dt=this.prepareExternalUrl(ge+Rt(nt));this._platformLocation.pushState(N,Q,Dt)}replaceState(N,Q,ge,nt){const Dt=this.prepareExternalUrl(ge+Rt(nt));this._platformLocation.replaceState(N,Q,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(g.LFG(Ae),g.LFG(ln,8))},M.\u0275prov=g.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),an=(()=>{class M extends mt{constructor(N,Q){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(N){const Q=pt(this._baseHref,N);return Q.length>0?"#"+Q:Q}pushState(N,Q,ge,nt){let Dt=this.prepareExternalUrl(ge+Rt(nt));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.pushState(N,Q,Dt)}replaceState(N,Q,ge,nt){let Dt=this.prepareExternalUrl(ge+Rt(nt));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.replaceState(N,Q,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(g.LFG(Ae),g.LFG(ln,8))},M.\u0275prov=g.Yz7({token:M,factory:M.\u0275fac}),M})(),St=(()=>{class M{constructor(N){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const Q=this._locationStrategy.getBaseHref();this._basePath=function Lt(M){if(new RegExp("^(https?:)?//").test(M)){const[,N]=M.split(/\/\/[^\/]+/);return N}return M}(ve(ht(Q))),this._locationStrategy.onPopState(ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:ge.state,type:ge.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,Q=""){return this.path()==this.normalize(N+Rt(Q))}normalize(N){return M.stripTrailingSlash(function Oe(M,G){if(!M||!G.startsWith(M))return G;const N=G.substring(M.length);return""===N||["/",";","?","#"].includes(N[0])?N:G}(this._basePath,ht(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,Q="",ge=null){this._locationStrategy.pushState(ge,"",N,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Rt(Q)),ge)}replaceState(N,Q="",ge=null){this._locationStrategy.replaceState(ge,"",N,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Rt(Q)),ge)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",Q){this._urlChangeListeners.forEach(ge=>ge(N,Q))}subscribe(N,Q,ge){return this._subject.subscribe({next:N,error:Q,complete:ge})}}return M.normalizeQueryParams=Rt,M.joinWithSlash=pt,M.stripTrailingSlash=ve,M.\u0275fac=function(N){return new(N||M)(g.LFG(mt))},M.\u0275prov=g.Yz7({token:M,factory:function(){return function ot(){return new St((0,g.LFG)(mt))}()},providedIn:"root"}),M})();function ht(M){return M.replace(/\/index.html$/,"")}function ho(M,G){G=encodeURIComponent(G);for(const N of M.split(";")){const Q=N.indexOf("="),[ge,nt]=-1==Q?[N,""]:[N.slice(0,Q),N.slice(Q+1)];if(ge.trim()===G)return decodeURIComponent(nt)}return null}class js{constructor(G,N,Q,ge){this.$implicit=G,this.ngForOf=N,this.index=Q,this.count=ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mr=(()=>{class M{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,Q,ge){this._viewContainer=N,this._template=Q,this._differs=ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const Q=this._viewContainer;N.forEachOperation((ge,nt,Dt)=>{if(null==ge.previousIndex)Q.createEmbeddedView(this._template,new js(ge.item,this._ngForOf,-1,-1),null===Dt?void 0:Dt);else if(null==Dt)Q.remove(null===nt?void 0:nt);else if(null!==nt){const mn=Q.get(nt);Q.move(mn,Dt),Ir(mn,ge)}});for(let ge=0,nt=Q.length;ge<nt;ge++){const mn=Q.get(ge).context;mn.index=ge,mn.count=nt,mn.ngForOf=this._ngForOf}N.forEachIdentityChange(ge=>{Ir(Q.get(ge.currentIndex),ge)})}static ngTemplateContextGuard(N,Q){return!0}}return M.\u0275fac=function(N){return new(N||M)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},M.\u0275dir=g.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function Ir(M,G){M.context.$implicit=G.item}let me=(()=>{class M{constructor(N,Q){this._viewContainer=N,this._context=new Ve,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){lt("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){lt("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,Q){return!0}}return M.\u0275fac=function(N){return new(N||M)(g.Y36(g.s_b),g.Y36(g.Rgc))},M.\u0275dir=g.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class Ve{constructor(){this.$implicit=null,this.ngIf=null}}function lt(M,G){if(G&&!G.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,g.AaK)(G)}'.`)}let Mo=(()=>{class M{}return M.\u0275fac=function(N){return new(N||M)},M.\u0275mod=g.oAB({type:M}),M.\u0275inj=g.cJS({}),M})();const _u="browser";let qs=(()=>{class M{}return M.\u0275prov=(0,g.Yz7)({token:M,providedIn:"root",factory:()=>new Ho((0,g.LFG)(Le),window)}),M})();class Ho{constructor(G,N){this.document=G,this.window=N,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const N=function Js(M,G){const N=M.getElementById(G)||M.getElementsByName(G)[0];if(N)return N;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const Q=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ge=Q.currentNode;for(;ge;){const nt=ge.shadowRoot;if(nt){const Dt=nt.getElementById(G)||nt.querySelector(`[name="${G}"]`);if(Dt)return Dt}ge=Q.nextNode()}}return null}(this.document,G);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=G)}}scrollToElement(G){const N=G.getBoundingClientRect(),Q=N.left+this.window.pageXOffset,ge=N.top+this.window.pageYOffset,nt=this.offset();this.window.scrollTo(Q-nt[0],ge-nt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=ca(this.window.history)||ca(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ca(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class Ws{}},529:(yn,ct,K)=>{K.d(ct,{JF:()=>Ni,eN:()=>Me});var g=K(6895),$=K(8256),j=K(9646),V=K(9751),de=K(4351),Le=K(9300),Ae=K(4004);class ut{}class Xe{}class fe{constructor(Te){this.normalizedNames=new Map,this.lazyUpdate=null,Te?this.lazyInit="string"==typeof Te?()=>{this.headers=new Map,Te.split("\n").forEach(Pe=>{const yt=Pe.indexOf(":");if(yt>0){const _t=Pe.slice(0,yt),ie=_t.toLowerCase(),se=Pe.slice(yt+1).trim();this.maybeSetNormalizedName(_t,ie),this.headers.has(ie)?this.headers.get(ie).push(se):this.headers.set(ie,[se])}})}:()=>{this.headers=new Map,Object.entries(Te).forEach(([Pe,yt])=>{let _t;if(_t="string"==typeof yt?[yt]:"number"==typeof yt?[yt.toString()]:yt.map(ie=>ie.toString()),_t.length>0){const ie=Pe.toLowerCase();this.headers.set(ie,_t),this.maybeSetNormalizedName(Pe,ie)}})}:this.headers=new Map}has(Te){return this.init(),this.headers.has(Te.toLowerCase())}get(Te){this.init();const Pe=this.headers.get(Te.toLowerCase());return Pe&&Pe.length>0?Pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Te){return this.init(),this.headers.get(Te.toLowerCase())||null}append(Te,Pe){return this.clone({name:Te,value:Pe,op:"a"})}set(Te,Pe){return this.clone({name:Te,value:Pe,op:"s"})}delete(Te,Pe){return this.clone({name:Te,value:Pe,op:"d"})}maybeSetNormalizedName(Te,Pe){this.normalizedNames.has(Pe)||this.normalizedNames.set(Pe,Te)}init(){this.lazyInit&&(this.lazyInit instanceof fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Te=>this.applyUpdate(Te)),this.lazyUpdate=null))}copyFrom(Te){Te.init(),Array.from(Te.headers.keys()).forEach(Pe=>{this.headers.set(Pe,Te.headers.get(Pe)),this.normalizedNames.set(Pe,Te.normalizedNames.get(Pe))})}clone(Te){const Pe=new fe;return Pe.lazyInit=this.lazyInit&&this.lazyInit instanceof fe?this.lazyInit:this,Pe.lazyUpdate=(this.lazyUpdate||[]).concat([Te]),Pe}applyUpdate(Te){const Pe=Te.name.toLowerCase();switch(Te.op){case"a":case"s":let yt=Te.value;if("string"==typeof yt&&(yt=[yt]),0===yt.length)return;this.maybeSetNormalizedName(Te.name,Pe);const _t=("a"===Te.op?this.headers.get(Pe):void 0)||[];_t.push(...yt),this.headers.set(Pe,_t);break;case"d":const ie=Te.value;if(ie){let se=this.headers.get(Pe);if(!se)return;se=se.filter(_e=>-1===ie.indexOf(_e)),0===se.length?(this.headers.delete(Pe),this.normalizedNames.delete(Pe)):this.headers.set(Pe,se)}else this.headers.delete(Pe),this.normalizedNames.delete(Pe)}}forEach(Te){this.init(),Array.from(this.normalizedNames.keys()).forEach(Pe=>Te(this.normalizedNames.get(Pe),this.headers.get(Pe)))}}class Ye{encodeKey(Te){return mt(Te)}encodeValue(Te){return mt(Te)}decodeKey(Te){return decodeURIComponent(Te)}decodeValue(Te){return decodeURIComponent(Te)}}const ve=/%(\d[a-f0-9])/gi,Rt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mt(Be){return encodeURIComponent(Be).replace(ve,(Te,Pe)=>Rt[Pe]??Te)}function ln(Be){return`${Be}`}class nn{constructor(Te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Te.encoder||new Ye,Te.fromString){if(Te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pt(Be,Te){const Pe=new Map;return Be.length>0&&Be.replace(/^\?/,"").split("&").forEach(_t=>{const ie=_t.indexOf("="),[se,_e]=-1==ie?[Te.decodeKey(_t),""]:[Te.decodeKey(_t.slice(0,ie)),Te.decodeValue(_t.slice(ie+1))],ze=Pe.get(se)||[];ze.push(_e),Pe.set(se,ze)}),Pe}(Te.fromString,this.encoder)}else Te.fromObject?(this.map=new Map,Object.keys(Te.fromObject).forEach(Pe=>{const yt=Te.fromObject[Pe],_t=Array.isArray(yt)?yt.map(ln):[ln(yt)];this.map.set(Pe,_t)})):this.map=null}has(Te){return this.init(),this.map.has(Te)}get(Te){this.init();const Pe=this.map.get(Te);return Pe?Pe[0]:null}getAll(Te){return this.init(),this.map.get(Te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Te,Pe){return this.clone({param:Te,value:Pe,op:"a"})}appendAll(Te){const Pe=[];return Object.keys(Te).forEach(yt=>{const _t=Te[yt];Array.isArray(_t)?_t.forEach(ie=>{Pe.push({param:yt,value:ie,op:"a"})}):Pe.push({param:yt,value:_t,op:"a"})}),this.clone(Pe)}set(Te,Pe){return this.clone({param:Te,value:Pe,op:"s"})}delete(Te,Pe){return this.clone({param:Te,value:Pe,op:"d"})}toString(){return this.init(),this.keys().map(Te=>{const Pe=this.encoder.encodeKey(Te);return this.map.get(Te).map(yt=>Pe+"="+this.encoder.encodeValue(yt)).join("&")}).filter(Te=>""!==Te).join("&")}clone(Te){const Pe=new nn({encoder:this.encoder});return Pe.cloneFrom=this.cloneFrom||this,Pe.updates=(this.updates||[]).concat(Te),Pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Te=>this.map.set(Te,this.cloneFrom.map.get(Te))),this.updates.forEach(Te=>{switch(Te.op){case"a":case"s":const Pe=("a"===Te.op?this.map.get(Te.param):void 0)||[];Pe.push(ln(Te.value)),this.map.set(Te.param,Pe);break;case"d":if(void 0===Te.value){this.map.delete(Te.param);break}{let yt=this.map.get(Te.param)||[];const _t=yt.indexOf(ln(Te.value));-1!==_t&&yt.splice(_t,1),yt.length>0?this.map.set(Te.param,yt):this.map.delete(Te.param)}}}),this.cloneFrom=this.updates=null)}}class St{constructor(){this.map=new Map}set(Te,Pe){return this.map.set(Te,Pe),this}get(Te){return this.map.has(Te)||this.map.set(Te,Te.defaultValue()),this.map.get(Te)}delete(Te){return this.map.delete(Te),this}has(Te){return this.map.has(Te)}keys(){return this.map.keys()}}function Oe(Be){return typeof ArrayBuffer<"u"&&Be instanceof ArrayBuffer}function ht(Be){return typeof Blob<"u"&&Be instanceof Blob}function Lt(Be){return typeof FormData<"u"&&Be instanceof FormData}class kt{constructor(Te,Pe,yt,_t){let ie;if(this.url=Pe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Te.toUpperCase(),function ot(Be){switch(Be){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||_t?(this.body=void 0!==yt?yt:null,ie=_t):ie=yt,ie&&(this.reportProgress=!!ie.reportProgress,this.withCredentials=!!ie.withCredentials,ie.responseType&&(this.responseType=ie.responseType),ie.headers&&(this.headers=ie.headers),ie.context&&(this.context=ie.context),ie.params&&(this.params=ie.params)),this.headers||(this.headers=new fe),this.context||(this.context=new St),this.params){const se=this.params.toString();if(0===se.length)this.urlWithParams=Pe;else{const _e=Pe.indexOf("?");this.urlWithParams=Pe+(-1===_e?"?":_e<Pe.length-1?"&":"")+se}}else this.params=new nn,this.urlWithParams=Pe}serializeBody(){return null===this.body?null:Oe(this.body)||ht(this.body)||Lt(this.body)||function He(Be){return typeof URLSearchParams<"u"&&Be instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lt(this.body)?null:ht(this.body)?this.body.type||null:Oe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Te={}){const Pe=Te.method||this.method,yt=Te.url||this.url,_t=Te.responseType||this.responseType,ie=void 0!==Te.body?Te.body:this.body,se=void 0!==Te.withCredentials?Te.withCredentials:this.withCredentials,_e=void 0!==Te.reportProgress?Te.reportProgress:this.reportProgress;let ze=Te.headers||this.headers,Fe=Te.params||this.params;const qt=Te.context??this.context;return void 0!==Te.setHeaders&&(ze=Object.keys(Te.setHeaders).reduce((Ce,Ee)=>Ce.set(Ee,Te.setHeaders[Ee]),ze)),Te.setParams&&(Fe=Object.keys(Te.setParams).reduce((Ce,Ee)=>Ce.set(Ee,Te.setParams[Ee]),Fe)),new kt(Pe,yt,ie,{params:Fe,headers:ze,context:qt,reportProgress:_e,responseType:_t,withCredentials:se})}}var rt=(()=>((rt=rt||{})[rt.Sent=0]="Sent",rt[rt.UploadProgress=1]="UploadProgress",rt[rt.ResponseHeader=2]="ResponseHeader",rt[rt.DownloadProgress=3]="DownloadProgress",rt[rt.Response=4]="Response",rt[rt.User=5]="User",rt))();class Ut{constructor(Te,Pe=200,yt="OK"){this.headers=Te.headers||new fe,this.status=void 0!==Te.status?Te.status:Pe,this.statusText=Te.statusText||yt,this.url=Te.url||null,this.ok=this.status>=200&&this.status<300}}class Yt extends Ut{constructor(Te={}){super(Te),this.type=rt.ResponseHeader}clone(Te={}){return new Yt({headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class dt extends Ut{constructor(Te={}){super(Te),this.type=rt.Response,this.body=void 0!==Te.body?Te.body:null}clone(Te={}){return new dt({body:void 0!==Te.body?Te.body:this.body,headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class Vt extends Ut{constructor(Te){super(Te,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Te.url||"(unknown url)"}`:`Http failure response for ${Te.url||"(unknown url)"}: ${Te.status} ${Te.statusText}`,this.error=Te.error||null}}function We(Be,Te){return{body:Te,headers:Be.headers,context:Be.context,observe:Be.observe,params:Be.params,reportProgress:Be.reportProgress,responseType:Be.responseType,withCredentials:Be.withCredentials}}let Me=(()=>{class Be{constructor(Pe){this.handler=Pe}request(Pe,yt,_t={}){let ie;if(Pe instanceof kt)ie=Pe;else{let ze,Fe;ze=_t.headers instanceof fe?_t.headers:new fe(_t.headers),_t.params&&(Fe=_t.params instanceof nn?_t.params:new nn({fromObject:_t.params})),ie=new kt(Pe,yt,void 0!==_t.body?_t.body:null,{headers:ze,context:_t.context,params:Fe,reportProgress:_t.reportProgress,responseType:_t.responseType||"json",withCredentials:_t.withCredentials})}const se=(0,j.of)(ie).pipe((0,de.b)(ze=>this.handler.handle(ze)));if(Pe instanceof kt||"events"===_t.observe)return se;const _e=se.pipe((0,Le.h)(ze=>ze instanceof dt));switch(_t.observe||"body"){case"body":switch(ie.responseType){case"arraybuffer":return _e.pipe((0,Ae.U)(ze=>{if(null!==ze.body&&!(ze.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ze.body}));case"blob":return _e.pipe((0,Ae.U)(ze=>{if(null!==ze.body&&!(ze.body instanceof Blob))throw new Error("Response is not a Blob.");return ze.body}));case"text":return _e.pipe((0,Ae.U)(ze=>{if(null!==ze.body&&"string"!=typeof ze.body)throw new Error("Response is not a string.");return ze.body}));default:return _e.pipe((0,Ae.U)(ze=>ze.body))}case"response":return _e;default:throw new Error(`Unreachable: unhandled observe type ${_t.observe}}`)}}delete(Pe,yt={}){return this.request("DELETE",Pe,yt)}get(Pe,yt={}){return this.request("GET",Pe,yt)}head(Pe,yt={}){return this.request("HEAD",Pe,yt)}jsonp(Pe,yt){return this.request("JSONP",Pe,{params:(new nn).append(yt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Pe,yt={}){return this.request("OPTIONS",Pe,yt)}patch(Pe,yt,_t={}){return this.request("PATCH",Pe,We(_t,yt))}post(Pe,yt,_t={}){return this.request("POST",Pe,We(_t,yt))}put(Pe,yt,_t={}){return this.request("PUT",Pe,We(_t,yt))}}return Be.\u0275fac=function(Pe){return new(Pe||Be)($.LFG(ut))},Be.\u0275prov=$.Yz7({token:Be,factory:Be.\u0275fac}),Be})();function ft(Be,Te){return Te(Be)}function ke(Be,Te){return(Pe,yt)=>Te.intercept(Pe,{handle:_t=>Be(_t,yt)})}const ue=new $.OlP("HTTP_INTERCEPTORS"),$e=new $.OlP("HTTP_INTERCEPTOR_FNS");function we(){let Be=null;return(Te,Pe)=>(null===Be&&(Be=((0,$.f3M)(ue,{optional:!0})??[]).reduceRight(ke,ft)),Be(Te,Pe))}let xe=(()=>{class Be extends ut{constructor(Pe,yt){super(),this.backend=Pe,this.injector=yt,this.chain=null}handle(Pe){if(null===this.chain){const yt=Array.from(new Set(this.injector.get($e)));this.chain=yt.reduceRight((_t,ie)=>function Et(Be,Te,Pe){return(yt,_t)=>Pe.runInContext(()=>Te(yt,ie=>Be(ie,_t)))}(_t,ie,this.injector),ft)}return this.chain(Pe,yt=>this.backend.handle(yt))}}return Be.\u0275fac=function(Pe){return new(Pe||Be)($.LFG(Xe),$.LFG($.lqb))},Be.\u0275prov=$.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const jr=/^\)\]\}',?\n/;let en=(()=>{class Be{constructor(Pe){this.xhrFactory=Pe}handle(Pe){if("JSONP"===Pe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new V.y(yt=>{const _t=this.xhrFactory.build();if(_t.open(Pe.method,Pe.urlWithParams),Pe.withCredentials&&(_t.withCredentials=!0),Pe.headers.forEach((re,be)=>_t.setRequestHeader(re,be.join(","))),Pe.headers.has("Accept")||_t.setRequestHeader("Accept","application/json, text/plain, */*"),!Pe.headers.has("Content-Type")){const re=Pe.detectContentTypeHeader();null!==re&&_t.setRequestHeader("Content-Type",re)}if(Pe.responseType){const re=Pe.responseType.toLowerCase();_t.responseType="json"!==re?re:"text"}const ie=Pe.serializeBody();let se=null;const _e=()=>{if(null!==se)return se;const re=_t.statusText||"OK",be=new fe(_t.getAllResponseHeaders()),it=function Qr(Be){return"responseURL"in Be&&Be.responseURL?Be.responseURL:/^X-Request-URL:/m.test(Be.getAllResponseHeaders())?Be.getResponseHeader("X-Request-URL"):null}(_t)||Pe.url;return se=new Yt({headers:be,status:_t.status,statusText:re,url:it}),se},ze=()=>{let{headers:re,status:be,statusText:it,url:At}=_e(),Kt=null;204!==be&&(Kt=typeof _t.response>"u"?_t.responseText:_t.response),0===be&&(be=Kt?200:0);let cn=be>=200&&be<300;if("json"===Pe.responseType&&"string"==typeof Kt){const Qn=Kt;Kt=Kt.replace(jr,"");try{Kt=""!==Kt?JSON.parse(Kt):null}catch(dr){Kt=Qn,cn&&(cn=!1,Kt={error:dr,text:Kt})}}cn?(yt.next(new dt({body:Kt,headers:re,status:be,statusText:it,url:At||void 0})),yt.complete()):yt.error(new Vt({error:Kt,headers:re,status:be,statusText:it,url:At||void 0}))},Fe=re=>{const{url:be}=_e(),it=new Vt({error:re,status:_t.status||0,statusText:_t.statusText||"Unknown Error",url:be||void 0});yt.error(it)};let qt=!1;const Ce=re=>{qt||(yt.next(_e()),qt=!0);let be={type:rt.DownloadProgress,loaded:re.loaded};re.lengthComputable&&(be.total=re.total),"text"===Pe.responseType&&_t.responseText&&(be.partialText=_t.responseText),yt.next(be)},Ee=re=>{let be={type:rt.UploadProgress,loaded:re.loaded};re.lengthComputable&&(be.total=re.total),yt.next(be)};return _t.addEventListener("load",ze),_t.addEventListener("error",Fe),_t.addEventListener("timeout",Fe),_t.addEventListener("abort",Fe),Pe.reportProgress&&(_t.addEventListener("progress",Ce),null!==ie&&_t.upload&&_t.upload.addEventListener("progress",Ee)),_t.send(ie),yt.next({type:rt.Sent}),()=>{_t.removeEventListener("error",Fe),_t.removeEventListener("abort",Fe),_t.removeEventListener("load",ze),_t.removeEventListener("timeout",Fe),Pe.reportProgress&&(_t.removeEventListener("progress",Ce),null!==ie&&_t.upload&&_t.upload.removeEventListener("progress",Ee)),_t.readyState!==_t.DONE&&_t.abort()}})}}return Be.\u0275fac=function(Pe){return new(Pe||Be)($.LFG(g.JF))},Be.\u0275prov=$.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const Zn=new $.OlP("XSRF_ENABLED"),Jr=new $.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gi=new $.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Hr{}let xi=(()=>{class Be{constructor(Pe,yt,_t){this.doc=Pe,this.platform=yt,this.cookieName=_t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Pe=this.doc.cookie||"";return Pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.Mx)(Pe,this.cookieName),this.lastCookieString=Pe),this.lastToken}}return Be.\u0275fac=function(Pe){return new(Pe||Be)($.LFG(g.K0),$.LFG($.Lbi),$.LFG(Jr))},Be.\u0275prov=$.Yz7({token:Be,factory:Be.\u0275fac}),Be})();function Vn(Be,Te){const Pe=Be.url.toLowerCase();if(!(0,$.f3M)(Zn)||"GET"===Be.method||"HEAD"===Be.method||Pe.startsWith("http://")||Pe.startsWith("https://"))return Te(Be);const yt=(0,$.f3M)(Hr).getToken(),_t=(0,$.f3M)(gi);return null!=yt&&!Be.headers.has(_t)&&(Be=Be.clone({headers:Be.headers.set(_t,yt)})),Te(Be)}var $t=(()=>(($t=$t||{})[$t.Interceptors=0]="Interceptors",$t[$t.LegacyInterceptors=1]="LegacyInterceptors",$t[$t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",$t[$t.NoXsrfProtection=3]="NoXsrfProtection",$t[$t.JsonpSupport=4]="JsonpSupport",$t[$t.RequestsMadeViaParent=5]="RequestsMadeViaParent",$t))();function er(Be,Te){return{\u0275kind:Be,\u0275providers:Te}}function Fn(...Be){const Te=[Me,en,xe,{provide:ut,useExisting:xe},{provide:Xe,useExisting:en},{provide:$e,useValue:Vn,multi:!0},{provide:Zn,useValue:!0},{provide:Hr,useClass:xi}];for(const Pe of Be)Te.push(...Pe.\u0275providers);return(0,$.MR2)(Te)}const xr=new $.OlP("LEGACY_INTERCEPTOR_FN");let Ni=(()=>{class Be{}return Be.\u0275fac=function(Pe){return new(Pe||Be)},Be.\u0275mod=$.oAB({type:Be}),Be.\u0275inj=$.cJS({providers:[Fn(er($t.LegacyInterceptors,[{provide:xr,useFactory:we},{provide:$e,useExisting:xr,multi:!0}]))]}),Be})()},8256:(yn,ct,K)=>{K.d(ct,{QbO:()=>Jw,tb:()=>tw,AFp:()=>G0,ip1:()=>H0,CZH:()=>Py,hGG:()=>UT,z2F:()=>xy,sBO:()=>TT,Sil:()=>rT,_Vd:()=>Hd,EJc:()=>tT,Xts:()=>Lc,SBq:()=>sl,lqb:()=>Mu,qLn:()=>ac,vpe:()=>e,XFs:()=>It,OlP:()=>ar,zs3:()=>jc,ZZ4:()=>uE,aQg:()=>lE,soG:()=>Ry,YKP:()=>Mv,h0i:()=>Nd,PXZ:()=>mT,R0b:()=>Cl,FiY:()=>hs,Lbi:()=>Qw,g9A:()=>q0,Qsj:()=>Hy,FYo:()=>wp,JOm:()=>Io,q3G:()=>Fr,tp0:()=>ea,Rgc:()=>a,dDg:()=>hT,eoX:()=>X0,q4F:()=>Zh,GfV:()=>Kh,s_b:()=>z,ifc:()=>At,MMx:()=>by,Lck:()=>WE,eFA:()=>rw,G48:()=>wT,Gpc:()=>an,f3M:()=>_e,$WT:()=>as,MR2:()=>gp,_c5:()=>LT,c2e:()=>Xw,zSh:()=>Hh,wAp:()=>zn,vHH:()=>He,lri:()=>Q0,rWj:()=>J0,JZr:()=>Lt,EiD:()=>kc,mCW:()=>Rn,qzn:()=>Ul,JVY:()=>b,pB0:()=>Z,eBb:()=>_,L6k:()=>h,LAX:()=>P,D6c:()=>VT,cg1:()=>bh,kL8:()=>Dh,dqk:()=>Ln,Z0I:()=>Zn,eJc:()=>qv,CqO:()=>dh,QGY:()=>ch,F4k:()=>Um,RDi:()=>bs,AaK:()=>mt,z3N:()=>au,qOj:()=>eg,TTD:()=>yo,_Bn:()=>Sv,jDz:()=>Dy,xp6:()=>lm,uIk:()=>ig,Tol:()=>wg,ekj:()=>Wm,Suo:()=>w0,Xpm:()=>Nn,lG2:()=>Ds,Yz7:()=>cr,cJS:()=>Qr,oAB:()=>mi,Yjl:()=>ho,Y36:()=>ld,_UZ:()=>ug,BQk:()=>Sf,ynx:()=>Cd,qZA:()=>lh,TgZ:()=>Dd,EpF:()=>Pf,n5z:()=>Ms,LFG:()=>ie,$8M:()=>va,$Z:()=>sf,NdJ:()=>lg,CRH:()=>T0,oxw:()=>Bm,Q6J:()=>ag,s9C:()=>Ad,hYB:()=>ph,iGM:()=>E0,KtG:()=>eo,CHM:()=>Wo,oJD:()=>$h,LSH:()=>Fc,P3R:()=>fp,Udp:()=>Eg,d8E:()=>uy,YNc:()=>Af,_uU:()=>Sd,Oqu:()=>bg,hij:()=>Dl,AsE:()=>Ec});var g=K(7579),$=K(727),j=K(9751),V=K(8189),de=K(8421),Le=K(515),Ae=K(7669),ut=K(8996),fe=K(2961),ye=K(4482);function pt(n,i,...o){if(!0===i)return void n();if(!1===i)return;const u=new fe.Hp({next:()=>{u.unsubscribe(),n()}});return i(...o).subscribe(u)}function ve(n){for(let i in n)if(n[i]===ve)return i;throw Error("Could not find renamed property on target object.")}function Rt(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function mt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(mt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ln(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const nn=ve({__forward_ref__:ve});function an(n){return n.__forward_ref__=an,n.toString=function(){return mt(this())},n}function St(n){return ot(n)?n():n}function ot(n){return"function"==typeof n&&n.hasOwnProperty(nn)&&n.__forward_ref__===an}function Oe(n){return n&&!!n.\u0275providers}const Lt="https://g.co/ng/security#xss";class He extends Error{constructor(i,o){super(kt(i,o)),this.code=i}}function kt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function rt(n){return"string"==typeof n?n:null==n?"":String(n)}function We(n,i){throw new He(-201,!1)}function xn(n,i){null==n&&function hn(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function cr(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qr(n){return{providers:n.providers||[],imports:n.imports||[]}}function en(n){return sr(n,gi)||sr(n,xi)}function Zn(n){return null!==en(n)}function sr(n,i){return n.hasOwnProperty(i)?n[i]:null}function li(n){return n&&(n.hasOwnProperty(Hr)||n.hasOwnProperty(Vn))?n[Hr]:null}const gi=ve({\u0275prov:ve}),Hr=ve({\u0275inj:ve}),xi=ve({ngInjectableDef:ve}),Vn=ve({ngInjectorDef:ve});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let $t;function Fn(n){const i=$t;return $t=n,i}function Lr(n,i,o){const u=en(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&It.Optional?null:void 0!==i?i:void We(mt(n))}const Ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yn={},Ci="__NG_DI_FLAG__",Ni="ngTempTokenPath",es="ngTokenPath",Xr=/\n/gm,Be="\u0275",Te="__source";let Pe;function yt(n){const i=Pe;return Pe=n,i}function _t(n,i=It.Default){if(void 0===Pe)throw new He(-203,!1);return null===Pe?Lr(n,void 0,i):Pe.get(n,i&It.Optional?null:void 0,i)}function ie(n,i=It.Default){return(function er(){return $t}()||_t)(St(n),i)}function _e(n,i=It.Default){return ie(n,ze(i))}function ze(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Fe(n){const i=[];for(let o=0;o<n.length;o++){const u=St(n[o]);if(Array.isArray(u)){if(0===u.length)throw new He(900,!1);let l,f=It.Default;for(let v=0;v<u.length;v++){const C=u[v],R=Ce(C);"number"==typeof R?-1===R?l=C.token:f|=R:l=C}i.push(ie(l,f))}else i.push(ie(u))}return i}function qt(n,i){return n[Ci]=i,n.prototype[Ci]=i,n}function Ce(n){return n[Ci]}function be(n){return{toString:n}.toString()}var it=(()=>((it=it||{})[it.OnPush=0]="OnPush",it[it.Default=1]="Default",it))(),At=(()=>{return(n=At||(At={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",At;var n})();const Kt={},cn=[],Qn=ve({\u0275cmp:ve}),dr=ve({\u0275dir:ve}),tt=ve({\u0275pipe:ve}),qe=ve({\u0275mod:ve}),Pt=ve({\u0275fac:ve}),rn=ve({__NG_ELEMENT_ID__:ve});let bn=0;function Nn(n){return be(()=>{const i=Cs(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===it.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||At.Emulated,id:"c"+bn++,styles:n.styles||cn,_:null,schemas:n.schemas||null,tView:null};js(o);const u=n.dependencies;return o.directiveDefs=mr(u,!1),o.pipeDefs=mr(u,!0),o})}function qr(n){return Kn(n)||Tr(n)}function Mr(n){return null!==n}function mi(n){return be(()=>({type:n.type,bootstrap:n.bootstrap||cn,declarations:n.declarations||cn,imports:n.imports||cn,exports:n.exports||cn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Co(n,i){if(null==n)return Kt;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),o[l]=u,i&&(i[l]=f)}return o}function Ds(n){return be(()=>{const i=Cs(n);return js(i),i})}function ho(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kn(n){return n[Qn]||null}function Tr(n){return n[dr]||null}function ci(n){return n[tt]||null}function as(n){const i=Kn(n)||Tr(n)||ci(n);return null!==i&&i.standalone}function ii(n,i){const o=n[qe]||null;if(!o&&!0===i)throw new Error(`Type ${mt(n)} does not have '\u0275mod' property.`);return o}function Cs(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||cn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Co(n.inputs,i),outputs:Co(n.outputs)}}function js(n){n.features?.forEach(i=>i(n))}function mr(n,i){if(!n)return null;const o=i?ci:qr;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(Mr)}const Ir=0,pe=1,me=2,Ve=3,lt=4,Ft=5,zt=6,jn=7,wn=8,yr=9,Li=10,Tn=11,ei=12,ti=13,$a=14,di=15,hi=16,Ns=17,Hs=18,$i=19,fo=20,jo=21,_r=22,po=1,Qs=2,Os=7,Ao=8,So=9,ji=10;function Ui(n){return Array.isArray(n)&&"object"==typeof n[po]}function ys(n){return Array.isArray(n)&&!0===n[po]}function Ai(n){return 0!=(4&n.flags)}function Hi(n){return n.componentOffset>-1}function us(n){return 1==(1&n.flags)}function wi(n){return!!n.template}function ks(n){return 0!=(256&n[me])}function Ws(n,i){return n.hasOwnProperty(Pt)?n[Pt]:null}class mo{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function yo(){return Xs}function Xs(n){return n.type.prototype.ngOnChanges&&(n.setInput=ts),Ha}function Ha(){const n=Zi(this),i=n?.current;if(i){const o=n.previous;if(o===Kt)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function ts(n,i,o,u){const l=this.declaredInputs[o],f=Zi(n)||function Go(n,i){return n[ns]=i}(n,{previous:Kt,current:null}),v=f.current||(f.current={}),C=f.previous,R=C[l];v[l]=new mo(R&&R.currentValue,i,C===Kt),n[u]=i}yo.ngInherit=!0;const ns="__ngSimpleChanges__";function Zi(n){return n[ns]||null}const Gi=function(n,i,o){};function Oi(n){for(;Array.isArray(n);)n=n[Ir];return n}function rs(n,i){return Oi(i[n])}function ls(n,i){return Oi(i[n.index])}function Yi(n,i){return n.data[i]}function Si(n,i){const o=i[n];return Ui(o)?o:o[Ir]}function fa(n){return 64==(64&n[me])}function Qi(n,i){return null==i?null:n[i]}function kr(n){n[Hs]=0}function Mi(n,i){n[Ft]+=i;let o=n,u=n[Ve];for(;null!==u&&(1===i&&1===o[Ft]||-1===i&&0===o[Ft]);)u[Ft]+=i,o=u,u=u[Ve]}const In={lFrame:Es(null),bindingsEnabled:!0};function gn(){return In.bindingsEnabled}function Tt(){return In.lFrame.lView}function nr(){return In.lFrame.tView}function Wo(n){return In.lFrame.contextLView=n,n[wn]}function eo(n){return In.lFrame.contextLView=null,n}function Ti(){let n=Aa();for(;null!==n&&64===n.type;)n=n.parent;return n}function Aa(){return In.lFrame.currentTNode}function Ii(n,i){const o=In.lFrame;o.currentTNode=n,o.isParent=i}function Sa(){return In.lFrame.isParent}function Ma(){In.lFrame.isParent=!1}function qa(){return In.lFrame.bindingIndex++}function to(n){const i=In.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Ra(n,i){const o=In.lFrame;o.bindingIndex=o.bindingRootIndex=n,Ko(i)}function Ko(n){In.lFrame.currentDirectiveIndex=n}function Ls(n){const i=In.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Wa(){return In.lFrame.currentQueryIndex}function Ur(n){In.lFrame.currentQueryIndex=n}function Tu(n){const i=n[pe];return 2===i.type?i.declTNode:1===i.type?n[zt]:null}function Zo(n,i,o){if(o&It.SkipSelf){let l=i,f=n;for(;!(l=l.parent,null!==l||o&It.Host||(l=Tu(f),null===l||(f=f[di],10&l.type))););if(null===l)return!1;i=l,n=f}const u=In.lFrame=ga();return u.currentTNode=i,u.lView=n,!0}function cs(n){const i=ga(),o=n[pe];In.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function ga(){const n=In.lFrame,i=null===n?null:n.child;return null===i?Es(n):i}function Es(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function no(){const n=In.lFrame;return In.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ka=no;function vo(){const n=no();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function br(){return In.lFrame.selectedIndex}function Eo(n){In.lFrame.selectedIndex=n}function si(){const n=In.lFrame;return Yi(n.tView,n.selectedIndex)}function nt(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const f=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:R,ngAfterViewChecked:H,ngOnDestroy:J}=f;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),C&&((n.contentHooks??(n.contentHooks=[])).push(o,C),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,C)),R&&(n.viewHooks??(n.viewHooks=[])).push(-o,R),H&&((n.viewHooks??(n.viewHooks=[])).push(o,H),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,H)),null!=J&&(n.destroyHooks??(n.destroyHooks=[])).push(o,J)}}function Dt(n,i,o){ni(n,i,3,o)}function mn(n,i,o,u){(3&n[me])===o&&ni(n,i,o,u)}function Vr(n,i){let o=n[me];(3&o)===i&&(o&=2047,o+=1,n[me]=o)}function ni(n,i,o,u){const f=u??-1,v=i.length-1;let C=0;for(let R=void 0!==u?65535&n[Hs]:0;R<v;R++)if("number"==typeof i[R+1]){if(C=i[R],null!=u&&C>=u)break}else i[R]<0&&(n[Hs]+=65536),(C<f||-1==f)&&(vr(n,o,i,R),n[Hs]=(4294901760&n[Hs])+R+2),R++}function vr(n,i,o,u){const l=o[u]<0,f=o[u+1],C=n[l?-o[u]:o[u]];if(l){if(n[me]>>11<n[Hs]>>16&&(3&n[me])===i){n[me]+=2048,Gi(4,C,f);try{f.call(C)}finally{Gi(5,C,f)}}}else{Gi(4,C,f);try{f.call(C)}finally{Gi(5,C,f)}}}const qn=-1;class Wr{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Cr(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const f=o[u++],v=o[u++],C=o[u++];n.setAttribute(i,v,C,f)}else{const f=l,v=o[++u];du(f)?n.setProperty(i,f,v):n.setAttribute(i,f,v),u++}}return u}function Ri(n){return 3===n||4===n||6===n}function du(n){return 64===n.charCodeAt(0)}function Xt(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||vn(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function vn(n,i,o,u,l){let f=0,v=n.length;if(-1===i)v=-1;else for(;f<n.length;){const C=n[f++];if("number"==typeof C){if(C===i){v=-1;break}if(C>i){v=f-1;break}}}for(;f<n.length;){const C=n[f];if("number"==typeof C)break;if(C===o){if(null===u)return void(null!==l&&(n[f+1]=l));if(u===n[f+1])return void(n[f+2]=l)}f++,null!==u&&f++,null!==l&&f++}-1!==v&&(n.splice(v,0,i),f=v+1),n.splice(f++,0,o),null!==u&&n.splice(f++,0,u),null!==l&&n.splice(f++,0,l)}function Ou(n){return n!==qn}function Wt(n){return 32767&n}function Ot(n,i){let o=function at(n){return n>>16}(n),u=i;for(;o>0;)u=u[di],o--;return u}let ri=!0;function hu(n){const i=ri;return ri=n,i}const Qo=255,Na=5;let Ya=0;const ma={};function Iu(n,i){const o=Qa(n,i);if(-1!==o)return o;const u=i[pe];u.firstCreatePass&&(n.injectorIndex=i.length,ya(u.data,n),ya(i,null),ya(u.blueprint,null));const l=Oa(n,i),f=n.injectorIndex;if(Ou(l)){const v=Wt(l),C=Ot(l,i),R=C[pe].data;for(let H=0;H<8;H++)i[f+H]=C[v+H]|R[v+H]}return i[f+8]=l,f}function ya(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Qa(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Oa(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=Du(l),null===u)return qn;if(o++,l=l[di],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return qn}function Bn(n,i,o){!function oi(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(rn)&&(u=o[rn]),null==u&&(u=o[rn]=Ya++);const l=u&Qo;i.data[n+(l>>Na)]|=1<<l}(n,i,o)}function ku(n,i,o){if(o&It.Optional||void 0!==n)return n;We()}function or(n,i,o,u){if(o&It.Optional&&void 0===u&&(u=null),!(o&(It.Self|It.Host))){const l=n[yr],f=Fn(void 0);try{return l?l.get(i,u,o&It.Optional):Lr(i,u,o&It.Optional)}finally{Fn(f)}}return ku(u,0,o)}function un(n,i,o,u=It.Default,l){if(null!==n){if(1024&i[me]){const v=function Oo(n,i,o,u,l){let f=n,v=i;for(;null!==f&&null!==v&&1024&v[me]&&!(256&v[me]);){const C=ro(f,v,o,u|It.Self,ma);if(C!==ma)return C;let R=f.parent;if(!R){const H=v[jo];if(H){const J=H.get(o,ma,u);if(J!==ma)return J}R=Du(v),v=v[di]}f=R}return l}(n,i,o,u,ma);if(v!==ma)return v}const f=ro(n,i,o,u,ma);if(f!==ma)return f}return or(i,o,u,l)}function ro(n,i,o,u,l){const f=function tn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(rn)?n[rn]:void 0;return"number"==typeof i?i>=0?i&Qo:_a:i}(o);if("function"==typeof f){if(!Zo(i,n,u))return u&It.Host?ku(l,0,u):or(i,o,u,l);try{const v=f(u);if(null!=v||u&It.Optional)return v;We()}finally{Ka()}}else if("number"==typeof f){let v=null,C=Qa(n,i),R=qn,H=u&It.Host?i[hi][zt]:null;for((-1===C||u&It.SkipSelf)&&(R=-1===C?Oa(n,i):i[C+8],R!==qn&&Ja(u,!1)?(v=i[pe],C=Wt(R),i=Ot(R,i)):C=-1);-1!==C;){const J=i[pe];if(Zu(f,C,J.data)){const ce=ir(C,i,o,v,u,H);if(ce!==ma)return ce}R=i[C+8],R!==qn&&Ja(u,i[pe].data[C+8]===H)&&Zu(f,C,i)?(v=J,C=Wt(R),i=Ot(R,i)):C=-1}}return l}function ir(n,i,o,u,l,f){const v=i[pe],C=v.data[n+8],J=No(C,v,o,null==u?Hi(C)&&ri:u!=v&&0!=(3&C.type),l&It.Host&&f===C);return null!==J?ai(i,v,J,C):ma}function No(n,i,o,u,l){const f=n.providerIndexes,v=i.data,C=1048575&f,R=n.directiveStart,J=f>>20,Ne=l?C+J:n.directiveEnd;for(let Je=u?C:C+J;Je<Ne;Je++){const Mt=v[Je];if(Je<R&&o===Mt||Je>=R&&Mt.type===o)return Je}if(l){const Je=v[R];if(Je&&wi(Je)&&Je.type===o)return R}return null}function ai(n,i,o,u){let l=n[o];const f=i.data;if(function rr(n){return n instanceof Wr}(l)){const v=l;v.resolving&&function Yt(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new He(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():rt(n)}(f[o]));const C=hu(v.canSeeViewProviders);v.resolving=!0;const R=v.injectImpl?Fn(v.injectImpl):null;Zo(n,u,It.Default);try{l=n[o]=v.factory(void 0,f,n,u),i.firstCreatePass&&o>=u.directiveStart&&function ge(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:f}=i.type.prototype;if(u){const v=Xs(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),f&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,f),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,f))}(o,f[o],i)}finally{null!==R&&Fn(R),hu(C),v.resolving=!1,Ka()}}return l}function Zu(n,i,o){return!!(o[i+(n>>Na)]&1<<n)}function Ja(n,i){return!(n&It.Self||n&It.Host&&i)}class wo{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return un(this._tNode,this._lView,i,ze(u),o)}}function _a(){return new wo(Ti(),Tt())}function Ms(n){return be(()=>{const i=n.prototype.constructor,o=i[Pt]||Fu(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const f=l[Pt]||Fu(l);if(f&&f!==o)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function Fu(n){return ot(n)?()=>{const i=Fu(St(n));return i&&i()}:Ws(n)}function Du(n){const i=n[pe],o=i.type;return 2===o?i.declTNode:1===o?n[zt]:null}function va(n){return function bu(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const f=o[l];if(Ri(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(f===i)return o[l+1];l+=2}}}return null}(Ti(),n)}const io="__parameters__";function zi(n,i,o){return be(()=>{const u=function Jo(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...f){if(this instanceof l)return u.apply(this,f),this;const v=new l(...f);return C.annotation=v,C;function C(R,H,J){const ce=R.hasOwnProperty(io)?R[io]:Object.defineProperty(R,io,{value:[]})[io];for(;ce.length<=J;)ce.push(null);return(ce[J]=ce[J]||[]).push(v),R}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class ar{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=cr({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ea(n,i){n.forEach(o=>Array.isArray(o)?Ea(o,i):i(o))}function To(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function ru(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function y(n,i,o){let u=L(n,i);return u>=0?n[1|u]=o:(u=~u,function E(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function A(n,i){const o=L(n,i);if(o>=0)return n[1|o]}function L(n,i){return function te(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const f=u+(l-u>>1),v=n[f<<o];if(i===v)return f<<o;v>i?l=f:u=f+1}return~(l<<o)}(n,i,1)}const hs=qt(zi("Optional"),8),ea=qt(zi("SkipSelf"),4);var Io=(()=>((Io=Io||{})[Io.Important=1]="Important",Io[Io.DashCase=2]="DashCase",Io))();const fs=new Map;let Ql=0;const pi="__ngContext__";function ps(n,i){Ui(i)?(n[pi]=i[fo],function Su(n){fs.set(n[fo],n)}(i)):n[pi]=i}let xl;function Nl(n,i){return xl(n,i)}function d(n){const i=n[Ve];return ys(i)?i[Ve]:i}function k(n){return oe(n[ti])}function W(n){return oe(n[lt])}function oe(n){for(;null!==n&&!ys(n);)n=n[lt];return n}function le(n,i,o,u,l){if(null!=u){let f,v=!1;ys(u)?f=u:Ui(u)&&(v=!0,u=u[Ir]);const C=Oi(u);0===n&&null!==o?null==l?ed(i,o,C):Lo(i,o,C,l||null,!0):1===n&&null!==o?Lo(i,o,C,l||null,!0):2===n?function Mc(n,i,o){const u=Ol(n,i);u&&function yl(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,C,v):3===n&&i.destroyNode(C),null!=f&&function td(n,i,o,u,l){const f=o[Os];f!==Oi(o)&&le(i,n,u,f,l);for(let C=ji;C<o.length;C++){const R=o[C];ou(R[pe],R,n,i,u,f)}}(i,n,f,o,l)}}function jt(n,i,o){return n.createElement(i,o)}function pr(n,i){const o=n[So],u=o.indexOf(i),l=i[Ve];512&i[me]&&(i[me]&=-513,Mi(l,-1)),o.splice(u,1)}function zr(n,i){if(n.length<=ji)return;const o=ji+i,u=n[o];if(u){const l=u[Ns];null!==l&&l!==n&&pr(l,u),i>0&&(n[o-1][lt]=u[lt]);const f=ru(n,ji+i);!function Cn(n,i){ou(n,i,i[Tn],2,null,null),i[Ir]=null,i[zt]=null}(u[pe],u);const v=f[$i];null!==v&&v.detachView(f[pe]),u[Ve]=null,u[lt]=null,u[me]&=-65}return u}function Ar(n,i){if(!(128&i[me])){const o=i[Tn];o.destroyNode&&ou(n,i,o,3,null,null),function Sn(n){let i=n[ti];if(!i)return Ks(n[pe],n);for(;i;){let o=null;if(Ui(i))o=i[ti];else{const u=i[ji];u&&(o=u)}if(!o){for(;i&&!i[lt]&&i!==n;)Ui(i)&&Ks(i[pe],i),i=i[Ve];null===i&&(i=n),Ui(i)&&Ks(i[pe],i),o=i&&i[lt]}i=o}}(i)}}function Ks(n,i){if(!(128&i[me])){i[me]&=-65,i[me]|=128,function Rs(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof Wr)){const f=o[u+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const C=l[f[v]],R=f[v+1];Gi(4,C,R);try{R.call(C)}finally{Gi(5,C,R)}}else{Gi(4,l,f);try{f.call(l)}finally{Gi(5,l,f)}}}}}(n,i),function ao(n,i){const o=n.cleanup,u=i[jn];let l=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const v=o[f+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),f+=2}else{const v=u[l=o[f+1]];o[f].call(v)}if(null!==u){for(let f=l+1;f<u.length;f++)(0,u[f])();i[jn]=null}}(n,i),1===i[pe].type&&i[Tn].destroy();const o=i[Ns];if(null!==o&&ys(i[Ve])){o!==i[Ve]&&pr(o,i);const u=i[$i];null!==u&&u.detachView(n)}!function bc(n){fs.delete(n[fo])}(i)}}function Bs(n,i,o){return function ia(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Ir];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:f}=n.data[u.directiveStart+l];if(f===At.None||f===At.Emulated)return null}return ls(u,o)}}(n,i.parent,o)}function Lo(n,i,o,u,l){n.insertBefore(i,o,u,l)}function ed(n,i,o){n.appendChild(i,o)}function Ta(n,i,o,u,l){null!==u?Lo(n,i,o,u,l):ed(n,i,o)}function Ol(n,i){return n.parentNode(i)}let ss,rl,kh,Xl,Zr=function kn(n,i,o){return 40&n.type?ls(n,o):null};function Uo(n,i,o,u){const l=Bs(n,u,i),f=i[Tn],C=function Un(n,i,o){return Zr(n,i,o)}(u.parent||i[zt],u,i);if(null!=l)if(Array.isArray(o))for(let R=0;R<o.length;R++)Ta(f,l,o[R],C,!1);else Ta(f,l,o,C,!1);void 0!==ss&&ss(f,u,i,o,l)}function Gn(n,i){if(null!==i){const o=i.type;if(3&o)return ls(i,n);if(4&o)return kl(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Gn(n,u);{const l=n[i.index];return ys(l)?kl(-1,l):Oi(l)}}if(32&o)return Nl(i,n)()||Oi(n[i.index]);{const u=os(n,i);return null!==u?Array.isArray(u)?u[0]:Gn(d(n[hi]),u):Gn(n,i.next)}}return null}function os(n,i){return null!==i?n[hi][zt].projection[i.projection]:null}function kl(n,i){const o=ji+n+1;if(o<i.length){const u=i[o],l=u[pe].firstChild;if(null!==l)return Gn(u,l)}return i[Os]}function Zs(n,i,o,u,l,f,v){for(;null!=o;){const C=u[o.index],R=o.type;if(v&&0===i&&(C&&ps(Oi(C),u),o.flags|=2),32!=(32&o.flags))if(8&R)Zs(n,i,o.child,u,l,f,!1),le(i,n,l,C,f);else if(32&R){const H=Nl(o,u);let J;for(;J=H();)le(i,n,l,J,f);le(i,n,l,C,f)}else 16&R?Jl(n,i,u,o,l,f):le(i,n,l,C,f);o=v?o.projectionNext:o.next}}function ou(n,i,o,u,l,f){Zs(o,u,n.firstChild,i,l,f,!1)}function Jl(n,i,o,u,l,f){const v=o[hi],R=v[zt].projection[u.projection];if(Array.isArray(R))for(let H=0;H<R.length;H++)le(i,n,l,R[H],f);else Zs(n,i,R,v[Ve],l,f,!0)}function Fl(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Oh(n,i,o){const{mergedAttrs:u,classes:l,styles:f}=o;null!==u&&Cr(n,i,u),null!==l&&Fl(n,i,l),null!==f&&function Pc(n,i,o){n.setAttribute(i,"style",o)}(n,i,f)}function Gu(n){return function Ld(){if(void 0===rl&&(rl=null,Ln.trustedTypes))try{rl=Ln.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rl}()?.createHTML(n)||n}function bs(n){kh=n}function Vd(){if(void 0===Xl&&(Xl=null,Ln.trustedTypes))try{Xl=Ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xl}function op(n){return Vd()?.createHTML(n)||n}function ap(n){return Vd()?.createScriptURL(n)||n}class Ll{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lt})`}}class xc extends Ll{getTypeName(){return"HTML"}}class _l extends Ll{getTypeName(){return"Style"}}class up extends Ll{getTypeName(){return"Script"}}class lp extends Ll{getTypeName(){return"URL"}}class cp extends Ll{getTypeName(){return"ResourceURL"}}function au(n){return n instanceof Ll?n.changingThisBreaksApplicationSecurity:n}function Ul(n,i){const o=function Fh(n){return n instanceof Ll&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Lt})`)}return o===i}function b(n){return new xc(n)}function h(n){return new _l(n)}function _(n){return new up(n)}function P(n){return new lp(n)}function Z(n){return new cp(n)}class je{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Gu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class gt{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=Gu(i),o}}const fn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rn(n){return(n=String(n)).match(fn)?n:"unsafe:"+n}function gr(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function bo(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const zu=gr("area,br,col,hr,img,wbr"),Vl=gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bl=gr("rp,rt"),tc=bo(zu,bo(Vl,gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bo(Bl,gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bo(Bl,Vl)),Oc=gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),id=bo(Oc,gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vh=gr("script,style,template");class Bd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!tc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Vh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const f=u.item(l),v=f.name,C=v.toLowerCase();if(!id.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let R=f.value;Oc[C]&&(R=Rn(R)),this.buf.push(" ",v,'="',Hg(R),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();tc.hasOwnProperty(o)&&!zu.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Hg(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const dp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fy=/([^\#-~ |!])/g;function Hg(n){return n.replace(/&/g,"&amp;").replace(dp,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Fy,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sd;function kc(n,i){let o=null;try{sd=sd||function ne(n){const i=new gt(n);return function Jt(){try{return!!(new window.DOMParser).parseFromString(Gu(""),"text/html")}catch{return!1}}()?new je(i):i}(n);let u=i?String(i):"";o=sd.getInertBodyElement(u);let l=5,f=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=f,f=o.innerHTML,o=sd.getInertBodyElement(u)}while(u!==f);return Gu((new Bd).sanitizeChildren(Bh(o)||o))}finally{if(o){const u=Bh(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Bh(n){return"content"in n&&function Ly(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fr=(()=>((Fr=Fr||{})[Fr.NONE=0]="NONE",Fr[Fr.HTML=1]="HTML",Fr[Fr.STYLE=2]="STYLE",Fr[Fr.SCRIPT=3]="SCRIPT",Fr[Fr.URL=4]="URL",Fr[Fr.RESOURCE_URL=5]="RESOURCE_URL",Fr))();function $h(n){const i=jd();return i?op(i.sanitize(Fr.HTML,n)||""):Ul(n,"HTML")?op(au(n)):kc(function nd(){return void 0!==kh?kh:typeof document<"u"?document:void 0}(),rt(n))}function Fc(n){const i=jd();return i?i.sanitize(Fr.URL,n)||"":Ul(n,"URL")?au(n):Rn(rt(n))}function il(n){const i=jd();if(i)return ap(i.sanitize(Fr.RESOURCE_URL,n)||"");if(Ul(n,"ResourceURL"))return ap(au(n));throw new He(904,!1)}function fp(n,i,o){return function qg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?il:Fc}(i,o)(n)}function jd(){const n=Tt();return n&&n[ei]}const Lc=new ar("ENVIRONMENT_INITIALIZER"),jh=new ar("INJECTOR",-1),Wg=new ar("INJECTOR_DEF_TYPES");class pp{get(i,o=Yn){if(o===Yn){const u=new Error(`NullInjectorError: No provider for ${mt(i)}!`);throw u.name="NullInjectorError",u}return o}}function gp(n){return{\u0275providers:n}}function Kg(...n){return{\u0275providers:Zg(0,n),\u0275fromNgModule:!0}}function Zg(n,...i){const o=[],u=new Set;let l;return Ea(i,f=>{const v=f;yp(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&mp(l,o),o}function mp(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];_p(l,f=>{i.push(f)})}}function yp(n,i,o,u){if(!(n=St(n)))return!1;let l=null,f=li(n);const v=!f&&Kn(n);if(f||v){if(v&&!v.standalone)return!1;l=n}else{const R=n.ngModule;if(f=li(R),!f)return!1;l=R}const C=u.has(l);if(v){if(C)return!1;if(u.add(l),v.dependencies){const R="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const H of R)yp(H,i,o,u)}}else{if(!f)return!1;{if(null!=f.imports&&!C){let H;u.add(l);try{Ea(f.imports,J=>{yp(J,i,o,u)&&(H||(H=[]),H.push(J))})}finally{}void 0!==H&&mp(H,i)}if(!C){const H=Ws(l)||(()=>new l);i.push({provide:l,useFactory:H,deps:cn},{provide:Wg,useValue:l,multi:!0},{provide:Lc,useValue:()=>ie(l),multi:!0})}const R=f.providers;null==R||C||_p(R,J=>{i.push(J)})}}return l!==n&&void 0!==n.providers}function _p(n,i){for(let o of n)Oe(o)&&(o=o.\u0275providers),Array.isArray(o)?_p(o,i):i(o)}const nc=ve({provide:String,useValue:ve});function rc(n){return null!==n&&"object"==typeof n&&nc in n}function ic(n){return"function"==typeof n}const Hh=new ar("Set Injector scope."),Gh={},Qg={};let od;function vl(){return void 0===od&&(od=new pp),od}class Mu{}class sc extends Mu{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qh(i,v=>this.processProvider(v)),this.records.set(jh,Vc(void 0,this)),l.has("environment")&&this.records.set(Mu,Vc(void 0,this));const f=this.records.get(Hh);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Wg.multi,cn,It.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=yt(this),u=Fn(void 0);try{return i()}finally{yt(o),Fn(u)}}get(i,o=Yn,u=It.Default){this.assertNotDestroyed(),u=ze(u);const l=yt(this),f=Fn(void 0);try{if(!(u&It.SkipSelf)){let C=this.records.get(i);if(void 0===C){const R=function em(n){return"function"==typeof n||"object"==typeof n&&n instanceof ar}(i)&&en(i);C=R&&this.injectableDefInScope(R)?Vc(Uc(i),Gh):null,this.records.set(i,C)}if(null!=C)return this.hydrate(i,C)}return(u&It.Self?vl():this.parent).get(i,o=u&It.Optional&&o===Yn?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[Ni]=v[Ni]||[]).unshift(mt(i)),l)throw v;return function Ee(n,i,o,u){const l=n[Ni];throw i[Te]&&l.unshift(i[Te]),n.message=function re(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Be?n.slice(2):n;let l=mt(i);if(Array.isArray(i))l=i.map(mt).join(" -> ");else if("object"==typeof i){let f=[];for(let v in i)if(i.hasOwnProperty(v)){let C=i[v];f.push(v+":"+("string"==typeof C?JSON.stringify(C):mt(C)))}l=`{${f.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Xr,"\n  ")}`}("\n"+n.message,l,o,u),n[es]=l,n[Ni]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{Fn(f),yt(l)}}resolveInjectorInitializers(){const i=yt(this),o=Fn(void 0);try{const u=this.get(Lc.multi,cn,It.Self);for(const l of u)l()}finally{yt(i),Fn(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(mt(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(i){let o=ic(i=St(i))?i:St(i&&i.provide);const u=function Ep(n){return rc(n)?Vc(void 0,n.useValue):Vc(zh(n),Gh)}(i);if(ic(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Vc(void 0,Gh,!0),l.factory=()=>Fe(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===Gh&&(o.value=Qg,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Vy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=St(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Uc(n){const i=en(n),o=null!==i?i.factory:Ws(n);if(null!==o)return o;if(n instanceof ar)throw new He(204,!1);if(n instanceof Function)return function Jg(n){const i=n.length;if(i>0)throw function ko(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new He(204,!1);const o=function Jr(n){return n&&(n[gi]||n[xi])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new He(204,!1)}function zh(n,i,o){let u;if(ic(n)){const l=St(n);return Ws(l)||Uc(l)}if(rc(n))u=()=>St(n.useValue);else if(function Yg(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Fe(n.deps||[]));else if(function vp(n){return!(!n||!n.useExisting)}(n))u=()=>ie(St(n.useExisting));else{const l=St(n&&(n.useClass||n.provide));if(!function Xg(n){return!!n.deps}(n))return Ws(l)||Uc(l);u=()=>new l(...Fe(n.deps))}return u}function Vc(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function qh(n,i){for(const o of n)Array.isArray(o)?qh(o,i):o&&Oe(o)?qh(o.\u0275providers,i):i(o)}class Wh{}class ad{}class $y{resolveComponentFactory(i){throw function Bc(n){const i=Error(`No component factory found for ${mt(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Hd=(()=>{class n{}return n.NULL=new $y,n})();function jy(){return El(Ti(),Tt())}function El(n,i){return new sl(ls(n,i))}let sl=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=jy,n})();function oc(n){return n instanceof sl?n.nativeElement:n}class wp{}let Hy=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function nm(){const n=Tt(),o=Si(Ti().index,n);return(Ui(o)?o:n)[Tn]}(),n})(),Gy=(()=>{class n{}return n.\u0275prov=cr({token:n,providedIn:"root",factory:()=>null}),n})();class Kh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Zh=new Kh("15.2.9"),Yh={},Gd="ngOriginalError";function Qh(n){return n[Gd]}class ac{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Qh(i);for(;o&&Qh(o);)o=Qh(o);return o||null}}function Tl(n){return n instanceof Function?n():n}function jl(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const f=i.length;if(l+f===u||n.charCodeAt(l+f)<=32)return l}o=l+1}}const $c="ng-template";function sm(n,i,o){let u=0,l=!0;for(;u<n.length;){let f=n[u++];if("string"==typeof f&&l){const v=n[u++];if(o&&"class"===f&&-1!==jl(v.toLowerCase(),i,0))return!0}else{if(1===f){for(;u<n.length&&"string"==typeof(f=n[u++]);)if(f.toLowerCase()===i)return!0;return!1}"number"==typeof f&&(l=!1)}}return!1}function uc(n){return 4===n.type&&n.value!==$c}function Zy(n,i,o){return i===(4!==n.type||o?n.value:$c)}function ud(n,i,o){let u=4;const l=n.attrs||[],f=function om(n){for(let i=0;i<n.length;i++)if(Ri(n[i]))return i;return n.length}(l);let v=!1;for(let C=0;C<i.length;C++){const R=i[C];if("number"!=typeof R){if(!v)if(4&u){if(u=2|1&u,""!==R&&!Zy(n,R,o)||""===R&&1===i.length){if(qu(u))return!1;v=!0}}else{const H=8&u?R:i[++C];if(8&u&&null!==n.attrs){if(!sm(n.attrs,H,o)){if(qu(u))return!1;v=!0}continue}const ce=lc(8&u?"class":R,l,uc(n),o);if(-1===ce){if(qu(u))return!1;v=!0;continue}if(""!==H){let Ne;Ne=ce>f?"":l[ce+1].toLowerCase();const Je=8&u?Ne:null;if(Je&&-1!==jl(Je,H,0)||2&u&&H!==Ne){if(qu(u))return!1;v=!0}}}}else{if(!v&&!qu(u)&&!qu(R))return!1;if(v&&qu(R))continue;v=!1,u=R|1&u}}return qu(u)||v}function qu(n){return 0==(1&n)}function lc(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let f=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)f=!0;else{if(1===v||2===v){let C=i[++l];for(;"string"==typeof C;)C=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=f?1:2}return-1}return function Qy(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Dp(n,i,o=!1){for(let u=0;u<i.length;u++)if(ud(n,i[u],o))return!0;return!1}function um(n,i){return n?":not("+i.trim()+")":i}function ef(n){let i=n[0],o=1,u=2,l="",f=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const C=n[++o];l+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!qu(v)&&(i+=um(f,l),l=""),u=v,f=f||!qu(u);o++}return""!==l&&(i+=um(f,l)),i}const Er={};function lm(n){Cp(nr(),Tt(),br()+n,!1)}function Cp(n,i,o,u){if(!u)if(3==(3&i[me])){const f=n.preOrderCheckHooks;null!==f&&Dt(i,f,o)}else{const f=n.preOrderHooks;null!==f&&mn(i,f,0,o)}Eo(o)}function Vo(n,i=null,o=null,u){const l=hm(n,i,o,u);return l.resolveInjectorInitializers(),l}function hm(n,i=null,o=null,u,l=new Set){const f=[o||cn,Kg(n)];return u=u||("object"==typeof n?void 0:mt(n)),new sc(f,i||vl(),u||null,l)}let jc=(()=>{class n{static create(o,u){if(Array.isArray(o))return Vo({name:""},u,o,"");{const l=o.name??"";return Vo({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=Yn,n.NULL=new pp,n.\u0275prov=cr({token:n,providedIn:"any",factory:()=>ie(jh)}),n.__NG_ELEMENT_ID__=-1,n})();function ld(n,i=It.Default){const o=Tt();return null===o?ie(n,i):un(Ti(),o,St(n),i)}function sf(){throw new Error("invalid")}function af(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const f=o[u+1];if(-1!==f){const v=n.data[f];Ur(o[u]),v.contentQueries(2,i[f],f)}}}function cd(n,i,o,u,l,f,v,C,R,H,J){const ce=i.blueprint.slice();return ce[Ir]=l,ce[me]=76|u,(null!==J||n&&1024&n[me])&&(ce[me]|=1024),kr(ce),ce[Ve]=ce[di]=n,ce[wn]=o,ce[Li]=v||n&&n[Li],ce[Tn]=C||n&&n[Tn],ce[ei]=R||n&&n[ei]||null,ce[yr]=H||n&&n[yr]||null,ce[zt]=f,ce[fo]=function Ki(){return Ql++}(),ce[jo]=J,ce[hi]=2==i.type?n[hi]:ce,ce}function Gl(n,i,o,u,l){let f=n.data[i];if(null===f)f=function zc(n,i,o,u,l){const f=Aa(),v=Sa(),R=n.data[i]=function f_(n,i,o,u,l,f){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=R),null!==f&&(v?null==f.child&&null!==R.parent&&(f.child=R):null===f.next&&(f.next=R,R.prev=f)),R}(n,i,o,u,l),function vs(){return In.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=u,f.attrs=l;const v=function Ss(){const n=In.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return Ii(f,!0),f}function dc(n,i,o,u){if(0===o)return-1;const l=i.length;for(let f=0;f<o;f++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Jd(n,i,o){cs(i);try{const u=n.viewQuery;null!==u&&gf(1,u,o);const l=n.template;null!==l&&uf(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&af(n,i),n.staticViewQueries&&gf(2,n.viewQuery,o);const f=n.components;null!==f&&function vm(n,i){for(let o=0;o<i.length;o++)Kp(n,i[o])}(i,f)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[me]&=-5,vo()}}function dd(n,i,o,u){const l=i[me];if(128!=(128&l)){cs(i);try{kr(i),function Pa(n){return In.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&uf(n,i,o,2,u);const v=3==(3&l);if(v){const H=n.preOrderCheckHooks;null!==H&&Dt(i,H,null)}else{const H=n.preOrderHooks;null!==H&&mn(i,H,0,null),Vr(i,0)}if(function v_(n){for(let i=k(n);null!==i;i=W(i)){if(!i[Qs])continue;const o=i[So];for(let u=0;u<o.length;u++){const l=o[u];512&l[me]||Mi(l[Ve],1),l[me]|=512}}}(i),function qp(n){for(let i=k(n);null!==i;i=W(i))for(let o=ji;o<i.length;o++){const u=i[o],l=u[pe];fa(u)&&dd(l,u,l.template,u[wn])}}(i),null!==n.contentQueries&&af(n,i),v){const H=n.contentCheckHooks;null!==H&&Dt(i,H)}else{const H=n.contentHooks;null!==H&&mn(i,H,1),Vr(i,1)}!function c_(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Eo(~l);else{const f=l,v=o[++u],C=o[++u];Ra(v,f),C(2,i[f])}}}finally{Eo(-1)}}(n,i);const C=n.components;null!==C&&function _m(n,i){for(let o=0;o<i.length;o++)Wp(n,i[o])}(i,C);const R=n.viewQuery;if(null!==R&&gf(2,R,u),v){const H=n.viewCheckHooks;null!==H&&Dt(i,H)}else{const H=n.viewHooks;null!==H&&mn(i,H,2),Vr(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[me]&=-41,512&i[me]&&(i[me]&=-513,Mi(i[Ve],-1))}finally{vo()}}}function uf(n,i,o,u,l){const f=br(),v=2&u;try{Eo(-1),v&&i.length>_r&&Cp(n,i,_r,!1),Gi(v?2:0,l),o(u,l)}finally{Eo(f),Gi(v?3:1,l)}}function lf(n,i,o){if(Ai(i)){const l=i.directiveEnd;for(let f=i.directiveStart;f<l;f++){const v=n.data[f];v.contentQueries&&v.contentQueries(1,o[f],f)}}}function Lp(n,i,o){gn()&&(function rh(n,i,o,u){const l=o.directiveStart,f=o.directiveEnd;Hi(o)&&function Gp(n,i,o){const u=ls(i,n),l=Xd(o),f=n[Li],v=zl(n,cd(n,l,null,o.onPush?32:16,u,i,f,f.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||Iu(o,i),ps(u,i);const v=o.initialInputs;for(let C=l;C<f;C++){const R=n.data[C],H=ai(i,n,C,o);ps(H,i),null!==v&&__(0,C-l,H,R,0,v),wi(R)&&(Si(o.index,i)[wn]=ai(i,n,C,o))}}(n,i,o,ls(o,i)),64==(64&o.flags)&&hf(n,i,o))}function cf(n,i,o=ls){const u=i.localNames;if(null!==u){let l=i.index+1;for(let f=0;f<u.length;f+=2){const v=u[f+1],C=-1===v?o(i,n):n[v];n[l++]=C}}}function Xd(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=eh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function eh(n,i,o,u,l,f,v,C,R,H){const J=_r+u,ce=J+l,Ne=function d_(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Er);return o}(J,ce),Je="function"==typeof H?H():H;return Ne[pe]={type:n,blueprint:Ne,template:o,queries:null,viewQuery:C,declTNode:i,data:Ne.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:R,consts:Je,incompleteFirstPass:!1}}function ba(n,i,o,u){const l=Im(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&mf(n).push(u,l.length-1))}function Up(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const f=n[l];null===u?th(o,i,l,f):u.hasOwnProperty(l)&&th(o,i,u[l],f)}return o}function th(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function mu(n,i,o,u,l,f,v,C){const R=ls(i,o);let J,H=i.inputs;!C&&null!=H&&(J=H[u])?(Zp(n,o,J,u,l),Hi(i)&&function p_(n,i){const o=Si(i,n);16&o[me]||(o[me]|=32)}(o,i.index)):3&i.type&&(u=function Vp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,f.setProperty(R,u,l))}function Bp(n,i,o,u){if(gn()){const l=null===u?null:{"":-1},f=function $p(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let f=0;f<o.length;f++){const v=o[f];if(Dp(i,v.selectors,!1))if(u||(u=[]),wi(v))if(null!==v.findHostDirectiveDefs){const C=[];l=l||new Map,v.findHostDirectiveDefs(v,C,l),u.unshift(...C,v),fd(n,i,C.length)}else u.unshift(v),fd(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,C;null===f?v=C=null:[v,C]=f,null!==v&&df(n,i,o,v,l,C),l&&function ih(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const f=o[i[l+1]];if(null==f)throw new He(-301,!1);u.push(i[l],f)}}}(o,u,l)}o.mergedAttrs=Xt(o.mergedAttrs,o.attrs)}function df(n,i,o,u,l,f){for(let H=0;H<u.length;H++)Bn(Iu(o,i),n,u[H].type);!function Em(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let H=0;H<u.length;H++){const J=u[H];J.providersResolver&&J.providersResolver(J)}let v=!1,C=!1,R=dc(n,i,u.length,null);for(let H=0;H<u.length;H++){const J=u[H];o.mergedAttrs=Xt(o.mergedAttrs,J.hostAttrs),Hp(n,o,i,R,J),jp(R,J,l),null!==J.contentQueries&&(o.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(o.flags|=64);const ce=J.type.prototype;!v&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!C&&(ce.ngOnChanges||ce.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),C=!0),R++}!function nh(n,i,o){const l=i.directiveEnd,f=n.data,v=i.attrs,C=[];let R=null,H=null;for(let J=i.directiveStart;J<l;J++){const ce=f[J],Ne=o?o.get(ce):null,Mt=Ne?Ne.outputs:null;R=Up(ce.inputs,J,R,Ne?Ne.inputs:null),H=Up(ce.outputs,J,H,Mt);const Gt=null===R||null===v||uc(i)?null:zp(R,J,v);C.push(Gt)}null!==R&&(R.hasOwnProperty("class")&&(i.flags|=8),R.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=C,i.inputs=R,i.outputs=H}(n,o,f)}function hf(n,i,o){const u=o.directiveStart,l=o.directiveEnd,f=o.index,v=function xa(){return In.lFrame.currentDirectiveIndex}();try{Eo(f);for(let C=u;C<l;C++){const R=n.data[C],H=i[C];Ko(C),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&hd(R,H)}}finally{Eo(-1),Ko(v)}}function hd(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function fd(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function jp(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;wi(i)&&(o[""]=n)}}function Hp(n,i,o,u,l){n.data[u]=l;const f=l.factory||(l.factory=Ws(l.type)),v=new Wr(f,wi(l),ld);n.blueprint[u]=v,o[u]=v,function m_(n,i,o,u,l){const f=l.hostBindings;if(f){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const C=~i.index;(function y_(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=C&&v.push(C),v.push(o,u,f)}}(n,i,u,dc(n,o,l.hostVars,Er),l)}function Da(n,i,o,u,l,f){const v=ls(n,i);!function ff(n,i,o,u,l,f,v){if(null==f)n.removeAttribute(i,l,o);else{const C=null==v?rt(f):v(f,u||"",l);n.setAttribute(i,l,C,o)}}(i[Tn],v,f,n.value,o,u,l)}function __(n,i,o,u,l,f){const v=f[i];if(null!==v){const C=u.setInput;for(let R=0;R<v.length;){const H=v[R++],J=v[R++],ce=v[R++];null!==C?u.setInput(o,ce,H,J):o[J]=ce}}}function zp(n,i,o){let u=null,l=0;for(;l<o.length;){const f=o[l];if(0!==f)if(5!==f){if("number"==typeof f)break;if(n.hasOwnProperty(f)){null===u&&(u=[]);const v=n[f];for(let C=0;C<v.length;C+=2)if(v[C]===i){u.push(f,v[C+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function wm(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Wp(n,i){const o=Si(i,n);if(fa(o)){const u=o[pe];48&o[me]?dd(u,o,u.template,o[wn]):o[Ft]>0&&pd(o)}}function pd(n){for(let u=k(n);null!==u;u=W(u))for(let l=ji;l<u.length;l++){const f=u[l];if(fa(f))if(512&f[me]){const v=f[pe];dd(v,f,v.template,f[wn])}else f[Ft]>0&&pd(f)}const o=n[pe].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Si(o[u],n);fa(l)&&l[Ft]>0&&pd(l)}}function Kp(n,i){const o=Si(i,n),u=o[pe];(function Tm(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Jd(u,o,o[wn])}function zl(n,i){return n[ti]?n[$a][lt]=i:n[ti]=i,n[$a]=i,i}function gd(n){for(;n;){n[me]|=32;const i=d(n);if(ks(n)&&!i)return n;n=i}return null}function pf(n,i,o,u=!0){const l=i[Li];l.begin&&l.begin();try{dd(n,i,n.template,o)}catch(v){throw u&&yf(i,v),v}finally{l.end&&l.end()}}function gf(n,i,o){Ur(0),i(n,o)}function Im(n){return n[jn]||(n[jn]=[])}function mf(n){return n.cleanup||(n.cleanup=[])}function yf(n,i){const o=n[yr],u=o?o.get(ac,null):null;u&&u.handleError(i)}function Zp(n,i,o,u,l){for(let f=0;f<o.length;){const v=o[f++],C=o[f++],R=i[v],H=n.data[v];null!==H.setInput?H.setInput(R,l,u,C):R[C]=l}}function ol(n,i,o){const u=rs(i,n);!function Ze(n,i,o){n.setValue(i,o)}(n[Tn],u,o)}function _f(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,f=0;if(null!==i)for(let v=0;v<i.length;v++){const C=i[v];"number"==typeof C?f=C:1==f?l=ln(l,C):2==f&&(u=ln(u,C+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function md(n,i,o,u,l=!1){for(;null!==o;){const f=i[o.index];if(null!==f&&u.push(Oi(f)),ys(f))for(let C=ji;C<f.length;C++){const R=f[C],H=R[pe].firstChild;null!==H&&md(R[pe],R,H,u)}const v=o.type;if(8&v)md(n,i,o.child,u);else if(32&v){const C=Nl(o,i);let R;for(;R=C();)u.push(R)}else if(16&v){const C=os(i,o);if(Array.isArray(C))u.push(...C);else{const R=d(i[hi]);md(R[pe],R,C,u,!0)}}o=l?o.projectionNext:o.next}return u}class yd{get rootNodes(){const i=this._lView,o=i[pe];return md(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(i){this._lView[wn]=i}get destroyed(){return 128==(128&this._lView[me])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Ve];if(ys(i)){const o=i[Ao],u=o?o.indexOf(this):-1;u>-1&&(zr(i,u),ru(o,u))}this._attachedToViewContainer=!1}Ar(this._lView[pe],this._lView)}onDestroy(i){ba(this._lView[pe],this._lView,null,i)}markForCheck(){gd(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-65}reattach(){this._lView[me]|=64}detectChanges(){pf(this._lView[pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _n(n,i){ou(n,i,i[Tn],2,null,null)}(this._lView[pe],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=i}}class Yp extends yd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;pf(i[pe],i,i[wn],!1)}checkNoChanges(){}get context(){return null}}class vf extends Hd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Kn(i);return new qc(o,this.ngModule)}}function Ef(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class hc{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=ze(u);const l=this.injector.get(i,Yh,u);return l!==Yh||o===Yh?l:this.parentInjector.get(i,o,u)}}class qc extends ad{get inputs(){return Ef(this.componentDef.inputs)}get outputs(){return Ef(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Jy(n){return n.map(ef).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let f=(l=l||this.ngModule)instanceof Mu?l:l?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const v=f?new hc(i,f):i,C=v.get(wp,null);if(null===C)throw new He(407,!1);const R=v.get(Gy,null),H=C.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",ce=u?function h_(n,i,o){return n.selectRootElement(i,o===At.ShadowDom)}(H,u,this.componentDef.encapsulation):jt(H,J,function _d(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(J)),Ne=this.componentDef.onPush?288:272,Je=eh(0,null,null,1,0,null,null,null,null,null),Mt=cd(null,Je,null,Ne,null,null,C,H,R,v,null);let Gt,pn;cs(Mt);try{const An=this.componentDef;let Wn,Bt=null;An.findHostDirectiveDefs?(Wn=[],Bt=new Map,An.findHostDirectiveDefs(An,Wn,Bt),Wn.push(An)):Wn=[An];const Sr=function Dm(n,i){const o=n[pe],u=_r;return n[u]=i,Gl(o,u,2,"#host",null)}(Mt,ce),Ys=function Ed(n,i,o,u,l,f,v,C){const R=l[pe];!function w_(n,i,o,u){for(const l of n)i.mergedAttrs=Xt(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(_f(i,i.mergedAttrs,!0),null!==o&&Oh(u,o,i))}(u,n,i,v);const H=f.createRenderer(i,o),J=cd(l,Xd(o),null,o.onPush?32:16,l[n.index],n,f,H,C||null,null,null);return R.firstCreatePass&&fd(R,n,u.length-1),zl(l,J),l[n.index]=J}(Sr,ce,An,Wn,Mt,C,H);pn=Yi(Je,_r),ce&&function Qp(n,i,o,u){if(u)Cr(n,o,["ng-version",Zh.full]);else{const{attrs:l,classes:f}=function Xy(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let f=n[u];if("string"==typeof f)2===l?""!==f&&i.push(f,n[++u]):8===l&&o.push(f);else{if(!qu(l))break;l=f}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&Cr(n,o,l),f&&f.length>0&&Fl(n,o,f.join(" "))}}(H,An,ce,u),void 0!==o&&function Jp(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const f=o[l];u.push(null!=f?Array.from(f):null)}}(pn,this.ngContentSelectors,o),Gt=function T_(n,i,o,u,l,f){const v=Ti(),C=l[pe],R=ls(v,l);df(C,l,v,o,null,u);for(let J=0;J<o.length;J++)ps(ai(l,C,v.directiveStart+J,v),l);hf(C,l,v),R&&ps(R,l);const H=ai(l,C,v.directiveStart+v.componentOffset,v);if(n[wn]=l[wn]=H,null!==f)for(const J of f)J(H,i);return lf(C,v,n),H}(Ys,An,Wn,Bt,Mt,[Xp]),Jd(Je,Mt,null)}finally{vo()}return new vd(this.componentType,Gt,El(pn,Mt),Mt,pn)}}class vd extends Wh{constructor(i,o,u,l,f){super(),this.location=u,this._rootLView=l,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new Yp(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const f=this._rootLView;Zp(f[pe],f,l,i,o),gd(Si(this._tNode.index,f))}}get injector(){return new wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Xp(){const n=Ti();nt(Tt()[pe],n)}function eg(n){let i=function wf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(wi(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new He(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=oh(n.inputs),v.declaredInputs=oh(n.declaredInputs),v.outputs=oh(n.outputs);const C=l.hostBindings;C&&Cm(n,C);const R=l.viewQuery,H=l.contentQueries;if(R&&tg(n,R),H&&b_(n,H),Rt(n.inputs,l.inputs),Rt(n.declaredInputs,l.declaredInputs),Rt(n.outputs,l.outputs),wi(l)&&l.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let v=0;v<f.length;v++){const C=f[v];C&&C.ngInherit&&C(n),C===eg&&(o=!1)}}i=Object.getPrototypeOf(i)}!function I_(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Xt(l.hostAttrs,o=Xt(o,l.hostAttrs))}}(u)}function oh(n){return n===Kt?{}:n===cn?[]:n}function tg(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function b_(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,f)=>{i(u,l,f),o(u,l,f)}:i}function Cm(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function wd(n){return!!ah(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function ah(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function oa(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function ig(n,i,o,u){const l=Tt();return oa(l,qa(),i)&&(nr(),Da(si(),l,n,i,o,u)),ig}function Id(n,i,o,u){return oa(n,qa(),o)?i+rt(o)+u:Er}function gc(n,i,o,u,l,f){const C=function fc(n,i,o,u){const l=oa(n,i,o);return oa(n,i+1,u)||l}(n,function xo(){return In.lFrame.bindingIndex}(),o,l);return to(2),C?i+rt(o)+u+rt(l)+f:Er}function Af(n,i,o,u,l,f,v,C){const R=Tt(),H=nr(),J=n+_r,ce=H.firstCreatePass?function M_(n,i,o,u,l,f,v,C,R){const H=i.consts,J=Gl(i,n,4,v||null,Qi(H,C));Bp(i,o,J,Qi(H,R)),nt(i,J);const ce=J.tView=eh(2,J,u,l,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,H);return null!==i.queries&&(i.queries.template(i,J),ce.queries=i.queries.embeddedTView(J)),J}(J,H,R,i,o,u,l,f,v):H.data[J];Ii(ce,!1);const Ne=R[Tn].createComment("");Uo(H,R,Ne,ce),ps(Ne,R),zl(R,R[J]=wm(Ne,R,Ne,ce)),us(ce)&&Lp(H,R,ce),null!=v&&cf(R,ce,C)}function ag(n,i,o){const u=Tt();return oa(u,qa(),i)&&mu(nr(),si(),u,n,i,u[Tn],o,!1),ag}function uh(n,i,o,u,l){const v=l?"class":"style";Zp(n,o,i.inputs[v],v,u)}function Dd(n,i,o,u){const l=Tt(),f=nr(),v=_r+n,C=l[Tn],R=f.firstCreatePass?function Lm(n,i,o,u,l,f){const v=i.consts,R=Gl(i,n,2,u,Qi(v,l));return Bp(i,o,R,Qi(v,f)),null!==R.attrs&&_f(R,R.attrs,!1),null!==R.mergedAttrs&&_f(R,R.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,R),R}(v,f,l,i,o,u):f.data[v],H=l[v]=jt(C,i,function Q(){return In.lFrame.currentNamespace}()),J=us(R);return Ii(R,!0),Oh(C,H,R),32!=(32&R.flags)&&Uo(f,l,H,R),0===function O(){return In.lFrame.elementDepthCount}()&&ps(H,l),function ee(){In.lFrame.elementDepthCount++}(),J&&(Lp(f,l,R),lf(f,R,l)),null!==u&&cf(l,R),Dd}function lh(){let n=Ti();Sa()?Ma():(n=n.parent,Ii(n,!1));const i=n;!function st(){In.lFrame.elementDepthCount--}();const o=nr();return o.firstCreatePass&&(nt(o,n),Ai(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function ds(n){return 0!=(8&n.flags)}(i)&&uh(o,i,Tt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Gr(n){return 0!=(16&n.flags)}(i)&&uh(o,i,Tt(),i.stylesWithoutHost,!1),lh}function ug(n,i,o,u){return Dd(n,i,o,u),lh(),ug}function Cd(n,i,o){const u=Tt(),l=nr(),f=n+_r,v=l.firstCreatePass?function R_(n,i,o,u,l){const f=i.consts,v=Qi(f,u),C=Gl(i,n,8,"ng-container",v);return null!==v&&_f(C,v,!0),Bp(i,o,C,Qi(f,l)),null!==i.queries&&i.queries.elementStart(i,C),C}(f,l,u,i,o):l.data[f];Ii(v,!0);const C=u[f]=u[Tn].createComment("");return Uo(l,u,C,v),ps(C,u),us(v)&&(Lp(l,u,v),lf(l,v,u)),null!=o&&cf(u,v),Cd}function Sf(){let n=Ti();const i=nr();return Sa()?Ma():(n=n.parent,Ii(n,!1)),i.firstCreatePass&&(nt(i,n),Ai(n)&&i.queries.elementEnd(n)),Sf}function Pf(){return Tt()}function ch(n){return!!n&&"function"==typeof n.then}function Um(n){return!!n&&"function"==typeof n.subscribe}const dh=Um;function lg(n,i,o,u){const l=Tt(),f=nr(),v=Ti();return function Kc(n,i,o,u,l,f,v){const C=us(u),H=n.firstCreatePass&&mf(n),J=i[wn],ce=Im(i);let Ne=!0;if(3&u.type||v){const Gt=ls(u,i),pn=v?v(Gt):Gt,An=ce.length,Wn=v?Sr=>v(Oi(Sr[u.index])):u.index;let Bt=null;if(!v&&C&&(Bt=function Vm(n,i,o,u){const l=n.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const v=l[f];if(v===o&&l[f+1]===u){const C=i[jn],R=l[f+2];return C.length>R?C[R]:null}"string"==typeof v&&(f+=2)}return null}(n,i,l,u.index)),null!==Bt)(Bt.__ngLastListenerFn__||Bt).__ngNextListenerFn__=f,Bt.__ngLastListenerFn__=f,Ne=!1;else{f=hh(u,i,J,f,!1);const Sr=o.listen(pn,l,f);ce.push(f,Sr),H&&H.push(l,Wn,An,An+1)}}else f=hh(u,i,J,f,!1);const Je=u.outputs;let Mt;if(Ne&&null!==Je&&(Mt=Je[l])){const Gt=Mt.length;if(Gt)for(let pn=0;pn<Gt;pn+=2){const Ys=i[Mt[pn]][Mt[pn+1]].subscribe(f),$o=ce.length;ce.push(f,Ys),H&&H.push(l,u.index,$o,-($o+1))}}}(f,l,l[Tn],v,n,i,u),lg}function dg(n,i,o,u){try{return Gi(6,i,o),!1!==o(u)}catch(l){return yf(n,l),!1}finally{Gi(7,i,o)}}function hh(n,i,o,u,l){return function f(v){if(v===Function)return u;gd(n.componentOffset>-1?Si(n.index,i):i);let R=dg(i,o,u,v),H=f.__ngNextListenerFn__;for(;H;)R=dg(i,o,H,v)&&R,H=H.__ngNextListenerFn__;return l&&!1===R&&(v.preventDefault(),v.returnValue=!1),R}}function Bm(n=1){return function ws(n){return(In.lFrame.contextLView=function yi(n,i){for(;n>0;)i=i[di],n--;return i}(n,In.lFrame.contextLView))[wn]}(n)}function Ad(n,i,o){return fh(n,"",i,"",o),Ad}function fh(n,i,o,u,l){const f=Tt(),v=Id(f,i,o,u);return v!==Er&&mu(nr(),si(),f,n,v,f[Tn],l,!1),fh}function ph(n,i,o,u,l,f,v){const C=Tt(),R=gc(C,i,o,u,l,f);return R!==Er&&mu(nr(),si(),C,n,R,C[Tn],v,!1),ph}function Zc(n,i){return n<<17|i<<2}function ql(n){return n>>17&32767}function vc(n){return 2|n}function Wl(n){return(131068&n)>>2}function gg(n,i){return-131069&n|i<<2}function mg(n){return 1|n}function Hm(n,i,o,u,l){const f=n[o+1],v=null===i;let C=u?ql(f):Wl(f),R=!1;for(;0!==C&&(!1===R||v);){const J=n[C+1];U_(n[C],i)&&(R=!0,n[C+1]=u?mg(J):vc(J)),C=u?ql(J):Wl(J)}R&&(n[o+1]=u?vc(f):mg(f))}function U_(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&L(n,i)>=0}const Bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yg(n){return n.substring(Bo.key,Bo.keyEnd)}function vg(n,i){const o=Bo.textEnd;return o===i?-1:(i=Bo.keyEnd=function zm(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Bo.key=i,o),Yc(n,i,o))}function Yc(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Eg(n,i,o){return Pu(n,i,o,!1),Eg}function Wm(n,i){return Pu(n,i,null,!0),Wm}function wg(n){!function ll(n,i,o,u){const l=nr(),f=to(2);l.firstUpdatePass&&gs(l,null,f,u);const v=Tt();if(o!==Er&&oa(v,f,o)){const C=l.data[br()];if(Ig(C,u)&&!B_(l,f)){let R=u?C.classesWithoutHost:C.stylesWithoutHost;null!==R&&(o=ln(R,o||"")),uh(l,C,v,o,u)}else!function EE(n,i,o,u,l,f,v,C){l===Er&&(l=cn);let R=0,H=0,J=0<l.length?l[0]:null,ce=0<f.length?f[0]:null;for(;null!==J||null!==ce;){const Ne=R<l.length?l[R+1]:void 0,Je=H<f.length?f[H+1]:void 0;let Gt,Mt=null;J===ce?(R+=2,H+=2,Ne!==Je&&(Mt=ce,Gt=Je)):null===ce||null!==J&&J<ce?(R+=2,Mt=J):(H+=2,Mt=ce,Gt=Je),null!==Mt&&H_(n,i,o,u,Mt,Gt,v,C),J=R<l.length?l[R]:null,ce=H<f.length?f[H]:null}}(l,C,v,v[Tn],v[f+1],v[f+1]=function Ym(n,i,o){if(null==o||""===o)return cn;const u=[],l=au(o);if(Array.isArray(l))for(let f=0;f<l.length;f++)n(u,l[f],!0);else if("object"==typeof l)for(const f in l)l.hasOwnProperty(f)&&n(u,f,l[f]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,f)}}(vE,bl,n,!0)}function bl(n,i){for(let o=function V_(n){return function ui(n){Bo.key=0,Bo.keyEnd=0,Bo.value=0,Bo.valueEnd=0,Bo.textEnd=n.length}(n),vg(n,Yc(n,0,Bo.textEnd))}(i);o>=0;o=vg(i,o))y(n,yg(i),!0)}function Pu(n,i,o,u){const l=Tt(),f=nr(),v=to(2);f.firstUpdatePass&&gs(f,n,v,u),i!==Er&&oa(l,v,i)&&H_(f,f.data[br()],l,l[Tn],n,l[v+1]=function wE(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=mt(au(n)))),n}(i,o),u,v)}function B_(n,i){return i>=n.expandoStartIndex}function gs(n,i,o,u){const l=n.data;if(null===l[o+1]){const f=l[br()],v=B_(n,o);Ig(f,u)&&null===i&&!v&&(i=!1),i=function _E(n,i,o,u){const l=Ls(n);let f=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=kf(o=Zm(null,n,i,o,u),i.attrs,u),f=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=Zm(l,n,i,o,u),null===f){let R=function $_(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Wl(u))return n[ql(u)]}(n,i,u);void 0!==R&&Array.isArray(R)&&(R=Zm(null,n,i,R[1],u),R=kf(R,i.attrs,u),function Do(n,i,o,u){n[ql(o?i.classBindings:i.styleBindings)]=u}(n,i,u,R))}else f=function Km(n,i,o){let u;const l=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<l;f++)u=kf(u,n[f].hostAttrs,o);return kf(u,i.attrs,o)}(n,i,u)}return void 0!==f&&(u?i.residualClasses=f:i.residualStyles=f),o}(l,f,i,u),function jm(n,i,o,u,l,f){let v=f?i.classBindings:i.styleBindings,C=ql(v),R=Wl(v);n[u]=o;let J,H=!1;if(Array.isArray(o)?(J=o[1],(null===J||L(o,J)>0)&&(H=!0)):J=o,l)if(0!==R){const Ne=ql(n[C+1]);n[u+1]=Zc(Ne,C),0!==Ne&&(n[Ne+1]=gg(n[Ne+1],u)),n[C+1]=function $m(n,i){return 131071&n|i<<17}(n[C+1],u)}else n[u+1]=Zc(C,0),0!==C&&(n[C+1]=gg(n[C+1],u)),C=u;else n[u+1]=Zc(R,0),0===C?C=u:n[R+1]=gg(n[R+1],u),R=u;H&&(n[u+1]=vc(n[u+1])),Hm(n,J,u,!0),Hm(n,J,u,!1),function L_(n,i,o,u,l){const f=l?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof i&&L(f,i)>=0&&(o[u+1]=mg(o[u+1]))}(i,J,n,u,f),v=Zc(C,R),f?i.classBindings=v:i.styleBindings=v}(l,f,i,o,v,u)}}function Zm(n,i,o,u,l){let f=null;const v=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<v&&(f=i[C],u=kf(u,f.hostAttrs,l),f!==n);)C++;return null!==n&&(o.directiveStylingLast=C),u}function kf(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let f=0;f<i.length;f++){const v=i[f];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),y(n,v,!!o||i[++f]))}return void 0===n?null:n}function vE(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&y(n,u,o)}function H_(n,i,o,u,l,f,v,C){if(!(3&i.type))return;const R=n.data,H=R[C+1],J=function k_(n){return 1==(1&n)}(H)?G_(R,i,o,l,Wl(H),v):void 0;Tg(J)||(Tg(f)||function pg(n){return 2==(2&n)}(H)&&(f=G_(R,null,o,l,C,v)),function rp(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let f=-1===u.indexOf("-")?void 0:Io.DashCase;null==l?n.removeStyle(o,u,f):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),f|=Io.Important),n.setStyle(o,u,l,f))}}(u,v,rs(br(),o),l,f))}function G_(n,i,o,u,l,f){const v=null===i;let C;for(;l>0;){const R=n[l],H=Array.isArray(R),J=H?R[1]:R,ce=null===J;let Ne=o[l+1];Ne===Er&&(Ne=ce?cn:void 0);let Je=ce?A(Ne,u):J===u?Ne:void 0;if(H&&!Tg(Je)&&(Je=A(R,u)),Tg(Je)&&(C=Je,v))return C;const Mt=n[l+1];l=v?ql(Mt):Wl(Mt)}if(null!==i){let R=f?i.residualClasses:i.residualStyles;null!=R&&(C=A(R,u))}return C}function Tg(n){return void 0!==n}function Ig(n,i){return 0!=(n.flags&(i?8:16))}function Sd(n,i=""){const o=Tt(),u=nr(),l=n+_r,f=u.firstCreatePass?Gl(u,l,1,i,null):u.data[l],v=o[l]=function Se(n,i){return n.createText(i)}(o[Tn],i);Uo(u,o,v,f),Ii(f,!1)}function bg(n){return Dl("",n,""),bg}function Dl(n,i,o){const u=Tt(),l=Id(u,n,i,o);return l!==Er&&ol(u,br(),l),Dl}function Ec(n,i,o,u,l){const f=Tt(),v=gc(f,n,i,o,u,l);return v!==Er&&ol(f,br(),v),Ec}function uy(n,i,o){const u=Tt();if(oa(u,qa(),i)){const f=nr(),v=si();mu(f,v,u,n,i,function bm(n,i,o){return(null===n||wi(n))&&(o=function ha(n){for(;Array.isArray(n);){if("object"==typeof n[po])return n;n=n[Ir]}return null}(o[i.index])),o[Tn]}(Ls(f.data),v,u),o,!0)}return uy}const cl=void 0;var Pd=["en",[["a","p"],["AM","PM"],cl],[["AM","PM"],cl,cl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cl,"{1} 'at' {0}",cl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TE(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Ih={};function bh(n){const i=function IE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Q_(i);if(o)return o;const u=i.split("-")[0];if(o=Q_(u),o)return o;if("en"===u)return Pd;throw new He(701,!1)}function Dh(n){return bh(n)[zn.PluralCase]}function Q_(n){return n in Ih||(Ih[n]=Ln.ng&&Ln.ng.common&&Ln.ng.common.locales&&Ln.ng.common.locales[n]),Ih[n]}var zn=(()=>((zn=zn||{})[zn.LocaleId=0]="LocaleId",zn[zn.DayPeriodsFormat=1]="DayPeriodsFormat",zn[zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",zn[zn.DaysFormat=3]="DaysFormat",zn[zn.DaysStandalone=4]="DaysStandalone",zn[zn.MonthsFormat=5]="MonthsFormat",zn[zn.MonthsStandalone=6]="MonthsStandalone",zn[zn.Eras=7]="Eras",zn[zn.FirstDayOfWeek=8]="FirstDayOfWeek",zn[zn.WeekendRange=9]="WeekendRange",zn[zn.DateFormat=10]="DateFormat",zn[zn.TimeFormat=11]="TimeFormat",zn[zn.DateTimeFormat=12]="DateTimeFormat",zn[zn.NumberSymbols=13]="NumberSymbols",zn[zn.NumberFormats=14]="NumberFormats",zn[zn.CurrencyCode=15]="CurrencyCode",zn[zn.CurrencySymbol=16]="CurrencySymbol",zn[zn.CurrencyName=17]="CurrencyName",zn[zn.Currencies=18]="Currencies",zn[zn.Directionality=19]="Directionality",zn[zn.PluralCase=20]="PluralCase",zn[zn.ExtraData=21]="ExtraData",zn))();const Ch="en-US";let xg=Ch;function Ug(n,i,o,u,l){if(n=St(n),Array.isArray(n))for(let f=0;f<n.length;f++)Ug(n[f],i,o,u,l);else{const f=nr(),v=Tt();let C=ic(n)?n:St(n.provide),R=zh(n);const H=Ti(),J=1048575&H.providerIndexes,ce=H.directiveStart,Ne=H.providerIndexes>>20;if(ic(n)||!n.multi){const Je=new Wr(R,l,ld),Mt=Bg(C,i,l?J:J+Ne,ce);-1===Mt?(Bn(Iu(H,v),f,C),Vg(f,n,i.length),i.push(C),H.directiveStart++,H.directiveEnd++,l&&(H.providerIndexes+=1048576),o.push(Je),v.push(Je)):(o[Mt]=Je,v[Mt]=Je)}else{const Je=Bg(C,i,J+Ne,ce),Mt=Bg(C,i,J,J+Ne),pn=Mt>=0&&o[Mt];if(l&&!pn||!l&&!(Je>=0&&o[Je])){Bn(Iu(H,v),f,C);const An=function qE(n,i,o,u,l){const f=new Wr(n,o,ld);return f.multi=[],f.index=i,f.componentProviders=0,wy(f,l,u&&!o),f}(l?zE:Av,o.length,l,u,R);!l&&pn&&(o[Mt].providerFactory=An),Vg(f,n,i.length,0),i.push(C),H.directiveStart++,H.directiveEnd++,l&&(H.providerIndexes+=1048576),o.push(An),v.push(An)}else Vg(f,n,Je>-1?Je:Mt,wy(o[l?Mt:Je],R,!l&&u));!l&&u&&pn&&o[Mt].componentProviders++}}}function Vg(n,i,o,u){const l=ic(i),f=function $l(n){return!!n.useClass}(i);if(l||f){const R=(f?St(i.useClass):i).prototype.ngOnDestroy;if(R){const H=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const J=H.indexOf(o);-1===J?H.push(o,[u,R]):H[J+1].push(u,R)}else H.push(o,R)}}}function wy(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Bg(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function Av(n,i,o,u){return Ty(this.multi,[])}function zE(n,i,o,u){const l=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=ai(o,o[pe],this.providerFactory.index,u);f=C.slice(0,v),Ty(l,f);for(let R=v;R<C.length;R++)f.push(C[R])}else f=[],Ty(l,f);return f}function Ty(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Sv(n,i=[]){return o=>{o.providersResolver=(u,l)=>function Cv(n,i,o){const u=nr();if(u.firstCreatePass){const l=wi(n);Ug(o,u.data,u.blueprint,l,!0),Ug(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class Nd{}class Mv{}function WE(n,i){return new Pv(n,i??null)}class Pv extends Nd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vf(this);const u=ii(i);this._bootstrapComponents=Tl(u.bootstrap),this._r3Injector=hm(i,o,[{provide:Nd,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],mt(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Iy extends Mv{constructor(i){super(),this.moduleType=i}create(i){return new Pv(this.moduleType,i)}}class KE extends Nd{constructor(i,o,u){super(),this.componentFactoryResolver=new vf(this),this.instance=null;const l=new sc([...i,{provide:Nd,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],o||vl(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function by(n,i,o=null){return new KE(n,i,o).injector}let ZE=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Zg(0,o.type),l=u.length>0?by([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=cr({token:n,providedIn:"environment",factory:()=>new n(ie(Mu))}),n})();function Dy(n){n.getStandaloneInjector=i=>i.get(ZE).getOrCreateStandaloneInjector(n)}function r(n){return i=>{setTimeout(n,void 0,i)}}const e=class _0 extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,f=o||(()=>null),v=u;if(i&&"object"==typeof i){const R=i;l=R.next?.bind(R),f=R.error?.bind(R),v=R.complete?.bind(R)}this.__isAsync&&(f=r(f),l&&(l=r(l)),v&&(v=r(v)));const C=super.subscribe({next:l,error:f,complete:v});return i instanceof $.w0&&i.add(C),C}};function t(){return this._results[Symbol.iterator]()}class s{get changes(){return this._changes||(this._changes=new e)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=s.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=t)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function Us(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Ji(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],f=i[u];if(o&&(l=o(l),f=o(f)),f!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let a=(()=>{class n{}return n.__NG_ELEMENT_ID__=D,n})();const c=a,p=class extends c{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=cd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[Ns]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[$i];return null!==v&&(l[$i]=v.createEmbeddedView(u)),Jd(u,l,i),new yd(l)}};function D(){return B(Ti(),Tt())}function B(n,i){return 4&n.type?new p(i,n,El(n,i)):null}let z=(()=>{class n{}return n.__NG_ELEMENT_ID__=X,n})();function X(){return on(Ti(),Tt())}const Ie=z,Ke=class extends Ie{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return El(this._hostTNode,this._hostLView)}get injector(){return new wo(this._hostTNode,this._hostLView)}get parentInjector(){const i=Oa(this._hostTNode,this._hostLView);if(Ou(i)){const o=Ot(i,this._hostLView),u=Wt(i);return new wo(o[pe].data[u+8],o)}return new wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=bt(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(i,o,u){let l,f;"number"==typeof u?l=u:null!=u&&(l=u.index,f=u.injector);const v=i.createEmbeddedView(o||{},f);return this.insert(v,l),v}createComponent(i,o,u,l,f){const v=i&&!function nu(n){return"function"==typeof n}(i);let C;if(v)C=o;else{const ce=o||{};C=ce.index,u=ce.injector,l=ce.projectableNodes,f=ce.environmentInjector||ce.ngModuleRef}const R=v?i:new qc(Kn(i)),H=u||this.parentInjector;if(!f&&null==R.ngModule){const Ne=(v?H:this.parentInjector).get(Mu,null);Ne&&(f=Ne)}const J=R.create(H,l,void 0,f);return this.insert(J.hostView,C),J}insert(i,o){const u=i._lView,l=u[pe];if(function pa(n){return ys(n[Ve])}(u)){const J=this.indexOf(i);if(-1!==J)this.detach(J);else{const ce=u[Ve],Ne=new Ke(ce,ce[zt],ce[Ve]);Ne.detach(Ne.indexOf(i))}}const f=this._adjustIndex(o),v=this._lContainer;!function Hn(n,i,o,u){const l=ji+u,f=o.length;u>0&&(o[l-1][lt]=i),u<f-ji?(i[lt]=o[l],To(o,ji+u,i)):(o.push(i),i[lt]=null),i[Ve]=o;const v=i[Ns];null!==v&&o!==v&&function fr(n,i){const o=n[So];i[hi]!==i[Ve][Ve][hi]&&(n[Qs]=!0),null===o?n[So]=[i]:o.push(i)}(v,i);const C=i[$i];null!==C&&C.insertView(n),i[me]|=64}(l,u,v,f);const C=kl(f,v),R=u[Tn],H=Ol(R,v[Os]);return null!==H&&function Pn(n,i,o,u,l,f){u[Ir]=l,u[zt]=i,ou(n,u,o,1,l,f)}(l,v[zt],R,u,H,C),i.attachToViewContainerRef(),To(Ht(v),f,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=bt(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=zr(this._lContainer,o);u&&(ru(Ht(this._lContainer),o),Ar(u[pe],u))}detach(i){const o=this._adjustIndex(i,-1),u=zr(this._lContainer,o);return u&&null!=ru(Ht(this._lContainer),o)?new yd(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function bt(n){return n[Ao]}function Ht(n){return n[Ao]||(n[Ao]=[])}function on(n,i){let o;const u=i[n.index];if(ys(u))o=u;else{let l;if(8&n.type)l=Oi(u);else{const f=i[Tn];l=f.createComment("");const v=ls(n,i);Lo(f,Ol(f,v),l,function Dn(n,i){return n.nextSibling(i)}(f,v),!1)}i[n.index]=o=wm(u,i,l,n),zl(i,o)}return new Ke(o,n,i)}class Mn{constructor(i){this.queryList=i,this.matches=null}clone(){return new Mn(this.queryList)}setDirty(){this.queryList.setDirty()}}class wr{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let f=0;f<u;f++){const v=o.getByIndex(f);l.push(this.queries[v.indexInDeclarationView].clone())}return new wr(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==D0(i,o).matches&&this.queries[o].setDirty()}}class Di{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Dr{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,f=this.getByIndex(u).embeddedTView(i,l);f&&(f.indexInDeclarationView=u,null!==o?o.push(f):o=[f])}return null!==o?new Dr(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Ba{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Ba(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const f=u[l];this.matchTNodeWithReadOption(i,o,lo(o,f)),this.matchTNodeWithReadOption(i,o,No(o,i,f,!1,!1))}else u===a?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,No(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===sl||l===z||l===a&&4&o.type)this.addMatch(o.index,-2);else{const f=No(o,i,l,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function lo(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function Ru(n,i,o,u){return-1===o?function xs(n,i){return 11&n.type?El(n,i):4&n.type?B(n,i):null}(i,n):-2===o?function wc(n,i,o){return o===sl?El(i,n):o===a?B(i,n):o===z?on(i,n):void 0}(n,i,u):ai(n,n[pe],o,i)}function v0(n,i,o,u){const l=i[$i].queries[u];if(null===l.matches){const f=n.data,v=o.matches,C=[];for(let R=0;R<v.length;R+=2){const H=v[R];C.push(H<0?null:Ru(i,f[H],v[R+1],o.metadata.read))}l.matches=C}return l.matches}function zv(n,i,o,u){const l=n.queries.getByIndex(o),f=l.matches;if(null!==f){const v=v0(n,i,l,o);for(let C=0;C<f.length;C+=2){const R=f[C];if(R>0)u.push(v[C/2]);else{const H=f[C+1],J=i[-R];for(let ce=ji;ce<J.length;ce++){const Ne=J[ce];Ne[Ns]===Ne[Ve]&&zv(Ne[pe],Ne,H,u)}if(null!==J[So]){const ce=J[So];for(let Ne=0;Ne<ce.length;Ne++){const Je=ce[Ne];zv(Je[pe],Je,H,u)}}}}}return u}function E0(n){const i=Tt(),o=nr(),u=Wa();Ur(u+1);const l=D0(o,u);if(n.dirty&&function Eu(n){return 4==(4&n[me])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const f=l.crossesNgTemplate?zv(o,i,u,[]):v0(o,i,l,u);n.reset(f,oc),n.notifyOnChanges()}return!0}return!1}function w0(n,i,o,u){const l=nr();if(l.firstCreatePass){const f=Ti();(function b0(n,i,o){null===n.queries&&(n.queries=new Dr),n.queries.track(new Ba(i,o))})(l,new Di(i,o,u),f.index),function Pw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function I0(n,i,o){const u=new s(4==(4&o));ba(n,i,u,u.destroy),null===i[$i]&&(i[$i]=new wr),i[$i].queries.push(new Mn(u))}(l,Tt(),o)}function T0(){return function Mw(n,i){return n[$i].queries[i].queryList}(Tt(),Wa())}function D0(n,i){return n.queries.getByIndex(i)}function qv(n){return!!ii(n)}function My(...n){}const H0=new ar("Application Initializer");let Py=(()=>{class n{constructor(o){this.appInits=o,this.resolve=My,this.reject=My,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(ch(f))o.push(f);else if(dh(f)){const v=new Promise((C,R)=>{f.subscribe({complete:C,error:R})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(ie(H0,8))},n.\u0275prov=cr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const G0=new ar("AppId",{providedIn:"root",factory:function z0(){return`${Qv()}${Qv()}${Qv()}`}});function Qv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const q0=new ar("Platform Initializer"),Qw=new ar("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jw=new ar("AnimationModuleType");let Xw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=cr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ry=new ar("LocaleId",{providedIn:"root",factory:()=>_e(Ry,It.Optional|It.SkipSelf)||function eT(){return typeof $localize<"u"&&$localize.locale||Ch}()}),tT=new ar("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nT{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let rT=(()=>{class n{compileModuleSync(o){return new Iy(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),f=Tl(ii(o).declarations).reduce((v,C)=>{const R=Kn(C);return R&&v.push(new qc(R)),v},[]);return new nT(u,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=cr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oT=(()=>Promise.resolve(0))();function Jv(n){typeof Zone>"u"?oT.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Cl{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new e(!1),this.onMicrotaskEmpty=new e(!1),this.onStable=new e(!1),this.onError=new e(!1),typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function aT(){let n=Ln.requestAnimationFrame,i=Ln.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function cT(n){const i=()=>{!function lT(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ln,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,eE(n),n.isCheckStableRunning=!0,Xv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),eE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,f,v,C)=>{try{return Z0(n),o.invokeTask(l,f,v,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&i(),Y0(n)}},onInvoke:(o,u,l,f,v,C,R)=>{try{return Z0(n),o.invoke(l,f,v,C,R)}finally{n.shouldCoalesceRunChangeDetection&&i(),Y0(n)}},onHasTask:(o,u,l,f)=>{o.hasTask(l,f),u===l&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,eE(n),Xv(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,u,l,f)=>(o.handleError(l,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cl.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(Cl.isInAngularZone())throw new He(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+l,i,uT,My,My);try{return f.runTask(v,o,u)}finally{f.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const uT={};function Xv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function eE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Z0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Y0(n){n._nesting--,Xv(n)}class dT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new e,this.onMicrotaskEmpty=new e,this.onStable=new e,this.onError=new e}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Q0=new ar(""),J0=new ar("");let tE,hT=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tE||(function fT(n){tE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cl.assertNotInAngularZone(),Jv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(ie(Cl),ie(X0),ie(J0))},n.\u0275prov=cr({token:n,factory:n.\u0275fac}),n})(),X0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return tE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=cr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Jc=!1;let Od=null;const ew=new ar("AllowMultipleToken"),nE=new ar("PlatformDestroyListeners"),tw=new ar("appBootstrapListener");class mT{constructor(i,o){this.name=i,this.token=o}}function rw(n,i,o=[]){const u=`Platform: ${i}`,l=new ar(u);return(f=[])=>{let v=rE();if(!v||v.injector.get(ew,!1)){const C=[...o,...f,{provide:l,useValue:!0}];n?n(C):function yT(n){if(Od&&!Od.get(ew,!1))throw new He(400,!1);Od=n;const i=n.get(sw);(function nw(n){const i=n.get(q0,null);i&&i.forEach(o=>o())})(n)}(function iw(n=[],i){return jc.create({name:i,providers:[{provide:Hh,useValue:"platform"},{provide:nE,useValue:new Set([()=>Od=null])},...n]})}(C,u))}return function vT(n){const i=rE();if(!i)throw new He(401,!1);return i}()}}function rE(){return Od?.get(sw)??null}let sw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function aw(n,i){let o;return o="noop"===n?new dT:("zone.js"===n?void 0:n)||new Cl(i),o}(u?.ngZone,function ow(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),f=[{provide:Cl,useValue:l}];return l.run(()=>{const v=jc.create({providers:f,parent:this.injector,name:o.moduleType.name}),C=o.create(v),R=C.injector.get(ac,null);if(!R)throw new He(402,!1);return l.runOutsideAngular(()=>{const H=l.onError.subscribe({next:J=>{R.handleError(J)}});C.onDestroy(()=>{Ny(this._modules,C),H.unsubscribe()})}),function uw(n,i,o){try{const u=o();return ch(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(R,l,()=>{const H=C.injector.get(Py);return H.runInitializers(),H.donePromise.then(()=>(function Ng(n){xn(n,"Expected localeId to be defined"),"string"==typeof n&&(xg=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Ry,Ch)||Ch),this._moduleDoBootstrap(C),C))})})}bootstrapModule(o,u=[]){const l=lw({},u);return function pT(n,i,o){const u=new Iy(o);return Promise.resolve(u)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(o){const u=o.injector.get(xy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new He(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(nE,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(ie(jc))},n.\u0275prov=cr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function lw(n,i){return Array.isArray(i)?i.reduce(lw,n):{...n,...i}}let xy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new j.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new j.y(C=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Cl.assertNotInAngularZone(),Jv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{Cl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{R.unsubscribe(),H.unsubscribe()}});this.isStable=function Xe(...n){const i=(0,Ae.yG)(n),o=(0,Ae._6)(n,1/0),u=n;return u.length?1===u.length?(0,de.Xf)(u[0]):(0,V.J)(o)((0,ut.D)(u,i)):Le.E}(f,v.pipe(function Ye(n={}){const{connector:i=(()=>new g.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:l=!0}=n;return f=>{let v,C,R,H=0,J=!1,ce=!1;const Ne=()=>{C?.unsubscribe(),C=void 0},Je=()=>{Ne(),v=R=void 0,J=ce=!1},Mt=()=>{const Gt=v;Je(),Gt?.unsubscribe()};return(0,ye.e)((Gt,pn)=>{H++,!ce&&!J&&Ne();const An=R=R??i();pn.add(()=>{H--,0===H&&!ce&&!J&&(C=pt(Mt,l))}),An.subscribe(pn),!v&&H>0&&(v=new fe.Hp({next:Wn=>An.next(Wn),error:Wn=>{ce=!0,Ne(),C=pt(Je,o,Wn),An.error(Wn)},complete:()=>{J=!0,Ne(),C=pt(Je,u),An.complete()}}),(0,de.Xf)(Gt).subscribe(v))})(f)}}()))}bootstrap(o,u){const l=o instanceof ad;if(!this._injector.get(Py).done){!l&&as(o);throw new He(405,Jc)}let v;v=l?o:this._injector.get(Hd).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const C=function gT(n){return n.isBoundToModule}(v)?void 0:this._injector.get(Nd),H=v.create(jc.NULL,[],u||v.selector,C),J=H.location.nativeElement,ce=H.injector.get(Q0,null);return ce?.registerApplication(J),H.onDestroy(()=>{this.detachView(H.hostView),Ny(this.components,H),ce?.unregisterApplication(J)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new He(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Ny(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(tw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ny(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new He(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(ie(Cl),ie(Mu),ie(ac))},n.\u0275prov=cr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ny(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function wT(){}let TT=(()=>{class n{}return n.__NG_ELEMENT_ID__=IT,n})();function IT(n){return function bT(n,i,o){if(Hi(n)&&!o){const u=Si(n.index,i);return new yd(u,u)}return 47&n.type?new yd(i[hi],i):null}(Ti(),Tt(),16==(16&n))}class pw{constructor(){}supports(i){return wd(i)}create(i){return new PT(i)}}const MT=(n,i)=>i;class PT{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||MT}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,f=null;for(;o||u;){const v=!u||o&&o.currentIndex<mw(u,l,f)?o:u,C=mw(v,l,f),R=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{f||(f=[]);const H=C-l,J=R-l;if(H!=J){for(let Ne=0;Ne<H;Ne++){const Je=Ne<f.length?f[Ne]:f[Ne]=0,Mt=Je+Ne;J<=Mt&&Mt<H&&(f[Ne]=Je+1)}f[v.previousIndex]=J-H}}C!==R&&i(v,C,R)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!wd(i))throw new He(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,f,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let C=0;C<this.length;C++)f=i[C],v=this._trackByFn(C,f),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,f,v,C)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,v,C),u=!0),o=o._next}else l=0,function A_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,C=>{v=this._trackByFn(l,C),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,C,v,l)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,f,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,f,l)):i=this._addAfter(new RT(o,u),f,l),i}_verifyReinsertion(i,o,u,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?i=this._reinsertAfter(f,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,f=i._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new gw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class RT{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class gw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new xT,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mw(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class yw{constructor(){}supports(i){return i instanceof Map||ah(i)}create(){return new NT}}class NT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||ah(i)))throw new He(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const f=l._prev,v=l._next;return f&&(f._next=v),v&&(v._prev=f),l._next=null,l._prev=null,l}const u=new OT(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class OT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _w(){return new uE([new pw])}let uE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||_w()),deps:[[n,new ea,new hs]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new He(901,!1)}}return n.\u0275prov=cr({token:n,providedIn:"root",factory:_w}),n})();function vw(){return new lE([new yw])}let lE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||vw()),deps:[[n,new ea,new hs]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new He(901,!1)}}return n.\u0275prov=cr({token:n,providedIn:"root",factory:vw}),n})();const LT=rw(null,"core",[]);let UT=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(ie(xy))},n.\u0275mod=mi({type:n}),n.\u0275inj=Qr({}),n})();function VT(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(yn,ct,K)=>{K.d(ct,{Fj:()=>ot,NI:()=>wn,u:()=>zs,cw:()=>it,sg:()=>us,u5:()=>Mi,JJ:()=>xi,JL:()=>Vn,YN:()=>lu,wV:()=>ua,UX:()=>In,Q7:()=>ts,EJ:()=>Po,kI:()=>Ut,_Y:()=>jo,Kr:()=>qs});var g=K(8256),$=K(6895),j=K(8996),V=K(9751),de=K(4742),Le=K(8421),Ae=K(7669),ut=K(5403),Xe=K(3268),fe=K(1810),Ye=K(4004);let pt=(()=>{class U{constructor(O,ee){this._renderer=O,this._elementRef=ee,this.onChange=st=>{},this.onTouched=()=>{}}setProperty(O,ee){this._renderer.setProperty(this._elementRef.nativeElement,O,ee)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return U.\u0275fac=function(O){return new(O||U)(g.Y36(g.Qsj),g.Y36(g.SBq))},U.\u0275dir=g.lG2({type:U}),U})(),ve=(()=>{class U extends pt{}return U.\u0275fac=function(){let F;return function(ee){return(F||(F=g.n5z(U)))(ee||U)}}(),U.\u0275dir=g.lG2({type:U,features:[g.qOj]}),U})();const Rt=new g.OlP("NgValueAccessor"),nn={provide:Rt,useExisting:(0,g.Gpc)(()=>ot),multi:!0},St=new g.OlP("CompositionEventMode");let ot=(()=>{class U extends pt{constructor(O,ee,st){super(O,ee),this._compositionMode=st,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function an(){const U=(0,$.q)()?(0,$.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return U.\u0275fac=function(O){return new(O||U)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(St,8))},U.\u0275dir=g.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,ee){1&O&&g.NdJ("input",function(gn){return ee._handleInput(gn.target.value)})("blur",function(){return ee.onTouched()})("compositionstart",function(){return ee._compositionStart()})("compositionend",function(gn){return ee._compositionEnd(gn.target.value)})},features:[g._Bn([nn]),g.qOj]}),U})();const Oe=!1;function ht(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function Lt(U){return null!=U&&"number"==typeof U.length}const He=new g.OlP("NgValidators"),kt=new g.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ut{static min(F){return function Yt(U){return F=>{if(ht(F.value)||ht(U))return null;const O=parseFloat(F.value);return!isNaN(O)&&O<U?{min:{min:U,actual:F.value}}:null}}(F)}static max(F){return function dt(U){return F=>{if(ht(F.value)||ht(U))return null;const O=parseFloat(F.value);return!isNaN(O)&&O>U?{max:{max:U,actual:F.value}}:null}}(F)}static required(F){return Vt(F)}static requiredTrue(F){return function We(U){return!0===U.value?null:{required:!0}}(F)}static email(F){return function Me(U){return ht(U.value)||rt.test(U.value)?null:{email:!0}}(F)}static minLength(F){return function ft(U){return F=>ht(F.value)||!Lt(F.value)?null:F.value.length<U?{minlength:{requiredLength:U,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function ke(U){return F=>Lt(F.value)&&F.value.length>U?{maxlength:{requiredLength:U,actualLength:F.value.length}}:null}(F)}static pattern(F){return function Et(U){if(!U)return ue;let F,O;return"string"==typeof U?(O="","^"!==U.charAt(0)&&(O+="^"),O+=U,"$"!==U.charAt(U.length-1)&&(O+="$"),F=new RegExp(O)):(O=U.toString(),F=U),ee=>{if(ht(ee.value))return null;const st=ee.value;return F.test(st)?null:{pattern:{requiredPattern:O,actualValue:st}}}}(F)}static nullValidator(F){return null}static compose(F){return wt(F)}static composeAsync(F){return xn(F)}}function Vt(U){return ht(U.value)?{required:!0}:null}function ue(U){return null}function $e(U){return null!=U}function we(U){const F=(0,g.QGY)(U)?(0,j.D)(U):U;if(Oe&&!(0,g.CqO)(F)){let O="Expected async validator to return Promise or Observable.";throw"object"==typeof U&&(O+=" Are you using a synchronous validator where an async validator is expected?"),new g.vHH(-1101,O)}return F}function xe(U){let F={};return U.forEach(O=>{F=null!=O?{...F,...O}:F}),0===Object.keys(F).length?null:F}function he(U,F){return F.map(O=>O(U))}function et(U){return U.map(F=>function De(U){return!U.validate}(F)?F:O=>F.validate(O))}function wt(U){if(!U)return null;const F=U.filter($e);return 0==F.length?null:function(O){return xe(he(O,F))}}function On(U){return null!=U?wt(et(U)):null}function xn(U){if(!U)return null;const F=U.filter($e);return 0==F.length?null:function(O){return function ye(...U){const F=(0,Ae.jO)(U),{args:O,keys:ee}=(0,de.D)(U),st=new V.y(gn=>{const{length:Pr}=O;if(!Pr)return void gn.complete();const Vi=new Array(Pr);let Tt=Pr,nr=Pr;for(let Wo=0;Wo<Pr;Wo++){let eo=!1;(0,Le.Xf)(O[Wo]).subscribe((0,ut.x)(gn,Ti=>{eo||(eo=!0,nr--),Vi[Wo]=Ti},()=>Tt--,void 0,()=>{(!Tt||!eo)&&(nr||gn.next(ee?(0,fe.n)(ee,Vi):Vi),gn.complete())}))}});return F?st.pipe((0,Xe.Z)(F)):st}(he(O,F).map(we)).pipe((0,Ye.U)(xe))}}function hn(U){return null!=U?xn(et(U)):null}function ur(U,F){return null===U?[F]:Array.isArray(U)?[...U,F]:[U,F]}function lr(U){return U._rawValidators}function Yr(U){return U._rawAsyncValidators}function cr(U){return U?Array.isArray(U)?U:[U]:[]}function jr(U,F){return Array.isArray(U)?U.includes(F):U===F}function Qr(U,F){const O=cr(F);return cr(U).forEach(st=>{jr(O,st)||O.push(st)}),O}function en(U,F){return cr(F).filter(O=>!jr(U,O))}class Zn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=On(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,O){return!!this.control&&this.control.hasError(F,O)}getError(F,O){return this.control?this.control.getError(F,O):null}}class sr extends Zn{get formDirective(){return null}get path(){return null}}class Jr extends Zn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class li{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xi=(()=>{class U extends li{constructor(O){super(O)}}return U.\u0275fac=function(O){return new(O||U)(g.Y36(Jr,2))},U.\u0275dir=g.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,ee){2&O&&g.ekj("ng-untouched",ee.isUntouched)("ng-touched",ee.isTouched)("ng-pristine",ee.isPristine)("ng-dirty",ee.isDirty)("ng-valid",ee.isValid)("ng-invalid",ee.isInvalid)("ng-pending",ee.isPending)},features:[g.qOj]}),U})(),Vn=(()=>{class U extends li{constructor(O){super(O)}}return U.\u0275fac=function(O){return new(O||U)(g.Y36(sr,10))},U.\u0275dir=g.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,ee){2&O&&g.ekj("ng-untouched",ee.isUntouched)("ng-touched",ee.isTouched)("ng-pristine",ee.isPristine)("ng-dirty",ee.isDirty)("ng-valid",ee.isValid)("ng-invalid",ee.isInvalid)("ng-pending",ee.isPending)("ng-submitted",ee.isSubmitted)},features:[g.qOj]}),U})();function es(U,F){return U?`with name: '${F}'`:`at index: ${F}`}const Pe=!1,yt="VALID",_t="INVALID",ie="PENDING",se="DISABLED";function _e(U){return(Ce(U)?U.validators:U)||null}function Fe(U,F){return(Ce(F)?F.asyncValidators:U)||null}function Ce(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}class be{constructor(F,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===yt}get invalid(){return this.status===_t}get pending(){return this.status==ie}get disabled(){return this.status===se}get enabled(){return this.status!==se}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(Qr(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(Qr(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(en(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(en(F,this._rawAsyncValidators))}hasValidator(F){return jr(this._rawValidators,F)}hasAsyncValidator(F){return jr(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=ie,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const O=this._parentMarkedDirty(F.onlySelf);this.status=se,this.errors=null,this._forEachChild(ee=>{ee.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:O}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(F={}){const O=this._parentMarkedDirty(F.onlySelf);this.status=yt,this._forEachChild(ee=>{ee.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:O}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yt||this.status===ie)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?se:yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=ie,this._hasOwnPendingAsyncValidator=!0;const O=we(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,O={}){this.errors=F,this._updateControlsErrors(!1!==O.emitEvent)}get(F){let O=F;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((ee,st)=>ee&&ee._find(st),this)}getError(F,O){const ee=O?this.get(O):this;return ee&&ee.errors?ee.errors[F]:null}hasError(F,O){return!!this.getError(F,O)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?se:this.errors?_t:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ie)?ie:this._anyControlsHaveStatus(_t)?_t:yt}_anyControlsHaveStatus(F){return this._anyControls(O=>O.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){Ce(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function ze(U){return Array.isArray(U)?On(U):U||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function qt(U){return Array.isArray(U)?hn(U):U||null}(this._rawAsyncValidators)}}class it extends be{constructor(F,O,ee){super(_e(O),Fe(ee,O)),this.controls=F,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,O){return this.controls[F]?this.controls[F]:(this.controls[F]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(F,O,ee={}){this.registerControl(F,O),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(F,O={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(F,O,ee={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],O&&this.registerControl(F,O),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,O={}){(function re(U,F,O){U._forEachChild((ee,st)=>{if(void 0===O[st])throw new g.vHH(1002,Pe?function Te(U,F){return`Must supply a value for form control ${es(U,F)}`}(F,st):"")})})(this,!0,F),Object.keys(F).forEach(ee=>{(function Ee(U,F,O){const ee=U.controls;if(!(F?Object.keys(ee):ee).length)throw new g.vHH(1e3,Pe?function Xr(U){return`\n    There are no form controls registered with this ${U?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(F):"");if(!ee[O])throw new g.vHH(1001,Pe?function Be(U,F){return`Cannot find form control ${es(U,F)}`}(F,O):"")})(this,!0,ee),this.controls[ee].setValue(F[ee],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(F,O={}){null!=F&&(Object.keys(F).forEach(ee=>{const st=this.controls[ee];st&&st.patchValue(F[ee],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(F={},O={}){this._forEachChild((ee,st)=>{ee.reset(F[st],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(F,O,ee)=>(F[ee]=O.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(O,ee)=>!!ee._syncPendingControls()||O);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(O=>{const ee=this.controls[O];ee&&F(ee,O)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[O,ee]of Object.entries(this.controls))if(this.contains(O)&&F(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,ee,st)=>((ee.enabled||this.disabled)&&(O[st]=ee.value),O))}_reduceChildren(F,O){let ee=F;return this._forEachChild((st,gn)=>{ee=O(ee,st,gn)}),ee}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}const dr=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>tt}),tt="always";function Pt(U,F,O=tt){Jn(U,F),F.valueAccessor.writeValue(U.value),(U.disabled||"always"===O)&&F.valueAccessor.setDisabledState?.(U.disabled),function Mr(U,F){F.valueAccessor.registerOnChange(O=>{U._pendingValue=O,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&co(U,F)})}(U,F),function Co(U,F){const O=(ee,st)=>{F.valueAccessor.writeValue(ee),st&&F.viewToModelUpdate(ee)};U.registerOnChange(O),F._registerOnDestroy(()=>{U._unregisterOnChange(O)})}(U,F),function mi(U,F){F.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&co(U,F),"submit"!==U.updateOn&&U.markAsTouched()})}(U,F),function Nn(U,F){if(F.valueAccessor.setDisabledState){const O=ee=>{F.valueAccessor.setDisabledState(ee)};U.registerOnDisabledChange(O),F._registerOnDestroy(()=>{U._unregisterOnDisabledChange(O)})}}(U,F)}function rn(U,F,O=!0){const ee=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(ee),F.valueAccessor.registerOnTouched(ee)),qr(U,F),U&&(F._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function bn(U,F){U.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(F)})}function Jn(U,F){const O=lr(U);null!==F.validator?U.setValidators(ur(O,F.validator)):"function"==typeof O&&U.setValidators([O]);const ee=Yr(U);null!==F.asyncValidator?U.setAsyncValidators(ur(ee,F.asyncValidator)):"function"==typeof ee&&U.setAsyncValidators([ee]);const st=()=>U.updateValueAndValidity();bn(F._rawValidators,st),bn(F._rawAsyncValidators,st)}function qr(U,F){let O=!1;if(null!==U){if(null!==F.validator){const st=lr(U);if(Array.isArray(st)&&st.length>0){const gn=st.filter(Pr=>Pr!==F.validator);gn.length!==st.length&&(O=!0,U.setValidators(gn))}}if(null!==F.asyncValidator){const st=Yr(U);if(Array.isArray(st)&&st.length>0){const gn=st.filter(Pr=>Pr!==F.asyncValidator);gn.length!==st.length&&(O=!0,U.setAsyncValidators(gn))}}}const ee=()=>{};return bn(F._rawValidators,ee),bn(F._rawAsyncValidators,ee),O}function co(U,F){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function zt(U,F){const O=U.indexOf(F);O>-1&&U.splice(O,1)}function jn(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const wn=class extends be{constructor(F=null,O,ee){super(_e(O),Fe(ee,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ce(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=jn(F)?F.value:F)}setValue(F,O={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(F,O={}){this.setValue(F,O)}reset(F=this.defaultValue,O={}){this._applyFormState(F),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){zt(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){zt(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){jn(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}};let jo=(()=>{class U{}return U.\u0275fac=function(O){return new(O||U)},U.\u0275dir=g.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})();const _r={provide:Rt,useExisting:(0,g.Gpc)(()=>ua),multi:!0};let ua=(()=>{class U extends ve{writeValue(O){this.setProperty("value",O??"")}registerOnChange(O){this.onChange=ee=>{O(""==ee?null:parseFloat(ee))}}}return U.\u0275fac=function(){let F;return function(ee){return(F||(F=g.n5z(U)))(ee||U)}}(),U.\u0275dir=g.lG2({type:U,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(O,ee){1&O&&g.NdJ("input",function(gn){return ee.onChange(gn.target.value)})("blur",function(){return ee.onTouched()})},features:[g._Bn([_r]),g.qOj]}),U})(),Os=(()=>{class U{}return U.\u0275fac=function(O){return new(O||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({}),U})();const Ui=new g.OlP("NgModelWithFormControlWarning"),Hi={provide:sr,useExisting:(0,g.Gpc)(()=>us)};let us=(()=>{class U extends sr{constructor(O,ee,st){super(),this.callSetDisabledState=st,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(O),this._setAsyncValidators(ee)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const ee=this.form.get(O.path);return Pt(ee,O,this.callSetDisabledState),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),ee}getControl(O){return this.form.get(O.path)}removeControl(O){rn(O.control||null,O,!1),function pe(U,F){const O=U.indexOf(F);O>-1&&U.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,ee){this.form.get(O.path).setValue(ee)}onSubmit(O){return this.submitted=!0,function mr(U,F){U._syncPendingControls(),F.forEach(O=>{const ee=O.control;"submit"===ee.updateOn&&ee._pendingChange&&(O.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const ee=O.control,st=this.form.get(O.path);ee!==st&&(rn(ee||null,O),(U=>U instanceof wn)(st)&&(Pt(st,O,this.callSetDisabledState),O.control=st))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const ee=this.form.get(O.path);(function Ds(U,F){Jn(U,F)})(ee,O),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const ee=this.form.get(O.path);ee&&function ho(U,F){return qr(U,F)}(ee,O)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jn(this.form,this),this._oldForm&&qr(this._oldForm,this)}_checkFormPresent(){}}return U.\u0275fac=function(O){return new(O||U)(g.Y36(He,10),g.Y36(kt,10),g.Y36(dr,8))},U.\u0275dir=g.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(O,ee){1&O&&g.NdJ("submit",function(gn){return ee.onSubmit(gn)})("reset",function(){return ee.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Hi]),g.qOj,g.TTD]}),U})();const uu={provide:Jr,useExisting:(0,g.Gpc)(()=>zs)};let zs=(()=>{class U extends Jr{set isDisabled(O){}constructor(O,ee,st,gn,Pr){super(),this._ngModelWarningConfig=Pr,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(ee),this._setAsyncValidators(st),this.valueAccessor=function Ir(U,F){if(!F)return null;let O,ee,st;return Array.isArray(F),F.forEach(gn=>{gn.constructor===ot?O=gn:function js(U){return Object.getPrototypeOf(U.constructor)===ve}(gn)?ee=gn:st=gn}),st||ee||O||null}(0,gn)}ngOnChanges(O){this._added||this._setUpControl(),function Cs(U,F){if(!U.hasOwnProperty("model"))return!1;const O=U.model;return!!O.isFirstChange()||!Object.is(F,O.currentValue)}(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return function qe(U,F){return[...F.path,U]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return U._ngModelWarningSentOnce=!1,U.\u0275fac=function(O){return new(O||U)(g.Y36(sr,13),g.Y36(He,10),g.Y36(kt,10),g.Y36(Rt,10),g.Y36(Ui,8))},U.\u0275dir=g.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([uu]),g.qOj,g.TTD]}),U})();const Mo={provide:Rt,useExisting:(0,g.Gpc)(()=>Po),multi:!0};function _u(U,F){return null==U?`${F}`:(F&&"object"==typeof F&&(F="Object"),`${U}: ${F}`.slice(0,50))}let Po=(()=>{class U extends ve{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const st=_u(this._getOptionId(O),O);this.setProperty("value",st)}registerOnChange(O){this.onChange=ee=>{this.value=this._getOptionValue(ee),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const ee of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ee),O))return ee;return null}_getOptionValue(O){const ee=function Ca(U){return U.split(":")[0]}(O);return this._optionMap.has(ee)?this._optionMap.get(ee):O}}return U.\u0275fac=function(){let F;return function(ee){return(F||(F=g.n5z(U)))(ee||U)}}(),U.\u0275dir=g.lG2({type:U,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(O,ee){1&O&&g.NdJ("change",function(gn){return ee.onChange(gn.target.value)})("blur",function(){return ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Mo]),g.qOj]}),U})(),lu=(()=>{class U{constructor(O,ee,st){this._element=O,this._renderer=ee,this._select=st,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(_u(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return U.\u0275fac=function(O){return new(O||U)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Po,9))},U.\u0275dir=g.lG2({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),U})();const ja={provide:Rt,useExisting:(0,g.Gpc)(()=>Fs),multi:!0};function As(U,F){return null==U?`${F}`:("string"==typeof F&&(F=`'${F}'`),F&&"object"==typeof F&&(F="Object"),`${U}: ${F}`.slice(0,50))}let Fs=(()=>{class U extends ve{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let ee;if(this.value=O,Array.isArray(O)){const st=O.map(gn=>this._getOptionId(gn));ee=(gn,Pr)=>{gn._setSelected(st.indexOf(Pr.toString())>-1)}}else ee=(st,gn)=>{st._setSelected(!1)};this._optionMap.forEach(ee)}registerOnChange(O){this.onChange=ee=>{const st=[],gn=ee.selectedOptions;if(void 0!==gn){const Pr=gn;for(let Vi=0;Vi<Pr.length;Vi++){const nr=this._getOptionValue(Pr[Vi].value);st.push(nr)}}else{const Pr=ee.options;for(let Vi=0;Vi<Pr.length;Vi++){const Tt=Pr[Vi];if(Tt.selected){const nr=this._getOptionValue(Tt.value);st.push(nr)}}}this.value=st,O(st)}}_registerOption(O){const ee=(this._idCounter++).toString();return this._optionMap.set(ee,O),ee}_getOptionId(O){for(const ee of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ee)._value,O))return ee;return null}_getOptionValue(O){const ee=function Nu(U){return U.split(":")[0]}(O);return this._optionMap.has(ee)?this._optionMap.get(ee)._value:O}}return U.\u0275fac=function(){let F;return function(ee){return(F||(F=g.n5z(U)))(ee||U)}}(),U.\u0275dir=g.lG2({type:U,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(O,ee){1&O&&g.NdJ("change",function(gn){return ee.onChange(gn.target)})("blur",function(){return ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([ja]),g.qOj]}),U})(),qs=(()=>{class U{constructor(O,ee,st){this._element=O,this._renderer=ee,this._select=st,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(As(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(As(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return U.\u0275fac=function(O){return new(O||U)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Fs,9))},U.\u0275dir=g.lG2({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),U})(),Js=(()=>{class U{constructor(){this._validator=ue}ngOnChanges(O){if(this.inputName in O){const ee=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(ee),this._validator=this._enabled?this.createValidator(ee):ue,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}}return U.\u0275fac=function(O){return new(O||U)},U.\u0275dir=g.lG2({type:U,features:[g.TTD]}),U})();const Xs={provide:He,useExisting:(0,g.Gpc)(()=>ts),multi:!0};let ts=(()=>{class U extends Js{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.D6c,this.createValidator=O=>Vt}enabled(O){return O}}return U.\u0275fac=function(){let F;return function(ee){return(F||(F=g.n5z(U)))(ee||U)}}(),U.\u0275dir=g.lG2({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(O,ee){2&O&&g.uIk("required",ee._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([Xs]),g.qOj]}),U})(),Or=(()=>{class U{}return U.\u0275fac=function(O){return new(O||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({imports:[Os]}),U})(),Mi=(()=>{class U{static withConfig(O){return{ngModule:U,providers:[{provide:dr,useValue:O.callSetDisabledState??tt}]}}}return U.\u0275fac=function(O){return new(O||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({imports:[Or]}),U})(),In=(()=>{class U{static withConfig(O){return{ngModule:U,providers:[{provide:Ui,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:dr,useValue:O.callSetDisabledState??tt}]}}}return U.\u0275fac=function(O){return new(O||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({imports:[Or]}),U})()},1481:(yn,ct,K)=>{K.d(ct,{Dx:()=>Vn,H7:()=>_e,b2:()=>Jr,q6:()=>Qr,se:()=>Vt});var g=K(6895),$=K(8256);class j extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class V extends j{static makeCurrent(){(0,g.HT)(new V)}onAndCancel(Ee,re,be){return Ee.addEventListener(re,be,!1),()=>{Ee.removeEventListener(re,be,!1)}}dispatchEvent(Ee,re){Ee.dispatchEvent(re)}remove(Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)}createElement(Ee,re){return(re=re||this.getDefaultDocument()).createElement(Ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ee){return Ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ee){return Ee instanceof DocumentFragment}getGlobalEventTarget(Ee,re){return"window"===re?window:"document"===re?Ee:"body"===re?Ee.body:null}getBaseHref(Ee){const re=function Le(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==re?null:function ut(Ce){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",Ce);const Ee=Ae.pathname;return"/"===Ee.charAt(0)?Ee:`/${Ee}`}(re)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ee){return(0,g.Mx)(document.cookie,Ee)}}let Ae,de=null;const Xe=new $.OlP("TRANSITION_ID"),ye=[{provide:$.ip1,useFactory:function fe(Ce,Ee,re){return()=>{re.get($.CZH).donePromise.then(()=>{const be=(0,g.q)(),it=Ee.querySelectorAll(`style[ng-transition="${Ce}"]`);for(let At=0;At<it.length;At++)be.remove(it[At])})}},deps:[Xe,g.K0,$.zs3],multi:!0}];let pt=(()=>{class Ce{build(){return new XMLHttpRequest}}return Ce.\u0275fac=function(re){return new(re||Ce)},Ce.\u0275prov=$.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const ve=new $.OlP("EventManagerPlugins");let Rt=(()=>{class Ce{constructor(re,be){this._zone=be,this._eventNameToPlugin=new Map,re.forEach(it=>{it.manager=this}),this._plugins=re.slice().reverse()}addEventListener(re,be,it){return this._findPluginFor(be).addEventListener(re,be,it)}addGlobalEventListener(re,be,it){return this._findPluginFor(be).addGlobalEventListener(re,be,it)}getZone(){return this._zone}_findPluginFor(re){const be=this._eventNameToPlugin.get(re);if(be)return be;const it=this._plugins;for(let At=0;At<it.length;At++){const Kt=it[At];if(Kt.supports(re))return this._eventNameToPlugin.set(re,Kt),Kt}throw new Error(`No event manager plugin found for event ${re}`)}}return Ce.\u0275fac=function(re){return new(re||Ce)($.LFG(ve),$.LFG($.R0b))},Ce.\u0275prov=$.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class mt{constructor(Ee){this._doc=Ee}addGlobalEventListener(Ee,re,be){const it=(0,g.q)().getGlobalEventTarget(this._doc,Ee);if(!it)throw new Error(`Unsupported event target ${it} for event ${re}`);return this.addEventListener(it,re,be)}}let ln=(()=>{class Ce{constructor(){this.usageCount=new Map}addStyles(re){for(const be of re)1===this.changeUsageCount(be,1)&&this.onStyleAdded(be)}removeStyles(re){for(const be of re)0===this.changeUsageCount(be,-1)&&this.onStyleRemoved(be)}onStyleRemoved(re){}onStyleAdded(re){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(re,be){const it=this.usageCount;let At=it.get(re)??0;return At+=be,At>0?it.set(re,At):it.delete(re),At}ngOnDestroy(){for(const re of this.getAllStyles())this.onStyleRemoved(re);this.usageCount.clear()}}return Ce.\u0275fac=function(re){return new(re||Ce)},Ce.\u0275prov=$.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),nn=(()=>{class Ce extends ln{constructor(re){super(),this.doc=re,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(re){for(const be of this.hostNodes)this.addStyleToHost(be,re)}onStyleRemoved(re){const be=this.styleRef;be.get(re)?.forEach(At=>At.remove()),be.delete(re)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(re){this.hostNodes.add(re);for(const be of this.getAllStyles())this.addStyleToHost(re,be)}removeHost(re){this.hostNodes.delete(re)}addStyleToHost(re,be){const it=this.doc.createElement("style");it.textContent=be,re.appendChild(it);const At=this.styleRef.get(be);At?At.push(it):this.styleRef.set(be,[it])}resetHostNodes(){const re=this.hostNodes;re.clear(),re.add(this.doc.head)}}return Ce.\u0275fac=function(re){return new(re||Ce)($.LFG(g.K0))},Ce.\u0275prov=$.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const an={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},St=/%COMP%/g,kt=new $.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Yt(Ce,Ee){return Ee.flat(100).map(re=>re.replace(St,Ce))}function dt(Ce){return Ee=>{if("__ngUnwrap__"===Ee)return Ce;!1===Ce(Ee)&&(Ee.preventDefault(),Ee.returnValue=!1)}}let Vt=(()=>{class Ce{constructor(re,be,it,At){this.eventManager=re,this.sharedStylesHost=be,this.appId=it,this.removeStylesOnCompDestory=At,this.rendererByCompId=new Map,this.defaultRenderer=new We(re)}createRenderer(re,be){if(!re||!be)return this.defaultRenderer;const it=this.getOrCreateRenderer(re,be);return it instanceof $e?it.applyToHost(re):it instanceof ue&&it.applyStyles(),it}getOrCreateRenderer(re,be){const it=this.rendererByCompId;let At=it.get(be.id);if(!At){const Kt=this.eventManager,cn=this.sharedStylesHost,Qn=this.removeStylesOnCompDestory;switch(be.encapsulation){case $.ifc.Emulated:At=new $e(Kt,cn,be,this.appId,Qn);break;case $.ifc.ShadowDom:return new Et(Kt,cn,re,be);default:At=new ue(Kt,cn,be,Qn)}At.onDestroy=()=>it.delete(be.id),it.set(be.id,At)}return At}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Ce.\u0275fac=function(re){return new(re||Ce)($.LFG(Rt),$.LFG(nn),$.LFG($.AFp),$.LFG(kt))},Ce.\u0275prov=$.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class We{constructor(Ee){this.eventManager=Ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ee,re){return re?document.createElementNS(an[re]||re,Ee):document.createElement(Ee)}createComment(Ee){return document.createComment(Ee)}createText(Ee){return document.createTextNode(Ee)}appendChild(Ee,re){(ke(Ee)?Ee.content:Ee).appendChild(re)}insertBefore(Ee,re,be){Ee&&(ke(Ee)?Ee.content:Ee).insertBefore(re,be)}removeChild(Ee,re){Ee&&Ee.removeChild(re)}selectRootElement(Ee,re){let be="string"==typeof Ee?document.querySelector(Ee):Ee;if(!be)throw new Error(`The selector "${Ee}" did not match any elements`);return re||(be.textContent=""),be}parentNode(Ee){return Ee.parentNode}nextSibling(Ee){return Ee.nextSibling}setAttribute(Ee,re,be,it){if(it){re=it+":"+re;const At=an[it];At?Ee.setAttributeNS(At,re,be):Ee.setAttribute(re,be)}else Ee.setAttribute(re,be)}removeAttribute(Ee,re,be){if(be){const it=an[be];it?Ee.removeAttributeNS(it,re):Ee.removeAttribute(`${be}:${re}`)}else Ee.removeAttribute(re)}addClass(Ee,re){Ee.classList.add(re)}removeClass(Ee,re){Ee.classList.remove(re)}setStyle(Ee,re,be,it){it&($.JOm.DashCase|$.JOm.Important)?Ee.style.setProperty(re,be,it&$.JOm.Important?"important":""):Ee.style[re]=be}removeStyle(Ee,re,be){be&$.JOm.DashCase?Ee.style.removeProperty(re):Ee.style[re]=""}setProperty(Ee,re,be){Ee[re]=be}setValue(Ee,re){Ee.nodeValue=re}listen(Ee,re,be){return"string"==typeof Ee?this.eventManager.addGlobalEventListener(Ee,re,dt(be)):this.eventManager.addEventListener(Ee,re,dt(be))}}function ke(Ce){return"TEMPLATE"===Ce.tagName&&void 0!==Ce.content}class Et extends We{constructor(Ee,re,be,it){super(Ee),this.sharedStylesHost=re,this.hostEl=be,this.shadowRoot=be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const At=Yt(it.id,it.styles);for(const Kt of At){const cn=document.createElement("style");cn.textContent=Kt,this.shadowRoot.appendChild(cn)}}nodeOrShadowRoot(Ee){return Ee===this.hostEl?this.shadowRoot:Ee}appendChild(Ee,re){return super.appendChild(this.nodeOrShadowRoot(Ee),re)}insertBefore(Ee,re,be){return super.insertBefore(this.nodeOrShadowRoot(Ee),re,be)}removeChild(Ee,re){return super.removeChild(this.nodeOrShadowRoot(Ee),re)}parentNode(Ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ee)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ue extends We{constructor(Ee,re,be,it,At=be.id){super(Ee),this.sharedStylesHost=re,this.removeStylesOnCompDestory=it,this.rendererUsageCount=0,this.styles=Yt(At,be.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class $e extends ue{constructor(Ee,re,be,it,At){const Kt=it+"-"+be.id;super(Ee,re,be,At,Kt),this.contentAttr=function rt(Ce){return"_ngcontent-%COMP%".replace(St,Ce)}(Kt),this.hostAttr=function Ut(Ce){return"_nghost-%COMP%".replace(St,Ce)}(Kt)}applyToHost(Ee){this.applyStyles(),this.setAttribute(Ee,this.hostAttr,"")}createElement(Ee,re){const be=super.createElement(Ee,re);return super.setAttribute(be,this.contentAttr,""),be}}let we=(()=>{class Ce extends mt{constructor(re){super(re)}supports(re){return!0}addEventListener(re,be,it){return re.addEventListener(be,it,!1),()=>this.removeEventListener(re,be,it)}removeEventListener(re,be,it){return re.removeEventListener(be,it)}}return Ce.\u0275fac=function(re){return new(re||Ce)($.LFG(g.K0))},Ce.\u0275prov=$.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const xe=["alt","control","meta","shift"],he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},De={alt:Ce=>Ce.altKey,control:Ce=>Ce.ctrlKey,meta:Ce=>Ce.metaKey,shift:Ce=>Ce.shiftKey};let et=(()=>{class Ce extends mt{constructor(re){super(re)}supports(re){return null!=Ce.parseEventName(re)}addEventListener(re,be,it){const At=Ce.parseEventName(be),Kt=Ce.eventCallback(At.fullKey,it,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(re,At.domEventName,Kt))}static parseEventName(re){const be=re.toLowerCase().split("."),it=be.shift();if(0===be.length||"keydown"!==it&&"keyup"!==it)return null;const At=Ce._normalizeKey(be.pop());let Kt="",cn=be.indexOf("code");if(cn>-1&&(be.splice(cn,1),Kt="code."),xe.forEach(dr=>{const tt=be.indexOf(dr);tt>-1&&(be.splice(tt,1),Kt+=dr+".")}),Kt+=At,0!=be.length||0===At.length)return null;const Qn={};return Qn.domEventName=it,Qn.fullKey=Kt,Qn}static matchEventFullKeyCode(re,be){let it=he[re.key]||re.key,At="";return be.indexOf("code.")>-1&&(it=re.code,At="code."),!(null==it||!it)&&(it=it.toLowerCase()," "===it?it="space":"."===it&&(it="dot"),xe.forEach(Kt=>{Kt!==it&&(0,De[Kt])(re)&&(At+=Kt+".")}),At+=it,At===be)}static eventCallback(re,be,it){return At=>{Ce.matchEventFullKeyCode(At,re)&&it.runGuarded(()=>be(At))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return Ce.\u0275fac=function(re){return new(re||Ce)($.LFG(g.K0))},Ce.\u0275prov=$.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const Qr=(0,$.eFA)($._c5,"browser",[{provide:$.Lbi,useValue:g.bD},{provide:$.g9A,useValue:function lr(){V.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function cr(){return(0,$.RDi)(document),document},deps:[]}]),en=new $.OlP(""),Zn=[{provide:$.rWj,useClass:class Ye{addToWindow(Ee){$.dqk.getAngularTestability=(be,it=!0)=>{const At=Ee.findTestabilityInTree(be,it);if(null==At)throw new Error("Could not find testability for element.");return At},$.dqk.getAllAngularTestabilities=()=>Ee.getAllTestabilities(),$.dqk.getAllAngularRootElements=()=>Ee.getAllRootElements(),$.dqk.frameworkStabilizers||($.dqk.frameworkStabilizers=[]),$.dqk.frameworkStabilizers.push(be=>{const it=$.dqk.getAllAngularTestabilities();let At=it.length,Kt=!1;const cn=function(Qn){Kt=Kt||Qn,At--,0==At&&be(Kt)};it.forEach(function(Qn){Qn.whenStable(cn)})})}findTestabilityInTree(Ee,re,be){return null==re?null:Ee.getTestability(re)??(be?(0,g.q)().isShadowRoot(re)?this.findTestabilityInTree(Ee,re.host,!0):this.findTestabilityInTree(Ee,re.parentElement,!0):null)}},deps:[]},{provide:$.lri,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]},{provide:$.dDg,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]}],sr=[{provide:$.zSh,useValue:"root"},{provide:$.qLn,useFactory:function Yr(){return new $.qLn},deps:[]},{provide:ve,useClass:we,multi:!0,deps:[g.K0,$.R0b,$.Lbi]},{provide:ve,useClass:et,multi:!0,deps:[g.K0]},{provide:Vt,useClass:Vt,deps:[Rt,nn,$.AFp,kt]},{provide:$.FYo,useExisting:Vt},{provide:ln,useExisting:nn},{provide:nn,useClass:nn,deps:[g.K0]},{provide:Rt,useClass:Rt,deps:[ve,$.R0b]},{provide:g.JF,useClass:pt,deps:[]},[]];let Jr=(()=>{class Ce{constructor(re){}static withServerTransition(re){return{ngModule:Ce,providers:[{provide:$.AFp,useValue:re.appId},{provide:Xe,useExisting:$.AFp},ye]}}}return Ce.\u0275fac=function(re){return new(re||Ce)($.LFG(en,12))},Ce.\u0275mod=$.oAB({type:Ce}),Ce.\u0275inj=$.cJS({providers:[...sr,...Zn],imports:[g.ez,$.hGG]}),Ce})(),Vn=(()=>{class Ce{constructor(re){this._doc=re}getTitle(){return this._doc.title}setTitle(re){this._doc.title=re||""}}return Ce.\u0275fac=function(re){return new(re||Ce)($.LFG(g.K0))},Ce.\u0275prov=$.Yz7({token:Ce,factory:function(re){let be=null;return be=re?new re:function xi(){return new Vn((0,$.LFG)(g.K0))}(),be},providedIn:"root"}),Ce})();typeof window<"u"&&window;let _e=(()=>{class Ce{}return Ce.\u0275fac=function(re){return new(re||Ce)},Ce.\u0275prov=$.Yz7({token:Ce,factory:function(re){let be=null;return be=re?new(re||Ce):$.LFG(Fe),be},providedIn:"root"}),Ce})(),Fe=(()=>{class Ce extends _e{constructor(re){super(),this._doc=re}sanitize(re,be){if(null==be)return null;switch(re){case $.q3G.NONE:return be;case $.q3G.HTML:return(0,$.qzn)(be,"HTML")?(0,$.z3N)(be):(0,$.EiD)(this._doc,String(be)).toString();case $.q3G.STYLE:return(0,$.qzn)(be,"Style")?(0,$.z3N)(be):be;case $.q3G.SCRIPT:if((0,$.qzn)(be,"Script"))return(0,$.z3N)(be);throw new Error("unsafe value used in a script context");case $.q3G.URL:return(0,$.qzn)(be,"URL")?(0,$.z3N)(be):(0,$.mCW)(String(be));case $.q3G.RESOURCE_URL:if((0,$.qzn)(be,"ResourceURL"))return(0,$.z3N)(be);throw new Error(`unsafe value used in a resource URL context (see ${$.JZr})`);default:throw new Error(`Unexpected SecurityContext ${re} (see ${$.JZr})`)}}bypassSecurityTrustHtml(re){return(0,$.JVY)(re)}bypassSecurityTrustStyle(re){return(0,$.L6k)(re)}bypassSecurityTrustScript(re){return(0,$.eBb)(re)}bypassSecurityTrustUrl(re){return(0,$.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,$.pB0)(re)}}return Ce.\u0275fac=function(re){return new(re||Ce)($.LFG(g.K0))},Ce.\u0275prov=$.Yz7({token:Ce,factory:function(re){let be=null;return be=re?new re:function ze(Ce){return new Fe(Ce.get(g.K0))}($.LFG($.zs3)),be},providedIn:"root"}),Ce})()},5450:(yn,ct,K)=>{K.d(ct,{F0:()=>or,rH:()=>ro,Bz:()=>nu,lC:()=>ts});var g=K(8256),$=K(8996),j=K(9646),V=K(7579);class de extends V.x{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const y=super._subscribe(T);return!y.closed&&T.next(this._value),y}getValue(){const{hasError:T,thrownError:y,_value:A}=this;if(T)throw y;return this._throwIfClosed(),A}next(T){super.next(this._value=T)}}const Ae=(0,K(3888).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"});var ut=K(9751),Xe=K(4742),fe=K(4671),ye=K(3268),Ye=K(7669),pt=K(1810),ve=K(5403),Rt=K(9672);function mt(...E){const T=(0,Ye.yG)(E),y=(0,Ye.jO)(E),{args:A,keys:L}=(0,Xe.D)(E);if(0===A.length)return(0,$.D)([],T);const Y=new ut.y(function ln(E,T,y=fe.y){return A=>{nn(T,()=>{const{length:L}=E,Y=new Array(L);let te=L,Ue=L;for(let vt=0;vt<L;vt++)nn(T,()=>{const Zt=(0,$.D)(E[vt],T);let Qt=!1;Zt.subscribe((0,ve.x)(A,hr=>{Y[vt]=hr,Qt||(Qt=!0,Ue--),Ue||A.next(y(Y.slice()))},()=>{--te||A.complete()}))},A)},A)}}(A,T,L?te=>(0,pt.n)(L,te):fe.y));return y?Y.pipe((0,ye.Z)(y)):Y}function nn(E,T,y){E?(0,Rt.f)(y,E,T):T()}var an=K(8189);function ot(...E){return function St(){return(0,an.J)(1)}()((0,$.D)(E,(0,Ye.yG)(E)))}var Oe=K(8421);function ht(E){return new ut.y(T=>{(0,Oe.Xf)(E()).subscribe(T)})}var Lt=K(9635),He=K(576);function kt(E,T){const y=(0,He.m)(E)?E:()=>E,A=L=>L.error(y());return new ut.y(T?L=>T.schedule(A,0,L):A)}var rt=K(515),Ut=K(727),Yt=K(4482);function dt(){return(0,Yt.e)((E,T)=>{let y=null;E._refCount++;const A=(0,ve.x)(T,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(y=null);const L=E._connection,Y=y;y=null,L&&(!Y||L===Y)&&L.unsubscribe(),T.unsubscribe()});E.subscribe(A),A.closed||(y=E.connect())})}class Vt extends ut.y{constructor(T,y){super(),this.source=T,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Yt.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Ut.w0;const y=this.getSubject();T.add(this.source.subscribe((0,ve.x)(y,void 0,()=>{this._teardown(),y.complete()},A=>{this._teardown(),y.error(A)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Ut.w0.EMPTY)}return T}refCount(){return dt()(this)}}var We=K(6895),Me=K(4004);function ft(E,T){return(0,Yt.e)((y,A)=>{let L=null,Y=0,te=!1;const Ue=()=>te&&!L&&A.complete();y.subscribe((0,ve.x)(A,vt=>{L?.unsubscribe();let Zt=0;const Qt=Y++;(0,Oe.Xf)(E(vt,Qt)).subscribe(L=(0,ve.x)(A,hr=>A.next(T?T(vt,hr,Qt,Zt++):hr),()=>{L=null,Ue()}))},()=>{te=!0,Ue()}))})}function ke(E){return E<=0?()=>rt.E:(0,Yt.e)((T,y)=>{let A=0;T.subscribe((0,ve.x)(y,L=>{++A<=E&&(y.next(L),E<=A&&y.complete())}))})}var ue=K(9300),$e=K(5577);function we(E){return(0,Yt.e)((T,y)=>{let A=!1;T.subscribe((0,ve.x)(y,L=>{A=!0,y.next(L)},()=>{A||y.next(E),y.complete()}))})}function xe(E=he){return(0,Yt.e)((T,y)=>{let A=!1;T.subscribe((0,ve.x)(y,L=>{A=!0,y.next(L)},()=>A?y.complete():y.error(E())))})}function he(){return new Ae}function De(E,T){const y=arguments.length>=2;return A=>A.pipe(E?(0,ue.h)((L,Y)=>E(L,Y,A)):fe.y,ke(1),y?we(T):xe(()=>new Ae))}var et=K(4351),wt=K(8505);function On(E){return(0,Yt.e)((T,y)=>{let Y,A=null,L=!1;A=T.subscribe((0,ve.x)(y,void 0,void 0,te=>{Y=(0,Oe.Xf)(E(te,On(E)(T))),A?(A.unsubscribe(),A=null,Y.subscribe(y)):L=!0})),L&&(A.unsubscribe(),A=null,Y.subscribe(y))})}function hn(E,T){return(0,Yt.e)(function xn(E,T,y,A,L){return(Y,te)=>{let Ue=y,vt=T,Zt=0;Y.subscribe((0,ve.x)(te,Qt=>{const hr=Zt++;vt=Ue?E(vt,Qt,hr):(Ue=!0,Qt),A&&te.next(vt)},L&&(()=>{Ue&&te.next(vt),te.complete()})))}}(E,T,arguments.length>=2,!0))}function ur(E){return E<=0?()=>rt.E:(0,Yt.e)((T,y)=>{let A=[];T.subscribe((0,ve.x)(y,L=>{A.push(L),E<A.length&&A.shift()},()=>{for(const L of A)y.next(L);y.complete()},void 0,()=>{A=null}))})}function lr(E,T){const y=arguments.length>=2;return A=>A.pipe(E?(0,ue.h)((L,Y)=>E(L,Y,A)):fe.y,ur(1),y?we(T):xe(()=>new Ae))}function jr(E){return(0,Yt.e)((T,y)=>{try{T.subscribe(y)}finally{y.add(E)}})}var Qr=K(1481);const en="primary",Zn=Symbol("RouteTitle");class sr{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const y=this.params[T];return Array.isArray(y)?y[0]:y}return null}getAll(T){if(this.has(T)){const y=this.params[T];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Jr(E){return new sr(E)}function li(E,T,y){const A=y.path.split("/");if(A.length>E.length||"full"===y.pathMatch&&(T.hasChildren()||A.length<E.length))return null;const L={};for(let Y=0;Y<A.length;Y++){const te=A[Y],Ue=E[Y];if(te.startsWith(":"))L[te.substring(1)]=Ue;else if(te!==Ue.path)return null}return{consumed:E.slice(0,A.length),posParams:L}}function Hr(E,T){const y=E?Object.keys(E):void 0,A=T?Object.keys(T):void 0;if(!y||!A||y.length!=A.length)return!1;let L;for(let Y=0;Y<y.length;Y++)if(L=y[Y],!xi(E[L],T[L]))return!1;return!0}function xi(E,T){if(Array.isArray(E)&&Array.isArray(T)){if(E.length!==T.length)return!1;const y=[...E].sort(),A=[...T].sort();return y.every((L,Y)=>A[Y]===L)}return E===T}function Vn(E){return Array.prototype.concat.apply([],E)}function It(E){return E.length>0?E[E.length-1]:null}function er(E,T){for(const y in E)E.hasOwnProperty(y)&&T(E[y],y)}function Fn(E){return(0,g.CqO)(E)?E:(0,g.QGY)(E)?(0,$.D)(Promise.resolve(E)):(0,j.of)(E)}const Lr=!1,xr={exact:function ms(E,T,y){if(!yt(E.segments,T.segments)||!es(E.segments,T.segments,y)||E.numberOfChildren!==T.numberOfChildren)return!1;for(const A in T.children)if(!E.children[A]||!ms(E.children[A],T.children[A],y))return!1;return!0},subset:Ci},Ln={exact:function tr(E,T){return Hr(E,T)},subset:function Yn(E,T){return Object.keys(T).length<=Object.keys(E).length&&Object.keys(T).every(y=>xi(E[y],T[y]))},ignored:()=>!0};function Ei(E,T,y){return xr[y.paths](E.root,T.root,y.matrixParams)&&Ln[y.queryParams](E.queryParams,T.queryParams)&&!("exact"===y.fragment&&E.fragment!==T.fragment)}function Ci(E,T,y){return Ni(E,T,T.segments,y)}function Ni(E,T,y,A){if(E.segments.length>y.length){const L=E.segments.slice(0,y.length);return!(!yt(L,y)||T.hasChildren()||!es(L,y,A))}if(E.segments.length===y.length){if(!yt(E.segments,y)||!es(E.segments,y,A))return!1;for(const L in T.children)if(!E.children[L]||!Ci(E.children[L],T.children[L],A))return!1;return!0}{const L=y.slice(0,E.segments.length),Y=y.slice(E.segments.length);return!!(yt(E.segments,L)&&es(E.segments,L,A)&&E.children[en])&&Ni(E.children[en],T,Y,A)}}function es(E,T,y){return T.every((A,L)=>Ln[y](E[L].parameters,A.parameters))}class Xr{constructor(T=new Be([],{}),y={},A=null){this.root=T,this.queryParams=y,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap}toString(){return _e.serialize(this)}}class Be{constructor(T,y){this.segments=T,this.children=y,this.parent=null,er(y,(A,L)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ze(this)}}class Te{constructor(T,y){this.path=T,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Jr(this.parameters)),this._parameterMap}toString(){return At(this)}}function yt(E,T){return E.length===T.length&&E.every((y,A)=>y.path===T[A].path)}let ie=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return new se},providedIn:"root"}),E})();class se{parse(T){const y=new bn(T);return new Xr(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(T){const y=`/${Fe(T.root,!0)}`,A=function cn(E){const T=Object.keys(E).map(y=>{const A=E[y];return Array.isArray(A)?A.map(L=>`${Ce(y)}=${Ce(L)}`).join("&"):`${Ce(y)}=${Ce(A)}`}).filter(y=>!!y);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${y}${A}${"string"==typeof T.fragment?`#${function Ee(E){return encodeURI(E)}(T.fragment)}`:""}`}}const _e=new se;function ze(E){return E.segments.map(T=>At(T)).join("/")}function Fe(E,T){if(!E.hasChildren())return ze(E);if(T){const y=E.children[en]?Fe(E.children[en],!1):"",A=[];return er(E.children,(L,Y)=>{Y!==en&&A.push(`${Y}:${Fe(L,!1)}`)}),A.length>0?`${y}(${A.join("//")})`:y}{const y=function _t(E,T){let y=[];return er(E.children,(A,L)=>{L===en&&(y=y.concat(T(A,L)))}),er(E.children,(A,L)=>{L!==en&&(y=y.concat(T(A,L)))}),y}(E,(A,L)=>L===en?[Fe(E.children[en],!1)]:[`${L}:${Fe(A,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[en]?`${ze(E)}/${y[0]}`:`${ze(E)}/(${y.join("//")})`}}function qt(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ce(E){return qt(E).replace(/%3B/gi,";")}function re(E){return qt(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function be(E){return decodeURIComponent(E)}function it(E){return be(E.replace(/\+/g,"%20"))}function At(E){return`${re(E.path)}${function Kt(E){return Object.keys(E).map(T=>`;${re(T)}=${re(E[T])}`).join("")}(E.parameters)}`}const Qn=/^[^\/()?;=#]+/;function dr(E){const T=E.match(Qn);return T?T[0]:""}const tt=/^[^=?&#]+/,Pt=/^[^&#]+/;class bn{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Be([],{}):new Be([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(T.length>0||Object.keys(y).length>0)&&(A[en]=new Be(T,y)),A}parseSegment(){const T=dr(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new g.vHH(4009,Lr);return this.capture(T),new Te(be(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const y=dr(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const L=dr(this.remaining);L&&(A=L,this.capture(A))}T[be(y)]=be(A)}parseQueryParam(T){const y=function qe(E){const T=E.match(tt);return T?T[0]:""}(this.remaining);if(!y)return;this.capture(y);let A="";if(this.consumeOptional("=")){const te=function rn(E){const T=E.match(Pt);return T?T[0]:""}(this.remaining);te&&(A=te,this.capture(A))}const L=it(y),Y=it(A);if(T.hasOwnProperty(L)){let te=T[L];Array.isArray(te)||(te=[te],T[L]=te),te.push(Y)}else T[L]=Y}parseParens(T){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=dr(this.remaining),L=this.remaining[A.length];if("/"!==L&&")"!==L&&";"!==L)throw new g.vHH(4010,Lr);let Y;A.indexOf(":")>-1?(Y=A.slice(0,A.indexOf(":")),this.capture(Y),this.capture(":")):T&&(Y=en);const te=this.parseChildren();y[Y]=1===Object.keys(te).length?te[en]:new Be([],te),this.consumeOptional("//")}return y}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new g.vHH(4011,Lr)}}function Nn(E){return E.segments.length>0?new Be([],{[en]:E}):E}function Jn(E){const T={};for(const A of Object.keys(E.children)){const Y=Jn(E.children[A]);(Y.segments.length>0||Y.hasChildren())&&(T[A]=Y)}return function qr(E){if(1===E.numberOfChildren&&E.children[en]){const T=E.children[en];return new Be(E.segments.concat(T.segments),T.children)}return E}(new Be(E.segments,T))}function Mr(E){return E instanceof Xr}const mi=!1;function ho(E,T,y,A,L){if(0===y.length)return ci(T.root,T.root,T.root,A,L);const Y=function Cs(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new ii(!0,0,E);let T=0,y=!1;const A=E.reduce((L,Y,te)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Ue={};return er(Y.outlets,(vt,Zt)=>{Ue[Zt]="string"==typeof vt?vt.split("/"):vt}),[...L,{outlets:Ue}]}if(Y.segmentPath)return[...L,Y.segmentPath]}return"string"!=typeof Y?[...L,Y]:0===te?(Y.split("/").forEach((Ue,vt)=>{0==vt&&"."===Ue||(0==vt&&""===Ue?y=!0:".."===Ue?T++:""!=Ue&&L.push(Ue))}),L):[...L,Y]},[]);return new ii(y,T,A)}(y);return Y.toRoot()?ci(T.root,T.root,new Be([],{}),A,L):function te(vt){const Zt=function Ir(E,T,y,A){if(E.isAbsolute)return new js(T.root,!0,0);if(-1===A)return new js(y,y===T.root,0);return function pe(E,T,y){let A=E,L=T,Y=y;for(;Y>L;){if(Y-=L,A=A.parent,!A)throw new g.vHH(4005,mi&&"Invalid number of '../'");L=A.segments.length}return new js(A,!1,L-Y)}(y,A+(Kn(E.commands[0])?0:1),E.numberOfDoubleDots)}(Y,T,E.snapshot?._urlSegment,vt),Qt=Zt.processChildren?lt(Zt.segmentGroup,Zt.index,Y.commands):Ve(Zt.segmentGroup,Zt.index,Y.commands);return ci(T.root,Zt.segmentGroup,Qt,A,L)}(E.snapshot?._lastPathIndex)}function Kn(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Tr(E){return"object"==typeof E&&null!=E&&E.outlets}function ci(E,T,y,A,L){let te,Y={};A&&er(A,(vt,Zt)=>{Y[Zt]=Array.isArray(vt)?vt.map(Qt=>`${Qt}`):`${vt}`}),te=E===T?y:as(E,T,y);const Ue=Nn(Jn(te));return new Xr(Ue,Y,L)}function as(E,T,y){const A={};return er(E.children,(L,Y)=>{A[Y]=L===T?y:as(L,T,y)}),new Be(E.segments,A)}class ii{constructor(T,y,A){if(this.isAbsolute=T,this.numberOfDoubleDots=y,this.commands=A,T&&A.length>0&&Kn(A[0]))throw new g.vHH(4003,mi&&"Root segment cannot have matrix parameters");const L=A.find(Tr);if(L&&L!==It(A))throw new g.vHH(4004,mi&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class js{constructor(T,y,A){this.segmentGroup=T,this.processChildren=y,this.index=A}}function Ve(E,T,y){if(E||(E=new Be([],{})),0===E.segments.length&&E.hasChildren())return lt(E,T,y);const A=function Ft(E,T,y){let A=0,L=T;const Y={match:!1,pathIndex:0,commandIndex:0};for(;L<E.segments.length;){if(A>=y.length)return Y;const te=E.segments[L],Ue=y[A];if(Tr(Ue))break;const vt=`${Ue}`,Zt=A<y.length-1?y[A+1]:null;if(L>0&&void 0===vt)break;if(vt&&Zt&&"object"==typeof Zt&&void 0===Zt.outlets){if(!yr(vt,Zt,te))return Y;A+=2}else{if(!yr(vt,{},te))return Y;A++}L++}return{match:!0,pathIndex:L,commandIndex:A}}(E,T,y),L=y.slice(A.commandIndex);if(A.match&&A.pathIndex<E.segments.length){const Y=new Be(E.segments.slice(0,A.pathIndex),{});return Y.children[en]=new Be(E.segments.slice(A.pathIndex),E.children),lt(Y,0,L)}return A.match&&0===L.length?new Be(E.segments,{}):A.match&&!E.hasChildren()?zt(E,T,y):A.match?lt(E,0,L):zt(E,T,y)}function lt(E,T,y){if(0===y.length)return new Be(E.segments,{});{const A=function me(E){return Tr(E[0])?E[0].outlets:{[en]:E}}(y),L={};if(!A[en]&&E.children[en]&&1===E.numberOfChildren&&0===E.children[en].segments.length){const Y=lt(E.children[en],T,y);return new Be(E.segments,Y.children)}return er(A,(Y,te)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(L[te]=Ve(E.children[te],T,Y))}),er(E.children,(Y,te)=>{void 0===A[te]&&(L[te]=Y)}),new Be(E.segments,L)}}function zt(E,T,y){const A=E.segments.slice(0,T);let L=0;for(;L<y.length;){const Y=y[L];if(Tr(Y)){const vt=jn(Y.outlets);return new Be(A,vt)}if(0===L&&Kn(y[0])){A.push(new Te(E.segments[T].path,wn(y[0]))),L++;continue}const te=Tr(Y)?Y.outlets[en]:`${Y}`,Ue=L<y.length-1?y[L+1]:null;te&&Ue&&Kn(Ue)?(A.push(new Te(te,wn(Ue))),L+=2):(A.push(new Te(te,{})),L++)}return new Be(A,{})}function jn(E){const T={};return er(E,(y,A)=>{"string"==typeof y&&(y=[y]),null!==y&&(T[A]=zt(new Be([],{}),0,y))}),T}function wn(E){const T={};return er(E,(y,A)=>T[A]=`${y}`),T}function yr(E,T,y){return E==y.path&&Hr(T,y.parameters)}const Li="imperative";class Tn{constructor(T,y){this.id=T,this.url=y}}class ei extends Tn{constructor(T,y,A="imperative",L=null){super(T,y),this.type=0,this.navigationTrigger=A,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ti extends Tn{constructor(T,y,A){super(T,y),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $a extends Tn{constructor(T,y,A,L){super(T,y),this.reason=A,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class di extends Tn{constructor(T,y,A,L){super(T,y),this.reason=A,this.code=L,this.type=16}}class hi extends Tn{constructor(T,y,A,L){super(T,y),this.error=A,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ns extends Tn{constructor(T,y,A,L){super(T,y),this.urlAfterRedirects=A,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs extends Tn{constructor(T,y,A,L){super(T,y),this.urlAfterRedirects=A,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $i extends Tn{constructor(T,y,A,L,Y){super(T,y),this.urlAfterRedirects=A,this.state=L,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fo extends Tn{constructor(T,y,A,L){super(T,y),this.urlAfterRedirects=A,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jo extends Tn{constructor(T,y,A,L){super(T,y),this.urlAfterRedirects=A,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _r{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ua{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class po{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qs{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ao{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(T,y,A){this.routerEvent=T,this.position=y,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ui=(()=>{class E{createUrlTree(y,A,L,Y,te,Ue){return ho(y||A.root,L,Y,te,Ue)}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac}),E})(),Ai=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:function(T){return Ui.\u0275fac(T)},providedIn:"root"}),E})();class Hi{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const y=this.pathFromRoot(T);return y.length>1?y[y.length-2]:null}children(T){const y=us(T,this._root);return y?y.children.map(A=>A.value):[]}firstChild(T){const y=us(T,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(T){const y=wi(T,this._root);return y.length<2?[]:y[y.length-2].children.map(L=>L.value).filter(L=>L!==T)}pathFromRoot(T){return wi(T,this._root).map(y=>y.value)}}function us(E,T){if(E===T.value)return T;for(const y of T.children){const A=us(E,y);if(A)return A}return null}function wi(E,T){if(E===T.value)return[T];for(const y of T.children){const A=wi(E,y);if(A.length)return A.unshift(T),A}return[]}class ks{constructor(T,y){this.value=T,this.children=y}toString(){return`TreeNode(${this.value})`}}function Nr(E){const T={};return E&&E.children.forEach(y=>T[y.value.outlet]=y),T}class go extends Hi{constructor(T,y){super(T),this.snapshot=y,lu(this,T)}toString(){return this.snapshot.toString()}}function Gs(E,T){const y=function uu(E,T){const te=new Ca([],{},{},"",{},en,T,null,E.root,-1,{});return new Po("",new ks(te,[]))}(E,T),A=new de([new Te("",{})]),L=new de({}),Y=new de({}),te=new de({}),Ue=new de(""),vt=new zs(A,L,te,Ue,Y,en,T,y.root);return vt.snapshot=y.root,new go(new ks(vt,[]),y)}class zs{constructor(T,y,A,L,Y,te,Ue,vt){this.url=T,this.params=y,this.queryParams=A,this.fragment=L,this.data=Y,this.outlet=te,this.component=Ue,this.title=this.data?.pipe((0,Me.U)(Zt=>Zt[Zn]))??(0,j.of)(void 0),this._futureSnapshot=vt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Me.U)(T=>Jr(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Me.U)(T=>Jr(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mo(E,T="emptyOnly"){const y=E.pathFromRoot;let A=0;if("always"!==T)for(A=y.length-1;A>=1;){const L=y[A],Y=y[A-1];if(L.routeConfig&&""===L.routeConfig.path)A--;else{if(Y.component)break;A--}}return function _u(E){return E.reduce((T,y)=>({params:{...T.params,...y.params},data:{...T.data,...y.data},resolve:{...y.data,...T.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(A))}class Ca{get title(){return this.data?.[Zn]}constructor(T,y,A,L,Y,te,Ue,vt,Zt,Qt,hr){this.url=T,this.params=y,this.queryParams=A,this.fragment=L,this.data=Y,this.outlet=te,this.component=Ue,this.routeConfig=vt,this._urlSegment=Zt,this._lastPathIndex=Qt,this._resolve=hr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Po extends Hi{constructor(T,y){super(y),this.url=T,lu(this,y)}toString(){return ja(this._root)}}function lu(E,T){T.value._routerState=E,T.children.forEach(y=>lu(E,y))}function ja(E){const T=E.children.length>0?` { ${E.children.map(ja).join(", ")} } `:"";return`${E.value}${T}`}function As(E){if(E.snapshot){const T=E.snapshot,y=E._futureSnapshot;E.snapshot=y,Hr(T.queryParams,y.queryParams)||E.queryParams.next(y.queryParams),T.fragment!==y.fragment&&E.fragment.next(y.fragment),Hr(T.params,y.params)||E.params.next(y.params),function gi(E,T){if(E.length!==T.length)return!1;for(let y=0;y<E.length;++y)if(!Hr(E[y],T[y]))return!1;return!0}(T.url,y.url)||E.url.next(y.url),Hr(T.data,y.data)||E.data.next(y.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function Nu(E,T){const y=Hr(E.params,T.params)&&function Pe(E,T){return yt(E,T)&&E.every((y,A)=>Hr(y.parameters,T[A].parameters))}(E.url,T.url);return y&&!(!E.parent!=!T.parent)&&(!E.parent||Nu(E.parent,T.parent))}function Fs(E,T,y){if(y&&E.shouldReuseRoute(T.value,y.value.snapshot)){const A=y.value;A._futureSnapshot=T.value;const L=function qs(E,T,y){return T.children.map(A=>{for(const L of y.children)if(E.shouldReuseRoute(A.value,L.value.snapshot))return Fs(E,A,L);return Fs(E,A)})}(E,T,y);return new ks(A,L)}{if(E.shouldAttach(T.value)){const Y=E.retrieve(T.value);if(null!==Y){const te=Y.route;return te.value._futureSnapshot=T.value,te.children=T.children.map(Ue=>Fs(E,Ue)),te}}const A=function Ho(E){return new zs(new de(E.url),new de(E.params),new de(E.queryParams),new de(E.fragment),new de(E.data),E.outlet,E.component,E)}(T.value),L=T.children.map(Y=>Fs(E,Y));return new ks(A,L)}}const ca="ngNavigationCancelingError";function Js(E,T){const{redirectTo:y,navigationBehaviorOptions:A}=Mr(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,L=Ku(!1,0,T);return L.url=y,L.navigationBehaviorOptions=A,L}function Ku(E,T,y){const A=new Error("NavigationCancelingError: "+(E||""));return A[ca]=!0,A.cancellationCode=T,y&&(A.url=y),A}function Ws(E){return mo(E)&&Mr(E.url)}function mo(E){return E&&E[ca]}class yo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Xs,this.attachRef=null}}let Xs=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(y,A){const L=this.getOrCreateContext(y);L.outlet=A,this.contexts.set(y,L)}onChildOutletDestroyed(y){const A=this.getContext(y);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let A=this.getContext(y);return A||(A=new yo,this.contexts.set(y,A)),A}getContext(y){return this.contexts.get(y)||null}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ha=!1;let ts=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=en,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Xs),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb)}ngOnChanges(y){if(y.name){const{firstChange:A,previousValue:L}=y.name;if(A)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,Ha);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,Ha);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,Ha);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,A){this.activated=y,this._activatedRoute=A,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,A){if(this.isActivated)throw new g.vHH(4013,Ha);this._activatedRoute=y;const L=this.location,te=y.snapshot.component,Ue=this.parentContexts.getOrCreateContext(this.name).children,vt=new ns(y,Ue,L.injector);if(A&&function Zi(E){return!!E.resolveComponentFactory}(A)){const Zt=A.resolveComponentFactory(te);this.activated=L.createComponent(Zt,L.length,vt)}else this.activated=L.createComponent(te,{index:L.length,injector:vt,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275dir=g.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),E})();class ns{constructor(T,y,A){this.route=T,this.childContexts=y,this.parent=A}get(T,y){return T===zs?this.route:T===Xs?this.childContexts:this.parent.get(T,y)}}let Go=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275cmp=g.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(y,A){1&y&&g._UZ(0,"router-outlet")},dependencies:[ts],encapsulation:2}),E})();function da(E,T){return E.providers&&!E._injector&&(E._injector=(0,g.MMx)(E.providers,T,`Route: ${E.path}`)),E._injector??T}function Or(E){const T=E.children&&E.children.map(Or),y=T?{...E,children:T}:{...E};return!y.component&&!y.loadComponent&&(T||y.loadChildren)&&y.outlet&&y.outlet!==en&&(y.component=Go),y}function Yi(E){return E.outlet||en}function _o(E,T){const y=E.filter(A=>Yi(A)===T);return y.push(...E.filter(A=>Yi(A)!==T)),y}function Si(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let T=E.parent;T;T=T.parent){const y=T.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class fa{constructor(T,y,A,L){this.routeReuseStrategy=T,this.futureState=y,this.currState=A,this.forwardEvent=L}activate(T){const y=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,A,T),As(this.futureState.root),this.activateChildRoutes(y,A,T)}deactivateChildRoutes(T,y,A){const L=Nr(y);T.children.forEach(Y=>{const te=Y.value.outlet;this.deactivateRoutes(Y,L[te],A),delete L[te]}),er(L,(Y,te)=>{this.deactivateRouteAndItsChildren(Y,A)})}deactivateRoutes(T,y,A){const L=T.value,Y=y?y.value:null;if(L===Y)if(L.component){const te=A.getContext(L.outlet);te&&this.deactivateChildRoutes(T,y,te.children)}else this.deactivateChildRoutes(T,y,A);else Y&&this.deactivateRouteAndItsChildren(y,A)}deactivateRouteAndItsChildren(T,y){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,y):this.deactivateRouteAndOutlet(T,y)}detachAndStoreRouteSubtree(T,y){const A=y.getContext(T.value.outlet),L=A&&T.value.component?A.children:y,Y=Nr(T);for(const te of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[te],L);if(A&&A.outlet){const te=A.outlet.detach(),Ue=A.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:te,route:T,contexts:Ue})}}deactivateRouteAndOutlet(T,y){const A=y.getContext(T.value.outlet),L=A&&T.value.component?A.children:y,Y=Nr(T);for(const te of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[te],L);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(T,y,A){const L=Nr(y);T.children.forEach(Y=>{this.activateRoutes(Y,L[Y.value.outlet],A),this.forwardEvent(new Ao(Y.value.snapshot))}),T.children.length&&this.forwardEvent(new Qs(T.value.snapshot))}activateRoutes(T,y,A){const L=T.value,Y=y?y.value:null;if(As(L),L===Y)if(L.component){const te=A.getOrCreateContext(L.outlet);this.activateChildRoutes(T,y,te.children)}else this.activateChildRoutes(T,y,A);else if(L.component){const te=A.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Ue=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),te.children.onOutletReAttached(Ue.contexts),te.attachRef=Ue.componentRef,te.route=Ue.route.value,te.outlet&&te.outlet.attach(Ue.componentRef,Ue.route.value),As(Ue.route.value),this.activateChildRoutes(T,null,te.children)}else{const Ue=Si(L.snapshot),vt=Ue?.get(g._Vd)??null;te.attachRef=null,te.route=L,te.resolver=vt,te.injector=Ue,te.outlet&&te.outlet.activateWith(L,te.injector),this.activateChildRoutes(T,null,te.children)}}else this.activateChildRoutes(T,null,A)}}class pa{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Qi{constructor(T,y){this.component=T,this.route=y}}function kr(E,T,y){const A=E._root;return U(A,T?T._root:null,y,[A.value])}function In(E,T){const y=Symbol(),A=T.get(E,y);return A===y?"function"!=typeof E||(0,g.Z0I)(E)?T.get(E):E:A}function U(E,T,y,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Nr(T);return E.children.forEach(te=>{(function F(E,T,y,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const Y=E.value,te=T?T.value:null,Ue=y?y.getContext(E.value.outlet):null;if(te&&Y.routeConfig===te.routeConfig){const vt=function O(E,T,y){if("function"==typeof y)return y(E,T);switch(y){case"pathParamsChange":return!yt(E.url,T.url);case"pathParamsOrQueryParamsChange":return!yt(E.url,T.url)||!Hr(E.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nu(E,T)||!Hr(E.queryParams,T.queryParams);default:return!Nu(E,T)}}(te,Y,Y.routeConfig.runGuardsAndResolvers);vt?L.canActivateChecks.push(new pa(A)):(Y.data=te.data,Y._resolvedData=te._resolvedData),U(E,T,Y.component?Ue?Ue.children:null:y,A,L),vt&&Ue&&Ue.outlet&&Ue.outlet.isActivated&&L.canDeactivateChecks.push(new Qi(Ue.outlet.component,te))}else te&&ee(T,Ue,L),L.canActivateChecks.push(new pa(A)),U(E,null,Y.component?Ue?Ue.children:null:y,A,L)})(te,Y[te.value.outlet],y,A.concat([te.value]),L),delete Y[te.value.outlet]}),er(Y,(te,Ue)=>ee(te,y.getContext(Ue),L)),L}function ee(E,T,y){const A=Nr(E),L=E.value;er(A,(Y,te)=>{ee(Y,L.component?T?T.children.getContext(te):null:T,y)}),y.canDeactivateChecks.push(new Qi(L.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,L))}function st(E){return"function"==typeof E}function Aa(E){return E instanceof Ae||"EmptyError"===E?.name}const Ss=Symbol("INITIAL_VALUE");function Ii(){return ft(E=>mt(E.map(T=>T.pipe(ke(1),function Et(...E){const T=(0,Ye.yG)(E);return(0,Yt.e)((y,A)=>{(T?ot(E,y,T):ot(E,y)).subscribe(A)})}(Ss)))).pipe((0,Me.U)(T=>{for(const y of T)if(!0!==y){if(y===Ss)return Ss;if(!1===y||y instanceof Xr)return y}return!0}),(0,ue.h)(T=>T!==Ss),ke(1)))}function to(E){return(0,Lt.z)((0,wt.b)(T=>{if(Mr(T))throw Js(0,T)}),(0,Me.U)(T=>!0===T))}const cu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ra(E,T,y,A,L){const Y=xa(E,T,y);return Y.matched?function vs(E,T,y,A){const L=T.canMatch;if(!L||0===L.length)return(0,j.of)(!0);const Y=L.map(te=>{const Ue=In(te,E);return Fn(function Wo(E){return E&&st(E.canMatch)}(Ue)?Ue.canMatch(T,y):E.runInContext(()=>Ue(T,y)))});return(0,j.of)(Y).pipe(Ii(),to())}(A=da(T,A),T,y).pipe((0,Me.U)(te=>!0===te?Y:{...cu})):(0,j.of)(Y)}function xa(E,T,y){if(""===T.path)return"full"===T.pathMatch&&(E.hasChildren()||y.length>0)?{...cu}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const L=(T.matcher||li)(y,E,T);if(!L)return{...cu};const Y={};er(L.posParams,(Ue,vt)=>{Y[vt]=Ue.path});const te=L.consumed.length>0?{...Y,...L.consumed[L.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:L.consumed,remainingSegments:y.slice(L.consumed.length),parameters:te,positionalParamSegments:L.posParams??{}}}function Ko(E,T,y,A){if(y.length>0&&function Ur(E,T,y){return y.some(A=>Zo(E,T,A)&&Yi(A)!==en)}(E,y,A)){const Y=new Be(T,function Wa(E,T,y,A){const L={};L[en]=A,A._sourceSegment=E,A._segmentIndexShift=T.length;for(const Y of y)if(""===Y.path&&Yi(Y)!==en){const te=new Be([],{});te._sourceSegment=E,te._segmentIndexShift=T.length,L[Yi(Y)]=te}return L}(E,T,A,new Be(y,E.children)));return Y._sourceSegment=E,Y._segmentIndexShift=T.length,{segmentGroup:Y,slicedSegments:[]}}if(0===y.length&&function Tu(E,T,y){return y.some(A=>Zo(E,T,A))}(E,y,A)){const Y=new Be(E.segments,function Ls(E,T,y,A,L){const Y={};for(const te of A)if(Zo(E,y,te)&&!L[Yi(te)]){const Ue=new Be([],{});Ue._sourceSegment=E,Ue._segmentIndexShift=T.length,Y[Yi(te)]=Ue}return{...L,...Y}}(E,T,y,A,E.children));return Y._sourceSegment=E,Y._segmentIndexShift=T.length,{segmentGroup:Y,slicedSegments:y}}const L=new Be(E.segments,E.children);return L._sourceSegment=E,L._segmentIndexShift=T.length,{segmentGroup:L,slicedSegments:y}}function Zo(E,T,y){return(!(E.hasChildren()||T.length>0)||"full"!==y.pathMatch)&&""===y.path}function cs(E,T,y,A){return!!(Yi(E)===A||A!==en&&Zo(T,y,E))&&("**"===E.path||xa(T,E,y).matched)}function ga(E,T,y){return 0===T.length&&!E.children[y]}const Es=!1;class no{constructor(T){this.segmentGroup=T||null}}class Ka{constructor(T){this.urlTree=T}}function vo(E){return kt(new no(E))}function ws(E){return kt(new Ka(E))}class si{constructor(T,y,A,L,Y){this.injector=T,this.configLoader=y,this.urlSerializer=A,this.urlTree=L,this.config=Y,this.allowRedirects=!0}apply(){const T=Ko(this.urlTree.root,[],[],this.config).segmentGroup,y=new Be(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,y,en).pipe((0,Me.U)(Y=>this.createUrlTree(Jn(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(On(Y=>{if(Y instanceof Ka)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof no?this.noMatchError(Y):Y}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,en).pipe((0,Me.U)(L=>this.createUrlTree(Jn(L),T.queryParams,T.fragment))).pipe(On(L=>{throw L instanceof no?this.noMatchError(L):L}))}noMatchError(T){return new g.vHH(4002,Es)}createUrlTree(T,y,A){const L=Nn(T);return new Xr(L,y,A)}expandSegmentGroup(T,y,A,L){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(T,y,A).pipe((0,Me.U)(Y=>new Be([],Y))):this.expandSegment(T,A,y,A.segments,L,!0)}expandChildren(T,y,A){const L=[];for(const Y of Object.keys(A.children))"primary"===Y?L.unshift(Y):L.push(Y);return(0,$.D)(L).pipe((0,et.b)(Y=>{const te=A.children[Y],Ue=_o(y,Y);return this.expandSegmentGroup(T,Ue,te,Y).pipe((0,Me.U)(vt=>({segment:vt,outlet:Y})))}),hn((Y,te)=>(Y[te.outlet]=te.segment,Y),{}),lr())}expandSegment(T,y,A,L,Y,te){return(0,$.D)(A).pipe((0,et.b)(Ue=>this.expandSegmentAgainstRoute(T,y,A,Ue,L,Y,te).pipe(On(Zt=>{if(Zt instanceof no)return(0,j.of)(null);throw Zt}))),De(Ue=>!!Ue),On((Ue,vt)=>{if(Aa(Ue))return ga(y,L,Y)?(0,j.of)(new Be([],{})):vo(y);throw Ue}))}expandSegmentAgainstRoute(T,y,A,L,Y,te,Ue){return cs(L,y,Y,te)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(T,y,L,Y,te):Ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,y,A,L,Y,te):vo(y):vo(y)}expandSegmentAgainstRouteUsingRedirect(T,y,A,L,Y,te){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,A,L,te):this.expandRegularSegmentAgainstRouteUsingRedirect(T,y,A,L,Y,te)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,y,A,L){const Y=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?ws(Y):this.lineralizeSegments(A,Y).pipe((0,$e.z)(te=>{const Ue=new Be(te,{});return this.expandSegment(T,Ue,y,te,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,y,A,L,Y,te){const{matched:Ue,consumedSegments:vt,remainingSegments:Zt,positionalParamSegments:Qt}=xa(y,L,Y);if(!Ue)return vo(y);const hr=this.applyRedirectCommands(vt,L.redirectTo,Qt);return L.redirectTo.startsWith("/")?ws(hr):this.lineralizeSegments(L,hr).pipe((0,$e.z)(Xi=>this.expandSegment(T,y,A,Xi.concat(Zt),te,!1)))}matchSegmentAgainstRoute(T,y,A,L,Y){return"**"===A.path?(T=da(A,T),A.loadChildren?(A._loadedRoutes?(0,j.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(T,A)).pipe((0,Me.U)(Ue=>(A._loadedRoutes=Ue.routes,A._loadedInjector=Ue.injector,new Be(L,{})))):(0,j.of)(new Be(L,{}))):Ra(y,A,L,T).pipe(ft(({matched:te,consumedSegments:Ue,remainingSegments:vt})=>te?this.getChildConfig(T=A._injector??T,A,L).pipe((0,$e.z)(Qt=>{const hr=Qt.injector??T,Xi=Qt.routes,{segmentGroup:wa,slicedSegments:Vs}=Ko(y,Ue,vt,Xi),Xo=new Be(wa.segments,wa.children);if(0===Vs.length&&Xo.hasChildren())return this.expandChildren(hr,Xi,Xo).pipe((0,Me.U)(Vu=>new Be(Ue,Vu)));if(0===Xi.length&&0===Vs.length)return(0,j.of)(new Be(Ue,{}));const hs=Yi(A)===Y;return this.expandSegment(hr,Xo,Xi,Vs,hs?en:Y,!0).pipe((0,Me.U)(ea=>new Be(Ue.concat(ea.segments),ea.children)))})):vo(y)))}getChildConfig(T,y,A){return y.children?(0,j.of)({routes:y.children,injector:T}):y.loadChildren?void 0!==y._loadedRoutes?(0,j.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function qa(E,T,y,A){const L=T.canLoad;if(void 0===L||0===L.length)return(0,j.of)(!0);const Y=L.map(te=>{const Ue=In(te,E);return Fn(function Pr(E){return E&&st(E.canLoad)}(Ue)?Ue.canLoad(T,y):E.runInContext(()=>Ue(T,y)))});return(0,j.of)(Y).pipe(Ii(),to())}(T,y,A).pipe((0,$e.z)(L=>L?this.configLoader.loadChildren(T,y).pipe((0,wt.b)(Y=>{y._loadedRoutes=Y.routes,y._loadedInjector=Y.injector})):function br(E){return kt(Ku(Es,3))}())):(0,j.of)({routes:[],injector:T})}lineralizeSegments(T,y){let A=[],L=y.root;for(;;){if(A=A.concat(L.segments),0===L.numberOfChildren)return(0,j.of)(A);if(L.numberOfChildren>1||!L.children[en])return T.redirectTo,kt(new g.vHH(4e3,Es));L=L.children[en]}}applyRedirectCommands(T,y,A){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),T,A)}applyRedirectCreateUrlTree(T,y,A,L){const Y=this.createSegmentGroup(T,y.root,A,L);return new Xr(Y,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(T,y){const A={};return er(T,(L,Y)=>{if("string"==typeof L&&L.startsWith(":")){const Ue=L.substring(1);A[Y]=y[Ue]}else A[Y]=L}),A}createSegmentGroup(T,y,A,L){const Y=this.createSegments(T,y.segments,A,L);let te={};return er(y.children,(Ue,vt)=>{te[vt]=this.createSegmentGroup(T,Ue,A,L)}),new Be(Y,te)}createSegments(T,y,A,L){return y.map(Y=>Y.path.startsWith(":")?this.findPosParam(T,Y,L):this.findOrReturn(Y,A))}findPosParam(T,y,A){const L=A[y.path.substring(1)];if(!L)throw new g.vHH(4001,Es);return L}findOrReturn(T,y){let A=0;for(const L of y){if(L.path===T.path)return y.splice(A),L;A++}return T}}class G{}class ge{constructor(T,y,A,L,Y,te,Ue){this.injector=T,this.rootComponentType=y,this.config=A,this.urlTree=L,this.url=Y,this.paramsInheritanceStrategy=te,this.urlSerializer=Ue}recognize(){const T=Ko(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,en).pipe((0,Me.U)(y=>{if(null===y)return null;const A=new Ca([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new ks(A,y),Y=new Po(this.url,L);return this.inheritParamsAndData(Y._root),Y}))}inheritParamsAndData(T){const y=T.value,A=Mo(y,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),T.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(T,y,A,L){return 0===A.segments.length&&A.hasChildren()?this.processChildren(T,y,A):this.processSegment(T,y,A,A.segments,L)}processChildren(T,y,A){return(0,$.D)(Object.keys(A.children)).pipe((0,et.b)(L=>{const Y=A.children[L],te=_o(y,L);return this.processSegmentGroup(T,te,Y,L)}),hn((L,Y)=>L&&Y?(L.push(...Y),L):null),function Yr(E,T=!1){return(0,Yt.e)((y,A)=>{let L=0;y.subscribe((0,ve.x)(A,Y=>{const te=E(Y,L++);(te||T)&&A.next(Y),!te&&A.complete()}))})}(L=>null!==L),we(null),lr(),(0,Me.U)(L=>{if(null===L)return null;const Y=Vr(L);return function nt(E){E.sort((T,y)=>T.value.outlet===en?-1:y.value.outlet===en?1:T.value.outlet.localeCompare(y.value.outlet))}(Y),Y}))}processSegment(T,y,A,L,Y){return(0,$.D)(y).pipe((0,et.b)(te=>this.processSegmentAgainstRoute(te._injector??T,te,A,L,Y)),De(te=>!!te),On(te=>{if(Aa(te))return ga(A,L,Y)?(0,j.of)([]):(0,j.of)(null);throw te}))}processSegmentAgainstRoute(T,y,A,L,Y){if(y.redirectTo||!cs(y,A,L,Y))return(0,j.of)(null);let te;if("**"===y.path){const Ue=L.length>0?It(L).parameters:{},vt=qn(A)+L.length,Zt=new Ca(L,Ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rr(y),Yi(y),y.component??y._loadedComponent??null,y,vr(A),vt,Pi(y));te=(0,j.of)({snapshot:Zt,consumedSegments:[],remainingSegments:[]})}else te=Ra(A,y,L,T).pipe((0,Me.U)(({matched:Ue,consumedSegments:vt,remainingSegments:Zt,parameters:Qt})=>{if(!Ue)return null;const hr=qn(A)+vt.length;return{snapshot:new Ca(vt,Qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rr(y),Yi(y),y.component??y._loadedComponent??null,y,vr(A),hr,Pi(y)),consumedSegments:vt,remainingSegments:Zt}}));return te.pipe(ft(Ue=>{if(null===Ue)return(0,j.of)(null);const{snapshot:vt,consumedSegments:Zt,remainingSegments:Qt}=Ue;T=y._injector??T;const hr=y._loadedInjector??T,Xi=function Dt(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(y),{segmentGroup:wa,slicedSegments:Vs}=Ko(A,Zt,Qt,Xi.filter(hs=>void 0===hs.redirectTo));if(0===Vs.length&&wa.hasChildren())return this.processChildren(hr,Xi,wa).pipe((0,Me.U)(hs=>null===hs?null:[new ks(vt,hs)]));if(0===Xi.length&&0===Vs.length)return(0,j.of)([new ks(vt,[])]);const Xo=Yi(y)===Y;return this.processSegment(hr,Xi,wa,Vs,Xo?en:Y).pipe((0,Me.U)(hs=>null===hs?null:[new ks(vt,hs)]))}))}}function mn(E){const T=E.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function Vr(E){const T=[],y=new Set;for(const A of E){if(!mn(A)){T.push(A);continue}const L=T.find(Y=>A.value.routeConfig===Y.value.routeConfig);void 0!==L?(L.children.push(...A.children),y.add(L)):T.push(A)}for(const A of y){const L=Vr(A.children);T.push(new ks(A.value,L))}return T.filter(A=>!y.has(A))}function vr(E){let T=E;for(;T._sourceSegment;)T=T._sourceSegment;return T}function qn(E){let T=E,y=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,y+=T._segmentIndexShift??0;return y-1}function rr(E){return E.data||{}}function Pi(E){return E.resolve||{}}function Cr(E){return"string"==typeof E.title||null===E.title}function Ri(E){return ft(T=>{const y=E(T);return y?(0,$.D)(y).pipe((0,Me.U)(()=>T)):(0,j.of)(T)})}const Xt=new g.OlP("ROUTES");let vn=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,j.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const A=Fn(y.loadComponent()).pipe((0,Me.U)(Wt),(0,wt.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=Y}),jr(()=>{this.componentLoaders.delete(y)})),L=new Vt(A,()=>new V.x).pipe(dt());return this.componentLoaders.set(y,L),L}loadChildren(y,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,j.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const Y=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,Me.U)(Ue=>{this.onLoadEndListener&&this.onLoadEndListener(A);let vt,Zt,Qt=!1;Array.isArray(Ue)?Zt=Ue:(vt=Ue.create(y).injector,Zt=Vn(vt.get(Xt,[],g.XFs.Self|g.XFs.Optional)));return{routes:Zt.map(Or),injector:vt}}),jr(()=>{this.childrenLoaders.delete(A)})),te=new Vt(Y,()=>new V.x).pipe(dt());return this.childrenLoaders.set(A,te),te}loadModuleFactoryOrRoutes(y){return Fn(y()).pipe((0,Me.U)(Wt),(0,$e.z)(A=>A instanceof g.YKP||Array.isArray(A)?(0,j.of)(A):(0,$.D)(this.compiler.compileModuleAsync(A))))}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Wt(E){return function Ou(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Ot=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new V.x,this.configLoader=(0,g.f3M)(vn),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(ie),this.rootContexts=(0,g.f3M)(Xs),this.navigationId=0,this.afterPreactivation=()=>(0,j.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new ua(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new _r(L))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:A})}setupNavigations(y){return this.transitions=new de({id:0,targetPageId:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Li,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ue.h)(A=>0!==A.id),(0,Me.U)(A=>({...A,extractedUrl:y.urlHandlingStrategy.extract(A.rawUrl)})),ft(A=>{let L=!1,Y=!1;return(0,j.of)(A).pipe((0,wt.b)(te=>{this.currentNavigation={id:te.id,initialUrl:te.rawUrl,extractedUrl:te.extractedUrl,trigger:te.source,extras:te.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ft(te=>{const Ue=y.browserUrlTree.toString(),vt=!y.navigated||te.extractedUrl.toString()!==Ue||Ue!==y.currentUrlTree.toString();if(!vt&&"reload"!==(te.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Qt="";return this.events.next(new di(te.id,y.serializeUrl(A.rawUrl),Qt,0)),y.rawUrlTree=te.rawUrl,te.resolve(null),rt.E}if(y.urlHandlingStrategy.shouldProcessUrl(te.rawUrl))return ri(te.source)&&(y.browserUrlTree=te.extractedUrl),(0,j.of)(te).pipe(ft(Qt=>{const hr=this.transitions?.getValue();return this.events.next(new ei(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),Qt.source,Qt.restoredState)),hr!==this.transitions?.getValue()?rt.E:Promise.resolve(Qt)}),function Za(E,T,y,A){return ft(L=>function Eo(E,T,y,A,L){return new si(E,T,y,A,L).apply()}(E,T,y,L.extractedUrl,A).pipe((0,Me.U)(Y=>({...L,urlAfterRedirects:Y}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,y.config),(0,wt.b)(Qt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Qt.urlAfterRedirects},A.urlAfterRedirects=Qt.urlAfterRedirects}),function Kr(E,T,y,A,L){return(0,$e.z)(Y=>function Q(E,T,y,A,L,Y,te="emptyOnly"){return new ge(E,T,y,A,L,te,Y).recognize().pipe(ft(Ue=>null===Ue?function N(E){return new ut.y(T=>T.error(E))}(new G):(0,j.of)(Ue)))}(E,T,y,Y.urlAfterRedirects,A.serialize(Y.urlAfterRedirects),A,L).pipe((0,Me.U)(te=>({...Y,targetSnapshot:te}))))}(this.environmentInjector,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,wt.b)(Qt=>{if(A.targetSnapshot=Qt.targetSnapshot,"eager"===y.urlUpdateStrategy){if(!Qt.extras.skipLocationChange){const Xi=y.urlHandlingStrategy.merge(Qt.urlAfterRedirects,Qt.rawUrl);y.setBrowserUrl(Xi,Qt)}y.browserUrlTree=Qt.urlAfterRedirects}const hr=new Ns(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot);this.events.next(hr)}));if(vt&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:Qt,extractedUrl:hr,source:Xi,restoredState:wa,extras:Vs}=te,Xo=new ei(Qt,this.urlSerializer.serialize(hr),Xi,wa);this.events.next(Xo);const hs=Gs(hr,this.rootComponentType).snapshot;return A={...te,targetSnapshot:hs,urlAfterRedirects:hr,extras:{...Vs,skipLocationChange:!1,replaceUrl:!1}},(0,j.of)(A)}{const Qt="";return this.events.next(new di(te.id,y.serializeUrl(A.extractedUrl),Qt,1)),y.rawUrlTree=te.rawUrl,te.resolve(null),rt.E}}),(0,wt.b)(te=>{const Ue=new Hs(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(te.urlAfterRedirects),te.targetSnapshot);this.events.next(Ue)}),(0,Me.U)(te=>A={...te,guards:kr(te.targetSnapshot,te.currentSnapshot,this.rootContexts)}),function Sa(E,T){return(0,$e.z)(y=>{const{targetSnapshot:A,currentSnapshot:L,guards:{canActivateChecks:Y,canDeactivateChecks:te}}=y;return 0===te.length&&0===Y.length?(0,j.of)({...y,guardsResult:!0}):function Ma(E,T,y,A){return(0,$.D)(E).pipe((0,$e.z)(L=>function Pa(E,T,y,A,L){const Y=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,j.of)(!0);const te=Y.map(Ue=>{const vt=Si(T)??L,Zt=In(Ue,vt);return Fn(function nr(E){return E&&st(E.canDeactivate)}(Zt)?Zt.canDeactivate(E,T,y,A):vt.runInContext(()=>Zt(E,T,y,A))).pipe(De())});return(0,j.of)(te).pipe(Ii())}(L.component,L.route,y,T,A)),De(L=>!0!==L,!0))}(te,A,L,E).pipe((0,$e.z)(Ue=>Ue&&function gn(E){return"boolean"==typeof E}(Ue)?function za(E,T,y,A){return(0,$.D)(T).pipe((0,et.b)(L=>ot(function Ro(E,T){return null!==E&&T&&T(new po(E)),(0,j.of)(!0)}(L.route.parent,A),function wu(E,T){return null!==E&&T&&T(new Os(E)),(0,j.of)(!0)}(L.route,A),function xo(E,T,y){const A=T[T.length-1],Y=T.slice(0,T.length-1).reverse().map(te=>function Mi(E){const T=E.routeConfig?E.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:E,guards:T}:null}(te)).filter(te=>null!==te).map(te=>ht(()=>{const Ue=te.guards.map(vt=>{const Zt=Si(te.node)??y,Qt=In(vt,Zt);return Fn(function Tt(E){return E&&st(E.canActivateChild)}(Qt)?Qt.canActivateChild(A,E):Zt.runInContext(()=>Qt(A,E))).pipe(De())});return(0,j.of)(Ue).pipe(Ii())}));return(0,j.of)(Y).pipe(Ii())}(E,L.path,y),function _s(E,T,y){const A=T.routeConfig?T.routeConfig.canActivate:null;if(!A||0===A.length)return(0,j.of)(!0);const L=A.map(Y=>ht(()=>{const te=Si(T)??y,Ue=In(Y,te);return Fn(function Vi(E){return E&&st(E.canActivate)}(Ue)?Ue.canActivate(T,E):te.runInContext(()=>Ue(T,E))).pipe(De())}));return(0,j.of)(L).pipe(Ii())}(E,L.route,y))),De(L=>!0!==L,!0))}(A,Y,E,T):(0,j.of)(Ue)),(0,Me.U)(Ue=>({...y,guardsResult:Ue})))})}(this.environmentInjector,te=>this.events.next(te)),(0,wt.b)(te=>{if(A.guardsResult=te.guardsResult,Mr(te.guardsResult))throw Js(0,te.guardsResult);const Ue=new $i(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(te.urlAfterRedirects),te.targetSnapshot,!!te.guardsResult);this.events.next(Ue)}),(0,ue.h)(te=>!!te.guardsResult||(y.restoreHistory(te),this.cancelNavigationTransition(te,"",3),!1)),Ri(te=>{if(te.guards.canActivateChecks.length)return(0,j.of)(te).pipe((0,wt.b)(Ue=>{const vt=new fo(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(vt)}),ft(Ue=>{let vt=!1;return(0,j.of)(Ue).pipe(function Rr(E,T){return(0,$e.z)(y=>{const{targetSnapshot:A,guards:{canActivateChecks:L}}=y;if(!L.length)return(0,j.of)(y);let Y=0;return(0,$.D)(L).pipe((0,et.b)(te=>function ds(E,T,y,A){const L=E.routeConfig,Y=E._resolve;return void 0!==L?.title&&!Cr(L)&&(Y[Zn]=L.title),function Gr(E,T,y,A){const L=function Yo(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===L.length)return(0,j.of)({});const Y={};return(0,$.D)(L).pipe((0,$e.z)(te=>function Nt(E,T,y,A){const L=Si(T)??A,Y=In(E,L);return Fn(Y.resolve?Y.resolve(T,y):L.runInContext(()=>Y(T,y)))}(E[te],T,y,A).pipe(De(),(0,wt.b)(Ue=>{Y[te]=Ue}))),ur(1),function cr(E){return(0,Me.U)(()=>E)}(Y),On(te=>Aa(te)?rt.E:kt(te)))}(Y,E,T,A).pipe((0,Me.U)(te=>(E._resolvedData=te,E.data=Mo(E,y).resolve,L&&Cr(L)&&(E.data[Zn]=L.title),null)))}(te.route,A,E,T)),(0,wt.b)(()=>Y++),ur(1),(0,$e.z)(te=>Y===L.length?(0,j.of)(y):rt.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,wt.b)({next:()=>vt=!0,complete:()=>{vt||(y.restoreHistory(Ue),this.cancelNavigationTransition(Ue,"",2))}}))}),(0,wt.b)(Ue=>{const vt=new jo(Ue.id,this.urlSerializer.serialize(Ue.extractedUrl),this.urlSerializer.serialize(Ue.urlAfterRedirects),Ue.targetSnapshot);this.events.next(vt)}))}),Ri(te=>{const Ue=vt=>{const Zt=[];vt.routeConfig?.loadComponent&&!vt.routeConfig._loadedComponent&&Zt.push(this.configLoader.loadComponent(vt.routeConfig).pipe((0,wt.b)(Qt=>{vt.component=Qt}),(0,Me.U)(()=>{})));for(const Qt of vt.children)Zt.push(...Ue(Qt));return Zt};return mt(Ue(te.targetSnapshot.root)).pipe(we(),ke(1))}),Ri(()=>this.afterPreactivation()),(0,Me.U)(te=>{const Ue=function vu(E,T,y){const A=Fs(E,T._root,y?y._root:void 0);return new go(A,T)}(y.routeReuseStrategy,te.targetSnapshot,te.currentRouterState);return A={...te,targetRouterState:Ue}}),(0,wt.b)(te=>{y.currentUrlTree=te.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl),y.routerState=te.targetRouterState,"deferred"===y.urlUpdateStrategy&&(te.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,te),y.browserUrlTree=te.urlAfterRedirects)}),((E,T,y)=>(0,Me.U)(A=>(new fa(T,A.targetRouterState,A.currentRouterState,y).activate(E),A)))(this.rootContexts,y.routeReuseStrategy,te=>this.events.next(te)),ke(1),(0,wt.b)({next:te=>{L=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new ti(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(te.targetRouterState.snapshot),te.resolve(!0)},complete:()=>{L=!0}}),jr(()=>{L||Y||this.cancelNavigationTransition(A,"",1),this.currentNavigation?.id===A.id&&(this.currentNavigation=null)}),On(te=>{if(Y=!0,mo(te)){Ws(te)||(y.navigated=!0,y.restoreHistory(A,!0));const Ue=new $a(A.id,this.urlSerializer.serialize(A.extractedUrl),te.message,te.cancellationCode);if(this.events.next(Ue),Ws(te)){const vt=y.urlHandlingStrategy.merge(te.url,y.rawUrlTree),Zt={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||ri(A.source)};y.scheduleNavigation(vt,Li,null,Zt,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{y.restoreHistory(A,!0);const Ue=new hi(A.id,this.urlSerializer.serialize(A.extractedUrl),te,A.targetSnapshot??void 0);this.events.next(Ue);try{A.resolve(y.errorHandler(te))}catch(vt){A.reject(vt)}}return rt.E}))}))}cancelNavigationTransition(y,A,L){const Y=new $a(y.id,this.urlSerializer.serialize(y.extractedUrl),A,L);this.events.next(Y),y.resolve(!1)}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ri(E){return E!==Li}let hu=(()=>{class E{buildTitle(y){let A,L=y.root;for(;void 0!==L;)A=this.getResolvedTitleForRoute(L)??A,L=L.children.find(Y=>Y.outlet===en);return A}getResolvedTitleForRoute(y){return y.data[Zn]}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(hl)},providedIn:"root"}),E})(),hl=(()=>{class E extends hu{constructor(y){super(),this.title=y}updateTitle(y){const A=this.buildTitle(y);void 0!==A&&this.title.setTitle(A)}}return E.\u0275fac=function(y){return new(y||E)(g.LFG(Qr.Dx))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Qo=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(Ya)},providedIn:"root"}),E})();class Na{shouldDetach(T){return!1}store(T,y){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,y){return T.routeConfig===y.routeConfig}}let Ya=(()=>{class E extends Na{}return E.\u0275fac=function(){let T;return function(A){return(T||(T=g.n5z(E)))(A||E)}}(),E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const oi=new g.OlP("",{providedIn:"root",factory:()=>({})});let Iu=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(ya)},providedIn:"root"}),E})(),ya=(()=>{class E{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,A){return y}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Oa(E){throw E}function Bn(E,T,y){return T.parse("/")}const bu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ku={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this.options=(0,g.f3M)(oi,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Oa,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Bn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Iu),this.routeReuseStrategy=(0,g.f3M)(Qo),this.urlCreationStrategy=(0,g.f3M)(Ai),this.titleStrategy=(0,g.f3M)(hu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Vn((0,g.f3M)(Xt,{optional:!0})??[]),this.navigationTransitions=(0,g.f3M)(Ot),this.urlSerializer=(0,g.f3M)(ie),this.location=(0,g.f3M)(We.Ye),this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Gs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId??0},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Li,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const A="popstate"===y.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,A,y.state)},0)}))}navigateToSyncWithBrowser(y,A,L){const Y={replaceUrl:!0},te=L?.navigationId?L:null;if(L){const vt={...L};delete vt.navigationId,delete vt.\u0275routerPageId,0!==Object.keys(vt).length&&(Y.state=vt)}const Ue=this.parseUrl(y);this.scheduleNavigation(Ue,A,te,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(y){this.config=y.map(Or),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,A={}){const{relativeTo:L,queryParams:Y,fragment:te,queryParamsHandling:Ue,preserveFragment:vt}=A,Zt=vt?this.currentUrlTree.fragment:te;let Qt=null;switch(Ue){case"merge":Qt={...this.currentUrlTree.queryParams,...Y};break;case"preserve":Qt=this.currentUrlTree.queryParams;break;default:Qt=Y||null}return null!==Qt&&(Qt=this.removeEmptyProps(Qt)),this.urlCreationStrategy.createUrlTree(L,this.routerState,this.currentUrlTree,y,Qt,Zt??null)}navigateByUrl(y,A={skipLocationChange:!1}){const L=Mr(y)?y:this.parseUrl(y),Y=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(Y,Li,null,A)}navigate(y,A={skipLocationChange:!1}){return function un(E){for(let T=0;T<E.length;T++){const y=E[T];if(null==y)throw new g.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,A),A)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let A;try{A=this.urlSerializer.parse(y)}catch(L){A=this.malformedUriErrorHandler(L,this.urlSerializer,y)}return A}isActive(y,A){let L;if(L=!0===A?{...bu}:!1===A?{...ku}:A,Mr(y))return Ei(this.currentUrlTree,y,L);const Y=this.parseUrl(y);return Ei(this.currentUrlTree,Y,L)}removeEmptyProps(y){return Object.keys(y).reduce((A,L)=>{const Y=y[L];return null!=Y&&(A[L]=Y),A},{})}scheduleNavigation(y,A,L,Y,te){if(this.disposed)return Promise.resolve(!1);let Ue,vt,Zt,Qt;return te?(Ue=te.resolve,vt=te.reject,Zt=te.promise):Zt=new Promise((hr,Xi)=>{Ue=hr,vt=Xi}),Qt="computed"===this.canceledNavigationResolution?L&&L.\u0275routerPageId?L.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Qt,source:A,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:Y,resolve:Ue,reject:vt,promise:Zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Zt.catch(hr=>Promise.reject(hr))}setBrowserUrl(y,A){const L=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(L)||A.extras.replaceUrl){const te={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(L,"",te)}else{const Y={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.go(L,"",Y)}}restoreHistory(y,A=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Y?this.location.historyGo(Y):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,A){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:A}:{navigationId:y}}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),ro=(()=>{class E{constructor(y,A,L,Y,te,Ue){this.router=y,this.route=A,this.tabIndexAttribute=L,this.renderer=Y,this.el=te,this.locationStrategy=Ue,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new V.x;const vt=te.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===vt||"area"===vt,this.isAnchorElement?this.subscription=y.events.subscribe(Zt=>{Zt instanceof ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,g.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,g.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,g.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,A,L,Y,te){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||A||L||Y||te||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,A){const L=this.renderer,Y=this.el.nativeElement;null!==A?L.setAttribute(Y,y,A):L.removeAttribute(Y,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(y){return new(y||E)(g.Y36(or),g.Y36(zs),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(We.S$))},E.\u0275dir=g.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,A){1&y&&g.NdJ("click",function(Y){return A.onClick(Y.button,Y.ctrlKey,Y.shiftKey,Y.altKey,Y.metaKey)}),2&y&&g.uIk("target",A.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[g.TTD]}),E})();class ai{}let Ja=(()=>{class E{constructor(y,A,L,Y,te){this.router=y,this.injector=L,this.preloadingStrategy=Y,this.loader=te}setUpPreloading(){this.subscription=this.router.events.pipe((0,ue.h)(y=>y instanceof ti),(0,et.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,A){const L=[];for(const Y of A){Y.providers&&!Y._injector&&(Y._injector=(0,g.MMx)(Y.providers,y,`Route: ${Y.path}`));const te=Y._injector??y,Ue=Y._loadedInjector??te;(Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent)&&L.push(this.preloadConfig(te,Y)),(Y.children||Y._loadedRoutes)&&L.push(this.processRoutes(Ue,Y.children??Y._loadedRoutes))}return(0,$.D)(L).pipe((0,an.J)())}preloadConfig(y,A){return this.preloadingStrategy.preload(A,()=>{let L;L=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(y,A):(0,j.of)(null);const Y=L.pipe((0,$e.z)(te=>null===te?(0,j.of)(void 0):(A._loadedRoutes=te.routes,A._loadedInjector=te.injector,this.processRoutes(te.injector??y,te.routes))));if(A.loadComponent&&!A._loadedComponent){const te=this.loader.loadComponent(A);return(0,$.D)([Y,te]).pipe((0,an.J)())}return Y})}}return E.\u0275fac=function(y){return new(y||E)(g.LFG(or),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(ai),g.LFG(vn))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const wo=new g.OlP("");let _a=(()=>{class E{constructor(y,A,L,Y,te={}){this.urlSerializer=y,this.transitions=A,this.viewportScroller=L,this.zone=Y,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof ei?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof ti&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof So&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new So(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return E.\u0275fac=function(y){g.$Z()},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac}),E})();var Ms=(()=>((Ms=Ms||{})[Ms.COMPLETE=0]="COMPLETE",Ms[Ms.FAILED=1]="FAILED",Ms[Ms.REDIRECTING=2]="REDIRECTING",Ms))();const Oo=!1;function _i(E,T){return{\u0275kind:E,\u0275providers:T}}const io=new g.OlP("",{providedIn:"root",factory:()=>!1});function zi(){const E=(0,g.f3M)(g.zs3);return T=>{const y=E.get(g.z2F);if(T!==y.components[0])return;const A=E.get(or),L=E.get(Qe);1===E.get(eu)&&A.initialNavigation(),E.get(ki,null,g.XFs.Optional)?.setUpPreloading(),E.get(wo,null,g.XFs.Optional)?.init(),A.resetRootComponentType(y.componentTypes[0]),L.closed||(L.next(),L.complete(),L.unsubscribe())}}const Qe=new g.OlP(Oo?"bootstrap done indicator":"",{factory:()=>new V.x}),eu=new g.OlP(Oo?"initial navigation":"",{providedIn:"root",factory:()=>1});function Au(){let E=[];return E=Oo?[{provide:g.Xts,multi:!0,useFactory:()=>{const T=(0,g.f3M)(or);return()=>T.events.subscribe(y=>{console.group?.(`Router Event: ${y.constructor.name}`),console.log(function ji(E){if(!("type"in E))return`Unknown Router Event: ${E.constructor.name}`;switch(E.type){case 14:return`ActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state}, shouldActivate: ${E.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 2:return`NavigationCancel(id: ${E.id}, url: '${E.url}')`;case 16:return`NavigationSkipped(id: ${E.id}, url: '${E.url}')`;case 1:return`NavigationEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${E.id}, url: '${E.url}', error: ${E.error})`;case 0:return`NavigationStart(id: ${E.id}, url: '${E.url}')`;case 6:return`ResolveEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 5:return`ResolveStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 10:return`RouteConfigLoadEnd(path: ${E.route.path})`;case 9:return`RouteConfigLoadStart(path: ${E.route.path})`;case 4:return`RoutesRecognized(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 15:return`Scroll(anchor: '${E.anchor}', position: '${E.position?`${E.position[0]}, ${E.position[1]}`:null}')`}}(y)),console.log(y),console.groupEnd?.()})}}]:[],_i(1,E)}const ki=new g.OlP(Oo?"router preloader":"");function Lu(E){return _i(0,[{provide:ki,useExisting:Ja},{provide:ai,useExisting:E}])}const ka=!1,so=new g.OlP(ka?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),fi=[We.Ye,{provide:ie,useClass:se},or,Xs,{provide:zs,useFactory:function va(E){return E.routerState.root},deps:[or]},vn,ka?{provide:io,useValue:!0}:[]];function tu(){return new g.PXZ("Router",or)}let nu=(()=>{class E{constructor(y){}static forRoot(y,A){return{ngModule:E,providers:[fi,ka&&A?.enableTracing?Au().\u0275providers:[],{provide:Xt,multi:!0,useValue:y},{provide:so,useFactory:To,deps:[[or,new g.FiY,new g.tp0]]},{provide:oi,useValue:A||{}},A?.useHash?{provide:We.S$,useClass:We.Do}:{provide:We.S$,useClass:We.b0},{provide:wo,useFactory:()=>{const E=(0,g.f3M)(We.EM),T=(0,g.f3M)(g.R0b),y=(0,g.f3M)(oi),A=(0,g.f3M)(Ot),L=(0,g.f3M)(ie);return y.scrollOffset&&E.setOffset(y.scrollOffset),new _a(L,A,E,T,y)}},A?.preloadingStrategy?Lu(A.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:tu},A?.initialNavigation?ru(A):[],[{provide:ko,useFactory:zi},{provide:g.tb,multi:!0,useExisting:ko}]]}}static forChild(y){return{ngModule:E,providers:[{provide:Xt,multi:!0,useValue:y}]}}}return E.\u0275fac=function(y){return new(y||E)(g.LFG(so,8))},E.\u0275mod=g.oAB({type:E}),E.\u0275inj=g.cJS({imports:[Go]}),E})();function To(E){if(ka&&E)throw new g.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ru(E){return["disabled"===E.initialNavigation?_i(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const T=(0,g.f3M)(or);return()=>{T.setUpLocationChangeListener()}}},{provide:eu,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?_i(2,[{provide:eu,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:T=>{const y=T.get(We.V_,Promise.resolve());return()=>y.then(()=>new Promise(A=>{const L=T.get(or),Y=T.get(Qe);(function Fu(E,T){E.events.pipe((0,ue.h)(y=>y instanceof ti||y instanceof $a||y instanceof hi||y instanceof di),(0,Me.U)(y=>y instanceof ti||y instanceof di?Ms.COMPLETE:y instanceof $a&&(0===y.code||1===y.code)?Ms.REDIRECTING:Ms.FAILED),(0,ue.h)(y=>y!==Ms.REDIRECTING),ke(1)).subscribe(()=>{T()})})(L,()=>{A(!0)}),T.get(Ot).afterPreactivation=()=>(A(!0),Y.closed?(0,j.of)(void 0):Y),L.initialNavigation()}))}}]).\u0275providers:[]]}const ko=new g.OlP(ka?"Router Initializer":"")},2951:(yn,ct,K)=>{K.d(ct,{Jn:()=>ms,qX:()=>Fn,Xd:()=>er,Mq:()=>Ci,C6:()=>Ni,ZF:()=>Yn,KN:()=>Be});var g=K(5861),$=K(4859),j=K(1877),V=K(2090);const de=(tt,qe)=>qe.some(Pt=>tt instanceof Pt);let Le,Ae;const fe=new WeakMap,ye=new WeakMap,Ye=new WeakMap,pt=new WeakMap,ve=new WeakMap;let ln={get(tt,qe,Pt){if(tt instanceof IDBTransaction){if("done"===qe)return ye.get(tt);if("objectStoreNames"===qe)return tt.objectStoreNames||Ye.get(tt);if("store"===qe)return Pt.objectStoreNames[1]?void 0:Pt.objectStore(Pt.objectStoreNames[0])}return ot(tt[qe])},set:(tt,qe,Pt)=>(tt[qe]=Pt,!0),has:(tt,qe)=>tt instanceof IDBTransaction&&("done"===qe||"store"===qe)||qe in tt};function St(tt){return"function"==typeof tt?function an(tt){return tt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xe(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(tt)?function(...qe){return tt.apply(Oe(this),qe),ot(fe.get(this))}:function(...qe){return ot(tt.apply(Oe(this),qe))}:function(qe,...Pt){const rn=tt.call(Oe(this),qe,...Pt);return Ye.set(rn,qe.sort?qe.sort():[qe]),ot(rn)}}(tt):(tt instanceof IDBTransaction&&function mt(tt){if(ye.has(tt))return;const qe=new Promise((Pt,rn)=>{const bn=()=>{tt.removeEventListener("complete",Nn),tt.removeEventListener("error",Jn),tt.removeEventListener("abort",Jn)},Nn=()=>{Pt(),bn()},Jn=()=>{rn(tt.error||new DOMException("AbortError","AbortError")),bn()};tt.addEventListener("complete",Nn),tt.addEventListener("error",Jn),tt.addEventListener("abort",Jn)});ye.set(tt,qe)}(tt),de(tt,function ut(){return Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(tt,ln):tt)}function ot(tt){if(tt instanceof IDBRequest)return function Rt(tt){const qe=new Promise((Pt,rn)=>{const bn=()=>{tt.removeEventListener("success",Nn),tt.removeEventListener("error",Jn)},Nn=()=>{Pt(ot(tt.result)),bn()},Jn=()=>{rn(tt.error),bn()};tt.addEventListener("success",Nn),tt.addEventListener("error",Jn)});return qe.then(Pt=>{Pt instanceof IDBCursor&&fe.set(Pt,tt)}).catch(()=>{}),ve.set(qe,tt),qe}(tt);if(pt.has(tt))return pt.get(tt);const qe=St(tt);return qe!==tt&&(pt.set(tt,qe),ve.set(qe,tt)),qe}const Oe=tt=>ve.get(tt),He=["get","getKey","getAll","getAllKeys","count"],kt=["put","add","delete","clear"],rt=new Map;function Ut(tt,qe){if(!(tt instanceof IDBDatabase)||qe in tt||"string"!=typeof qe)return;if(rt.get(qe))return rt.get(qe);const Pt=qe.replace(/FromIndex$/,""),rn=qe!==Pt,bn=kt.includes(Pt);if(!(Pt in(rn?IDBIndex:IDBObjectStore).prototype)||!bn&&!He.includes(Pt))return;const Nn=function(){var Jn=(0,g.Z)(function*(qr,...Mr){const mi=this.transaction(qr,bn?"readwrite":"readonly");let co=mi.store;return rn&&(co=co.index(Mr.shift())),(yield Promise.all([co[Pt](...Mr),bn&&mi.done]))[0]});return function(Mr){return Jn.apply(this,arguments)}}();return rt.set(qe,Nn),Nn}!function nn(tt){ln=tt(ln)}(tt=>({...tt,get:(qe,Pt,rn)=>Ut(qe,Pt)||tt.get(qe,Pt,rn),has:(qe,Pt)=>!!Ut(qe,Pt)||tt.has(qe,Pt)}));class Yt{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function dt(tt){return"VERSION"===tt.getComponent()?.type}(Pt)){const rn=Pt.getImmediate();return`${rn.library}/${rn.version}`}return null}).filter(Pt=>Pt).join(" ")}}const Vt="@firebase/app",Me=new j.Yd("@firebase/app"),gi="[DEFAULT]",Hr={[Vt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xi=new Map,Vn=new Map;function It(tt,qe){try{tt.container.addComponent(qe)}catch(Pt){Me.debug(`Component ${qe.name} failed to register with FirebaseApp ${tt.name}`,Pt)}}function er(tt){const qe=tt.name;if(Vn.has(qe))return Me.debug(`There were multiple attempts to register component ${qe}.`),!1;Vn.set(qe,tt);for(const Pt of xi.values())It(Pt,tt);return!0}function Fn(tt,qe){const Pt=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),tt.container.getProvider(qe)}const Ei=new V.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tr{constructor(qe,Pt,rn){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=rn,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const ms="9.21.0";function Yn(tt,qe={}){let Pt=tt;"object"!=typeof qe&&(qe={name:qe});const rn=Object.assign({name:gi,automaticDataCollectionEnabled:!1},qe),bn=rn.name;if("string"!=typeof bn||!bn)throw Ei.create("bad-app-name",{appName:String(bn)});if(Pt||(Pt=(0,V.aH)()),!Pt)throw Ei.create("no-options");const Nn=xi.get(bn);if(Nn){if((0,V.vZ)(Pt,Nn.options)&&(0,V.vZ)(rn,Nn.config))return Nn;throw Ei.create("duplicate-app",{appName:bn})}const Jn=new $.H0(bn);for(const Mr of Vn.values())Jn.addComponent(Mr);const qr=new tr(Pt,rn,Jn);return xi.set(bn,qr),qr}function Ci(tt=gi){const qe=xi.get(tt);if(!qe&&tt===gi)return Yn();if(!qe)throw Ei.create("no-app",{appName:tt});return qe}function Ni(){return Array.from(xi.values())}function Be(tt,qe,Pt){var rn;let bn=null!==(rn=Hr[tt])&&void 0!==rn?rn:tt;Pt&&(bn+=`-${Pt}`);const Nn=bn.match(/\s|\//),Jn=qe.match(/\s|\//);if(Nn||Jn){const qr=[`Unable to register library "${bn}" with version "${qe}":`];return Nn&&qr.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),Nn&&Jn&&qr.push("and"),Jn&&qr.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void Me.warn(qr.join(" "))}er(new $.wA(`${bn}-version`,()=>({library:bn,version:qe}),"VERSION"))}const yt="firebase-heartbeat-database",_t=1,ie="firebase-heartbeat-store";let se=null;function _e(){return se||(se=function ht(tt,qe,{blocked:Pt,upgrade:rn,blocking:bn,terminated:Nn}={}){const Jn=indexedDB.open(tt,qe),qr=ot(Jn);return rn&&Jn.addEventListener("upgradeneeded",Mr=>{rn(ot(Jn.result),Mr.oldVersion,Mr.newVersion,ot(Jn.transaction),Mr)}),Pt&&Jn.addEventListener("blocked",Mr=>Pt(Mr.oldVersion,Mr.newVersion,Mr)),qr.then(Mr=>{Nn&&Mr.addEventListener("close",()=>Nn()),bn&&Mr.addEventListener("versionchange",mi=>bn(mi.oldVersion,mi.newVersion,mi))}).catch(()=>{}),qr}(yt,_t,{upgrade:(tt,qe)=>{0===qe&&tt.createObjectStore(ie)}}).catch(tt=>{throw Ei.create("idb-open",{originalErrorMessage:tt.message})})),se}function Fe(){return(Fe=(0,g.Z)(function*(tt){try{return(yield _e()).transaction(ie).objectStore(ie).get(Ee(tt))}catch(qe){if(qe instanceof V.ZR)Me.warn(qe.message);else{const Pt=Ei.create("idb-get",{originalErrorMessage:qe?.message});Me.warn(Pt.message)}}})).apply(this,arguments)}function qt(tt,qe){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,g.Z)(function*(tt,qe){try{const rn=(yield _e()).transaction(ie,"readwrite");return yield rn.objectStore(ie).put(qe,Ee(tt)),rn.done}catch(Pt){if(Pt instanceof V.ZR)Me.warn(Pt.message);else{const rn=Ei.create("idb-set",{originalErrorMessage:Pt?.message});Me.warn(rn.message)}}})).apply(this,arguments)}function Ee(tt){return`${tt.name}!${tt.options.appId}`}class it{constructor(qe){this.container=qe,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new cn(Pt),this._heartbeatsCachePromise=this._storage.read().then(rn=>(this._heartbeatsCache=rn,rn))}triggerHeartbeat(){var qe=this;return(0,g.Z)(function*(){const rn=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bn=At();if(null===qe._heartbeatsCache&&(qe._heartbeatsCache=yield qe._heartbeatsCachePromise),qe._heartbeatsCache.lastSentHeartbeatDate!==bn&&!qe._heartbeatsCache.heartbeats.some(Nn=>Nn.date===bn))return qe._heartbeatsCache.heartbeats.push({date:bn,agent:rn}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(Nn=>{const Jn=new Date(Nn.date).valueOf();return Date.now()-Jn<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,g.Z)(function*(){if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null===qe._heartbeatsCache||0===qe._heartbeatsCache.heartbeats.length)return"";const Pt=At(),{heartbeatsToSend:rn,unsentEntries:bn}=function Kt(tt,qe=1024){const Pt=[];let rn=tt.slice();for(const bn of tt){const Nn=Pt.find(Jn=>Jn.agent===bn.agent);if(Nn){if(Nn.dates.push(bn.date),Qn(Pt)>qe){Nn.dates.pop();break}}else if(Pt.push({agent:bn.agent,dates:[bn.date]}),Qn(Pt)>qe){Pt.pop();break}rn=rn.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:rn}}(qe._heartbeatsCache.heartbeats),Nn=(0,V.L)(JSON.stringify({version:2,heartbeats:rn}));return qe._heartbeatsCache.lastSentHeartbeatDate=Pt,bn.length>0?(qe._heartbeatsCache.heartbeats=bn,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),Nn})()}}function At(){return(new Date).toISOString().substring(0,10)}class cn{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,V.hl)()&&(0,V.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,g.Z)(function*(){return(yield qe._canUseIndexedDBPromise)&&(yield function ze(tt){return Fe.apply(this,arguments)}(qe.app))||{heartbeats:[]}})()}overwrite(qe){var Pt=this;return(0,g.Z)(function*(){var rn;if(yield Pt._canUseIndexedDBPromise){const Nn=yield Pt.read();return qt(Pt.app,{lastSentHeartbeatDate:null!==(rn=qe.lastSentHeartbeatDate)&&void 0!==rn?rn:Nn.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var Pt=this;return(0,g.Z)(function*(){var rn;if(yield Pt._canUseIndexedDBPromise){const Nn=yield Pt.read();return qt(Pt.app,{lastSentHeartbeatDate:null!==(rn=qe.lastSentHeartbeatDate)&&void 0!==rn?rn:Nn.lastSentHeartbeatDate,heartbeats:[...Nn.heartbeats,...qe.heartbeats]})}})()}}function Qn(tt){return(0,V.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function dr(tt){er(new $.wA("platform-logger",qe=>new Yt(qe),"PRIVATE")),er(new $.wA("heartbeat",qe=>new it(qe),"PRIVATE")),Be(Vt,"0.9.9",tt),Be(Vt,"0.9.9","esm2017"),Be("fire-js","")}("")},4859:(yn,ct,K)=>{K.d(ct,{H0:()=>ut,wA:()=>j});var g=K(5861),$=K(2090);class j{constructor(fe,ye,Ye){this.name=fe,this.instanceFactory=ye,this.type=Ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const V="[DEFAULT]";class de{constructor(fe,ye){this.name=fe,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const ye=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(ye)){const Ye=new $.BH;if(this.instancesDeferred.set(ye,Ye),this.isInitialized(ye)||this.shouldAutoInitialize())try{const pt=this.getOrInitializeService({instanceIdentifier:ye});pt&&Ye.resolve(pt)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(fe){var ye;const Ye=this.normalizeInstanceIdentifier(fe?.identifier),pt=null!==(ye=fe?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(Ye)&&!this.shouldAutoInitialize()){if(pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ye})}catch(ve){if(pt)return null;throw ve}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function Ae(Xe){return"EAGER"===Xe.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:V})}catch{}for(const[ye,Ye]of this.instancesDeferred.entries()){const pt=this.normalizeInstanceIdentifier(ye);try{const ve=this.getOrInitializeService({instanceIdentifier:pt});Ye.resolve(ve)}catch{}}}}clearInstance(fe=V){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,g.Z)(function*(){const ye=Array.from(fe.instances.values());yield Promise.all([...ye.filter(Ye=>"INTERNAL"in Ye).map(Ye=>Ye.INTERNAL.delete()),...ye.filter(Ye=>"_delete"in Ye).map(Ye=>Ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=V){return this.instances.has(fe)}getOptions(fe=V){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:ye={}}=fe,Ye=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Ye))throw Error(`${this.name}(${Ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pt=this.getOrInitializeService({instanceIdentifier:Ye,options:ye});for(const[ve,Rt]of this.instancesDeferred.entries())Ye===this.normalizeInstanceIdentifier(ve)&&Rt.resolve(pt);return pt}onInit(fe,ye){var Ye;const pt=this.normalizeInstanceIdentifier(ye),ve=null!==(Ye=this.onInitCallbacks.get(pt))&&void 0!==Ye?Ye:new Set;ve.add(fe),this.onInitCallbacks.set(pt,ve);const Rt=this.instances.get(pt);return Rt&&fe(Rt,pt),()=>{ve.delete(fe)}}invokeOnInitCallbacks(fe,ye){const Ye=this.onInitCallbacks.get(ye);if(Ye)for(const pt of Ye)try{pt(fe,ye)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:ye={}}){let Ye=this.instances.get(fe);if(!Ye&&this.component&&(Ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Xe=fe,Xe===V?void 0:Xe),options:ye}),this.instances.set(fe,Ye),this.instancesOptions.set(fe,ye),this.invokeOnInitCallbacks(Ye,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,Ye)}catch{}var Xe;return Ye||null}normalizeInstanceIdentifier(fe=V){return this.component?this.component.multipleInstances?fe:V:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const ye=this.getProvider(fe.name);if(ye.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);ye.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const ye=new de(fe,this);return this.providers.set(fe,ye),ye}getProviders(){return Array.from(this.providers.values())}}},1877:(yn,ct,K)=>{K.d(ct,{Yd:()=>Ae,in:()=>$});const g=[];var $=(()=>{return(fe=$||($={}))[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",$;var fe})();const j={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},V=$.INFO,de={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Le=(fe,ye,...Ye)=>{if(ye<fe.logLevel)return;const pt=(new Date).toISOString(),ve=de[ye];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[ve](`[${pt}]  ${fe.name}:`,...Ye)};class Ae{constructor(ye){this.name=ye,this._logLevel=V,this._logHandler=Le,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in $))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?j[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...ye),this._logHandler(this,$.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...ye),this._logHandler(this,$.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,$.INFO,...ye),this._logHandler(this,$.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,$.WARN,...ye),this._logHandler(this,$.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...ye),this._logHandler(this,$.ERROR,...ye)}}},259:(yn,ct,K)=>{K.d(ct,{C6:()=>g.C6,KN:()=>g.KN,Mq:()=>g.Mq,ZF:()=>g.ZF});var g=K(2951);(0,g.KN)("firebase","9.21.0","app")},7185:(yn,ct,K)=>{K.d(ct,{Rh:()=>ft,_W:()=>dt});var g=K(8256),$=K(7340),j=K(6895),V=K(7579),de=K(1481);const Le=["toast-component",""];function Ae(we,xe){if(1&we){const he=g.EpF();g.TgZ(0,"button",5),g.NdJ("click",function(){g.CHM(he);const et=g.oxw();return g.KtG(et.remove())}),g.TgZ(1,"span",6),g._uU(2,"\xd7"),g.qZA()()}}function ut(we,xe){if(1&we&&(g.ynx(0),g._uU(1),g.BQk()),2&we){const he=g.oxw(2);g.xp6(1),g.hij("[",he.duplicatesCount+1,"]")}}function Xe(we,xe){if(1&we&&(g.TgZ(0,"div"),g._uU(1),g.YNc(2,ut,2,1,"ng-container",4),g.qZA()),2&we){const he=g.oxw();g.Tol(he.options.titleClass),g.uIk("aria-label",he.title),g.xp6(1),g.hij(" ",he.title," "),g.xp6(1),g.Q6J("ngIf",he.duplicatesCount)}}function fe(we,xe){if(1&we&&g._UZ(0,"div",7),2&we){const he=g.oxw();g.Tol(he.options.messageClass),g.Q6J("innerHTML",he.message,g.oJD)}}function ye(we,xe){if(1&we&&(g.TgZ(0,"div",8),g._uU(1),g.qZA()),2&we){const he=g.oxw();g.Tol(he.options.messageClass),g.uIk("aria-label",he.message),g.xp6(1),g.hij(" ",he.message," ")}}function Ye(we,xe){if(1&we&&(g.TgZ(0,"div"),g._UZ(1,"div",9),g.qZA()),2&we){const he=g.oxw();g.xp6(1),g.Udp("width",he.width+"%")}}class St{constructor(xe,he){this.component=xe,this.injector=he}attach(xe,he){return this._attachedHost=xe,xe.attach(this,he)}detach(){const xe=this._attachedHost;if(xe)return this._attachedHost=void 0,xe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(xe){this._attachedHost=xe}}class ot{attach(xe,he){return this._attachedPortal=xe,this.attachComponentPortal(xe,he)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(xe){this._disposeFn=xe}}class Oe{constructor(xe){this._overlayRef=xe,this.duplicatesCount=0,this._afterClosed=new V.x,this._activate=new V.x,this._manualClose=new V.x,this._resetTimeout=new V.x,this._countDuplicate=new V.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(xe,he){xe&&this._resetTimeout.next(),he&&this._countDuplicate.next(++this.duplicatesCount)}}class ht{constructor(xe,he,De,et,wt,On){this.toastId=xe,this.config=he,this.message=De,this.title=et,this.toastType=wt,this.toastRef=On,this._onTap=new V.x,this._onAction=new V.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(xe){this._onAction.next(xe)}onAction(){return this._onAction.asObservable()}}const He=new g.OlP("ToastConfig");class kt extends ot{constructor(xe,he,De){super(),this._hostDomElement=xe,this._componentFactoryResolver=he,this._appRef=De}attachComponentPortal(xe,he){const De=this._componentFactoryResolver.resolveComponentFactory(xe.component);let et;return et=De.create(xe.injector),this._appRef.attachView(et.hostView),this.setDisposeFn(()=>{this._appRef.detachView(et.hostView),et.destroy()}),he?this._hostDomElement.insertBefore(this._getComponentRootNode(et),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(et)),et}_getComponentRootNode(xe){return xe.hostView.rootNodes[0]}}let rt=(()=>{class we{constructor(){this._document=(0,g.f3M)(j.K0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const he=this._document.createElement("div");he.classList.add("overlay-container"),he.setAttribute("aria-live","polite"),this._document.body.appendChild(he),this._containerElement=he}}return we.\u0275fac=function(he){return new(he||we)},we.\u0275prov=g.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();class Ut{constructor(xe){this._portalHost=xe}attach(xe,he=!0){return this._portalHost.attach(xe,he)}detach(){return this._portalHost.detach()}}let Yt=(()=>{class we{constructor(){this._overlayContainer=(0,g.f3M)(rt),this._componentFactoryResolver=(0,g.f3M)(g._Vd),this._appRef=(0,g.f3M)(g.z2F),this._document=(0,g.f3M)(j.K0),this._paneElements=new Map}create(he,De){return this._createOverlayRef(this.getPaneElement(he,De))}getPaneElement(he="",De){return this._paneElements.get(De)||this._paneElements.set(De,{}),this._paneElements.get(De)[he]||(this._paneElements.get(De)[he]=this._createPaneElement(he,De)),this._paneElements.get(De)[he]}_createPaneElement(he,De){const et=this._document.createElement("div");return et.id="toast-container",et.classList.add(he),et.classList.add("toast-container"),De?De.getContainerElement().appendChild(et):this._overlayContainer.getContainerElement().appendChild(et),et}_createPortalHost(he){return new kt(he,this._componentFactoryResolver,this._appRef)}_createOverlayRef(he){return new Ut(this._createPortalHost(he))}}return we.\u0275fac=function(he){return new(he||we)},we.\u0275prov=g.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})(),dt=(()=>{class we{constructor(he,De,et,wt,On){this.overlay=De,this._injector=et,this.sanitizer=wt,this.ngZone=On,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...he.default,...he.config},he.config.iconClasses&&(this.toastrConfig.iconClasses={...he.default.iconClasses,...he.config.iconClasses})}show(he,De,et={},wt=""){return this._preBuildNotification(wt,he,De,this.applyConfig(et))}success(he,De,et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",he,De,this.applyConfig(et))}error(he,De,et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",he,De,this.applyConfig(et))}info(he,De,et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",he,De,this.applyConfig(et))}warning(he,De,et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",he,De,this.applyConfig(et))}clear(he){for(const De of this.toasts)if(void 0!==he){if(De.toastId===he)return void De.toastRef.manualClose()}else De.toastRef.manualClose()}remove(he){const De=this._findToast(he);if(!De||(De.activeToast.toastRef.close(),this.toasts.splice(De.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const et=this.toasts[this.currentlyActive].toastRef;et.isInactive()||(this.currentlyActive=this.currentlyActive+1,et.activate())}return!0}findDuplicate(he="",De="",et,wt){const{includeTitleDuplicates:On}=this.toastrConfig;for(const xn of this.toasts)if((!On||On&&xn.title===he)&&xn.message===De)return xn.toastRef.onDuplicate(et,wt),xn;return null}applyConfig(he={}){return{...this.toastrConfig,...he}}_findToast(he){for(let De=0;De<this.toasts.length;De++)if(this.toasts[De].toastId===he)return{index:De,activeToast:this.toasts[De]};return null}_preBuildNotification(he,De,et,wt){return wt.onActivateTick?this.ngZone.run(()=>this._buildNotification(he,De,et,wt)):this._buildNotification(he,De,et,wt)}_buildNotification(he,De,et,wt){if(!wt.toastComponent)throw new Error("toastComponent required");const On=this.findDuplicate(et,De,this.toastrConfig.resetTimeoutOnDuplicate&&wt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&et||De)&&this.toastrConfig.preventDuplicates&&null!==On)return On;this.previousToastMessage=De;let xn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(xn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const hn=this.overlay.create(wt.positionClass,this.overlayContainer);this.index=this.index+1;let ur=De;De&&wt.enableHtml&&(ur=this.sanitizer.sanitize(g.q3G.HTML,De));const lr=new Oe(hn),Yr=new ht(this.index,wt,ur,et,he,lr),jr=g.zs3.create({providers:[{provide:ht,useValue:Yr}],parent:this._injector}),Qr=new St(wt.toastComponent,jr),en=hn.attach(Qr,wt.newestOnTop);lr.componentInstance=en.instance;const Zn={toastId:this.index,title:et||"",message:De||"",toastRef:lr,onShown:lr.afterActivate(),onHidden:lr.afterClosed(),onTap:Yr.onTap(),onAction:Yr.onAction(),portal:en};return xn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Zn.toastRef.activate()})),this.toasts.push(Zn),Zn}}return we.\u0275fac=function(he){return new(he||we)(g.LFG(He),g.LFG(Yt),g.LFG(g.zs3),g.LFG(de.H7),g.LFG(g.R0b))},we.\u0275prov=g.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})(),Vt=(()=>{class we{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(he,De,et){this.toastrService=he,this.toastPackage=De,this.ngZone=et,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=De.message,this.title=De.title,this.options=De.config,this.originalTimeout=De.config.timeOut,this.toastClasses=`${De.toastType} ${De.config.toastClass}`,this.sub=De.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=De.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=De.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=De.toastRef.countDuplicate().subscribe(wt=>{this.duplicatesCount=wt})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const he=(new Date).getTime();this.width=(this.hideTime-he)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(he,De){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(he),De)):this.timeout=setTimeout(()=>he(),De)}outsideInterval(he,De){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(he),De)):this.intervalId=setInterval(()=>he(),De)}runInsideAngular(he){this.ngZone?this.ngZone.run(()=>he()):he()}}return we.\u0275fac=function(he){return new(he||we)(g.Y36(dt),g.Y36(ht),g.Y36(g.R0b))},we.\u0275cmp=g.Xpm({type:we,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(he,De){1&he&&g.NdJ("click",function(){return De.tapToast()})("mouseenter",function(){return De.stickAround()})("mouseleave",function(){return De.delayedHideToast()}),2&he&&(g.d8E("@flyInOut",De.state),g.Tol(De.toastClasses),g.Udp("display",De.displayStyle))},standalone:!0,features:[g.jDz],attrs:Le,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(he,De){1&he&&(g.YNc(0,Ae,3,0,"button",0),g.YNc(1,Xe,3,5,"div",1),g.YNc(2,fe,1,3,"div",2),g.YNc(3,ye,2,4,"div",3),g.YNc(4,Ye,2,2,"div",4)),2&he&&(g.Q6J("ngIf",De.options.closeButton),g.xp6(1),g.Q6J("ngIf",De.title),g.xp6(1),g.Q6J("ngIf",De.message&&De.options.enableHtml),g.xp6(1),g.Q6J("ngIf",De.message&&!De.options.enableHtml),g.xp6(1),g.Q6J("ngIf",De.options.progressBar))},dependencies:[j.O5],encapsulation:2,data:{animation:[(0,$.X$)("flyInOut",[(0,$.SB)("inactive",(0,$.oB)({opacity:0})),(0,$.SB)("active",(0,$.oB)({opacity:1})),(0,$.SB)("removed",(0,$.oB)({opacity:0})),(0,$.eR)("inactive => active",(0,$.jt)("{{ easeTime }}ms {{ easing }}")),(0,$.eR)("active => removed",(0,$.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),we})();const We={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:Vt},Me=(we={})=>(0,g.MR2)([{provide:He,useValue:{default:We,config:we}}]);let ft=(()=>{class we{static forRoot(he={}){return{ngModule:we,providers:[Me(he)]}}}return we.\u0275fac=function(he){return new(he||we)},we.\u0275mod=g.oAB({type:we}),we.\u0275inj=g.cJS({imports:[Vt]}),we})()},5861:(yn,ct,K)=>{function g(j,V,de,Le,Ae,ut,Xe){try{var fe=j[ut](Xe),ye=fe.value}catch(Ye){return void de(Ye)}fe.done?V(ye):Promise.resolve(ye).then(Le,Ae)}function $(j){return function(){var V=this,de=arguments;return new Promise(function(Le,Ae){var ut=j.apply(V,de);function Xe(ye){g(ut,Le,Ae,Xe,fe,"next",ye)}function fe(ye){g(ut,Le,Ae,Xe,fe,"throw",ye)}Xe(void 0)})}}K.d(ct,{Z:()=>$})}},yn=>{yn(yn.s=2933)}]);